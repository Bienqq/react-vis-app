(this["webpackJsonpchart-3d-react-app"]=this["webpackJsonpchart-3d-react-app"]||[]).push([[0],{4817:function(e,t,a){e.exports=a(4983)},4980:function(e,t,a){},4982:function(e,t,a){},4983:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),c=a(60),l=a(46),s=a(5040),u=a(3),p=a(190),h=a.n(p),m=a(191),f=a.n(m),d=a(5024),b=a(5022),g=a(5020),v=Object(g.a)((function(e){return{error:{backgroundColor:e.palette.error.dark},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));var w=function(e){var t=v(),a=e.message,n=e.onClose;return r.a.createElement(b.a,{className:t.error,message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(h.a,{className:Object(u.a)(t.icon,t.iconVariant)}),a),action:[r.a.createElement(d.a,{key:"close",color:"inherit",onClick:n},r.a.createElement(f.a,{className:t.icon}))]})},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"GLOBAL_SNACKBAR",payload:{show:e,snackbarOptions:t}}},E=function(e){return{type:"GLOBAL_LINEAR_PROGRESS",payload:{show:e}}},y=a(28);var j=Object(y.b)((function(e){return{showSnackbar:e.showSnackbar,snackbarOptions:e.snackbarOptions}}),(function(e){return{hideSnackbar:function(){return e(O(!1))}}}))((function(e){var t=function(){e.hideSnackbar(!0)},a=e.showSnackbar,n=e.snackbarOptions;return r.a.createElement(s.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:a,autoHideDuration:5e3,onClose:t},r.a.createElement(w,{onClose:t,message:n.message,options:n}))})),k=a(21),C=a(14),S=a(33),_=a(34),R=a(36),P=a(8),D=a(5026),L=a(5027),x=a(5041),A=a(11),N=a(5),B=a(5029),I=a(131),T=a(194),M=a(5037),z=Object(N.a)({root:{"& label.Mui-focused":{color:"ghostwhite"},"& .MuiInput-underline:after":{borderBottomColor:"ghostwhite"},"& .MuiFormLabel-root":{color:"ghostwhite"},"& .MuiInputBase-input":{color:"ghostwhite"},"& .MuiInput-underline":{"&:before":{borderBottomColor:"ghostwhite"},"&:hover:not(.Mui-disabled):before":{borderBottom:"1px solid ghostwhite"}},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"ghostwhite"},"&:hover fieldset":{borderColor:"ghostwhite"},"&.Mui-focused fieldset":{borderColor:"ghostwhite"}}}})(M.a),F=a(193),G=(a(4828),Object(g.a)((function(e){return{formContainer:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})));var U=Object(y.b)((function(e){return{start:e.start,end:e.end,step:e.step}}),(function(e){return{updateData:function(t){return e(function(e){return{type:"UPDATE_PLOTTING_DATA",payload:{data:e}}}(t))}}}))((function(e){var t=e.open,a=e.start,n=e.end,o=e.step,i=e.updateData,c=G(),l=function(e){return function(t){var a=Number.parseFloat(t.target.value);i(Object(P.a)({},e,Number.isNaN(a)?"":a))}};return r.a.createElement(F.SlideDown,{closed:!t},r.a.createElement("div",null,r.a.createElement("form",{className:c.formContainer,noValidate:!0,autoComplete:"off"},r.a.createElement(z,{id:"standard-number",label:"Start point",type:"number",value:a,onChange:l("start"),margin:"normal"}),r.a.createElement(z,{id:"standard-number",label:"End point",type:"number",value:n,className:c.textField,onChange:l("end"),margin:"normal"}),r.a.createElement(z,{id:"standard-number",label:"Step",type:"number",value:o,className:c.textField,onChange:l("step"),margin:"normal"}))))})),W=a(5028),V=a(195),H=a.n(V),J=a(93),K=a.n(J),$=a(5030),q=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={showMoreOptions:!1},a._handleDrawButton=function(){a.props.draw()},a._onInputChange=function(e){a.props.updateFunctionForm(e.target.value)},a._handleShowMoreOptions=function(){a.setState({showMoreOptions:!a.state.showMoreOptions})},a}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.formula,n=e.showLinearProgress;return r.a.createElement("div",{className:t.root},r.a.createElement(D.a,{position:"relative",className:t.appBar},r.a.createElement(L.a,null,r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(I.a,null,r.a.createElement(T.a,null))),r.a.createElement(x.a,{placeholder:"Write function formula",classes:{root:t.inputRoot,input:t.inputInput},value:a,onChange:this._onInputChange}),r.a.createElement(W.a,{variant:"contained",color:"inherit",className:t.buttonGroup},r.a.createElement(B.a,{variant:"contained",color:"primary",onClick:this._handleDrawButton},"Draw"),r.a.createElement(B.a,{color:"primary",size:"small",onClick:this._handleShowMoreOptions},r.a.createElement(H.a,null))))),r.a.createElement(U,{open:this.state.showMoreOptions})),n&&r.a.createElement($.a,{color:"secondary"}),r.a.createElement(B.a,{variant:"outlined",color:"primary",component:c.b,to:"/graph-drawer"},r.a.createElement(K.a,null)," Change app"))}}]),t}(r.a.Component),Q=Object(N.a)((function(e){return{root:{flexGrow:1},appBar:{alignItems:"center"},search:Object(P.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(A.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(A.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(5),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(P.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:180,"&:focus":{width:260}}),buttonGroup:{margin:4}}}))(q),X=Object(y.b)((function(e){return{formula:e.formula,showLinearProgress:e.showLinearProgress}}),(function(e){return{updateFunctionForm:function(t){return e(function(e){return{type:"UPDATE_FUNCTION_FORM",payload:{formula:e}}}(t))}}}))(Q),Y=a(197),Z=a.n(Y),ee=a(198),te=a.n(ee),ae=a(5038),ne=a(5036),re=a(124),oe=function(){function e(t,a,n,r){Object(k.a)(this,e),this.parser=ne.a(),this.parser.evaluate(t),this.x=Object(re.range)(a,n,r),this.y=Object(re.range)(a,n,r),this.z=[]}return Object(C.a)(e,[{key:"evaluate",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.x[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var o=n.value,i=[],c=!0,l=!1,s=void 0;try{for(var u,p=this.y[Symbol.iterator]();!(c=(u=p.next()).done);c=!0){var h=u.value,m=this.parser.evaluate("f(".concat(o,",").concat(h,")"));i.push(m)}}catch(f){l=!0,s=f}finally{try{c||null==p.return||p.return()}finally{if(l)throw s}}this.z.push(i)}}catch(f){t=!0,a=f}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return{x:this.x,y:this.y,z:this.z}}}]),e}(),ie=a(95),ce=a.n(ie),le=a(94),se=a.n(le),ue=Object({NODE_ENV:"production",PUBLIC_URL:"/react-vis-app"}),pe=ue.REACT_APP_PROTOCOL,he=ue.REACT_APP_PORT,me=ue.REACT_APP_SERVER_ADDRESS,fe={SHARE_URL:"".concat(pe,"://").concat(me,":").concat(he).concat("/vis/")},de=a(53),be=a(5039),ge=a(5035),ve=a(5033),we=a(5034),Oe=a(5032),Ee=a(201),ye=a.n(Ee),je=a(5031),ke=a(5025),Ce=a(128),Se=Object(g.a)((function(e){return{typography:{padding:e.spacing(1)}}}));var _e=function(e){var t=e.open,a=e.anchorEl,n=Se();return r.a.createElement(ke.a,{open:t,anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(Ce.a,{className:n.typography},"Copied !"))},Re=r.a.forwardRef((function(e,t){return r.a.createElement(je.a,Object.assign({direction:"up",ref:t},e))}));var Pe=function(e){var t=e.open,a=e.handleClose,n=e.link,o=r.a.useState(!1),i=Object(de.a)(o,2),c=i[0],l=i[1],s=r.a.useState(null),u=Object(de.a)(s,2),p=u[0],h=u[1];return r.a.createElement("div",null,r.a.createElement(be.a,{open:t,TransitionComponent:Re,keepMounted:!0,onClose:a},r.a.createElement(Oe.a,{id:"alert-dialog-slide-title"},"Sharing link below:"),r.a.createElement(ve.a,null,r.a.createElement(we.a,{id:"alert-dialog-slide-description"},n)),r.a.createElement(ge.a,null,r.a.createElement(B.a,{onClick:function(e){h(e.currentTarget),navigator.clipboard.writeText(n).finally((function(){l(!0),setTimeout((function(){return l(!1)}),600)}))},color:"primary"},r.a.createElement(ye.a,null)," Copy link")),r.a.createElement(_e,{open:c,anchorEl:p})))},De=Z()(te.a),Le={title:"3D Chart",width:"800",height:"600",autosize:!0},xe={showLink:!1,displayModeBar:!0},Ae=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(S.a)(this,Object(_.a)(t).call(this,e))).state={x:null,y:null,z:null,finished:!1,showDialog:!1,shareLink:""},a._onShareButtonClicked=function(){var e=a.props,t=e.formula,n=e.start,r=e.end,o=e.step,i=e.showLinearProgress,c=e.showSnackbar;i(!0),se.a.post(fe.SHARE_URL,{formula:t,start:n,end:r,step:o}).then((function(e){a.setState({showDialog:!0,shareLink:e.data.share_url})})).catch((function(e){c(!0,{message:e.message}),console.error(e)})).finally((function(){return i(!1)}))},a._onShareDialogClose=function(){a.setState({showDialog:!1})},a.drawPlot=function(){var e=a.props,t=e.formula,n=e.start,r=e.end,o=e.step;try{var i=new oe(t,n,r,o).evaluate(),c=i.x,l=i.y,s=i.z;a.setState({x:c,y:l,z:s,finished:!0})}catch(u){console.error(u),a.props.showSnackbar(!0,{message:"Cannot parse function!"})}},a.plotRef=r.a.createRef(),a}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=[{type:"surface",x:this.state.x,y:this.state.y,z:this.state.z,marker:{color:"rgb(16, 32, 77)"}}];return r.a.createElement(ae.a,{flexDirection:"column",flexWrap:"nowrap",display:"flex",justifyContent:"center",alignItems:"center",pt:1},r.a.createElement(De,{ref:this.plotRef,data:e,layout:Le,config:xe}),this.state.finished&&r.a.createElement(ae.a,null,r.a.createElement(B.a,{color:"primary",size:"small",variant:"contained",onClick:this._onShareButtonClicked},r.a.createElement(ce.a,null)," Share")),r.a.createElement(Pe,{handleClose:this._onShareDialogClose,open:this.state.showDialog,link:this.state.shareLink}))}}]),t}(r.a.Component),Ne=Object(y.b)((function(e){return{formula:e.formula,start:e.start,end:e.end,step:e.step}}),(function(e){return{showSnackbar:function(t,a){return e(O(t,a))},showLinearProgress:function(t){return e(E(t))}}}))(Ae),Be=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r))))._drawPlot=function(){a.plot.drawPlot()},a}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{draw:this._drawPlot}),r.a.createElement(Ne,{onRef:function(t){return e.plot=t}}))}}]),t}(r.a.Component),Ie=a(202),Te=a.n(Ie);var Me=Object(N.a)((function(e){return{root:{flexGrow:1},appBar:{alignItems:"center"}}}))((function(e){var t=e.classes,a=e.fileUploaded;return r.a.createElement("div",{className:t.root},r.a.createElement(D.a,{position:"relative",className:t.appBar},r.a.createElement(L.a,null,r.a.createElement("input",{accept:"text/csv",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:function(e){var t=new FileReader;t.readAsBinaryString(e.target.files[0]),t.onload=function(e){return a(e.target.result)}}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(B.a,{variant:"contained",component:"span",color:"primary"},r.a.createElement(Te.a,null)," Upload")))),r.a.createElement(B.a,{variant:"outlined",color:"primary",component:c.b,to:"/"},r.a.createElement(K.a,null)," Change app"))})),ze=a(203),Fe=a.n(ze),Ge=a(204);var Ue={layout:{hierarchical:!1},edges:{color:"lightgray",arrows:{to:{enabled:!1},from:{enabled:!1}}},nodes:{font:{color:"ghostwhite"}},height:"400px",width:"600px"},We=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={graphData:{nodes:[],edges:[]},finished:!1},a.drawGraph=function(e){var t,n;try{var r=function(e){for(var t=new Ge.Parser({}).parse(e,0,!1).data,a=t[0],n=a.length,r=t.slice(1),o=[],i=[],c=0;c<n;c++){a[c].trim()&&o.push({id:c+1,label:a[c].trim(),color:"#"+(16777215*Math.random()<<0).toString(16)})}for(var l=0;l<r.length;l++){if(r[l].length>2)throw Error("Invalid file format");var s=r[l][0].trim(),u=r[l][1].trim();if(s>n||u>n)throw Error("Connection between nodes ".concat(s," and ").concat(u," cannot be established!"));s&&u&&i.push({from:s,to:u})}return[o,i]}(e),o=Object(de.a)(r,2);t=o[0],n=o[1]}catch(i){console.error(i),a.props.showSnackbar(!0,{message:i.message})}a.setState({graphData:{nodes:t,edges:n},finished:!0})},a._onShareButtonClicked=function(){var e=a.props,t=e.showSnackbar,n=e.showLinearProgress;se.a.post(fe.SHARE_URL,a.state.graphData).then((function(e){console.log(e)})).catch((function(e){t(!0,{message:e.message}),console.error(e)})).finally((function(){return n(!1)}))},a}return Object(R.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){return r.a.createElement(ae.a,{flexDirection:"column",flexWrap:"nowrap",display:"flex",justifyContent:"center",alignItems:"center",pt:1},r.a.createElement(ae.a,null,r.a.createElement(Fe.a,{graph:this.state.graphData,options:Ue})),this.state.finished&&r.a.createElement(ae.a,{mt:4},r.a.createElement(B.a,{color:"primary",size:"small",variant:"contained",onClick:this._onShareButtonClicked},r.a.createElement(ce.a,null)," Share")))}}]),t}(r.a.Component),Ve=Object(y.b)(null,(function(e){return{showSnackbar:function(t,a){return e(O(t,a))},showLinearProgress:function(t){return e(E(t))}}}))(We),He=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(S.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r))))._drawGraph=function(e){a.graph.drawGraph(e)},a}return Object(R.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Me,{fileUploaded:this._drawGraph}),r.a.createElement(Ve,{onRef:function(t){return e.graph=t}}))}}]),t}(r.a.Component);a(4980);var Je=function(){return r.a.createElement("div",null,r.a.createElement(c.a,{basename:"/react-vis-app"},r.a.createElement(l.a,{exact:!0,path:"/",component:Be}),r.a.createElement(l.a,{path:"/graph-drawer",component:He})),r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=a(69);function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Qe={formula:"f(x,y) = ",start:-10,end:10,step:.1,showSnackbar:!1,snackbarOptions:{message:""},showLinearProgress:!1},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"UPDATE_FUNCTION_FORM":return qe({},e,{formula:n.formula});case"UPDATE_PLOTTING_DATA":var r=Object.keys(n.data)[0],o=n.data[r];return qe({},e,Object(P.a)({},r,o));case"GLOBAL_SNACKBAR":return qe({},e,{showSnackbar:n.show,snackbarOptions:n.snackbarOptions});case"GLOBAL_LINEAR_PROGRESS":return qe({},e,{showLinearProgress:n.show});default:return e}},Ye=a(205),Ze=Object(Ke.createStore)(Xe,Object(Ye.composeWithDevTools)());a(4981),a(4982);i.a.render(r.a.createElement(y.a,{store:Ze},r.a.createElement(Je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[4817,1,2]]]);
//# sourceMappingURL=main.b106582d.chunk.js.map