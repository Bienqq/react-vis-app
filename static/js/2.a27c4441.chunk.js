(this["webpackJsonpchart-3d-react-app"]=this["webpackJsonpchart-3d-react-app"]||[]).push([[2],{0:function(e,t,n){"use strict";e.exports=n(4797)},1:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},10:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r),o=n(33);function a(e,t){return i.a.useMemo((function(){return null==e&&null==t?null:function(n){Object(o.a)(e,n),Object(o.a)(t,n)}}),[e,t])}},100:function(e,t,n){(function(e){var r=n(127),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s}).call(this,n(66)(e))},101:function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},102:function(e,t,n){var r=n(44)(n(18),"Map");e.exports=r},103:function(e,t,n){var r=n(4861),i=n(4868),o=n(4870),a=n(4871),s=n(4872);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},104:function(e,t,n){var r=n(4877),i=n(149),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},105:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},106:function(e,t,n){var r=n(146)(Object.getPrototypeOf,Object);e.exports=r},107:function(e,t,n){var r=n(153);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},108:function(e,t,n){var r=n(4899),i=n(23);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},109:function(e,t,n){var r=n(19),i=n(56),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},11:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},110:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},111:function(e,t,n){var r=n(67),i=n(167),o=n(94);e.exports=function(e,t){return o(i(e,t,r),e+"")}},112:function(e,t,n){"use strict";(function(e,r){var i,o=n(174);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(36),n(4805)(e))},113:function(e,t,n){(function(e,n){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},o=i._,a=Array.prototype,s=Object.prototype,l="undefined"!==typeof Symbol?Symbol.prototype:null,u=a.push,c=a.slice,f=s.toString,d=s.hasOwnProperty,h=Array.isArray,p=Object.keys,m=Object.create,g=function(){},v=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};t.nodeType?i._=v:(!n.nodeType&&n.exports&&(t=n.exports=v),t._=v),v.VERSION="1.9.1";var y,b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},x=function(e,t,n){return v.iteratee!==y?v.iteratee(e,t):null==e?v.identity:v.isFunction(e)?b(e,t,n):v.isObject(e)&&!v.isArray(e)?v.matcher(e):v.property(e)};v.iteratee=y=function(e,t){return x(e,t,1/0)};var _=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},w=function(e){if(!v.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},k=function(e){return function(t){return null==t?void 0:t[e]}},M=function(e,t){return null!=e&&d.call(e,t)},T=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},S=Math.pow(2,53)-1,E=k("length"),A=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=S};v.each=v.forEach=function(e,t,n){var r,i;if(t=b(t,n),A(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=v.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},v.map=v.collect=function(e,t,n){t=x(t,n);for(var r=!A(e)&&v.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o};var O=function(e){var t=function(t,n,r,i){var o=!A(t)&&v.keys(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var l=o?o[s]:s;r=n(r,t[l],l,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,b(n,i,4),r,o)}};v.reduce=v.foldl=v.inject=O(1),v.reduceRight=v.foldr=O(-1),v.find=v.detect=function(e,t,n){var r=(A(e)?v.findIndex:v.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},v.filter=v.select=function(e,t,n){var r=[];return t=x(t,n),v.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},v.reject=function(e,t,n){return v.filter(e,v.negate(x(t)),n)},v.every=v.all=function(e,t,n){t=x(t,n);for(var r=!A(e)&&v.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},v.some=v.any=function(e,t,n){t=x(t,n);for(var r=!A(e)&&v.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,r){return A(e)||(e=v.values(e)),("number"!=typeof n||r)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=_((function(e,t,n){var r,i;return v.isFunction(t)?i=t:v.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),v.map(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=T(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))})),v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=A(e)?e:v.values(e)).length;s<l;s++)null!=(r=e[s])&&r>o&&(o=r);else t=x(t,n),v.each(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o},v.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,l=(e=A(e)?e:v.values(e)).length;s<l;s++)null!=(r=e[s])&&r<o&&(o=r);else t=x(t,n),v.each(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o},v.shuffle=function(e){return v.sample(e,1/0)},v.sample=function(e,t,n){if(null==t||n)return A(e)||(e=v.values(e)),e[v.random(e.length-1)];var r=A(e)?v.clone(e):v.values(e),i=E(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=v.random(a,o),l=r[a];r[a]=r[s],r[s]=l}return r.slice(0,t)},v.sortBy=function(e,t,n){var r=0;return t=x(t,n),v.pluck(v.map(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var C=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=x(r,i),v.each(n,(function(t,i){var a=r(t,i,n);e(o,t,a)})),o}};v.groupBy=C((function(e,t,n){M(e,n)?e[n].push(t):e[n]=[t]})),v.indexBy=C((function(e,t,n){e[n]=t})),v.countBy=C((function(e,t,n){M(e,n)?e[n]++:e[n]=1}));var N=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(e){return e?v.isArray(e)?c.call(e):v.isString(e)?e.match(N):A(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:A(e)?e.length:v.keys(e).length},v.partition=C((function(e,t,n){e[n?0:1].push(t)}),!0),v.first=v.head=v.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,Boolean)};var D=function e(t,n,r,i){for(var o=(i=i||[]).length,a=0,s=E(t);a<s;a++){var l=t[a];if(A(l)&&(v.isArray(l)||v.isArguments(l)))if(n)for(var u=0,c=l.length;u<c;)i[o++]=l[u++];else e(l,n,r,i),o=i.length;else r||(i[o++]=l)}return i};v.flatten=function(e,t){return D(e,t,!1)},v.without=_((function(e,t){return v.difference(e,t)})),v.uniq=v.unique=function(e,t,n,r){v.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=x(n,r));for(var i=[],o=[],a=0,s=E(e);a<s;a++){var l=e[a],u=n?n(l,a,e):l;t&&!n?(a&&o===u||i.push(l),o=u):n?v.contains(o,u)||(o.push(u),i.push(l)):v.contains(i,l)||i.push(l)}return i},v.union=_((function(e){return v.uniq(D(e,!0,!0))})),v.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=E(e);r<i;r++){var o=e[r];if(!v.contains(t,o)){var a;for(a=1;a<n&&v.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},v.difference=_((function(e,t){return t=D(t,!0,!0),v.filter(e,(function(e){return!v.contains(t,e)}))})),v.unzip=function(e){for(var t=e&&v.max(e,E).length||0,n=Array(t),r=0;r<t;r++)n[r]=v.pluck(e,r);return n},v.zip=_(v.unzip),v.object=function(e,t){for(var n={},r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var P=function(e){return function(t,n,r){n=x(n,r);for(var i=E(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};v.findIndex=P(1),v.findLastIndex=P(-1),v.sortedIndex=function(e,t,n,r){for(var i=(n=x(n,r,1))(t),o=0,a=E(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o};var R=function(e,t,n){return function(r,i,o){var a=0,s=E(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!==i)return(o=t(c.call(r,a,s),v.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}};v.indexOf=R(1,v.findIndex,v.sortedIndex),v.lastIndexOf=R(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},v.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(c.call(e,r,r+=t));return n};var L=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=w(e.prototype),a=e.apply(o,i);return v.isObject(a)?a:o};v.bind=_((function(e,t,n){if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var r=_((function(i){return L(e,r,t,this,n.concat(i))}));return r})),v.partial=_((function(e,t){var n=v.partial.placeholder;return function r(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return L(e,r,this,this,a)}})),v.partial.placeholder=v,v.bindAll=_((function(e,t){var n=(t=D(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=v.bind(e[r],e)}})),v.memoize=function(e,t){var n=function n(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return M(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},v.delay=_((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:v.now(),r=null,a=e.apply(i,o),r||(i=o=null)},u=function(){var u=v.now();s||!1!==n.leading||(s=u);var c=t-(u-s);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=u,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},v.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},a=_((function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,t),s&&(i=e.apply(this,a))}else r=v.delay(o,t,this,a);return i}));return a.cancel=function(){clearTimeout(r),r=null},a},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},v.once=v.partial(v.before,2),v.restArguments=_;var I=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=function(e,t){var n=j.length,r=e.constructor,i=v.isFunction(r)&&r.prototype||s,o="constructor";for(M(e,o)&&!v.contains(t,o)&&t.push(o);n--;)(o=j[n])in e&&e[o]!==i[o]&&!v.contains(t,o)&&t.push(o)};v.keys=function(e){if(!v.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)M(e,n)&&t.push(n);return I&&z(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return I&&z(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},v.mapObject=function(e,t,n){t=x(t,n);for(var r=v.keys(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o},v.pairs=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},v.invert=function(e){for(var t={},n=v.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()};var F=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;l<s;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}};v.extend=F(v.allKeys),v.extendOwn=v.assign=F(v.keys),v.findKey=function(e,t,n){t=x(t,n);for(var r,i=v.keys(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r};var B,U,H=function(e,t,n){return t in n};v.pick=_((function(e,t){var n={},r=t[0];if(null==e)return n;v.isFunction(r)?(t.length>1&&(r=b(r,t[1])),t=v.allKeys(e)):(r=H,t=D(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n})),v.omit=_((function(e,t){var n,r=t[0];return v.isFunction(r)?(r=v.negate(r),t.length>1&&(n=t[1])):(t=v.map(D(t,!1,!1),String),r=function(e,n){return!v.contains(t,n)}),v.pick(e,r,n)})),v.defaults=F(v.allKeys,!0),v.create=function(e,t){var n=w(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0},B=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&U(e,t,n,r)},U=function(e,t,n,r){e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!B(e[u],t[u],n,r))return!1}else{var c,d=v.keys(e);if(u=d.length,v.keys(t).length!==u)return!1;for(;u--;)if(c=d[u],!M(t,c)||!B(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0},v.isEqual=function(e,t){return B(e,t)},v.isEmpty=function(e){return null==e||(A(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=h||function(e){return"[object Array]"===f.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){v["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}})),v.isArguments(arguments)||(v.isArguments=function(e){return M(e,"callee")});var q=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof q&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return!v.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&isNaN(e)},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===f.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){if(!v.isArray(t))return M(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!d.call(e,i))return!1;e=e[i]}return!!n},v.noConflict=function(){return i._=o,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=function(e){return v.isArray(e)?function(t){return T(t,e)}:k(e)},v.propertyOf=function(e){return null==e?function(){}:function(t){return v.isArray(t)?T(e,t):e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var V={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=v.invert(V),Y=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};v.escape=Y(V),v.unescape=Y(W),v.result=function(e,t,n){v.isArray(t)||(t=[t]);var r=t.length;if(!r)return v.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=v.isFunction(o)?o.call(e):o}return e};var G=0;v.uniqueId=function(e){var t=++G+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Z=/\\|'|\r|\n|\u2028|\u2029/g,K=function(e){return"\\"+$[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var r,i=RegExp([(t.escape||X).source,(t.interpolate||X).source,(t.evaluate||X).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,(function(t,n,r,i,s){return a+=e.slice(o,s).replace(Z,K),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t})),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t.variable||"obj","_",a)}catch(u){throw u.source=a,u}var s=function(e){return r.call(this,e,v)},l=t.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},v.chain=function(e){var t=v(e);return t._chain=!0,t};var J=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){return v.each(v.functions(e),(function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),J(this,n.apply(v,e))}})),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],J(this,n)}})),v.each(["concat","join","slice"],(function(e){var t=a[e];v.prototype[e]=function(){return J(this,t.apply(this._wrapped,arguments))}})),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return v}.apply(t,[]))||(n.exports=r)}()}).call(this,n(36),n(66)(e))},114:function(e,t,n){"use strict";var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){function e(){return!0}function t(){return!1}function n(){}return function r(){var i=[{name:"number",test:function(e){return"number"===typeof e}},{name:"string",test:function(e){return"string"===typeof e}},{name:"boolean",test:function(e){return"boolean"===typeof e}},{name:"Function",test:function(e){return"function"===typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"===typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],o={name:"any",test:e},a=[],s=[],l={types:i,conversions:s,ignore:a};function u(e){var t=F(l.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return o;var n=F(l.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function c(e){return e===o?999:l.types.indexOf(e)}function f(e){var t=F(l.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function d(e){return e.map((function(e){var t=e.types.map(x);return(e.restParam?"...":"")+t.join("|")})).join(",")}function h(e,t){var n=0===e.indexOf("..."),r=(n?e.length>3?e.slice(3):"any":e).split("|").map(D).filter(P).filter(N),i=function(e,t){var n={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)})),Object.keys(n).map((function(e){return n[e]}))}(t,r),o=r.map((function(e){var t=u(e);return{name:e,typeIndex:c(t),test:t.test,conversion:null,conversionIndex:-1}})),a=i.map((function(e){var n=u(e.from);return{name:e.from,typeIndex:c(n),test:n.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:o.concat(a),restParam:n}}function p(e){var t=I(e);return!!t&&t.restParam}function m(e){return e.types.some((function(e){return null!=e.conversion}))}function g(t){if(t&&0!==t.types.length){if(1===t.types.length)return u(t.types[0].name).test;if(2===t.types.length){var n=u(t.types[0].name).test,r=u(t.types[1].name).test;return function(e){return n(e)||r(e)}}var i=t.types.map((function(e){return u(e.name).test}));return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function v(e){var t,n,r,i;if(p(e)){var o=(t=(i=e,i.slice(0,i.length-1)).map(g)).length,a=g(I(e));return function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return function(e){for(var t=o;t<e.length;t++)if(!a(e[t]))return!1;return!0}(e)&&e.length>=o+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=g(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=g(e[0]),r=g(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(g),function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}function y(e,t){return t<e.params.length?e.params[t]:p(e.params)?I(e.params):null}function b(e,t,n){var r=y(e,t);return(r?n?r.types.filter(_):r.types:[]).map(x)}function x(e){return e.name}function _(e){return null===e.conversion||void 0===e.conversion}function w(e,t){var n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}(B(e,(function(e){return b(e,t,!1)})));return-1!==n.indexOf("any")?["any"]:n}function k(e,t,n){var r,i,o,a=e||"unnamed",s=n;for(o=0;o<t.length;o++){var l=s.filter((function(e){var n=g(y(e,o));return(o<e.params.length||p(e.params))&&n(t[o])}));if(0===l.length){if((i=w(s,o)).length>0){var u=f(t[o]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+u+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:u,expected:i},r}}else s=l}var c=s.map((function(e){return p(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,c))return i=w(s,o),(r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:a,index:t.length,expected:i},r;var d=Math.max.apply(null,c);return t.length>d?((r=new TypeError("Too many arguments in function "+a+" (expected: "+d+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:d},r):((r=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:t.map(f)},r)}function M(e){for(var t=999,n=0;n<e.types.length;n++)_(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function T(e){for(var t=999,n=0;n<e.types.length;n++)_(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function S(e,t){var n;return 0!==(n=e.restParam-t.restParam)?n:0!==(n=m(e)-m(t))?n:0!==(n=M(e)-M(t))?n:T(e)-T(t)}function E(e,t){var n,r,i=Math.min(e.params.length,t.params.length);if(0!==(r=e.params.some(m)-t.params.some(m)))return r;for(n=0;n<i;n++)if(0!==(r=m(e.params[n])-m(t.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=S(e.params[n],t.params[n])))return r;return e.params.length-t.params.length}function A(e){var t,n,r,i,o=[],a=[];switch(e.types.forEach((function(e){e.conversion&&(o.push(u(e.conversion.from).test),a.push(e.conversion.convert))})),a.length){case 0:return function(e){return e};case 1:return t=o[0],r=a[0],function(e){return t(e)?r(e):e};case 2:return t=o[0],n=o[1],r=a[0],i=a[1],function(e){return t(e)?r(e):n(e)?i(e):e};default:return function(e){for(var t=0;t<a.length;t++)if(o[t](e))return a[t](e);return e}}}function O(e,t){return function e(n,r,i){if(r<n.length){var o,a=n[r],s=t?a.types.filter(_):a.types;if(a.restParam){var l=s.filter(_);o=l.length<s.length?[l,s]:[s]}else o=s.map((function(e){return[e]}));return B(o,(function(t){return e(n,r+1,i.concat([t]))}))}return[i.map((function(e,t){return{types:e,restParam:t===n.length-1&&p(n)}}))]}(e,0,[])}function C(e,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map((function(e){return function(e,t,n){var r=[];return""!==e.trim()&&(r=e.split(",").map(D).map((function(e,t,r){var i=h(e,n);if(i.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i}))),r.some(L)?null:{params:r,fn:t}}(e,r[e],l.conversions)})).filter(R).forEach((function(e){var t=F(i,(function(t){return function(e,t){for(var n=Math.max(e.params.length,t.params.length),r=0;r<n;r++)if(!z(b(e,r,!0),b(t,r,!0)))return!1;var i=e.params.length,o=t.params.length,a=p(e.params),s=p(t.params);return a?s?i===o:o>=i:s?i>=o:i===o}(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+d(t.params)+'" and "'+d(e.params)+'".');i.push(e)}));var o=B(i,(function(e){return(e?O(e.params,!1):[]).map((function(t){return{params:t,fn:e.fn}}))})).filter(R);o.sort(E);var a=o[0]&&o[0].params.length<=2&&!p(o[0].params),s=o[1]&&o[1].params.length<=2&&!p(o[1].params),u=o[2]&&o[2].params.length<=2&&!p(o[2].params),c=o[3]&&o[3].params.length<=2&&!p(o[3].params),f=o[4]&&o[4].params.length<=2&&!p(o[4].params),y=o[5]&&o[5].params.length<=2&&!p(o[5].params),x=a&&s&&u&&c&&f&&y,_=o.map((function(e){return v(e.params)})),w=a?g(o[0].params[0]):t,M=s?g(o[1].params[0]):t,T=u?g(o[2].params[0]):t,S=c?g(o[3].params[0]):t,C=f?g(o[4].params[0]):t,N=y?g(o[5].params[0]):t,P=a?g(o[0].params[1]):t,I=s?g(o[1].params[1]):t,U=u?g(o[2].params[1]):t,H=c?g(o[3].params[1]):t,q=f?g(o[4].params[1]):t,V=y?g(o[5].params[1]):t,W=o.map((function(e){return function(e,t){var n=t;if(e.some(m)){var r=p(e),i=e.map(A);n=function(){for(var e=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)e[o]=i[o](arguments[o]);return r&&(e[n]=arguments[n].map(i[n])),t.apply(null,e)}}var o=n;if(p(e)){var a=e.length-1;o=function(){return n.apply(null,j(arguments,0,a).concat([j(arguments,a)]))}}return o}(e.params,e.fn)})),Y=a?W[0]:n,G=s?W[1]:n,X=u?W[2]:n,$=c?W[3]:n,Z=f?W[4]:n,K=y?W[5]:n,J=a?o[0].params.length:-1,Q=s?o[1].params.length:-1,ee=u?o[2].params.length:-1,te=c?o[3].params.length:-1,ne=f?o[4].params.length:-1,re=y?o[5].params.length:-1,ie=x?6:0,oe=o.length,ae=function(){for(var t=ie;t<oe;t++)if(_[t](arguments))return W[t].apply(null,arguments);throw k(e,arguments,o)},se=function(e,t){return arguments.length===J&&w(e)&&P(t)?Y.apply(null,arguments):arguments.length===Q&&M(e)&&I(t)?G.apply(null,arguments):arguments.length===ee&&T(e)&&U(t)?X.apply(null,arguments):arguments.length===te&&S(e)&&H(t)?$.apply(null,arguments):arguments.length===ne&&C(e)&&q(t)?Z.apply(null,arguments):arguments.length===re&&N(e)&&V(t)?K.apply(null,arguments):ae.apply(null,arguments)};try{Object.defineProperty(se,"name",{value:e})}catch(le){}return se.signatures=function(e){var t={};return e.forEach((function(e){e.params.some(m)||O(e.params,!0).forEach((function(n){t[d(n)]=e.fn}))})),t}(o),se}function N(e){return-1===l.ignore.indexOf(e)}function D(e){return e.trim()}function P(e){return!!e}function R(e){return null!==e}function L(e){return 0===e.types.length}function I(e){return e[e.length-1]}function j(e,t,n){return Array.prototype.slice.call(e,t,n)}function z(e,t){for(var n=0;n<e.length;n++)if(r=t,i=e[n],-1!==r.indexOf(i))return!0;var r,i;return!1}function F(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function B(e,t){return Array.prototype.concat.apply([],e.map(t))}function U(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(("object"===typeof r.signatures||"string"===typeof r.signature)&&""!==r.name)if(""===t)t=r.name;else if(t!==r.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw i.data={actual:r.name,expected:t},i}}return t}function H(e){var t,n={};function r(e,r){if(n.hasOwnProperty(e)&&r!==n[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var o=e[i];if("object"===typeof o.signatures)for(var a in o.signatures)o.signatures.hasOwnProperty(a)&&(r(a,o.signatures[a]),n[a]=o.signatures[a]);else{if("string"!==typeof o.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;r(o.signature,o),n[o.signature]=o}}return n}return(l=C("typed",{"string, Object":C,Object:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return C(U(t),e)},"...Function":function(e){return C(U(e),H(e))},"string, ...Function":function(e,t){return C(e,H(t))}})).create=r,l.types=i,l.conversions=s,l.ignore=a,l.convert=function(e,t){var n=f(e);if(t===n)return e;for(var r=0;r<l.conversions.length;r++){var i=l.conversions[r];if(i.from===n&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)},l.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"===typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var i=n.join(","),o=e.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")},l.addType=function(e,t){if(!e||"string"!==typeof e.name||"function"!==typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var n=0;n<l.types.length;n++)if("Object"===l.types[n].name)return void l.types.splice(n,0,e);l.types.push(e)},l.addConversion=function(e){if(!e||"string"!==typeof e.from||"string"!==typeof e.to||"function"!==typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");l.conversions.push(e)},l}()})?r.apply(t,i):r)||(e.exports=o)},115:function(e,t,n){"use strict";(function(t){var n=256,r=[],i="undefined"===typeof t?window:t,o=Math.pow(n,6),a=Math.pow(2,52),s=2*a,l=n-1,u=Math.random;function c(e){var t,r=e.length,i=this,o=0,a=i.i=i.j=0,s=i.S=[];for(r||(e=[r++]);o<n;)s[o]=o++;for(o=0;o<n;o++)s[o]=s[a=l&a+e[o%r]+(t=s[o])],s[a]=t;(i.g=function(e){for(var t,r=0,o=i.i,a=i.j,s=i.S;e--;)t=s[o=l&o+1],r=r*n+s[l&(s[o]=s[a=l&a+t])+(s[a]=t)];return i.i=o,i.j=a,r})(n)}function f(e,t){var n,r=[],i=(typeof e)[0];if(t&&"o"==i)for(n in e)try{r.push(f(e[n],t-1))}catch(o){}return r.length?r:"s"==i?e:e+"\0"}function d(e,t){for(var n,r=e+"",i=0;i<r.length;)t[l&i]=l&(n^=19*t[l&i])+r.charCodeAt(i++);return p(t)}function h(e){try{return i.crypto.getRandomValues(e=new Uint8Array(n)),p(e)}catch(t){return[+new Date,i,i.navigator&&i.navigator.plugins,i.screen,p(r)]}}function p(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,i){if(i&&!0===i.global)return i.global=!1,Math.random=e.exports(t,i),i.global=!0,Math.random;var l=i&&i.entropy||!1,u=[],m=(d(f(l?[t,p(r)]:0 in arguments?t:h(),3),u),new c(u));return d(p(m.S),r),function(){for(var e=m.g(6),t=o,r=0;e<a;)e=(e+r)*n,t*=n,r=m.g(1);for(;e>=s;)e/=2,t/=2,r>>>=1;return(e+r)/t}},e.exports.resetGlobal=function(){Math.random=u},d(Math.random(),r)}).call(this,n(36))},116:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},117:function(e,t,n){var r=n(4942);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],h=n.index;if(s+=e.slice(a,h),a=h+f.length,d)s+=d[1];else{var p=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=p&&p!==m,w="+"===b||"*"===b,k="?"===b||"*"===b,M=n[2]||c,T=v||y;r.push({name:g||o++,prefix:m||"",delimiter:M,optional:k,repeat:w,partial:_,asterisk:!!x,pattern:T?u(T):x?".*":"[^"+l(M)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,i){for(var o="",s=n||{},l=(i||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!==typeof c){var f,d=s[c.name];if(null==d){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=l(d[h]),!t[u].test(f))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?c.prefix:c.delimiter)+f}}else{if(f=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(d),!t[u].test(f))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+f+'"');o+=c.prefix+f}}else o+=c}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function f(e){return e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)a+=l(u);else{var d=l(u.prefix),h="(?:"+u.pattern+")";t.push(u),u.repeat&&(h+="(?:"+d+h+")*"),a+=h=u.optional?u.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=l(n.delimiter||"/"),m=a.slice(-p.length)===p;return i||(a=(m?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+p+"|$)",c(new RegExp("^"+a,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},12:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb(".concat(n.map((function(e){return parseInt(e,16)})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function a(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function s(e){var t="hsl"===(e=i(e)).type?i(function(e){var t=(e=i(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,s=r*Math.min(a,1-a),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),o({type:u,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return s(e)>.5?c(e,t):f(e,t)}function u(e,t){return e=i(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function c(e,t){if(e=i(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=i(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return f}))},120:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},121:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(0),a=n.n(o),s=(n(4),n(3)),l=n(6),u=n(7),c=a.a.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,c=e.color,f=void 0===c?"inherit":c,d=e.component,h=void 0===d?"svg":d,p=e.fontSize,m=void 0===p?"default":p,g=e.htmlColor,v=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,x=Object(i.a)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return a.a.createElement(h,Object(r.a)({className:Object(s.a)(o.root,l,"inherit"!==f&&o["color".concat(Object(u.a)(f))],"default"!==m&&o["fontSize".concat(Object(u.a)(m))]),focusable:"false",viewBox:b,color:g,"aria-hidden":v?"false":"true",role:v?"img":"presentation",ref:t},x),n,v?a.a.createElement("title",null,v):null)}));c.muiName="SvgIcon",t.a=Object(l.a)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c)},122:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=(0,((r=n(4808))&&r.__esModule?r:{default:r}).default)("M15.6,5.29C14.5,5.19 13.53,6 13.43,7.11L13.18,10H16V12H13L12.56,17.07C12.37,19.27 10.43,20.9 8.23,20.7C6.92,20.59 5.82,19.86 5.17,18.83L6.67,17.33C6.91,18.07 7.57,18.64 8.4,18.71C9.5,18.81 10.47,18 10.57,16.89L11,12H8V10H11.17L11.44,6.93C11.63,4.73 13.57,3.1 15.77,3.3C17.08,3.41 18.18,4.14 18.83,5.17L17.33,6.67C17.09,5.93 16.43,5.36 15.6,5.29Z");t.default=i},123:function(e,t){e.exports={}},124:function(e,t,n){var r=n(67),i=n(125),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},125:function(e,t,n){var r=n(126),i=r&&new r;e.exports=i},126:function(e,t,n){var r=n(44)(n(18),"WeakMap");e.exports=r},127:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(36))},128:function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},129:function(e,t,n){var r=n(130),i=n(131),o=n(4824),a=n(69),s=n(132),l=n(140),u=n(4840),c=n(96),f=n(18),d=1,h=2,p=8,m=16,g=128,v=512;e.exports=function e(t,n,y,b,x,_,w,k,M,T){var S=n&g,E=n&d,A=n&h,O=n&(p|m),C=n&v,N=A?void 0:a(t);return function d(){for(var h=arguments.length,p=Array(h),m=h;m--;)p[m]=arguments[m];if(O)var g=l(d),v=o(p,g);if(b&&(p=r(p,b,x,O)),_&&(p=i(p,_,w,O)),h-=v,O&&h<T){var D=c(p,g);return s(t,n,e,d.placeholder,y,p,D,k,M,T-h)}var P=E?y:this,R=A?P[t]:t;return h=p.length,k?p=u(p,k):C&&h>1&&p.reverse(),S&&M<h&&(p.length=M),this&&this!==f&&this instanceof d&&(R=N||a(R)),R.apply(P,p)}}},13:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},130:function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=r.length,l=-1,u=t.length,c=n(a-s,0),f=Array(u+c),d=!i;++l<u;)f[l]=t[l];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;c--;)f[l++]=e[o++];return f}},131:function(e,t){var n=Math.max;e.exports=function(e,t,r,i){for(var o=-1,a=e.length,s=-1,l=r.length,u=-1,c=t.length,f=n(a-l,0),d=Array(f+c),h=!i;++o<f;)d[o]=e[o];for(var p=o;++u<c;)d[p+u]=t[u];for(;++s<l;)(h||o<a)&&(d[p+r[s]]=e[o++]);return d}},132:function(e,t,n){var r=n(4825),i=n(135),o=n(137),a=1,s=2,l=4,u=8,c=32,f=64;e.exports=function(e,t,n,d,h,p,m,g,v,y){var b=t&u;t|=b?c:f,(t&=~(b?f:c))&l||(t&=~(a|s));var x=[e,t,h,b?p:void 0,b?m:void 0,b?void 0:p,b?void 0:m,g,v,y],_=n.apply(void 0,x);return r(e)&&i(_,x),_.placeholder=d,o(_,e,t)}},133:function(e,t,n){var r=n(125),i=n(4826),o=r?function(e){return r.get(e)}:i;e.exports=o},134:function(e,t,n){var r=n(70),i=n(93);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},135:function(e,t,n){var r=n(124),i=n(136)(r);e.exports=i},136:function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},137:function(e,t,n){var r=n(4831),i=n(4832),o=n(94),a=n(4835);e.exports=function(e,t,n){var s=t+"";return o(e,i(s,a(r(s),n)))}},138:function(e,t,n){var r=n(44),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},139:function(e,t,n){var r=n(4836);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},140:function(e,t){e.exports=function(e){return e.placeholder}},141:function(e,t,n){var r=n(4843);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},142:function(e,t,n){var r=n(57),i=n(73);e.exports=function(e,t){return e&&r(t,i(t),e)}},143:function(e,t,n){var r=n(97),i=n(58),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},144:function(e,t,n){var r=n(4845),i=n(74),o=n(19),a=n(75),s=n(72),l=n(98),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&l(e),h=n||c||f||d,p=h?r(e.length,String):[],m=p.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},145:function(e,t,n){var r=n(101),i=n(4849),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},146:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},147:function(e,t,n){var r=n(78),i=n(95),o=n(143),a=n(142),s=n(4873),l=n(148),u=n(55),c=n(4876),f=n(4878),d=n(151),h=n(4879),p=n(59),m=n(4883),g=n(4884),v=n(155),y=n(19),b=n(75),x=n(4888),_=n(22),w=n(4890),k=n(73),M=1,T=2,S=4,E="[object Arguments]",A="[object Function]",O="[object GeneratorFunction]",C="[object Object]",N={};N[E]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[C]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[A]=N["[object WeakMap]"]=!1,e.exports=function e(t,n,D,P,R,L){var I,j=n&M,z=n&T,F=n&S;if(D&&(I=R?D(t,P,R,L):D(t)),void 0!==I)return I;if(!_(t))return t;var B=y(t);if(B){if(I=m(t),!j)return u(t,I)}else{var U=p(t),H=U==A||U==O;if(b(t))return l(t,j);if(U==C||U==E||H&&!R){if(I=z||H?{}:v(t),!j)return z?f(t,s(I,t)):c(t,a(I,t))}else{if(!N[U])return R?t:{};I=g(t,U,j)}}L||(L=new r);var q=L.get(t);if(q)return q;L.set(t,I),w(t)?t.forEach((function(r){I.add(e(r,n,D,r,t,L))})):x(t)&&t.forEach((function(r,i){I.set(i,e(r,n,D,i,t,L))}));var V=F?z?h:d:z?keysIn:k,W=B?void 0:V(t);return i(W||t,(function(r,i){W&&(r=t[i=r]),o(I,i,e(r,n,D,i,t,L))})),I}},148:function(e,t,n){(function(e){var r=n(18),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(66)(e))},149:function(e,t){e.exports=function(){return[]}},15:function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},150:function(e,t,n){var r=n(105),i=n(106),o=n(104),a=n(149),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},151:function(e,t,n){var r=n(152),i=n(104),o=n(73);e.exports=function(e){return r(e,o,i)}},152:function(e,t,n){var r=n(105),i=n(19);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},153:function(e,t,n){var r=n(18).Uint8Array;e.exports=r},154:function(e,t,n){var r=n(107);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},155:function(e,t,n){var r=n(70),i=n(106),o=n(101);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},156:function(e,t,n){var r=n(45),i=n(106),o=n(23),a="[object Object]",s=Function.prototype,l=Object.prototype,u=s.toString,c=l.hasOwnProperty,f=u.call(Object);e.exports=function(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==f}},157:function(e,t,n){var r=n(158),i=n(4902),o=n(159),a=1,s=2;e.exports=function(e,t,n,l,u,c){var f=n&a,d=e.length,h=t.length;if(d!=h&&!(f&&h>d))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,g=!0,v=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<d;){var y=e[m],b=t[m];if(l)var x=f?l(b,y,m,t,e,c):l(y,b,m,e,t,c);if(void 0!==x){if(x)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(y===e||u(y,e,n,l,c)))return v.push(t)}))){g=!1;break}}else if(y!==b&&!u(y,b,n,l,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},158:function(e,t,n){var r=n(103),i=n(4900),o=n(4901);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},159:function(e,t){e.exports=function(e,t){return e.has(t)}},16:function(e,t,n){"use strict";t.a=function(e){return e&&e.ownerDocument||document}},160:function(e,t,n){var r=n(22);e.exports=function(e){return e===e&&!r(e)}},161:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},162:function(e,t,n){var r=n(163),i=n(60);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},163:function(e,t,n){var r=n(19),i=n(109),o=n(164),a=n(165);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},164:function(e,t,n){var r=n(4910),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},165:function(e,t,n){var r=n(4912);e.exports=function(e){return null==e?"":r(e)}},166:function(e,t,n){var r=n(105),i=n(4922);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},167:function(e,t,n){var r=n(71),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},168:function(e,t,n){var r=n(78),i=n(169),o=n(4926),a=n(4928),s=n(22),l=n(83),u=n(171);e.exports=function e(t,n,c,f,d){t!==n&&o(n,(function(o,l){if(d||(d=new r),s(o))a(t,n,l,c,e,f,d);else{var h=f?f(u(t,l),o,l+"",t,n,d):void 0;void 0===h&&(h=o),i(t,l,h)}}),l)}},169:function(e,t,n){var r=n(97),i=n(58);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},17:function(e,t,n){var r;!function(n){"use strict";var i=function(e){return.5*(Math.exp(e)+Math.exp(-e))},o=function(e){return.5*(Math.exp(e)-Math.exp(-e))},a=function(){throw SyntaxError("Invalid Param")};function s(e,t){var n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}var l=function(e,t){var n={re:0,im:0};if(void 0===e||null===e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return u.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return u.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):a();break;case"string":n.im=n.re=0;var r=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===r&&a();for(var s=0;s<r.length;s++){var l=r[s];" "===l||"\t"===l||"\n"===l||("+"===l?i++:"-"===l?o++:"i"===l||"I"===l?(i+o===0&&a()," "===r[s+1]||isNaN(r[s+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+r[s+1]),s++),i=o=0):((i+o===0||isNaN(l))&&a(),"i"===r[s+1]||"I"===r[s+1]?(n.im+=parseFloat((o%2?"-":"")+l),s++):n.re+=parseFloat((o%2?"-":"")+l),i=o=0))}i+o>0&&a();break;case"number":n.im=0,n.re=e;break;default:a()}return isNaN(n.re)||isNaN(n.im),n};function u(e,t){if(!(this instanceof u))return new u(e,t);var n=l(e,t);this.re=n.re,this.im=n.im}u.prototype={re:0,im:0,sign:function(){var e=this.abs();return new u(this.re/e,this.im/e)},add:function(e,t){var n=new u(e,t);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re+n.re,this.im+n.im)},sub:function(e,t){var n=new u(e,t);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re-n.re,this.im-n.im)},mul:function(e,t){var n=new u(e,t);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:0===n.im&&0===this.im?new u(this.re*n.re,0):new u(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){var n=new u(e,t);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return u.NAN;if(this.isInfinite()||n.isZero())return u.INFINITY;if(this.isZero()||n.isInfinite())return u.ZERO;e=this.re,t=this.im;var r,i,o=n.re,a=n.im;return 0===a?new u(e/o,t/o):Math.abs(o)<Math.abs(a)?new u((e*(i=o/a)+t)/(r=o*i+a),(t*i-e)/r):new u((e+t*(i=a/o))/(r=a*i+o),(t-e*i)/r)},pow:function(e,t){var n=new u(e,t);if(e=this.re,t=this.im,n.isZero())return u.ONE;if(0===n.im){if(0===t&&e>=0)return new u(Math.pow(e,n.re),0);if(0===e)switch((n.re%4+4)%4){case 0:return new u(Math.pow(t,n.re),0);case 1:return new u(0,Math.pow(t,n.re));case 2:return new u(-Math.pow(t,n.re),0);case 3:return new u(0,-Math.pow(t,n.re))}}if(0===e&&0===t&&n.re>0&&n.im>=0)return u.ZERO;var r=Math.atan2(t,e),i=s(e,t);return e=Math.exp(n.re*i-n.im*r),t=n.im*i+n.re*r,new u(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new u(Math.sqrt(n),0);e=.5*Math.sqrt(2*(i+n))}else e=Math.abs(r)/Math.sqrt(2*(i-n));return t=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new u(e,r<0?-t:t)},exp:function(){var e=Math.exp(this.re);return this.im,new u(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new u(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var n=e*e;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new u(s(e,t),Math.atan2(t,e))},abs:function(){return function(e,t){var n=Math.abs(e),r=Math.abs(t);return n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=e/t):r=t/e,n*Math.sqrt(1+r*r))}(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new u(Math.sin(e)*i(t),Math.cos(e)*o(t))},cos:function(){var e=this.re,t=this.im;return new u(Math.cos(e)*i(t),-Math.sin(e)*o(t))},tan:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)+i(t);return new u(Math.sin(e)/n,o(t)/n)},cot:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)-i(t);return new u(-Math.sin(e)/n,o(t)/n)},sec:function(){var e=this.re,t=this.im,n=.5*i(2*t)+.5*Math.cos(2*e);return new u(Math.cos(e)*i(t)/n,Math.sin(e)*o(t)/n)},csc:function(){var e=this.re,t=this.im,n=.5*i(2*t)-.5*Math.cos(2*e);return new u(Math.sin(e)*i(t)/n,-Math.cos(e)*o(t)/n)},asin:function(){var e=this.re,t=this.im,n=new u(t*t-e*e+1,-2*e*t).sqrt(),r=new u(n.re-t,n.im+e).log();return new u(r.im,-r.re)},acos:function(){var e=this.re,t=this.im,n=new u(t*t-e*e+1,-2*e*t).sqrt(),r=new u(n.re-t,n.im+e).log();return new u(Math.PI/2-r.im,r.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new u(0,1/0);if(-1===t)return new u(0,-1/0)}var n=e*e+(1-t)*(1-t),r=new u((1-t*t-e*e)/n,-2*e/n).log();return new u(-.5*r.im,.5*r.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new u(Math.atan2(1,e),0);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).atan():new u(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,1/0);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).acos():new u(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(Math.PI/2,1/0);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).asin():new u(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new u(o(e)*Math.cos(t),i(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new u(i(e)*Math.cos(t),o(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,n=i(e)+Math.cos(t);return new u(o(e)/n,Math.sin(t)/n)},coth:function(){var e=2*this.re,t=2*this.im,n=i(e)-Math.cos(t);return new u(o(e)/n,-Math.sin(t)/n)},csch:function(){var e=this.re,t=this.im,n=Math.cos(2*t)-i(2*e);return new u(-2*o(e)*Math.cos(t)/n,2*i(e)*Math.sin(t)/n)},sech:function(){var e=this.re,t=this.im,n=Math.cos(2*t)+i(2*e);return new u(2*i(e)*Math.cos(t)/n,-2*o(e)*Math.sin(t)/n)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else{t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){var e=this.re,t=this.im,n=e>1&&0===t,r=1-e,i=1+e,o=r*r+t*t,a=0!==o?new u((i*r-t*t)/o,(t*r+i*t)/o):new u(-1!==e?e/0:0,0!==t?t/0:0),l=a.re;return a.re=s(a.re,a.im)/2,a.im=Math.atan2(a.im,l)/2,n&&(a.im=-a.im),a},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new u(0,Math.PI/2);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).atanh():new u(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new u(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).asinh():new u(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return u.INFINITY;var n=e*e+t*t;return 0!==n?new u(e/n,-t/n).acosh():new u(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var e=this.re,t=this.im,n=e*e+t*t;return new u(e/n,-t/n)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new u(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new u(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new u(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var n=new u(e,t);return Math.abs(n.re-this.re)<=u.EPSILON&&Math.abs(n.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(n+=e),0!==t&&(0!==e?n+=t<0?" - ":" + ":t<0&&(n+="-"),1!==(t=Math.abs(t))&&(n+=t),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isNaN(this.re)||isNaN(this.im)})),isZero:function(){return(0===this.re||-0===this.re)&&(0===this.im||-0===this.im)},isFinite:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isFinite(this.re)&&isFinite(this.im)})),isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-16,void 0===(r=function(){return u}.apply(t,[]))||(e.exports=r)}()},170:function(e,t,n){var r=n(77),i=n(23);e.exports=function(e){return i(e)&&r(e)}},171:function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},172:function(e,t,n){"use strict";var r=n(43);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(52)).default)(i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");t.default=o},173:function(e,t,n){"use strict";var r=n(43);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(52)).default)(i.default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.default=o},174:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4806),i=r.__importStar(n(0)),o=function(e){function t(t){var n=e.call(this,t)||this;return n.outerRef=null,n.handleRef=function(e){if(n.outerRef=e,n.props.forwardedRef)if("function"===typeof n.props.forwardedRef)n.props.forwardedRef(e);else{if("object"!==typeof n.props.forwardedRef)throw new Error("Invalid forwardedRef "+n.props.forwardedRef);n.props.forwardedRef.current=e}},n.handleTransitionEnd=function(e){e.target===n.outerRef&&"height"===e.propertyName&&(n.state.childrenLeaving?n.setState({children:null,childrenLeaving:!1},(function(){return n.endTransition()})):n.endTransition())},n.state={children:t.children,childrenLeaving:!1},n}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.outerRef&&(this.props.closed||!this.props.children?(this.outerRef.classList.add("closed"),this.outerRef.style.height="0px"):this.props.transitionOnAppear?this.startTransition("0px"):this.outerRef.style.height="auto")},t.prototype.getSnapshotBeforeUpdate=function(){return this.outerRef?this.outerRef.getBoundingClientRect().height+"px":null},t.getDerivedStateFromProps=function(e,t){return e.children?{children:e.children,childrenLeaving:!1}:t.children?{children:t.children,childrenLeaving:!0}:null},t.prototype.componentDidUpdate=function(e,t,n){this.outerRef&&this.startTransition(n)},t.prototype.startTransition=function(e){var t="0px";this.props.closed||this.state.childrenLeaving||!this.state.children||(this.outerRef.classList.remove("closed"),this.outerRef.style.height="auto",t=getComputedStyle(this.outerRef).height),parseFloat(t).toFixed(2)!==parseFloat(e).toFixed(2)&&(this.outerRef.classList.add("transitioning"),this.outerRef.style.height=e,this.outerRef.offsetHeight,this.outerRef.style.transitionProperty="height",this.outerRef.style.height=t)},t.prototype.endTransition=function(){this.outerRef.classList.remove("transitioning"),this.outerRef.style.transitionProperty="none",this.outerRef.style.height=this.props.closed?"0px":"auto",!this.props.closed&&this.state.children||this.outerRef.classList.add("closed")},t.prototype.render=function(){var e=this.props,t=(e.children,e.className),n=(e.closed,e.transitionOnAppear,e.forwardedRef,r.__rest(e,["children","className","closed","transitionOnAppear","forwardedRef"])),o=t?"react-slidedown "+t:"react-slidedown";return i.default.createElement("div",r.__assign({ref:this.handleRef,className:o,onTransitionEnd:this.handleTransitionEnd},n),this.state.children)},t.defaultProps={transitionOnAppear:!0,closed:!1},t}(i.Component);t.SlideDown=i.forwardRef((function(e,t){return i.default.createElement(o,r.__assign({},e,{forwardedRef:t}))})),t.default=t.SlideDown},176:function(e,t,n){"use strict";var r=n(122),i=n.n(r);n.d(t,"a",(function(){return i.a}))},177:function(e,t,n){"use strict";var r=n(43);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(52)).default)(i.default.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");t.default=o},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;return c(e)}(this,u(n).call(this,e))).p=Promise.resolve(),t.resizeHandler=null,t.handlers={},t.syncWindowResize=t.syncWindowResize.bind(c(t)),t.syncEventHandlers=t.syncEventHandlers.bind(c(t)),t.attachUpdateEvents=t.attachUpdateEvents.bind(c(t)),t.getRef=t.getRef.bind(c(t)),t.handleUpdate=t.handleUpdate.bind(c(t)),t.figureCallback=t.figureCallback.bind(c(t)),t.updatePlotly=t.updatePlotly.bind(c(t)),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,t),function(e,t,n){t&&l(e.prototype,t);n&&l(e,n)}(n,[{key:"updatePlotly",value:function(t,n,r){var i=this;this.p=this.p.then((function(){var t;if(!i.el)throw i.unmounting?(t=new Error("Component is unmounting")).reason="unmounting":t=new Error("Missing element reference"),t;return e.react(i.el,{data:i.props.data,layout:i.props.layout,config:i.props.config,frames:i.props.frames})})).then((function(){return i.syncWindowResize(t)})).then(this.syncEventHandlers).then((function(){return i.figureCallback(n)})).then(r?this.attachUpdateEvents:function(){}).catch((function(e){"unmounting"!==e.reason&&(console.error("Error while plotting:",e),i.props.onError&&i.props.onError(e))}))}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(e){this.unmounting=!1;var t=e.frames&&e.frames.length?e.frames.length:0,n=this.props.frames&&this.props.frames.length?this.props.frames.length:0,r=!(e.layout===this.props.layout&&e.data===this.props.data&&e.config===this.props.config&&n===t),i=void 0!==e.revision,o=e.revision!==this.props.revision;(r||i&&(!i||o))&&this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&p&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),e.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&h.forEach((function(t){e.el.on(t,e.handleUpdate)}))}},{key:"removeUpdateEvents",value:function(){var e=this;this.el&&this.el.removeListener&&h.forEach((function(t){e.el.removeListener(t,e.handleUpdate)}))}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(e){if("function"===typeof e){var t=this.el;e({data:t.data,layout:t.layout,frames:this.el._transitionData?this.el._transitionData._frames:null},this.el)}}},{key:"syncWindowResize",value:function(t){var n=this;p&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return e.Plots.resize(n.el)},window.addEventListener("resize",this.resizeHandler),t&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(e){this.el=e,this.props.debug&&p&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var e=this;d.forEach((function(t){var n=e.props["on"+t],r=e.handlers[t],i=Boolean(r);n&&!i?e.addEventHandler(t,n):!n&&i?e.removeEventHandler(t):n&&i&&n!==r&&(e.removeEventHandler(t),e.addEventHandler(t,n))}))}},{key:"addEventHandler",value:function(e,t){this.handlers[e]=t,this.el.on(this.getPlotlyEventName(e),this.handlers[e])}},{key:"removeEventHandler",value:function(e){this.el.removeListener(this.getPlotlyEventName(e),this.handlers[e]),delete this.handlers[e]}},{key:"getPlotlyEventName",value:function(e){return"plotly_"+e.toLowerCase()}},{key:"render",value:function(){return i.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),n}(i.Component);return t.propTypes={data:o.default.arrayOf(o.default.object),config:o.default.object,layout:o.default.object,frames:o.default.arrayOf(o.default.object),revision:o.default.number,onInitialized:o.default.func,onPurge:o.default.func,onError:o.default.func,onUpdate:o.default.func,debug:o.default.bool,style:o.default.object,className:o.default.string,useResizeHandler:o.default.bool,divId:o.default.string},d.forEach((function(e){t.propTypes["on"+e]=o.default.func})),t.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},t};var r,i=function(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}}n.default=e,t&&t.set(e,n);return n}(n(0)),o=(r=n(4))&&r.__esModule?r:{default:r};function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","Transitioning","TransitionInterrupted","Unhover"],h=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_doubleclick","plotly_animated"],p="undefined"!==typeof window},179:function(e,t,n){(function(t){var r,i=n(4809);e.exports=function e(t,n,i){function o(s,l){if(!n[s]){if(!t[s]){if(!l&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return o(t[s][1][e]||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";var r=e("../src/lib"),i={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var o in i){var a=o.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(a,i[o])}},{"../src/lib":497}],2:[function(e,t,n){"use strict";t.exports=e("../src/traces/cone")},{"../src/traces/cone":608}],3:[function(e,t,n){"use strict";t.exports=e("../src/core")},{"../src/core":478}],4:[function(e,t,n){"use strict";var r=e("./core");r.register([e("./scatter3d"),e("./surface"),e("./mesh3d"),e("./isosurface"),e("./volume"),e("./cone"),e("./streamtube")]),t.exports=r},{"./cone":2,"./core":3,"./isosurface":5,"./mesh3d":6,"./scatter3d":7,"./streamtube":8,"./surface":9,"./volume":10}],5:[function(e,t,n){"use strict";t.exports=e("../src/traces/isosurface")},{"../src/traces/isosurface":615}],6:[function(e,t,n){"use strict";t.exports=e("../src/traces/mesh3d")},{"../src/traces/mesh3d":620}],7:[function(e,t,n){"use strict";t.exports=e("../src/traces/scatter3d")},{"../src/traces/scatter3d":655}],8:[function(e,t,n){"use strict";t.exports=e("../src/traces/streamtube")},{"../src/traces/streamtube":660}],9:[function(e,t,n){"use strict";t.exports=e("../src/traces/surface")},{"../src/traces/surface":665}],10:[function(e,t,n){"use strict";t.exports=e("../src/traces/volume")},{"../src/traces/volume":669}],11:[function(e,t,n){"use strict";t.exports=function(e){var t=(e=e||{}).eye||[0,0,1],n=e.center||[0,0,0],s=e.up||[0,1,0],l=e.distanceLimits||[0,1/0],u=e.mode||"turntable",c=r(),f=i(),d=o();return c.setDistanceLimits(l[0],l[1]),c.lookAt(0,t,n,s),f.setDistanceLimits(l[0],l[1]),f.lookAt(0,t,n,s),d.setDistanceLimits(l[0],l[1]),d.lookAt(0,t,n,s),new a({turntable:c,orbit:f,matrix:d},u)};var r=e("turntable-camera-controller"),i=e("orbit-camera-controller"),o=e("matrix-camera-controller");function a(e,t){this._controllerNames=Object.keys(e),this._controllerList=this._controllerNames.map((function(t){return e[t]})),this._mode=t,this._active=e[t],this._active||(this._mode="turntable",this._active=e.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=a.prototype;[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]].forEach((function(e){for(var t=e[0],n=[],r=0;r<e[1];++r)n.push("a"+r);var i="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+e[0]+"("+n.join()+")}";s[t]=Function.apply(null,n.concat(i))})),s.recalcMatrix=function(e){this._active.recalcMatrix(e)},s.getDistance=function(e){return this._active.getDistance(e)},s.getDistanceLimits=function(e){return this._active.getDistanceLimits(e)},s.lastT=function(){return this._active.lastT()},s.setMode=function(e){if(e!==this._mode){var t=this._controllerNames.indexOf(e);if(!(t<0)){var n=this._active,r=this._controllerList[t],i=Math.max(n.lastT(),r.lastT());n.recalcMatrix(i),r.setMatrix(i,n.computedMatrix),this._active=r,this._mode=e,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},{"matrix-camera-controller":270,"orbit-camera-controller":291,"turntable-camera-controller":346}],12:[function(e,t,n){"use strict";var r="undefined"==typeof WeakMap?e("weak-map"):WeakMap,i=e("gl-buffer"),o=e("gl-vao"),a=new r;t.exports=function(e){var t=a.get(e),n=t&&(t._triangleBuffer.handle||t._triangleBuffer.buffer);if(!n||!e.isBuffer(n)){var r=i(e,new Float32Array([-1,-1,-1,4,4,-1]));(t=o(e,[{buffer:r,type:e.FLOAT,size:2}]))._triangleBuffer=r,a.set(e,t)}t.bind(),e.drawArrays(e.TRIANGLES,0,3),t.unbind()}},{"gl-buffer":104,"gl-vao":169,"weak-map":354}],13:[function(e,t,n){var r=e("pad-left");t.exports=function(e,t,n){t="number"==typeof t?t:1,n=n||": ";var i=e.split(/\r?\n/),o=String(i.length+t-1).length;return i.map((function(e,i){var a=i+t,s=String(a).length;return r(a,o-s)+n+e})).join("\n")}},{"pad-left":292}],14:[function(e,t,n){"use strict";t.exports=function(e){var t=e.length;if(0===t)return[];if(1===t)return[0];for(var n=e[0].length,r=[e[0]],o=[0],a=1;a<t;++a)if(r.push(e[a]),i(r,n)){if(o.push(a),o.length===n+1)return o}else r.pop();return o};var r=e("robust-orientation");function i(e,t){for(var n=new Array(t+1),i=0;i<e.length;++i)n[i]=e[i];for(i=0;i<=e.length;++i){for(var o=e.length;o<=t;++o){for(var a=new Array(t),s=0;s<t;++s)a[s]=Math.pow(o+1-i,s);n[o]=a}if(r.apply(void 0,n))return!0}return!1}},{"robust-orientation":323}],15:[function(e,t,n){"use strict";t.exports=function(e,t){return r(t).filter((function(n){for(var r=new Array(n.length),o=0;o<n.length;++o)r[o]=t[n[o]];return i(r)*e<1}))};var r=e("delaunay-triangulate"),i=e("circumradius")},{circumradius:58,"delaunay-triangulate":84}],16:[function(e,t,n){t.exports=function(e,t){return i(r(e,t))};var r=e("alpha-complex"),i=e("simplicial-complex-boundary")},{"alpha-complex":15,"simplicial-complex-boundary":330}],17:[function(e,t,n){t.exports=function(e){return atob(e)}},{}],18:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=t.length,o=new Array(n+1),a=0;a<n;++a){for(var s=new Array(n+1),l=0;l<=n;++l)s[l]=e[l][a];o[a]=s}for(o[n]=new Array(n+1),a=0;a<=n;++a)o[n][a]=1;var u=new Array(n+1);for(a=0;a<n;++a)u[a]=t[a];u[n]=1;var c=r(o,u),f=i(c[n+1]);0===f&&(f=1);var d=new Array(n+1);for(a=0;a<=n;++a)d[a]=i(c[a])/f;return d};var r=e("robust-linear-solve");function i(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return t}},{"robust-linear-solve":322}],19:[function(e,t,n){"use strict";n.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],20:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[1]).add(t[0].mul(e[1])),e[1].mul(t[1]))}},{"./lib/rationalize":30}],21:[function(e,t,n){"use strict";t.exports=function(e,t){return e[0].mul(t[1]).cmp(t[0].mul(e[1]))}},{}],22:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[1]),e[1].mul(t[0]))}},{"./lib/rationalize":30}],23:[function(e,t,n){"use strict";var r=e("./is-rat"),i=e("./lib/is-bn"),o=e("./lib/num-to-bn"),a=e("./lib/str-to-bn"),s=e("./lib/rationalize"),l=e("./div");t.exports=function e(t,n){if(r(t))return n?l(t,e(n)):[t[0].clone(),t[1].clone()];var u,c,f=0;if(i(t))u=t.clone();else if("string"==typeof t)u=a(t);else{if(0===t)return[o(0),o(1)];if(t===Math.floor(t))u=o(t);else{for(;t!==Math.floor(t);)t*=Math.pow(2,256),f-=256;u=o(t)}}if(r(n))u.mul(n[1]),c=n[0].clone();else if(i(n))c=n.clone();else if("string"==typeof n)c=a(n);else if(n)if(n===Math.floor(n))c=o(n);else{for(;n!==Math.floor(n);)n*=Math.pow(2,256),f+=256;c=o(n)}else c=o(1);return f>0?u=u.ushln(f):f<0&&(c=c.ushln(-f)),s(u,c)}},{"./div":22,"./is-rat":24,"./lib/is-bn":28,"./lib/num-to-bn":29,"./lib/rationalize":30,"./lib/str-to-bn":31}],24:[function(e,t,n){"use strict";var r=e("./lib/is-bn");t.exports=function(e){return Array.isArray(e)&&2===e.length&&r(e[0])&&r(e[1])}},{"./lib/is-bn":28}],25:[function(e,t,n){"use strict";var r=e("bn.js");t.exports=function(e){return e.cmp(new r(0))}},{"bn.js":38}],26:[function(e,t,n){"use strict";var r=e("./bn-sign");t.exports=function(e){var t=e.length,n=e.words,i=0;if(1===t)i=n[0];else if(2===t)i=n[0]+67108864*n[1];else for(var o=0;o<t;o++)i+=n[o]*Math.pow(67108864,o);return r(e)*i}},{"./bn-sign":25}],27:[function(e,t,n){"use strict";var r=e("double-bits"),i=e("bit-twiddle").countTrailingZeros;t.exports=function(e){var t=i(r.lo(e));if(t<32)return t;var n=i(r.hi(e));return n>20?52:n+32}},{"bit-twiddle":37,"double-bits":85}],28:[function(e,t,n){"use strict";e("bn.js"),t.exports=function(e){return e&&"object"==typeof e&&Boolean(e.words)}},{"bn.js":38}],29:[function(e,t,n){"use strict";var r=e("bn.js"),i=e("double-bits");t.exports=function(e){var t=i.exponent(e);return t<52?new r(e):new r(e*Math.pow(2,52-t)).ushln(t-52)}},{"bn.js":38,"double-bits":85}],30:[function(e,t,n){"use strict";var r=e("./num-to-bn"),i=e("./bn-sign");t.exports=function(e,t){var n=i(e),o=i(t);if(0===n)return[r(0),r(1)];if(0===o)return[r(0),r(0)];o<0&&(e=e.neg(),t=t.neg());var a=e.gcd(t);return a.cmpn(1)?[e.div(a),t.div(a)]:[e,t]}},{"./bn-sign":25,"./num-to-bn":29}],31:[function(e,t,n){"use strict";var r=e("bn.js");t.exports=function(e){return new r(e)}},{"bn.js":38}],32:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[0]),e[1].mul(t[1]))}},{"./lib/rationalize":30}],33:[function(e,t,n){"use strict";var r=e("./lib/bn-sign");t.exports=function(e){return r(e[0])*r(e[1])}},{"./lib/bn-sign":25}],34:[function(e,t,n){"use strict";var r=e("./lib/rationalize");t.exports=function(e,t){return r(e[0].mul(t[1]).sub(e[1].mul(t[0])),e[1].mul(t[1]))}},{"./lib/rationalize":30}],35:[function(e,t,n){"use strict";var r=e("./lib/bn-to-num"),i=e("./lib/ctz");t.exports=function(e){var t=e[0],n=e[1];if(0===t.cmpn(0))return 0;var o=t.abs().divmod(n.abs()),a=o.div,s=r(a),l=o.mod,u=t.negative!==n.negative?-1:1;if(0===l.cmpn(0))return u*s;if(s){var c=i(s)+4;return u*(s+(d=r(l.ushln(c).divRound(n)))*Math.pow(2,-c))}var f=n.bitLength()-l.bitLength()+53,d=r(l.ushln(f).divRound(n));return f<1023?u*d*Math.pow(2,-f):u*(d*=Math.pow(2,-1023))*Math.pow(2,1023-f)}},{"./lib/bn-to-num":26,"./lib/ctz":27}],36:[function(e,t,n){"use strict";function r(e,t,n,r,i,o){var a=["function ",e,"(a,l,h,",r.join(","),"){",o?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return o?t.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",t,"){i=m;"),n?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),o?a.push("return -1};"):a.push("return i};"),a.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],!1,i),r("B","x"+e+"y",t,["y"],!0,i),r("P","c(x,y)"+e+"0",t,["y","c"],!1,i),r("Q","c(x,y)"+e+"0",t,["y","c"],!0,i),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},{}],37:[function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(e){return(e>0)-(e<0)},n.abs=function(e){var t=e>>31;return(e^t)-t},n.min=function(e,t){return t^(e^t)&-(e<t)},n.max=function(e,t){return e^(e^t)&-(e<t)},n.isPow2=function(e){return!(e&e-1||!e)},n.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},n.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},n.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},n.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},n.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),n.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},n.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},n.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},n.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},n.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},{}],38:[function(e,t,n){!function(t,n){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof t?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;try{a=e("buffer").Buffer}catch(e){}function s(e,t,n){for(var r=0,i=Math.min(e.length,n),o=t;o<i;o++){var a=e.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function l(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,c=n;c<s;c+=r)u=l(e,c,c+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=l(e,c,e.length,t),c=0;c<a;c++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,l=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var c=l>>>26,f=67108863&l,d=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=d;h++){var p=u-h|0;c+=(a=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}n.words[u]=0|f,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],l=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-l.length]+l+n:l+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=c[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?m+n:u[d-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!=typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,l="le"===t,u=new e(o),c=this.clone();if(l){for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!c.isZero();s++)a=c.andln(255),c.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,i,o,a=e.words,s=t.words,l=n.words,u=0,c=0|a[0],f=8191&c,d=c>>>13,h=0|a[1],p=8191&h,m=h>>>13,g=0|a[2],v=8191&g,y=g>>>13,b=0|a[3],x=8191&b,_=b>>>13,w=0|a[4],k=8191&w,M=w>>>13,T=0|a[5],S=8191&T,E=T>>>13,A=0|a[6],O=8191&A,C=A>>>13,N=0|a[7],D=8191&N,P=N>>>13,R=0|a[8],L=8191&R,I=R>>>13,j=0|a[9],z=8191&j,F=j>>>13,B=0|s[0],U=8191&B,H=B>>>13,q=0|s[1],V=8191&q,W=q>>>13,Y=0|s[2],G=8191&Y,X=Y>>>13,$=0|s[3],Z=8191&$,K=$>>>13,J=0|s[4],Q=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],le=8191&se,ue=se>>>13,ce=0|s[8],fe=8191&ce,de=ce>>>13,he=0|s[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(r=Math.imul(f,U))|0)+((8191&(i=(i=Math.imul(f,H))+Math.imul(d,U)|0))<<13)|0;u=((o=Math.imul(d,H))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,U),i=(i=Math.imul(p,H))+Math.imul(m,U)|0,o=Math.imul(m,H);var ve=(u+(r=r+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,W)|0)+Math.imul(d,V)|0))<<13)|0;u=((o=o+Math.imul(d,W)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,U),i=(i=Math.imul(v,H))+Math.imul(y,U)|0,o=Math.imul(y,H),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,W)|0;var ye=(u+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,G)|0))<<13)|0;u=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(x,U),i=(i=Math.imul(x,H))+Math.imul(_,U)|0,o=Math.imul(_,H),r=r+Math.imul(v,V)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,X)|0;var be=(u+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(d,Z)|0))<<13)|0;u=((o=o+Math.imul(d,K)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(k,U),i=(i=Math.imul(k,H))+Math.imul(M,U)|0,o=Math.imul(M,H),r=r+Math.imul(x,V)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,W)|0,r=r+Math.imul(v,G)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,K)|0;var xe=(u+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(S,U),i=(i=Math.imul(S,H))+Math.imul(E,U)|0,o=Math.imul(E,H),r=r+Math.imul(k,V)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,r=r+Math.imul(x,G)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,K)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var _e=(u+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;u=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(O,U),i=(i=Math.imul(O,H))+Math.imul(C,U)|0,o=Math.imul(C,H),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,W)|0,r=r+Math.imul(k,G)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,X)|0,r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,K)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var we=(u+(r=r+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(D,U),i=(i=Math.imul(D,H))+Math.imul(P,U)|0,o=Math.imul(P,H),r=r+Math.imul(O,V)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,W)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,X)|0,r=r+Math.imul(k,Z)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var ke=(u+(r=r+Math.imul(f,le)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(d,le)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(L,U),i=(i=Math.imul(L,H))+Math.imul(I,U)|0,o=Math.imul(I,H),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,W)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,le)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,ue)|0;var Me=(u+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(z,U),i=(i=Math.imul(z,H))+Math.imul(F,U)|0,o=Math.imul(F,H),r=r+Math.imul(L,V)|0,i=(i=i+Math.imul(L,W)|0)+Math.imul(I,V)|0,o=o+Math.imul(I,W)|0,r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,X)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,K)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,re)|0,r=r+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(v,le)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(y,le)|0,o=o+Math.imul(y,ue)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,fe)|0,o=o+Math.imul(m,de)|0;var Te=(u+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,me)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(z,V),i=(i=Math.imul(z,W))+Math.imul(F,V)|0,o=Math.imul(F,W),r=r+Math.imul(L,G)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,X)|0,r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,K)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,K)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,r=r+Math.imul(x,le)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(_,le)|0,o=o+Math.imul(_,ue)|0,r=r+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var Se=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(z,G),i=(i=Math.imul(z,X))+Math.imul(F,G)|0,o=Math.imul(F,X),r=r+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(C,ne)|0,o=o+Math.imul(C,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(k,le)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(M,le)|0,o=o+Math.imul(M,ue)|0,r=r+Math.imul(x,fe)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var Ee=(u+(r=r+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(z,Z),i=(i=Math.imul(z,K))+Math.imul(F,Z)|0,o=Math.imul(F,K),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(P,ne)|0,o=o+Math.imul(P,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,ae)|0,r=r+Math.imul(S,le)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(E,le)|0,o=o+Math.imul(E,ue)|0,r=r+Math.imul(k,fe)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(M,fe)|0,o=o+Math.imul(M,de)|0;var Ae=(u+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,me)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(z,Q),i=(i=Math.imul(z,ee))+Math.imul(F,Q)|0,o=Math.imul(F,ee),r=r+Math.imul(L,ne)|0,i=(i=i+Math.imul(L,re)|0)+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,ae)|0,r=r+Math.imul(O,le)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(C,le)|0,o=o+Math.imul(C,ue)|0,r=r+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(E,fe)|0,o=o+Math.imul(E,de)|0;var Oe=(u+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,me)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(z,ne),i=(i=Math.imul(z,re))+Math.imul(F,ne)|0,o=Math.imul(F,re),r=r+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(D,le)|0,i=(i=i+Math.imul(D,ue)|0)+Math.imul(P,le)|0,o=o+Math.imul(P,ue)|0,r=r+Math.imul(O,fe)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(C,fe)|0,o=o+Math.imul(C,de)|0;var Ce=(u+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(E,pe)|0))<<13)|0;u=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(z,oe),i=(i=Math.imul(z,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),r=r+Math.imul(L,le)|0,i=(i=i+Math.imul(L,ue)|0)+Math.imul(I,le)|0,o=o+Math.imul(I,ue)|0,r=r+Math.imul(D,fe)|0,i=(i=i+Math.imul(D,de)|0)+Math.imul(P,fe)|0,o=o+Math.imul(P,de)|0;var Ne=(u+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(z,le),i=(i=Math.imul(z,ue))+Math.imul(F,le)|0,o=Math.imul(F,ue),r=r+Math.imul(L,fe)|0,i=(i=i+Math.imul(L,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var De=(u+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,me)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(z,fe),i=(i=Math.imul(z,de))+Math.imul(F,fe)|0,o=Math.imul(F,de);var Pe=(u+(r=r+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,me)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Re=(u+(r=Math.imul(z,pe))|0)+((8191&(i=(i=Math.imul(z,me))+Math.imul(F,pe)|0))<<13)|0;return u=((o=Math.imul(F,me))+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,l[0]=ge,l[1]=ve,l[2]=ye,l[3]=be,l[4]=xe,l[5]=_e,l[6]=we,l[7]=ke,l[8]=Me,l[9]=Te,l[10]=Se,l[11]=Ee,l[12]=Ae,l[13]=Oe,l[14]=Ce,l[15]=Ne,l[16]=De,l[17]=Pe,l[18]=Re,0!==u&&(l[19]=u,n.length++),n};function p(e,t,n){return(new m).mulp(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(h=d),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?h(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,l=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=l;u++){var c=o-u,f=(0|e.words[c])*(0|t.words[u]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):p(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},m.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),c=0;c<i;c+=s)for(var f=l,d=u,h=0;h<a;h++){var p=n[c+h],m=r[c+h],g=n[c+h+a],v=r[c+h+a],y=f*g-d*v;v=f*v+d*g,g=y,n[c+h]=p+g,r[c+h]=m+v,n[c+h+a]=p-g,r[c+h+a]=m-v,h!==s&&(y=l*f-u*d,d=l*d+u*f,f=y)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,u,r),this.transform(a,o,s,l,r,i),this.transform(u,o,c,f,r,i);for(var h=0;h<r;h++){var p=s[h]*c[h]-l[h]*f[h];l[h]=s[h]*f[h]+l[h]*c[h],s[h]=p}return this.conjugate(s,l,r),this.transform(s,l,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,l=(0|this.words[t])-s<<n;this.words[t]=l|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,l=n;if(i-=a,i=Math.max(0,i),l){for(var u=0;u<a;u++)l.words[u]=this.words[u];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var f=0|this.words[u];this.words[u]=c<<26-o|f>>>o,c=f&s}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var l=(0|e.words[i])*t;s=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,l=r.length-i.length;if("mod"!==t){(s=new o(null)).length=l+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var c=r.clone()._ishlnsubmul(i,1,l);0===c.negative&&(r=c,s&&(s.words[l]=1));for(var f=l-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),l=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(c),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||l.isOdd())&&(s.iadd(c),l.isub(f)),s.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(l)):(n.isub(t),s.isub(i),l.isub(a))}return{a:s,b:l,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var f=0,d=1;0==(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new w(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(y,v),y.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(b,v),i(x,v),i(_,v),_.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new b;else if("p192"===e)t=new x;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return g[e]=t,t},w.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},w.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),l=s.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var f=this.pow(c,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var m=h,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var v=this.pow(f,new o(1).iushln(p-g-1));d=d.redMul(v),f=v.redSqr(),h=h.redMul(f),p=g}return d},w.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},w.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],c=l-1;c>=0;c--){var f=u>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===c)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}l=26}return i},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,w),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"==typeof t||t,this)},{buffer:47}],39:[function(e,t,n){"use strict";t.exports=function(e){var t,n,r,i=e.length,o=0;for(t=0;t<i;++t)o+=e[t].length;var a=new Array(o),s=0;for(t=0;t<i;++t){var l=e[t],u=l.length;for(n=0;n<u;++n){var c=a[s++]=new Array(u-1),f=0;for(r=0;r<u;++r)r!==n&&(c[f++]=l[r]);if(1&n){var d=c[1];c[1]=c[0],c[0]=d}}}return a}},{}],40:[function(e,t,n){"use strict";t.exports=function(e,t,n){switch(arguments.length){case 1:return r=[],u(i=e,i,c,!0),r;case 2:return"function"==typeof t?u(e,e,t,!0):function(e,t){return r=[],u(e,t,c,!1),r}(e,t);case 3:return u(e,t,n,!1);default:throw new Error("box-intersect: Invalid arguments")}var i};var r,i=e("typedarray-pool"),o=e("./lib/sweep"),a=e("./lib/intersect");function s(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function l(e,t,n,r){for(var i=0,o=0,a=0,l=e.length;a<l;++a){var u=e[a];if(!s(t,u)){for(var c=0;c<2*t;++c)n[i++]=u[c];r[o++]=a}}return o}function u(e,t,n,r){var s=e.length,u=t.length;if(!(s<=0||u<=0)){var c=e[0].length>>>1;if(!(c<=0)){var f,d=i.mallocDouble(2*c*s),h=i.mallocInt32(s);if((s=l(e,c,d,h))>0){if(1===c&&r)o.init(s),f=o.sweepComplete(c,n,0,s,d,h,0,s,d,h);else{var p=i.mallocDouble(2*c*u),m=i.mallocInt32(u);(u=l(t,c,p,m))>0&&(o.init(s+u),f=1===c?o.sweepBipartite(c,n,0,s,d,h,0,u,p,m):a(c,n,r,s,d,h,u,p,m),i.free(p),i.free(m))}i.free(d),i.free(h)}return f}}}function c(e,t){r.push([e,t])}},{"./lib/intersect":42,"./lib/sweep":46,"typedarray-pool":349}],41:[function(e,t,n){"use strict";var r="d",i="ax",o="vv",a="fp",s="es",l="rs",u="re",c="rb",f="ri",d="rp",h="bs",p="be",m="bb",g="bi",v="bp",y="rv",b="Q",x=[r,i,o,l,u,c,f,h,p,m,g];function _(e){var t="bruteForce"+(e?"Full":"Partial"),n=[],_=x.slice();e||_.splice(3,0,a);var w=["function "+t+"("+_.join()+"){"];function k(t,a){var _=function(e,t,n){var a="bruteForce"+(e?"Red":"Blue")+(t?"Flip":"")+(n?"Full":""),_=["function ",a,"(",x.join(),"){","var ",s,"=2*",r,";"],w="for(var i="+l+","+d+"="+s+"*"+l+";i<"+u+";++i,"+d+"+="+s+"){var x0="+c+"["+i+"+"+d+"],x1="+c+"["+i+"+"+d+"+"+r+"],xi="+f+"[i];",k="for(var j="+h+","+v+"="+s+"*"+h+";j<"+p+";++j,"+v+"+="+s+"){var y0="+m+"["+i+"+"+v+"],"+(n?"y1="+m+"["+i+"+"+v+"+"+r+"],":"")+"yi="+g+"[j];";return e?_.push(w,b,":",k):_.push(k,b,":",w),n?_.push("if(y1<x0||x1<y0)continue;"):t?_.push("if(y0<=x0||x1<y0)continue;"):_.push("if(y0<x0||x1<y0)continue;"),_.push("for(var k="+i+"+1;k<"+r+";++k){var r0="+c+"[k+"+d+"],r1="+c+"[k+"+r+"+"+d+"],b0="+m+"[k+"+v+"],b1="+m+"[k+"+r+"+"+v+"];if(r1<b0||b1<r0)continue "+b+";}var "+y+"="+o+"("),t?_.push("yi,xi"):_.push("xi,yi"),_.push(");if("+y+"!==void 0)return "+y+";}}}"),{name:a,code:_.join("")}}(t,a,e);n.push(_.code),w.push("return "+_.name+"("+x.join()+");")}w.push("if("+u+"-"+l+">"+p+"-"+h+"){"),e?(k(!0,!1),w.push("}else{"),k(!1,!1)):(w.push("if("+a+"){"),k(!0,!0),w.push("}else{"),k(!0,!1),w.push("}}else{if("+a+"){"),k(!1,!0),w.push("}else{"),k(!1,!1),w.push("}")),w.push("}}return "+t);var M=n.join("")+w.join("");return new Function(M)()}n.partial=_(!1),n.full=_(!0)},{}],42:[function(e,t,n){"use strict";t.exports=function(e,t,n,o,c,E,A,O,C){!function(e,t){var n=8*i.log2(t+1)*(e+1)|0,o=i.nextPow2(x*n);w.length<o&&(r.free(w),w=r.mallocInt32(o));var a=i.nextPow2(_*n);k<a&&(r.free(k),k=r.mallocDouble(a))}(e,o+A);var N,D=0,P=2*e;for(M(D++,0,0,o,0,A,n?16:0,-1/0,1/0),n||M(D++,0,0,A,0,o,1,-1/0,1/0);D>0;){var R=(D-=1)*x,L=w[R],I=w[R+1],j=w[R+2],z=w[R+3],F=w[R+4],B=w[R+5],U=D*_,H=k[U],q=k[U+1],V=1&B,W=!!(16&B),Y=c,G=E,X=O,$=C;if(V&&(Y=O,G=C,X=c,$=E),!(2&B&&(j=g(e,L,I,j,Y,G,q),I>=j)||4&B&&(I=v(e,L,I,j,Y,G,H))>=j)){var Z=j-I,K=F-z;if(W){if(e*Z*(Z+K)<h){if(void 0!==(N=l.scanComplete(e,L,t,I,j,Y,G,z,F,X,$)))return N;continue}}else{if(e*Math.min(Z,K)<f){if(void 0!==(N=a(e,L,t,V,I,j,Y,G,z,F,X,$)))return N;continue}if(e*Z*K<d){if(void 0!==(N=l.scanBipartite(e,L,t,V,I,j,Y,G,z,F,X,$)))return N;continue}}var J=p(e,L,I,j,Y,G,H,q);if(I<J)if(e*(J-I)<f){if(void 0!==(N=s(e,L+1,t,I,J,Y,G,z,F,X,$)))return N}else if(L===e-2){if(void 0!==(N=V?l.sweepBipartite(e,t,z,F,X,$,I,J,Y,G):l.sweepBipartite(e,t,I,J,Y,G,z,F,X,$)))return N}else M(D++,L+1,I,J,z,F,V,-1/0,1/0),M(D++,L+1,z,F,I,J,1^V,-1/0,1/0);if(J<j){var Q=u(e,L,z,F,X,$),ee=X[P*Q+L],te=m(e,L,Q,F,X,$,ee);if(te<F&&M(D++,L,J,j,te,F,(4|V)+(W?16:0),ee,q),z<Q&&M(D++,L,J,j,z,Q,(2|V)+(W?16:0),H,ee),Q+1===te){if(void 0!==(N=W?S(e,L,t,J,j,Y,G,Q,X,$[Q]):T(e,L,t,V,J,j,Y,G,Q,X,$[Q])))return N}else if(Q<te){var ne;if(W){if(J<(ne=y(e,L,J,j,Y,G,ee))){var re=m(e,L,J,ne,Y,G,ee);if(L===e-2){if(J<re&&void 0!==(N=l.sweepComplete(e,t,J,re,Y,G,Q,te,X,$)))return N;if(re<ne&&void 0!==(N=l.sweepBipartite(e,t,re,ne,Y,G,Q,te,X,$)))return N}else J<re&&M(D++,L+1,J,re,Q,te,16,-1/0,1/0),re<ne&&(M(D++,L+1,re,ne,Q,te,0,-1/0,1/0),M(D++,L+1,Q,te,re,ne,1,-1/0,1/0))}}else J<(ne=V?b(e,L,J,j,Y,G,ee):y(e,L,J,j,Y,G,ee))&&(L===e-2?N=V?l.sweepBipartite(e,t,Q,te,X,$,J,ne,Y,G):l.sweepBipartite(e,t,J,ne,Y,G,Q,te,X,$):(M(D++,L+1,J,ne,Q,te,V,-1/0,1/0),M(D++,L+1,Q,te,J,ne,1^V,-1/0,1/0)))}}}}};var r=e("typedarray-pool"),i=e("bit-twiddle"),o=e("./brute"),a=o.partial,s=o.full,l=e("./sweep"),u=e("./median"),c=e("./partition"),f=128,d=1<<22,h=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),m=c("lo===p0",["p0"]),g=c("lo<p0",["p0"]),v=c("hi<=p0",["p0"]),y=c("lo<=p0&&p0<=hi",["p0"]),b=c("lo<p0&&p0<=hi",["p0"]),x=6,_=2,w=r.mallocInt32(1024),k=r.mallocDouble(1024);function M(e,t,n,r,i,o,a,s,l){var u=x*e;w[u]=t,w[u+1]=n,w[u+2]=r,w[u+3]=i,w[u+4]=o,w[u+5]=a;var c=_*e;k[c]=s,k[c+1]=l}function T(e,t,n,r,i,o,a,s,l,u,c){var f=2*e,d=l*f,h=u[d+t];e:for(var p=i,m=i*f;p<o;++p,m+=f){var g=a[m+t],v=a[m+t+e];if(!(h<g||v<h)&&(!r||h!==g)){for(var y,b=s[p],x=t+1;x<e;++x){g=a[m+x],v=a[m+x+e];var _=u[d+x],w=u[d+x+e];if(v<_||w<g)continue e}if(void 0!==(y=r?n(c,b):n(b,c)))return y}}}function S(e,t,n,r,i,o,a,s,l,u){var c=2*e,f=s*c,d=l[f+t];e:for(var h=r,p=r*c;h<i;++h,p+=c){var m=a[h];if(m!==u){var g=o[p+t],v=o[p+t+e];if(!(d<g||v<d)){for(var y=t+1;y<e;++y){g=o[p+y],v=o[p+y+e];var b=l[f+y],x=l[f+y+e];if(v<b||x<g)continue e}var _=n(m,u);if(void 0!==_)return _}}}}},{"./brute":41,"./median":43,"./partition":44,"./sweep":46,"bit-twiddle":37,"typedarray-pool":349}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,a,s,l){if(a<=n+1)return n;for(var u=n,c=a,f=a+n>>>1,d=2*e,h=f,p=s[d*f+t];u<c;){if(c-u<i){o(e,t,u,c,s,l),p=s[d*f+t];break}var m=c-u,g=Math.random()*m+u|0,v=s[d*g+t],y=Math.random()*m+u|0,b=s[d*y+t],x=Math.random()*m+u|0,_=s[d*x+t];v<=b?_>=b?(h=y,p=b):v>=_?(h=g,p=v):(h=x,p=_):b>=_?(h=y,p=b):_>=v?(h=g,p=v):(h=x,p=_);for(var w=d*(c-1),k=d*h,M=0;M<d;++M,++w,++k){var T=s[w];s[w]=s[k],s[k]=T}var S=l[c-1];for(l[c-1]=l[h],l[h]=S,w=d*(c-1),k=d*(h=r(e,t,u,c-1,s,l,p)),M=0;M<d;++M,++w,++k)T=s[w],s[w]=s[k],s[k]=T;if(S=l[c-1],l[c-1]=l[h],l[h]=S,f<h){for(c=h-1;u<c&&s[d*(c-1)+t]===p;)c-=1;c+=1}else{if(!(h<f))break;for(u=h+1;u<c&&s[d*u+t]===p;)u+=1}}return r(e,t,n,f,s,l,s[d*f+t])};var r=e("./partition")("lo<p0",["p0"]),i=8;function o(e,t,n,r,i,o){for(var a=2*e,s=a*(n+1)+t,l=n+1;l<r;++l,s+=a)for(var u=i[s],c=l,f=a*(l-1);c>n&&i[f+t]>u;--c,f-=a){for(var d=f,h=f+a,p=0;p<a;++p,++d,++h){var m=i[d];i[d]=i[h],i[h]=m}var g=o[c];o[c]=o[c-1],o[c-1]=g}}},{"./partition":44}],44:[function(e,t,n){"use strict";t.exports=function(e,t){var n="abcdef".split("").concat(t),i=[];return e.indexOf("lo")>=0&&i.push("lo=e[k+n]"),e.indexOf("hi")>=0&&i.push("hi=e[k+o]"),n.push(r.replace("_",i.join()).replace("$",e)),Function.apply(void 0,n)};var r="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},{}],45:[function(e,t,n){"use strict";t.exports=function(e,t){t<=4*r?i(0,t-1,e):function e(t,n,f){var d=(n-t+1)/6|0,h=t+d,p=n-d,m=t+n>>1,g=m-d,v=m+d,y=h,b=g,x=m,_=v,w=p,k=t+1,M=n-1,T=0;u(y,b,f)&&(T=y,y=b,b=T),u(_,w,f)&&(T=_,_=w,w=T),u(y,x,f)&&(T=y,y=x,x=T),u(b,x,f)&&(T=b,b=x,x=T),u(y,_,f)&&(T=y,y=_,_=T),u(x,_,f)&&(T=x,x=_,_=T),u(b,w,f)&&(T=b,b=w,w=T),u(b,x,f)&&(T=b,b=x,x=T),u(_,w,f)&&(T=_,_=w,w=T);for(var S=f[2*b],E=f[2*b+1],A=f[2*_],O=f[2*_+1],C=2*y,N=2*x,D=2*w,P=2*h,R=2*m,L=2*p,I=0;I<2;++I){var j=f[C+I],z=f[N+I],F=f[D+I];f[P+I]=j,f[R+I]=z,f[L+I]=F}a(g,t,f),a(v,n,f);for(var B=k;B<=M;++B)if(c(B,S,E,f))B!==k&&o(B,k,f),++k;else if(!c(B,A,O,f))for(;;){if(c(M,A,O,f)){c(M,S,E,f)?(s(B,k,M,f),++k,--M):(o(B,M,f),--M);break}if(--M<B)break}l(t,k-1,S,E,f),l(n,M+1,A,O,f),k-2-t<=r?i(t,k-2,f):e(t,k-2,f),n-(M+2)<=r?i(M+2,n,f):e(M+2,n,f),M-k<=r?i(k,M,f):e(k,M,f)}(0,t-1,e)};var r=32;function i(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var o=n[r++],a=n[r++],s=i,l=r-2;s-- >e;){var u=n[l-2],c=n[l-1];if(u<o)break;if(u===o&&c<a)break;n[l]=u,n[l+1]=c,l-=2}n[l]=o,n[l+1]=a}}function o(e,t,n){t*=2;var r=n[e*=2],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function a(e,t,n){t*=2,n[e*=2]=n[t],n[e+1]=n[t+1]}function s(e,t,n,r){t*=2,n*=2;var i=r[e*=2],o=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=o}function l(e,t,n,r,i){t*=2,i[e*=2]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function u(e,t,n){t*=2;var r=n[e*=2],i=n[t];return!(r<i)&&(r!==i||n[e+1]>n[t+1])}function c(e,t,n,r){var i=r[e*=2];return i<t||i===t&&r[e+1]<n}},{}],46:[function(e,t,n){"use strict";t.exports={init:function(e){var t=i.nextPow2(e);s.length<t&&(r.free(s),s=r.mallocInt32(t)),l.length<t&&(r.free(l),l=r.mallocInt32(t)),u.length<t&&(r.free(u),u=r.mallocInt32(t)),c.length<t&&(r.free(c),c=r.mallocInt32(t)),f.length<t&&(r.free(f),f=r.mallocInt32(t)),d.length<t&&(r.free(d),d=r.mallocInt32(t));var n=8*t;h.length<n&&(r.free(h),h=r.mallocDouble(n))},sweepBipartite:function(e,t,n,r,i,f,d,g,v,y){for(var b=0,x=2*e,_=e-1,w=x-1,k=n;k<r;++k){var M=f[k],T=x*k;h[b++]=i[T+_],h[b++]=-(M+1),h[b++]=i[T+w],h[b++]=M}for(k=d;k<g;++k){M=y[k]+a;var S=x*k;h[b++]=v[S+_],h[b++]=-M,h[b++]=v[S+w],h[b++]=M}var E=b>>>1;o(h,E);var A=0,O=0;for(k=0;k<E;++k){var C=0|h[2*k+1];if(C>=a)p(u,c,O--,C=C-a|0);else if(C>=0)p(s,l,A--,C);else if(C<=-a){C=-C-a|0;for(var N=0;N<A;++N)if(void 0!==(D=t(s[N],C)))return D;m(u,c,O++,C)}else{for(C=-C-1|0,N=0;N<O;++N){var D;if(void 0!==(D=t(C,u[N])))return D}m(s,l,A++,C)}}},sweepComplete:function(e,t,n,r,i,a,g,v,y,b){for(var x=0,_=2*e,w=e-1,k=_-1,M=n;M<r;++M){var T=a[M]+1<<1,S=_*M;h[x++]=i[S+w],h[x++]=-T,h[x++]=i[S+k],h[x++]=T}for(M=g;M<v;++M){T=b[M]+1<<1;var E=_*M;h[x++]=y[E+w],h[x++]=1|-T,h[x++]=y[E+k],h[x++]=1|T}var A=x>>>1;o(h,A);var O=0,C=0,N=0;for(M=0;M<A;++M){var D=0|h[2*M+1],P=1&D;if(M<A-1&&D>>1==h[2*M+3]>>1&&(P=2,M+=1),D<0){for(var R=-(D>>1)-1,L=0;L<N;++L)if(void 0!==(I=t(f[L],R)))return I;if(0!==P)for(L=0;L<O;++L)if(void 0!==(I=t(s[L],R)))return I;if(1!==P)for(L=0;L<C;++L){var I;if(void 0!==(I=t(u[L],R)))return I}0===P?m(s,l,O++,R):1===P?m(u,c,C++,R):2===P&&m(f,d,N++,R)}else R=(D>>1)-1,0===P?p(s,l,O--,R):1===P?p(u,c,C--,R):2===P&&p(f,d,N--,R)}},scanBipartite:function(e,t,n,r,i,u,c,f,d,g,v,y){var b=0,x=2*e,_=t,w=t+e,k=1,M=1;r?M=a:k=a;for(var T=i;T<u;++T){var S=T+k,E=x*T;h[b++]=c[E+_],h[b++]=-S,h[b++]=c[E+w],h[b++]=S}for(T=d;T<g;++T){S=T+M;var A=x*T;h[b++]=v[A+_],h[b++]=-S}var O=b>>>1;o(h,O);var C=0;for(T=0;T<O;++T){var N=0|h[2*T+1];if(N<0){var D=!1;if((S=-N)>=a?(D=!r,S-=a):(D=!!r,S-=1),D)m(s,l,C++,S);else{var P=y[S],R=x*S,L=v[R+t+1],I=v[R+t+1+e];e:for(var j=0;j<C;++j){var z=s[j],F=x*z;if(!(I<c[F+t+1]||c[F+t+1+e]<L)){for(var B=t+2;B<e;++B)if(v[R+B+e]<c[F+B]||c[F+B+e]<v[R+B])continue e;var U,H=f[z];if(void 0!==(U=r?n(P,H):n(H,P)))return U}}}}else p(s,l,C--,N-k)}},scanComplete:function(e,t,n,r,i,l,u,c,f,d,p){for(var m=0,g=2*e,v=t,y=t+e,b=r;b<i;++b){var x=b+a,_=g*b;h[m++]=l[_+v],h[m++]=-x,h[m++]=l[_+y],h[m++]=x}for(b=c;b<f;++b){x=b+1;var w=g*b;h[m++]=d[w+v],h[m++]=-x}var k=m>>>1;o(h,k);var M=0;for(b=0;b<k;++b){var T=0|h[2*b+1];if(T<0)if((x=-T)>=a)s[M++]=x-a;else{var S=p[x-=1],E=g*x,A=d[E+t+1],O=d[E+t+1+e];e:for(var C=0;C<M;++C){var N=s[C],D=u[N];if(D===S)break;var P=g*N;if(!(O<l[P+t+1]||l[P+t+1+e]<A)){for(var R=t+2;R<e;++R)if(d[E+R+e]<l[P+R]||l[P+R+e]<d[E+R])continue e;var L=n(D,S);if(void 0!==L)return L}}}else{for(x=T-a,C=M-1;C>=0;--C)if(s[C]===x){for(R=C+1;R<M;++R)s[R-1]=s[R];break}--M}}}};var r=e("typedarray-pool"),i=e("bit-twiddle"),o=e("./sort"),a=1<<28,s=r.mallocInt32(1024),l=r.mallocInt32(1024),u=r.mallocInt32(1024),c=r.mallocInt32(1024),f=r.mallocInt32(1024),d=r.mallocInt32(1024),h=r.mallocDouble(8192);function p(e,t,n,r){var i=t[r],o=e[n-1];e[i]=o,t[o]=i}function m(e,t,n,r){e[n]=r,t[r]=n}},{"./sort":45,"bit-twiddle":37,"typedarray-pool":349}],47:[function(e,t,n){},{}],48:[function(e,t,n){var r=Object.create||function(e){var t=function(){};return t.prototype=e,new t},i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n},o=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var s,l=10;try{var u={};Object.defineProperty&&Object.defineProperty(u,"x",{value:0}),s=0===u.x}catch(e){s=!1}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,n,i){var o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((a=e._events)?(a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),s=a[t]):(a=e._events=r(null),e._eventsCount=0),s){if("function"==typeof s?s=a[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(o=c(e))&&o>0&&s.length>o){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",l.name,l.message)}}else s=a[t]=n,++e._eventsCount;return e}function d(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=o.call(d,r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length):[]}function m(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}s?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):a.defaultMaxListeners=l,a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){var t,n,r,i,o,a,s="error"===e;if(a=this._events)s=s&&null==a.error;else if(!s)return!1;if(s){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=a[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var r=e.length,i=g(e,r),o=0;o<r;++o)i[o].call(n)}(n,u,this);break;case 2:!function(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=g(e,i),a=0;a<i;++a)o[a].call(n,r)}(n,u,this,arguments[1]);break;case 3:!function(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=g(e,o),s=0;s<o;++s)a[s].call(n,r,i)}(n,u,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=g(e,a),l=0;l<a;++l)s[l].call(n,r,i,o)}(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];!function(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=g(e,i),a=0;a<i;++a)o[a].apply(n,r)}(n,u,this,i)}return!0},a.prototype.addListener=function(e,t){return f(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return f(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,o,a,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=r(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(o<0)return this;0===o?n.shift():function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,o),1===n.length&&(i[e]=n[0]),i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,n,o;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=r(null):delete n[e]),this;if(0===arguments.length){var a,s=i(n);for(o=0;o<s.length;++o)"removeListener"!==(a=s[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;o>=0;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],49:[function(e,t,n){(function(t){"use strict";var r=e("base64-js"),i=e("ieee754"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=t,n.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},n.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=new Uint8Array(e);return Object.setPrototypeOf(n,t.prototype),n}function t(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,n)}function l(e,n,r){if("string"==typeof e)return function(e,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var r=0|h(e,n),i=s(r),o=i.write(e,n);return o!==r&&(i=i.slice(0,o)),i}(e,n);if(ArrayBuffer.isView(e))return f(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer))return function(e,n,r){if(n<0||e.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<n+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),Object.setPrototypeOf(i,t.prototype),i}(e,n,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return t.from(i,n,r);var o=function(e){if(t.isBuffer(e)){var n=0|d(e.length),r=s(n);return 0===r.length?r:(e.copy(r,0,0,n),r)}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?s(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),s(e<0?0:0|d(e))}function f(e){for(var t=e.length<0?0:0|d(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function h(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var o=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(o)return i?-1:j(e).length;n=(""+n).toLowerCase(),o=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),U(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:g(e,n,r,i,o);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):g(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){f=!1;break}if(f)return o}return-1}function v(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(U(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return F(j(t,e.length-n),e,n,r)}function b(e,t,n,r){return F(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return b(e,t,n,r)}function _(e,t,n,r){return F(z(t),e,n,r)}function w(e,t,n,r){return F(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function M(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}n.kMaxLength=a,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},t.allocUnsafe=function(e){return c(e)},t.allocUnsafeSlow=function(e){return c(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,n){if(B(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),B(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var r=e.length,i=n.length,o=0,a=Math.min(r,i);o<a;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var a=e[r];if(B(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},t.byteLength=h,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?M(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return M(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(t.prototype[o]=t.prototype.inspect),t.prototype.compare=function(e,n,r,i,o){if(B(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(i>>>=0),s=(r>>>=0)-(n>>>=0),l=Math.min(a,s),u=this.slice(i,o),c=e.slice(n,r),f=0;f<l;++f)if(u[f]!==c[f]){a=u[f],s=c[f];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},t.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},t.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},t.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=I(e[o]);return i}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,n,r,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.prototype.slice=function(e,n){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e);var i=this.subarray(e,n);return Object.setPrototypeOf(i,t.prototype),i},t.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},t.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},t.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},t.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},t.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},t.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},t.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},t.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},t.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},t.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},t.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},t.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},t.prototype.copy=function(e,n,r,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o=i-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,i);else if(this===e&&r<n&&n<i)for(var a=o-1;a>=0;--a)e[a+n]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,i),n);return o},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var o=e.charCodeAt(0);("utf8"===i&&o<128||"latin1"===i)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var a;if(n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:t.from(e,i),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=s[a%l]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function I(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}}).call(this,e("buffer").Buffer)},{"base64-js":19,buffer:49,ieee754:254}],50:[function(e,t,n){"use strict";var r=e("./lib/monotone"),i=e("./lib/triangulation"),o=e("./lib/delaunay"),a=e("./lib/filter");function s(e){return[Math.min(e[0],e[1]),Math.max(e[0],e[1])]}function l(e,t){return e[0]-t[0]||e[1]-t[1]}function u(e,t,n){return t in e?e[t]:n}t.exports=function(e,t,n){Array.isArray(t)?(n=n||{},t=t||[]):(n=t||{},t=[]);var c=!!u(n,"delaunay",!0),f=!!u(n,"interior",!0),d=!!u(n,"exterior",!0),h=!!u(n,"infinity",!1);if(!f&&!d||0===e.length)return[];var p=r(e,t);if(c||f!==d||h){for(var m=i(e.length,function(e){return e.map(s).sort(l)}(t)),g=0;g<p.length;++g){var v=p[g];m.addTriangle(v[0],v[1],v[2])}return c&&o(e,m),d?f?h?a(m,0,h):m.cells():a(m,1,h):a(m,-1)}return p}},{"./lib/delaunay":51,"./lib/filter":52,"./lib/monotone":53,"./lib/triangulation":54}],51:[function(e,t,n){"use strict";var r=e("robust-in-sphere")[4];function i(e,t,n,i,o,a){var s=t.opposite(i,o);if(!(s<0)){if(o<i){var l=i;i=o,o=l,l=a,a=s,s=l}t.isConstraint(i,o)||r(e[i],e[o],e[a],e[s])<0&&n.push(i,o)}}e("binary-search-bounds"),t.exports=function(e,t){for(var n=[],o=e.length,a=t.stars,s=0;s<o;++s)for(var l=a[s],u=1;u<l.length;u+=2)if(!((h=l[u])<s)&&!t.isConstraint(s,h)){for(var c=l[u-1],f=-1,d=1;d<l.length;d+=2)if(l[d-1]===h){f=l[d];break}f<0||r(e[s],e[h],e[c],e[f])<0&&n.push(s,h)}for(;n.length>0;){for(var h=n.pop(),p=(c=-1,f=-1,l=a[s=n.pop()],1);p<l.length;p+=2){var m=l[p-1],g=l[p];m===h?f=g:g===h&&(c=m)}c<0||f<0||r(e[s],e[h],e[c],e[f])>=0||(t.flip(s,h),i(e,t,n,c,s,f),i(e,t,n,s,f,c),i(e,t,n,f,h,c),i(e,t,n,h,c,f))}}},{"binary-search-bounds":55,"robust-in-sphere":321}],52:[function(e,t,n){"use strict";var r,i=e("binary-search-bounds");function o(e,t,n,r,i,o,a){this.cells=e,this.neighbor=t,this.flags=r,this.constraint=n,this.active=i,this.next=o,this.boundary=a}function a(e,t){return e[0]-t[0]||e[1]-t[1]||e[2]-t[2]}t.exports=function(e,t,n){var r=function(e,t){for(var n=e.cells(),r=n.length,i=0;i<r;++i){var s=(v=n[i])[0],l=v[1],u=v[2];l<u?l<s&&(v[0]=l,v[1]=u,v[2]=s):u<s&&(v[0]=u,v[1]=s,v[2]=l)}n.sort(a);var c=new Array(r);for(i=0;i<c.length;++i)c[i]=0;var f=[],d=[],h=new Array(3*r),p=new Array(3*r),m=null;t&&(m=[]);var g=new o(n,h,p,c,f,d,m);for(i=0;i<r;++i)for(var v=n[i],y=0;y<3;++y){s=v[y],l=v[(y+1)%3];var b=h[3*i+y]=g.locate(l,s,e.opposite(l,s)),x=p[3*i+y]=e.isConstraint(s,l);b<0&&(x?d.push(i):(f.push(i),c[i]=1),t&&m.push([l,s,-1]))}return g}(e,n);if(0===t)return n?r.cells.concat(r.boundary):r.cells;for(var i=1,s=r.active,l=r.next,u=r.flags,c=r.cells,f=r.constraint,d=r.neighbor;s.length>0||l.length>0;){for(;s.length>0;){var h=s.pop();if(u[h]!==-i){u[h]=i,c[h];for(var p=0;p<3;++p){var m=d[3*h+p];m>=0&&0===u[m]&&(f[3*h+p]?l.push(m):(s.push(m),u[m]=i))}}}var g=l;l=s,s=g,l.length=0,i=-i}var v=function(e,t,n){for(var r=0,i=0;i<e.length;++i)t[i]===n&&(e[r++]=e[i]);return e.length=r,e}(c,u,t);return n?v.concat(r.boundary):v},o.prototype.locate=(r=[0,0,0],function(e,t,n){var o=e,s=t,l=n;return t<n?t<e&&(o=t,s=n,l=e):n<e&&(o=n,s=e,l=t),o<0?-1:(r[0]=o,r[1]=s,r[2]=l,i.eq(this.cells,r,a))})},{"binary-search-bounds":55}],53:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),i=e("robust-orientation")[3],o=0;function a(e,t,n,r,i){this.a=e,this.b=t,this.idx=n,this.lowerIds=r,this.upperIds=i}function s(e,t,n,r){this.a=e,this.b=t,this.type=n,this.idx=r}function l(e,t){var n=e.a[0]-t.a[0]||e.a[1]-t.a[1]||e.type-t.type;return n||(e.type!==o&&(n=i(e.a,e.b,t.b))?n:e.idx-t.idx)}function u(e,t){return i(e.a,e.b,t)}function c(e,t,n,o,a){for(var s=r.lt(t,o,u),l=r.gt(t,o,u),c=s;c<l;++c){for(var f=t[c],d=f.lowerIds,h=d.length;h>1&&i(n[d[h-2]],n[d[h-1]],o)>0;)e.push([d[h-1],d[h-2],a]),h-=1;d.length=h,d.push(a);var p=f.upperIds;for(h=p.length;h>1&&i(n[p[h-2]],n[p[h-1]],o)<0;)e.push([p[h-2],p[h-1],a]),h-=1;p.length=h,p.push(a)}}function f(e,t){var n;return(n=e.a[0]<t.a[0]?i(e.a,e.b,t.a):i(t.b,t.a,e.a))?n:(n=t.b[0]<e.b[0]?i(e.a,e.b,t.b):i(t.b,t.a,e.b))||e.idx-t.idx}function d(e,t,n){var i=r.le(e,n,f),o=e[i],s=o.upperIds,l=s[s.length-1];o.upperIds=[l],e.splice(i+1,0,new a(n.a,n.b,n.idx,[l],s))}function h(e,t,n){var i=n.a;n.a=n.b,n.b=i;var o=r.eq(e,n,f),a=e[o];e[o-1].upperIds=a.upperIds,e.splice(o,1)}t.exports=function(e,t){for(var n=e.length,r=t.length,i=[],u=0;u<n;++u)i.push(new s(e[u],null,o,u));for(u=0;u<r;++u){var f=t[u],p=e[f[0]],m=e[f[1]];p[0]<m[0]?i.push(new s(p,m,2,u),new s(m,p,1,u)):p[0]>m[0]&&i.push(new s(m,p,2,u),new s(p,m,1,u))}i.sort(l);for(var g=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),v=[new a([g,1],[g,0],-1,[],[],[],[])],y=[],b=(u=0,i.length);u<b;++u){var x=i[u],_=x.type;_===o?c(y,v,e,x.a,x.idx):2===_?d(v,0,x):h(v,0,x)}return y}},{"binary-search-bounds":55,"robust-orientation":323}],54:[function(e,t,n){"use strict";var r=e("binary-search-bounds");function i(e,t){this.stars=e,this.edges=t}t.exports=function(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=[];return new i(n,t)};var o=i.prototype;function a(e,t,n){for(var r=1,i=e.length;r<i;r+=2)if(e[r-1]===t&&e[r]===n)return e[r-1]=e[i-2],e[r]=e[i-1],void(e.length=i-2)}o.isConstraint=function(){var e=[0,0];function t(e,t){return e[0]-t[0]||e[1]-t[1]}return function(n,i){return e[0]=Math.min(n,i),e[1]=Math.max(n,i),r.eq(this.edges,e,t)>=0}}(),o.removeTriangle=function(e,t,n){var r=this.stars;a(r[e],t,n),a(r[t],n,e),a(r[n],e,t)},o.addTriangle=function(e,t,n){var r=this.stars;r[e].push(t,n),r[t].push(n,e),r[n].push(e,t)},o.opposite=function(e,t){for(var n=this.stars[t],r=1,i=n.length;r<i;r+=2)if(n[r]===e)return n[r-1];return-1},o.flip=function(e,t){var n=this.opposite(e,t),r=this.opposite(t,e);this.removeTriangle(e,t,n),this.removeTriangle(t,e,r),this.addTriangle(e,r,n),this.addTriangle(t,n,r)},o.edges=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;o+=2)t.push([i[o],i[o+1]]);return t},o.cells=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;o+=2){var s=i[o],l=i[o+1];n<Math.min(s,l)&&t.push([n,s,l])}return t}},{"binary-search-bounds":55}],55:[function(e,t,n){"use strict";function r(e,t,n,r,i){var o=["function ",e,"(a,l,h,",r.join(","),"){",i?"":"var i=",n?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?t.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",t,"){i=m;"),n?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(e,t,n,i){return new Function([r("A","x"+e+"y",t,["y"],i),r("P","c(x,y)"+e+"0",t,["y","c"],i),"function dispatchBsearch",n,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",n].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},{}],56:[function(e,t,n){"use strict";t.exports=function(e){for(var t=1,n=1;n<e.length;++n)for(var r=0;r<n;++r)if(e[n]<e[r])t=-t;else if(e[r]===e[n])return 0;return t}},{}],57:[function(e,t,n){"use strict";var r=e("dup"),i=e("robust-linear-solve");function o(e,t){for(var n=0,r=e.length,i=0;i<r;++i)n+=e[i]*t[i];return n}function a(e){var t=e.length;if(0===t)return[];e[0].length;var n=r([e.length+1,e.length+1],1),a=r([e.length+1],1);n[t][t]=0;for(var s=0;s<t;++s){for(var l=0;l<=s;++l)n[l][s]=n[s][l]=2*o(e[s],e[l]);a[s]=o(e[s],e[s])}var u=i(n,a),c=0,f=u[t+1];for(s=0;s<f.length;++s)c+=f[s];var d=new Array(t);for(s=0;s<t;++s){f=u[s];var h=0;for(l=0;l<f.length;++l)h+=f[l];d[s]=h/c}return d}function s(e){if(0===e.length)return[];for(var t=e[0].length,n=r([t]),i=a(e),o=0;o<e.length;++o)for(var s=0;s<t;++s)n[s]+=e[o][s]*i[o];return n}s.barycenetric=a,t.exports=s},{dup:87,"robust-linear-solve":322}],58:[function(e,t,n){t.exports=function(e){for(var t=r(e),n=0,i=0;i<e.length;++i)for(var o=e[i],a=0;a<t.length;++a)n+=Math.pow(o[a]-t[a],2);return Math.sqrt(n/e.length)};var r=e("circumcenter")},{circumcenter:57}],59:[function(e,t,n){t.exports=function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}},{}],60:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r;if(n){r=t;for(var i=new Array(t.length),o=0;o<t.length;++o){var a=t[o];i[o]=[a[0],a[1],n[o]]}t=i}for(var s=function(e,t,n){var r=p(e,[],h(e));return v(t,r,n),!!r}(e,t,!!n);y(e,t,!!n);)s=!0;if(n&&s)for(r.length=0,n.length=0,o=0;o<t.length;++o)a=t[o],r.push([a[0],a[1]]),n.push(a[2]);return s};var r=e("union-find"),i=e("box-intersect"),o=e("robust-segment-intersect"),a=e("big-rat"),s=e("big-rat/cmp"),l=e("big-rat/to-float"),u=e("rat-vec"),c=e("nextafter"),f=e("./lib/rat-seg-intersect");function d(e){var t=l(e);return[c(t,-1/0),c(t,1/0)]}function h(e){for(var t=new Array(e.length),n=0;n<e.length;++n){var r=e[n];t[n]=[c(r[0],-1/0),c(r[1],-1/0),c(r[0],1/0),c(r[1],1/0)]}return t}function p(e,t,n){for(var o=t.length,a=new r(o),s=[],l=0;l<t.length;++l){var u=t[l],f=d(u[0]),h=d(u[1]);s.push([c(f[0],-1/0),c(h[0],-1/0),c(f[1],1/0),c(h[1],1/0)])}i(s,(function(e,t){a.link(e,t)}));var p=!0,m=new Array(o);for(l=0;l<o;++l)(v=a.find(l))!==l&&(p=!1,e[v]=[Math.min(e[l][0],e[v][0]),Math.min(e[l][1],e[v][1])]);if(p)return null;var g=0;for(l=0;l<o;++l){var v;(v=a.find(l))===l?(m[l]=g,e[g++]=e[l]):m[l]=-1}for(e.length=g,l=0;l<o;++l)m[l]<0&&(m[l]=m[a.find(l)]);return m}function m(e,t){return e[0]-t[0]||e[1]-t[1]}function g(e,t){return e[0]-t[0]||e[1]-t[1]||(e[2]<t[2]?-1:e[2]>t[2]?1:0)}function v(e,t,n){if(0!==e.length){if(t)for(var r=0;r<e.length;++r){var i=t[(a=e[r])[0]],o=t[a[1]];a[0]=Math.min(i,o),a[1]=Math.max(i,o)}else for(r=0;r<e.length;++r){var a;i=(a=e[r])[0],o=a[1],a[0]=Math.min(i,o),a[1]=Math.max(i,o)}n?e.sort(g):e.sort(m);var s=1;for(r=1;r<e.length;++r){var l=e[r-1],u=e[r];(u[0]!==l[0]||u[1]!==l[1]||n&&u[2]!==l[2])&&(e[s++]=u)}e.length=s}}function y(e,t,n){var r=function(e,t){for(var n=new Array(t.length),r=0;r<t.length;++r){var i=t[r],o=e[i[0]],a=e[i[1]];n[r]=[c(Math.min(o[0],a[0]),-1/0),c(Math.min(o[1],a[1]),-1/0),c(Math.max(o[0],a[0]),1/0),c(Math.max(o[1],a[1]),1/0)]}return n}(e,t),d=function(e,t,n){var r=[];return i(n,(function(n,i){var a=t[n],s=t[i];if(a[0]!==s[0]&&a[0]!==s[1]&&a[1]!==s[0]&&a[1]!==s[1]){var l=e[a[0]],u=e[a[1]],c=e[s[0]],f=e[s[1]];o(l,u,c,f)&&r.push([n,i])}})),r}(e,t,r),m=function(e,t,n,r){var a=[];return i(n,r,(function(n,r){var i=t[n];if(i[0]!==r&&i[1]!==r){var s=e[r],l=e[i[0]],u=e[i[1]];o(l,u,s,s)&&a.push([n,r])}})),a}(e,t,r,h(e)),g=p(e,function(e,t,n,r,i){var o,c,d=e.map((function(e){return[a(e[0]),a(e[1])]}));for(o=0;o<n.length;++o){var h=n[o];c=h[0];var p=h[1],m=t[c],g=t[p],v=f(u(e[m[0]]),u(e[m[1]]),u(e[g[0]]),u(e[g[1]]));if(v){var y=e.length;e.push([l(v[0]),l(v[1])]),d.push(v),r.push([c,y],[p,y])}}for(r.sort((function(e,t){if(e[0]!==t[0])return e[0]-t[0];var n=d[e[1]],r=d[t[1]];return s(n[0],r[0])||s(n[1],r[1])})),o=r.length-1;o>=0;--o){var b=t[c=(E=r[o])[0]],x=b[0],_=b[1],w=e[x],k=e[_];if((w[0]-k[0]||w[1]-k[1])<0){var M=x;x=_,_=M}b[0]=x;var T,S=b[1]=E[1];for(i&&(T=b[2]);o>0&&r[o-1][0]===c;){var E,A=(E=r[--o])[1];i?t.push([S,A,T]):t.push([S,A]),S=A}i?t.push([S,_,T]):t.push([S,_])}return d}(e,t,d,m,n));return v(t,g,n),!!g||d.length>0||m.length>0}},{"./lib/rat-seg-intersect":61,"big-rat":23,"big-rat/cmp":21,"big-rat/to-float":35,"box-intersect":40,nextafter:288,"rat-vec":312,"robust-segment-intersect":326,"union-find":350}],61:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var o=s(t,e),f=s(r,n),d=c(o,f);if(0===a(d))return null;var h=c(f,s(e,n)),p=i(h,d),m=u(o,p);return l(e,m)};var r=e("big-rat/mul"),i=e("big-rat/div"),o=e("big-rat/sub"),a=e("big-rat/sign"),s=e("rat-vec/sub"),l=e("rat-vec/add"),u=e("rat-vec/muls");function c(e,t){return o(r(e[0],t[1]),r(e[1],t[0]))}},{"big-rat/div":22,"big-rat/mul":32,"big-rat/sign":33,"big-rat/sub":34,"rat-vec/add":311,"rat-vec/muls":313,"rat-vec/sub":314}],62:[function(e,t,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],63:[function(e,t,n){"use strict";var r=e("color-rgba"),i=e("clamp"),o=e("dtype");t.exports=function(e,t){"float"!==t&&t||(t="array"),"uint"===t&&(t="uint8"),"uint_clamped"===t&&(t="uint8_clamped");var n=new(o(t))(4),a="uint8"!==t&&"uint8_clamped"!==t;return e.length&&"string"!=typeof e||((e=r(e))[0]/=255,e[1]/=255,e[2]/=255),function(e){return e instanceof Uint8Array||e instanceof Uint8ClampedArray||!!(Array.isArray(e)&&(e[0]>1||0===e[0])&&(e[1]>1||0===e[1])&&(e[2]>1||0===e[2])&&(!e[3]||e[3]>1))}(e)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=null!=e[3]?e[3]:255,a&&(n[0]/=255,n[1]/=255,n[2]/=255,n[3]/=255),n):(a?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=null!=e[3]?e[3]:1):(n[0]=i(Math.floor(255*e[0]),0,255),n[1]=i(Math.floor(255*e[1]),0,255),n[2]=i(Math.floor(255*e[2]),0,255),n[3]=null==e[3]?255:i(Math.floor(255*e[3]),0,255)),n)}},{clamp:59,"color-rgba":65,dtype:86}],64:[function(e,n,r){(function(t){"use strict";var r=e("color-name"),i=e("is-plain-obj"),o=e("defined");n.exports=function(e){var n,s,l=[],u=1;if("string"==typeof e)if(r[e])l=r[e].slice(),s="rgb";else if("transparent"===e)u=0,s="rgb",l=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var c=e.slice(1);u=1,(h=c.length)<=4?(l=[parseInt(c[0]+c[0],16),parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16)],4===h&&(u=parseInt(c[3]+c[3],16)/255)):(l=[parseInt(c[0]+c[1],16),parseInt(c[2]+c[3],16),parseInt(c[4]+c[5],16)],8===h&&(u=parseInt(c[6]+c[7],16)/255)),l[0]||(l[0]=0),l[1]||(l[1]=0),l[2]||(l[2]=0),s="rgb"}else if(n=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var f=n[1],d="rgb"===f;s=c=f.replace(/a$/,"");var h="cmyk"===c?4:"gray"===c?1:3;l=n[2].trim().split(/\s*,\s*/).map((function(e,t){if(/%$/.test(e))return t===h?parseFloat(e)/100:"rgb"===c?255*parseFloat(e)/100:parseFloat(e);if("h"===c[t]){if(/deg$/.test(e))return parseFloat(e);if(void 0!==a[e])return a[e]}return parseFloat(e)})),f===c&&l.push(1),u=d?1:void 0===l[h]?1:l[h],l=l.slice(0,h)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(l=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),s=e.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(e))if(i(e)){var p=o(e.r,e.red,e.R,null);null!==p?(s="rgb",l=[p,o(e.g,e.green,e.G),o(e.b,e.blue,e.B)]):(s="hsl",l=[o(e.h,e.hue,e.H),o(e.s,e.saturation,e.S),o(e.l,e.lightness,e.L,e.b,e.brightness)]),u=o(e.a,e.alpha,e.opacity,1),null!=e.opacity&&(u/=100)}else(Array.isArray(e)||t.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))&&(l=[e[0],e[1],e[2]],s="rgb",u=4===e.length?e[3]:1);else s="rgb",l=[e>>>16,(65280&e)>>>8,255&e];return{space:s,values:l,alpha:u}};var a={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"color-name":62,defined:83,"is-plain-obj":262}],65:[function(e,t,n){"use strict";var r=e("color-parse"),i=e("color-space/hsl"),o=e("clamp");t.exports=function(e){var t,n=r(e);return n.space?((t=Array(3))[0]=o(n.values[0],0,255),t[1]=o(n.values[1],0,255),t[2]=o(n.values[2],0,255),"h"===n.space[0]&&(t=i.rgb(t)),t.push(o(n.alpha,0,1)),t):[]}},{clamp:59,"color-parse":64,"color-space/hsl":66}],66:[function(e,t,n){"use strict";var r=e("./rgb");t.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0?r++:r>1&&r--,o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[u]=255*o;return i}},r.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a;return s===a?t=0:r===s?t=(i-o)/l:i===s?t=2+(o-r)/l:o===s&&(t=4+(r-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}},{"./rgb":67}],67:[function(e,t,n){"use strict";t.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],68:[function(e,t,n){var r;t.exports=(i(r={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}]},"cool",[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}]),i(r,"rainbow-soft",[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}]),i(r,"bathymetry",[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}]),i(r,"cdom",[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}]),i(r,"chlorophyll",[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}]),i(r,"density",[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}]),i(r,"freesurface-blue",[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}]),i(r,"freesurface-red",[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}]),i(r,"oxygen",[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}]),i(r,"par",[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}]),i(r,"phase",[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}]),i(r,"salinity",[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}]),i(r,"temperature",[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}]),i(r,"turbidity",[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}]),i(r,"velocity-blue",[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}]),i(r,"velocity-green",[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}]),i(r,"cubehelix",[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]),r)},{}],69:[function(e,t,n){"use strict";var r=e("./colorScale"),i=e("lerp");function o(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function a(e){for(var t,n="#",r=0;r<3;++r)n+=("00"+(t=(t=e[r]).toString(16))).substr(t.length);return n}function s(e){return"rgba("+e.join(",")+")"}t.exports=function(e){var t,n,l,u,c,f,d,h,p,m;if(e||(e={}),h=(e.nshades||72)-1,d=e.format||"hex",(f=e.colormap)||(f="jet"),"string"==typeof f){if(f=f.toLowerCase(),!r[f])throw Error(f+" not a supported colorscale");c=r[f]}else{if(!Array.isArray(f))throw Error("unsupported colormap option",f);c=f.slice()}if(c.length>h+1)throw new Error(f+" map requires nshades to be at least size "+c.length);p=Array.isArray(e.alpha)?2!==e.alpha.length?[1,1]:e.alpha.slice():"number"==typeof e.alpha?[e.alpha,e.alpha]:[1,1],t=c.map((function(e){return Math.round(e.index*h)})),p[0]=Math.min(Math.max(p[0],0),1),p[1]=Math.min(Math.max(p[1],0),1);var g=c.map((function(e,t){var n=c[t].index,r=c[t].rgb.slice();return 4===r.length&&r[3]>=0&&r[3]<=1?r:(r[3]=p[0]+(p[1]-p[0])*n,r)})),v=[];for(m=0;m<t.length-1;++m){u=t[m+1]-t[m],n=g[m],l=g[m+1];for(var y=0;y<u;y++){var b=y/u;v.push([Math.round(i(n[0],l[0],b)),Math.round(i(n[1],l[1],b)),Math.round(i(n[2],l[2],b)),i(n[3],l[3],b)])}}return v.push(c[c.length-1].rgb.concat(p[1])),"hex"===d?v=v.map(a):"rgbaString"===d?v=v.map(s):"float"===d&&(v=v.map(o)),v}},{"./colorScale":68,lerp:264}],70:[function(e,t,n){"use strict";t.exports=function(e,t,n,o){var a=r(t,n,o);if(0===a){var s=i(r(e,t,n)),u=i(r(e,t,o));if(s===u){if(0===s){var c=l(e,t,n);return c===l(e,t,o)?0:c?1:-1}return 0}return 0===u?s>0?-1:l(e,t,o)?-1:1:0===s?u>0?1:l(e,t,n)?1:-1:i(u-s)}var f=r(e,t,n);return f>0?a>0&&r(e,t,o)>0?1:-1:f<0?a>0||r(e,t,o)>0?1:-1:r(e,t,o)>0?1:l(e,t,n)?1:-1};var r=e("robust-orientation"),i=e("signum"),o=e("two-sum"),a=e("robust-product"),s=e("robust-sum");function l(e,t,n){var r=o(e[0],-t[0]),i=o(e[1],-t[1]),l=o(n[0],-t[0]),u=o(n[1],-t[1]),c=s(a(r,l),a(i,u));return c[c.length-1]>=0}},{"robust-orientation":323,"robust-product":324,"robust-sum":328,signum:329,"two-sum":348}],71:[function(e,t,n){t.exports=function(e,t){var n=e.length,o=e.length-t.length;if(o)return o;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:return e[0]+e[1]-t[0]-t[1]||r(e[0],e[1])-r(t[0],t[1]);case 3:var a=e[0]+e[1],s=t[0]+t[1];if(o=a+e[2]-(s+t[2]))return o;var l=r(e[0],e[1]),u=r(t[0],t[1]);return r(l,e[2])-r(u,t[2])||r(l+e[2],a)-r(u+t[2],s);case 4:var c=e[0],f=e[1],d=e[2],h=e[3],p=t[0],m=t[1],g=t[2],v=t[3];return c+f+d+h-(p+m+g+v)||r(c,f,d,h)-r(p,m,g,v,p)||r(c+f,c+d,c+h,f+d,f+h,d+h)-r(p+m,p+g,p+v,m+g,m+v,g+v)||r(c+f+d,c+f+h,c+d+h,f+d+h)-r(p+m+g,p+m+v,p+g+v,m+g+v);default:for(var y=e.slice().sort(i),b=t.slice().sort(i),x=0;x<n;++x)if(o=y[x]-b[x])return o;return 0}};var r=Math.min;function i(e,t){return e-t}},{}],72:[function(e,t,n){"use strict";var r=e("compare-cell"),i=e("cell-orientation");t.exports=function(e,t){return r(e,t)||i(e)-i(t)}},{"cell-orientation":56,"compare-cell":71}],73:[function(e,t,n){"use strict";var r=e("./lib/ch1d"),i=e("./lib/ch2d"),o=e("./lib/chnd");t.exports=function(e){var t=e.length;if(0===t)return[];if(1===t)return[[0]];var n=e[0].length;return 0===n?[]:1===n?r(e):2===n?i(e):o(e,n)}},{"./lib/ch1d":74,"./lib/ch2d":75,"./lib/chnd":76}],74:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0,n=0,r=1;r<e.length;++r)e[r][0]<e[t][0]&&(t=r),e[r][0]>e[n][0]&&(n=r);return t<n?[[t],[n]]:t>n?[[n],[t]]:[[t]]}},{}],75:[function(e,t,n){"use strict";t.exports=function(e){var t=r(e),n=t.length;if(n<=2)return[];for(var i=new Array(n),o=t[n-1],a=0;a<n;++a){var s=t[a];i[a]=[o,s],o=s}return i};var r=e("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":271}],76:[function(e,t,n){"use strict";t.exports=function(e,t){try{return r(e,!0)}catch(a){var n=i(e);if(n.length<=t)return[];var o=function(e,t){for(var n=e.length,r=new Array(n),i=0;i<t.length;++i)r[i]=e[t[i]];var o=t.length;for(i=0;i<n;++i)t.indexOf(i)<0&&(r[o++]=e[i]);return r}(e,n);return function(e,t){for(var n=e.length,r=t.length,i=0;i<n;++i)for(var o=e[i],a=0;a<o.length;++a){var s=o[a];if(s<r)o[a]=t[s];else{s-=r;for(var l=0;l<r;++l)s>=t[l]&&(s+=1);o[a]=s}}return e}(r(o,!0),n)}};var r=e("incremental-convex-hull"),i=e("affine-hull")},{"affine-hull":14,"incremental-convex-hull":255}],77:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o){var a=i-1,s=i*i,l=a*a,u=(1+2*i)*l,c=i*l,f=s*(3-2*i),d=s*a;if(e.length){o||(o=new Array(e.length));for(var h=e.length-1;h>=0;--h)o[h]=u*e[h]+c*t[h]+f*n[h]+d*r[h];return o}return u*e+c*t+f*n+d*r},t.exports.derivative=function(e,t,n,r,i,o){var a=6*i*i-6*i,s=3*i*i-4*i+1,l=-6*i*i+6*i,u=3*i*i-2*i;if(e.length){o||(o=new Array(e.length));for(var c=e.length-1;c>=0;--c)o[c]=a*e[c]+s*t[c]+l*n[c]+u*r[c];return o}return a*e+s*t+l*n[c]+u*r}},{}],78:[function(e,t,n){"use strict";var r=e("./lib/thunk.js");function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(e){var t=new i;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var o=0;o<n.length;++o){var a=n[o];if("array"===a||"object"==typeof a&&a.blockIndices){if(t.argTypes[o]="array",t.arrayArgs.push(o),t.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),t.shimArgs.push("array"+o),o<t.pre.args.length&&t.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<t.post.args.length&&t.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)t.scalarArgs.push(o),t.shimArgs.push("scalar"+o);else if("index"===a){if(t.indexArgs.push(o),o<t.pre.args.length&&t.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<t.body.args.length&&t.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<t.post.args.length&&t.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(t.shapeArgs.push(o),o<t.pre.args.length&&t.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<t.body.args.length&&t.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<t.post.args.length&&t.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[o]);t.argTypes[o]="offset",t.offsetArgs.push({array:a.array,offset:a.offset}),t.offsetArgIndex.push(o)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,r(t)}},{"./lib/thunk.js":80}],79:[function(e,t,n){"use strict";var r=e("uniq");function i(e,t,n){var r,i,o=e.length,a=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],u=[],c=0,f=0;for(r=0;r<o;++r)u.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)f=c,c=e[r],0===r?u.push(["d",i,"s",r,"=t",i,"p",c].join("")):u.push(["d",i,"s",r,"=(t",i,"p",c,"-s",f,"*t",i,"p",f,")"].join(""));for(u.length>0&&l.push("var "+u.join(",")),r=o-1;r>=0;--r)c=e[r],l.push(["for(i",r,"=0;i",r,"<s",c,";++i",r,"){"].join(""));for(l.push(n),r=0;r<o;++r){for(f=c,c=e[r],i=0;i<a;++i)l.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&l.push(["index[",f,"]-=s",f].join("")),l.push(["++index[",c,"]"].join(""))),l.push("}")}return l.join("\n")}function o(e,t,n){for(var r=e.body,i=[],o=[],a=0;a<e.args.length;++a){var s=e.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),u="",c=t.arrayArgs.indexOf(a);switch(t.argTypes[a]){case"offset":var f=t.offsetArgIndex.indexOf(a);c=t.offsetArgs[f].array,u="+q"+f;case"array":u="p"+c+u;var d="l"+a,h="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(i.push(["var ",d,"=",h,".get(",u,")"].join("")),r=r.replace(l,d),o.push([h,".set(",u,",",d,")"].join(""))):r=r.replace(l,[h,".get(",u,")"].join("")):r=r.replace(l,[h,"[",u,"]"].join("")):"generic"===n[c]?(i.push(["var ",d,"=",h,".get(",u,")"].join("")),r=r.replace(l,d),s.lvalue&&o.push([h,".set(",u,",",d,")"].join(""))):(i.push(["var ",d,"=",h,"[",u,"]"].join("")),r=r.replace(l,d),s.lvalue&&o.push([h,"[",u,"]=",d].join("")));else{for(var p=[s.name],m=[u],g=0;g<Math.abs(t.arrayBlockIndices[c]);g++)p.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(g+1)+"*t"+c+"b"+g);if(l=new RegExp(p.join(""),"g"),u=m.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[h,"[",u,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(a));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}t.exports=function(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,a=new Array(e.arrayArgs.length),s=new Array(e.arrayArgs.length),l=0;l<e.arrayArgs.length;++l)s[l]=t[2*l],a[l]=t[2*l+1];var u=[],c=[],f=[],d=[],h=[];for(l=0;l<e.arrayArgs.length;++l){e.arrayBlockIndices[l]<0?(f.push(0),d.push(n),u.push(n),c.push(n+e.arrayBlockIndices[l])):(f.push(e.arrayBlockIndices[l]),d.push(e.arrayBlockIndices[l]+n),u.push(0),c.push(e.arrayBlockIndices[l]));for(var p=[],m=0;m<a[l].length;m++)f[l]<=a[l][m]&&a[l][m]<d[l]&&p.push(a[l][m]-f[l]);h.push(p)}var g=["SS"],v=["'use strict'"],y=[];for(m=0;m<n;++m)y.push(["s",m,"=SS[",m,"]"].join(""));for(l=0;l<e.arrayArgs.length;++l){for(g.push("a"+l),g.push("t"+l),g.push("p"+l),m=0;m<n;++m)y.push(["t",l,"p",m,"=t",l,"[",f[l]+m,"]"].join(""));for(m=0;m<Math.abs(e.arrayBlockIndices[l]);++m)y.push(["t",l,"b",m,"=t",l,"[",u[l]+m,"]"].join(""))}for(l=0;l<e.scalarArgs.length;++l)g.push("Y"+l);if(e.shapeArgs.length>0&&y.push("shape=SS.slice(0)"),e.indexArgs.length>0){var b=new Array(n);for(l=0;l<n;++l)b[l]="0";y.push(["index=[",b.join(","),"]"].join(""))}for(l=0;l<e.offsetArgs.length;++l){var x=e.offsetArgs[l],_=[];for(m=0;m<x.offset.length;++m)0!==x.offset[m]&&(1===x.offset[m]?_.push(["t",x.array,"p",m].join("")):_.push([x.offset[m],"*t",x.array,"p",m].join("")));0===_.length?y.push("q"+l+"=0"):y.push(["q",l,"=",_.join("+")].join(""))}var w=r([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((y=y.concat(w)).length>0&&v.push("var "+y.join(",")),l=0;l<e.arrayArgs.length;++l)v.push("p"+l+"|=0");e.pre.body.length>3&&v.push(o(e.pre,e,s));var k=o(e.body,e,s),M=function(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}(h);M<n?v.push(function(e,t,n,r){for(var o=t.length,a=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,u=[],c=0;c<a;++c)u.push(["var offset",c,"=p",c].join(""));for(c=e;c<o;++c)u.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",s,"){"].join("")),u.push(["s",t[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",t[c],"=",s].join("")),u.push(["j",c,"-=",s,"}"].join("")),l&&u.push(["index[",t[c],"]=j",c].join(""));for(c=0;c<a;++c){for(var f=["offset"+c],d=e;d<o;++d)f.push(["j",d,"*t",c,"p",t[d]].join(""));u.push(["p",c,"=(",f.join("+"),")"].join(""))}for(u.push(i(t,n,r)),c=e;c<o;++c)u.push("}");return u.join("\n")}(M,h[0],e,k)):v.push(i(h[0],e,k)),e.post.body.length>3&&v.push(o(e.post,e,s)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+v.join("\n")+"\n----------");var T=[e.funcName||"unnamed","_cwise_loop_",a[0].join("s"),"m",M,function(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?t[r]="u"+i.charAt(1)+o:t[r]=i.charAt(0)+o,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}(s)].join("");return new Function(["function ",T,"(",g.join(","),"){",v.join("\n"),"} return ",T].join(""))()}},{uniq:351}],80:[function(e,t,n){"use strict";var r=e("./compile.js");t.exports=function(e){var t=["'use strict'","var CACHED={}"],n=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],u=[],c=0;c<e.arrayArgs.length;++c){var f=e.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),o.push("t"+f),o.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),c>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[c]))),u.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[c])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),c=0;c<e.scalarArgs.length;++c)s.push("scalar"+e.scalarArgs[c]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(r.bind(void 0,e))}},{"./compile.js":79}],81:[function(e,t,n){t.exports=e("cwise-compiler")},{"cwise-compiler":78}],82:[function(e,t,n){!function(){var e={version:"3.5.17"},n=[].slice,r=function(e){return n.call(e)},i=this.document;function o(e){return e&&(e.ownerDocument||e.document||e).documentElement}function a(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(i)try{r(i.documentElement.childNodes)[0].nodeType}catch(e){r=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var s=this.Element.prototype,l=s.setAttribute,u=s.setAttributeNS,c=this.CSSStyleDeclaration.prototype,f=c.setProperty;s.setAttribute=function(e,t){l.call(this,e,t+"")},s.setAttributeNS=function(e,t,n){u.call(this,e,t,n+"")},c.setProperty=function(e,t,n){f.call(this,e,t+"",n)}}function d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function h(e){return null===e?NaN:+e}function p(e){return!isNaN(e)}function m(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}e.ascending=d,e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.min=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},e.max=function(e,t){var n,r,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},e.extent=function(e,t){var n,r,i,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=e[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=t.call(e,e[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t.call(e,e[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},e.sum=function(e,t){var n,r=0,i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)p(n=+e[o])&&(r+=n);else for(;++o<i;)p(n=+t.call(e,e[o],o))&&(r+=n);return r},e.mean=function(e,t){var n,r=0,i=e.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)p(n=h(e[o]))?r+=n:--a;else for(;++o<i;)p(n=h(t.call(e,e[o],o)))?r+=n:--a;if(a)return r/a},e.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],o=n-r;return o?i+o*(e[r]-i):i},e.median=function(t,n){var r,i=[],o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)p(r=h(t[a]))&&i.push(r);else for(;++a<o;)p(r=h(n.call(t,t[a],a)))&&i.push(r);if(i.length)return e.quantile(i.sort(d),.5)},e.variance=function(e,t){var n,r,i=e.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)p(n=h(e[s]))&&(a+=(r=n-o)*(n-(o+=r/++l)));else for(;++s<i;)p(n=h(t.call(e,e[s],s)))&&(a+=(r=n-o)*(n-(o+=r/++l)));if(l>1)return a/(l-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var g=m(d);function v(e){return e.length}e.bisectLeft=g.left,e.bisect=e.bisectRight=g.right,e.bisector=function(e){return m(1===e.length?function(t,n){return d(e(t),n)}:e)},e.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var r,i,o=n-t;o;)i=Math.random()*o--|0,r=e[o+t],e[o+t]=e[i+t],e[i+t]=r;return e},e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},e.transpose=function(t){if(!(o=t.length))return[];for(var n=-1,r=e.min(t,v),i=new Array(r);++n<r;)for(var o,a=-1,s=i[n]=new Array(o);++a<o;)s[a]=t[a][n];return i},e.zip=function(){return e.transpose(arguments)},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t},e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},e.merge=function(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n};var y=Math.abs;function b(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function x(){this._=Object.create(null)}e.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],o=function(e){for(var t=1;e*t%1;)t*=10;return t}(y(n)),a=-1;if(e*=o,t*=o,(n*=o)<0)for(;(r=e+n*++a)>t;)i.push(r/o);else for(;(r=e+n*++a)<t;)i.push(r/o);return i},e.map=function(e,t){var n=new x;if(e instanceof x)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(1===arguments.length)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t.call(e,r=e[i],i),r)}else for(var a in e)n.set(a,e[a]);return n};var _="__proto__",w="\0";function k(e){return(e+="")===_||e[0]===w?w+e:e}function M(e){return(e+="")[0]===w?e.slice(1):e}function T(e){return k(e)in this._}function S(e){return(e=k(e))in this._&&delete this._[e]}function E(){var e=[];for(var t in this._)e.push(M(t));return e}function A(){var e=0;for(var t in this._)++e;return e}function O(){for(var e in this._)return!1;return!0}function C(){this._=Object.create(null)}function N(e){return e}function D(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function P(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=R.length;n<r;++n){var i=R[n]+t;if(i in e)return i}}b(x,{has:T,get:function(e){return this._[k(e)]},set:function(e,t){return this._[k(e)]=t},remove:S,keys:E,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:M(t),value:this._[t]});return e},size:A,empty:O,forEach:function(e){for(var t in this._)e.call(this,M(t),this._[t])}}),e.nest=function(){var t,n,r={},i=[],o=[];function a(e,o,s){if(s>=i.length)return n?n.call(r,o):t?o.sort(t):o;for(var l,u,c,f,d=-1,h=o.length,p=i[s++],m=new x;++d<h;)(f=m.get(l=p(u=o[d])))?f.push(u):m.set(l,[u]);return e?(u=e(),c=function(t,n){u.set(t,a(e,n,s))}):(u={},c=function(t,n){u[t]=a(e,n,s)}),m.forEach(c),u}return r.map=function(e,t){return a(t,e,0)},r.entries=function(t){return function e(t,n){if(n>=i.length)return t;var r=[],a=o[n++];return t.forEach((function(t,i){r.push({key:t,values:e(i,n)})})),a?r.sort((function(e,t){return a(e.key,t.key)})):r}(a(e.map,t,0),0)},r.key=function(e){return i.push(e),r},r.sortKeys=function(e){return o[i.length-1]=e,r},r.sortValues=function(e){return t=e,r},r.rollup=function(e){return n=e,r},r},e.set=function(e){var t=new C;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},b(C,{has:T,add:function(e){return this._[k(e+="")]=!0,e},remove:S,values:E,size:A,empty:O,forEach:function(e){for(var t in this._)e.call(this,M(t))}}),e.behavior={},e.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=D(e,t,t[n]);return e};var R=["webkit","ms","moz","Moz","o","O"];function L(){}function I(){}function j(e){var t=[],n=new x;function r(){for(var n,r=t,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return e}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function z(){e.event.preventDefault()}function F(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function B(t){for(var n=new I,r=0,i=arguments.length;++r<i;)n[arguments[r]]=j(n);return n.of=function(r,i){return function(o){try{var a=o.sourceEvent=e.event;o.target=t,e.event=o,n[o.type].apply(r,i)}finally{e.event=a}}},n}e.dispatch=function(){for(var e=new I,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=j(e);return e},I.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},e.event=null,e.requote=function(e){return e.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function q(e){return H(e,G),e}var V=function(e,t){return t.querySelector(e)},W=function(e,t){return t.querySelectorAll(e)},Y=function(e,t){var n=e.matches||e[P(e,"matchesSelector")];return(Y=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(V=function(e,t){return Sizzle(e,t)[0]||null},W=Sizzle,Y=Sizzle.matchesSelector),e.selection=function(){return e.select(i.documentElement)};var G=e.selection.prototype=[];function X(e){return"function"==typeof e?e:function(){return V(e,this)}}function $(e){return"function"==typeof e?e:function(){return W(e,this)}}G.select=function(e){var t,n,r,i,o=[];e=X(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return q(o)},G.selectAll=function(e){var t,n,i=[];e=$(e);for(var o=-1,a=this.length;++o<a;)for(var s=this[o],l=-1,u=s.length;++l<u;)(n=s[l])&&(i.push(t=r(e.call(n,n.__data__,l,o))),t.parentNode=n);return q(i)};var Z="http://www.w3.org/1999/xhtml",K={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function J(t,n){return t=e.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function Q(e){return e.trim().replace(/\s+/g," ")}function ee(t){return new RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function te(e){return(e+"").trim().split(/^|\s+/)}function ne(e,t){var n=(e=te(e).map(re)).length;return"function"==typeof t?function(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function re(e){var t=ee(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",Q(i+" "+e))):n.setAttribute("class",Q(i.replace(t," ")))}}function ie(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function oe(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function ae(t){return"function"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Z&&e.documentElement.namespaceURI===Z?e.createElement(t):e.createElementNS(n,t)}}function se(){var e=this.parentNode;e&&e.removeChild(this)}function le(e){return{__data__:e}}function ue(e){return function(){return Y(this,e)}}function ce(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,o=e[n],a=0,s=o.length;a<s;a++)(i=o[a])&&t(i,a,n);return e}function fe(e){return H(e,de),e}e.ns={prefix:K,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),K.hasOwnProperty(n)?{space:K[n],local:e}:e}},G.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=e.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(J(n,t[n]));return this}return this.each(J(t,n))},G.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=te(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!ee(e[i]).test(t))return!1;return!0}for(t in e)this.each(ne(t,e[t]));return this}return this.each(ne(e,t))},G.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(ie(n,e[n],t));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(ie(e,t,n))},G.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(oe(t,e[t]));return this}return this.each(oe(e,t))},G.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},G.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},G.append=function(e){return e=ae(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},G.insert=function(e,t){return e=ae(e),t=X(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},G.remove=function(){return this.each(se)},G.data=function(e,t){var n,r,i=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(e[i]=r.__data__);return e}function a(e,n){var r,i,o,a=e.length,c=n.length,f=Math.min(a,c),d=new Array(c),h=new Array(c),p=new Array(a);if(t){var m,g=new x,v=new Array(a);for(r=-1;++r<a;)(i=e[r])&&(g.has(m=t.call(i,i.__data__,r))?p[r]=i:g.set(m,i),v[r]=m);for(r=-1;++r<c;)(i=g.get(m=t.call(n,o=n[r],r)))?!0!==i&&(d[r]=i,i.__data__=o):h[r]=le(o),g.set(m,!0);for(r=-1;++r<a;)r in v&&!0!==g.get(v[r])&&(p[r]=e[r])}else{for(r=-1;++r<f;)i=e[r],o=n[r],i?(i.__data__=o,d[r]=i):h[r]=le(o);for(;r<c;++r)h[r]=le(n[r]);for(;r<a;++r)p[r]=e[r]}h.update=d,h.parentNode=d.parentNode=p.parentNode=e.parentNode,s.push(h),l.push(d),u.push(p)}var s=fe([]),l=q([]),u=q([]);if("function"==typeof e)for(;++i<o;)a(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],e);return l.enter=function(){return s},l.exit=function(){return u},l},G.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},G.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=ue(e));for(var o=0,a=this.length;o<a;o++){i.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,o)&&t.push(r)}return q(i)},G.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},G.sort=function(e){e=function(e){return arguments.length||(e=d),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},G.each=function(e){return ce(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},G.call=function(e){var t=r(arguments);return e.apply(t[0]=this,t),this},G.empty=function(){return!this.node()},G.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},G.size=function(){var e=0;return ce(this,(function(){++e})),e};var de=[];function he(t,n,i){var o="__on"+t,a=t.indexOf("."),s=me;a>0&&(t=t.slice(0,a));var l=pe.get(t);function u(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}return l&&(t=l,s=ge),a?n?function(){var e=s(n,r(arguments));u.call(this),this.addEventListener(t,this[o]=e,e.$=i),e._=n}:u:n?L:function(){var n,r=new RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var i in this)if(n=i.match(r)){var o=this[i];this.removeEventListener(n[1],o,o.$),delete this[i]}}}e.selection.enter=fe,e.selection.enter.prototype=de,de.append=G.append,de.empty=G.empty,de.node=G.node,de.call=G.call,de.size=G.size,de.select=function(e){for(var t,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(t.push(r[u]=n=e.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):t.push(null)}return q(a)},de.insert=function(e,t){var n,r,i;return arguments.length<2&&(n=this,t=function(e,t,o){var a,s=n[o].update,l=s.length;for(o!=i&&(i=o,r=0),t>=r&&(r=t+1);!(a=s[r])&&++r<l;);return a}),G.insert.call(this,e,t)},e.select=function(e){var t;return"string"==typeof e?(t=[V(e,i)]).parentNode=i.documentElement:(t=[e]).parentNode=o(e),q([t])},e.selectAll=function(e){var t;return"string"==typeof e?(t=r(W(e,i))).parentNode=i.documentElement:(t=r(e)).parentNode=null,q([t])},G.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(he(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(he(e,t,n))};var pe=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function me(t,n){return function(r){var i=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=i}}}function ge(e,t){var n=me(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}i&&pe.forEach((function(e){"on"+e in i&&pe.remove(e)}));var ve,ye=0;function be(t){var n=".dragsuppress-"+ ++ye,r="click"+n,i=e.select(a(t)).on("touchmove"+n,z).on("dragstart"+n,z).on("selectstart"+n,z);if(null==ve&&(ve=!("onselectstart"in t)&&P(t.style,"userSelect")),ve){var s=o(t).style,l=s[ve];s[ve]="none"}return function(e){if(i.on(n,null),ve&&(s[ve]=l),e){var t=function(){i.on(r,null)};i.on(r,(function(){z(),t()}),!0),setTimeout(t,0)}}}e.mouse=function(e){return _e(e,F())};var xe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function _e(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(xe<0){var o=a(t);if(o.scrollX||o.scrollY){var s=(r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();xe=!(s.f||s.e),r.remove()}}return xe?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var l=t.getBoundingClientRect();return[n.clientX-l.left-t.clientLeft,n.clientY-l.top-t.clientTop]}function we(){return e.event.changedTouches[0].identifier}e.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=F().changedTouches),t)for(var r,i=0,o=t.length;i<o;++i)if((r=t[i]).identifier===n)return _e(e,r)},e.behavior.drag=function(){var t=B(o,"drag","dragstart","dragend"),n=null,r=s(L,e.mouse,a,"mousemove","mouseup"),i=s(we,e.touch,N,"touchmove","touchend");function o(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function s(r,i,o,a,s){return function(){var l,u=e.event.target.correspondingElement||e.event.target,c=this.parentNode,f=t.of(this,arguments),d=0,h=r(),p=".drag"+(null==h?"":"-"+h),m=e.select(o(u)).on(a+p,(function(){var e,t,n=i(c,h);n&&(e=n[0]-v[0],t=n[1]-v[1],d|=e|t,v=n,f({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))})).on(s+p,(function(){i(c,h)&&(m.on(a+p,null).on(s+p,null),g(d),f({type:"dragend"}))})),g=be(u),v=i(c,h);l=n?[(l=n.apply(this,arguments)).x-v[0],l.y-v[1]]:[0,0],f({type:"dragstart"})}}return o.origin=function(e){return arguments.length?(n=e,o):n},e.rebind(o,t,"on")},e.touches=function(e,t){return arguments.length<2&&(t=F().touches),t?r(t).map((function(t){var n=_e(e,t);return n.identifier=t.identifier,n})):[]};var ke=1e-6,Me=ke*ke,Te=Math.PI,Se=2*Te,Ee=Se-ke,Ae=Te/2,Oe=Te/180,Ce=180/Te;function Ne(e){return e>0?1:e<0?-1:0}function De(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Pe(e){return e>1?0:e<-1?Te:Math.acos(e)}function Re(e){return e>1?Ae:e<-1?-Ae:Math.asin(e)}function Le(e){return((e=Math.exp(e))+1/e)/2}function Ie(e){return(e=Math.sin(e/2))*e}var je=Math.SQRT2;e.interpolateZoom=function(e,t){var n,r,i=e[0],o=e[1],a=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-o,d=c*c+f*f;if(d<Me)r=Math.log(u/a)/je,n=function(e){return[i+e*c,o+e*f,a*Math.exp(je*e*r)]};else{var h=Math.sqrt(d),p=(u*u-a*a+4*d)/(2*a*2*h),m=(u*u-a*a-4*d)/(2*u*2*h),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/je,n=function(e){var t,n=e*r,s=Le(g),l=a/(2*h)*(s*(t=je*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[i+l*c,o+l*f,a*s/Le(je*n+g)]}}return n.duration=1e3*r,n},e.behavior.zoom=function(){var t,n,r,o,s,l,u,c,f,d={x:0,y:0,k:1},h=[960,500],p=Be,m=250,g=0,v="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",x="touchstart.zoom",_=B(w,"zoomstart","zoom","zoomend");function w(e){e.on(v,N).on(Fe+".zoom",P).on("dblclick.zoom",R).on(x,D)}function k(e){return[(e[0]-d.x)/d.k,(e[1]-d.y)/d.k]}function M(e){d.k=Math.max(p[0],Math.min(p[1],e))}function T(e,t){t=function(e){return[e[0]*d.k+d.x,e[1]*d.k+d.y]}(t),d.x+=e[0]-t[0],d.y+=e[1]-t[1]}function S(t,r,i,o){t.__chart__={x:d.x,y:d.y,k:d.k},M(Math.pow(2,o)),T(n=r,i),t=e.select(t),m>0&&(t=t.transition().duration(m)),t.call(w.event)}function E(){u&&u.domain(l.range().map((function(e){return(e-d.x)/d.k})).map(l.invert)),f&&f.domain(c.range().map((function(e){return(e-d.y)/d.k})).map(c.invert))}function A(e){g++||e({type:"zoomstart"})}function O(e){E(),e({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function C(e){--g||(e({type:"zoomend"}),n=null)}function N(){var t=this,n=_.of(t,arguments),r=0,i=e.select(a(t)).on(y,(function(){r=1,T(e.mouse(t),o),O(n)})).on(b,(function(){i.on(y,null).on(b,null),s(r),C(n)})),o=k(e.mouse(t)),s=be(t);cs.call(t),A(n)}function D(){var t,n=this,r=_.of(n,arguments),i={},o=0,a=".zoom-"+e.event.changedTouches[0].identifier,l="touchmove"+a,u="touchend"+a,c=[],f=e.select(n),h=be(n);function p(){var r=e.touches(n);return t=d.k,r.forEach((function(e){e.identifier in i&&(i[e.identifier]=k(e))})),r}function m(){var t=e.event.target;e.select(t).on(l,g).on(u,y),c.push(t);for(var r=e.event.changedTouches,a=0,f=r.length;a<f;++a)i[r[a].identifier]=null;var h=p(),m=Date.now();if(1===h.length){if(m-s<500){var v=h[0];S(n,v,i[v.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),z()}s=m}else if(h.length>1){v=h[0];var b=h[1],x=v[0]-b[0],_=v[1]-b[1];o=x*x+_*_}}function g(){var a,l,u,c,f=e.touches(n);cs.call(n);for(var d=0,h=f.length;d<h;++d,c=null)if(u=f[d],c=i[u.identifier]){if(l)break;a=u,l=c}if(c){var p=(p=u[0]-a[0])*p+(p=u[1]-a[1])*p,m=o&&Math.sqrt(p/o);a=[(a[0]+u[0])/2,(a[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],M(m*t)}s=null,T(a,l),O(r)}function y(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,o=t.length;n<o;++n)delete i[t[n].identifier];for(var s in i)return void p()}e.selectAll(c).on(a,null),f.on(v,N).on(x,D),h(),C(r)}m(),A(r),f.on(v,null).on(x,m)}function P(){var i=_.of(this,arguments);o?clearTimeout(o):(cs.call(this),t=k(n=r||e.mouse(this)),A(i)),o=setTimeout((function(){o=null,C(i)}),50),z(),M(Math.pow(2,.002*ze())*d.k),T(n,t),O(i)}function R(){var t=e.mouse(this),n=Math.log(d.k)/Math.LN2;S(this,t,k(t),e.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return Fe||(Fe="onwheel"in i?(ze=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(ze=function(){return e.event.wheelDelta},"mousewheel"):(ze=function(){return-e.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each((function(){var t=_.of(this,arguments),r=d;hs?e.select(this).transition().each("start.zoom",(function(){d=this.__chart__||{x:0,y:0,k:1},A(t)})).tween("zoom:zoom",(function(){var i=h[0],o=h[1],a=n?n[0]:i/2,s=n?n[1]:o/2,l=e.interpolateZoom([(a-d.x)/d.k,(s-d.y)/d.k,i/d.k],[(a-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(e){var n=l(e),r=i/n[2];this.__chart__=d={x:a-n[0]*r,y:s-n[1]*r,k:r},O(t)}})).each("interrupt.zoom",(function(){C(t)})).each("end.zoom",(function(){C(t)})):(this.__chart__=d,A(t),O(t),C(t))}))},w.translate=function(e){return arguments.length?(d={x:+e[0],y:+e[1],k:d.k},E(),w):[d.x,d.y]},w.scale=function(e){return arguments.length?(d={x:d.x,y:d.y,k:null},M(+e),E(),w):d.k},w.scaleExtent=function(e){return arguments.length?(p=null==e?Be:[+e[0],+e[1]],w):p},w.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],w):r},w.size=function(e){return arguments.length?(h=e&&[+e[0],+e[1]],w):h},w.duration=function(e){return arguments.length?(m=+e,w):m},w.x=function(e){return arguments.length?(u=e,l=e.copy(),d={x:0,y:0,k:1},w):u},w.y=function(e){return arguments.length?(f=e,c=e.copy(),d={x:0,y:0,k:1},w):f},e.rebind(w,_,"on")};var ze,Fe,Be=[0,1/0];function Ue(){}function He(e,t,n){return this instanceof He?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof He?new He(e.h,e.s,e.l):ut(""+e,ct,He):new He(e,t,n)}e.color=Ue,Ue.prototype.toString=function(){return this.rgb()+""},e.hsl=He;var qe=He.prototype=new Ue;function Ve(e,t,n){var r,i;function o(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+t):n+t-n*t),new it(o(e+120),o(e),o(e-120))}function We(t,n,r){return this instanceof We?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof We?new We(t.h,t.c,t.l):function(e,t,n){return e>0?new We(Math.atan2(n,t)*Ce,Math.sqrt(t*t+n*n),e):new We(NaN,NaN,e)}(t instanceof Xe?t.l:(t=ft((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new We(t,n,r)}qe.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new He(this.h,this.s,this.l/e)},qe.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new He(this.h,this.s,e*this.l)},qe.rgb=function(){return Ve(this.h,this.s,this.l)},e.hcl=We;var Ye=We.prototype=new Ue;function Ge(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Xe(n,Math.cos(e*=Oe)*t,Math.sin(e)*t)}function Xe(e,t,n){return this instanceof Xe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Xe?new Xe(e.l,e.a,e.b):e instanceof We?Ge(e.h,e.c,e.l):ft((e=it(e)).r,e.g,e.b):new Xe(e,t,n)}Ye.brighter=function(e){return new We(this.h,this.c,Math.min(100,this.l+$e*(arguments.length?e:1)))},Ye.darker=function(e){return new We(this.h,this.c,Math.max(0,this.l-$e*(arguments.length?e:1)))},Ye.rgb=function(){return Ge(this.h,this.c,this.l).rgb()},e.lab=Xe;var $e=18,Ze=.95047,Ke=1,Je=1.08883,Qe=Xe.prototype=new Ue;function et(e,t,n){var r=(e+16)/116,i=r+t/500,o=r-n/200;return new it(rt(3.2404542*(i=tt(i)*Ze)-1.5371385*(r=tt(r)*Ke)-.4985314*(o=tt(o)*Je)),rt(-.969266*i+1.8760108*r+.041556*o),rt(.0556434*i-.2040259*r+1.0572252*o))}function tt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function nt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function rt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function it(e,t,n){return this instanceof it?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof it?new it(e.r,e.g,e.b):ut(""+e,it,Ve):new it(e,t,n)}function ot(e){return new it(e>>16,e>>8&255,255&e)}function at(e){return ot(e)+""}Qe.brighter=function(e){return new Xe(Math.min(100,this.l+$e*(arguments.length?e:1)),this.a,this.b)},Qe.darker=function(e){return new Xe(Math.max(0,this.l-$e*(arguments.length?e:1)),this.a,this.b)},Qe.rgb=function(){return et(this.l,this.a,this.b)},e.rgb=it;var st=it.prototype=new Ue;function lt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ut(e,t,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(ht(i[0]),ht(i[1]),ht(i[2]))}return(o=pt.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function ct(e,t,n){var r,i,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(i=l<.5?s/(a+o):s/(2-a-o),r=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new He(r,i,l)}function ft(e,t,n){var r=nt((.4124564*(e=dt(e))+.3575761*(t=dt(t))+.1804375*(n=dt(n)))/Ze),i=nt((.2126729*e+.7151522*t+.072175*n)/Ke);return Xe(116*i-16,500*(r-i),200*(i-nt((.0193339*e+.119192*t+.9503041*n)/Je)))}function dt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ht(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}st.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new it(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new it(i,i,i)},st.darker=function(e){return new it((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},st.hsl=function(){return ct(this.r,this.g,this.b)},st.toString=function(){return"#"+lt(this.r)+lt(this.g)+lt(this.b)};var pt=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function mt(e){return"function"==typeof e?e:function(){return e}}function gt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),vt(t,n,e,r)}}function vt(t,n,i,o){var a={},s=e.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function f(){var e,t=u.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(u)||t>=200&&t<300||304===t){try{e=i.call(a,u)}catch(e){return void s.error.call(a,e)}s.load.call(a,e)}else s.error.call(a,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=f:u.onreadystatechange=function(){u.readyState>3&&f()},u.onprogress=function(t){var n=e.event;e.event=t;try{s.progress.call(a,u)}finally{e.event=n}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",a):n},a.responseType=function(e){return arguments.length?(c=e,a):c},a.response=function(e){return i=e,a},["get","post"].forEach((function(e){a[e]=function(){return a.send.apply(a,[e].concat(r(arguments)))}})),a.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(e,t,!0),null==n||"accept"in l||(l.accept=n+",*/*"),u.setRequestHeader)for(var o in l)u.setRequestHeader(o,l[o]);return null!=n&&u.overrideMimeType&&u.overrideMimeType(n),null!=c&&(u.responseType=c),null!=i&&a.on("error",i).on("load",(function(e){i(null,e)})),s.beforesend.call(a,u),u.send(null==r?null:r),a},a.abort=function(){return u.abort(),a},e.rebind(a,s,"on"),null==o?a:a.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(o))}pt.forEach((function(e,t){pt.set(e,ot(t))})),e.functor=mt,e.xhr=gt(N),e.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=vt(e,t,null==n?o:a(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?o:a(e)):n},i}function o(e){return i.parse(e.responseText)}function a(e){return function(t){return i.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return i.parse=function(e,t){var n;return i.parseRows(e,(function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i}))},i.parseRows=function(e,t){var n,i,o={},a={},s=[],l=e.length,u=0,c=0;function f(){if(u>=l)return a;if(i)return i=!1,o;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return u=n+2,13===(s=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++u):10===s&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<l;){var s,c=1;if(10===(s=e.charCodeAt(u++)))i=!0;else if(13===s)i=!0,10===e.charCodeAt(u)&&(++u,++c);else if(s!==r)continue;return e.slice(t,u-c)}return e.slice(t)}for(;(n=f())!==a;){for(var d=[];n!==o&&n!==a;)d.push(n),n=f();t&&null==(d=t(d,c++))||s.push(d)}return s},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new C,r=[];return t.forEach((function(e){for(var t in e)n.has(t)||r.push(n.add(t))})),[r.map(l).join(e)].concat(t.map((function(t){return r.map((function(e){return l(t[e])})).join(e)}))).join("\n")},i.formatRows=function(e){return e.map(s).join("\n")},i},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("\t","text/tab-separated-values");var yt,bt,xt,_t,wt=this[P(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function kt(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i={c:e,t:n+t,n:null};return bt?bt.n=i:yt=i,bt=i,xt||(_t=clearTimeout(_t),xt=1,wt(Mt)),i}function Mt(){var e=Tt(),t=St()-e;t>24?(isFinite(t)&&(clearTimeout(_t),_t=setTimeout(Mt,t)),xt=0):(xt=1,wt(Mt))}function Tt(){for(var e=Date.now(),t=yt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function St(){for(var e,t=yt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:yt=t.n;return bt=e,n}function Et(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}e.timer=function(){kt.apply(this,arguments)},e.timer.flush=function(){Tt(),St()},e.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var At=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map((function(e,t){var n=Math.pow(10,3*y(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}));e.formatPrefix=function(t,n){var r=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=e.round(t,Et(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),At[8+r/3]};var Ot=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ct=e.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(t,n){return(t=e.round(t,Et(t,n))).toFixed(Math.max(0,Math.min(20,Et(t*(1+1e-15),n))))}});function Nt(e){return e+""}var Dt=e.time={},Pt=Date;function Rt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Rt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Lt.setUTCDate.apply(this._,arguments)},setDay:function(){Lt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Lt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Lt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Lt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Lt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Lt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Lt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Lt.setTime.apply(this._,arguments)}};var Lt=Date.prototype;function It(e,t,n){function r(t){var n=e(t),r=o(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new Pt(n-1)),1),n}function o(e,n){return t(e=new Pt(+e),n),e}function a(e,r,o){var a=i(e),s=[];if(o>1)for(;a<r;)n(a)%o||s.push(new Date(+a)),t(a,1);else for(;a<r;)s.push(new Date(+a)),t(a,1);return s}e.floor=e,e.round=r,e.ceil=i,e.offset=o,e.range=a;var s=e.utc=jt(e);return s.floor=s,s.round=jt(r),s.ceil=jt(i),s.offset=jt(o),s.range=function(e,t,n){try{Pt=Rt;var r=new Rt;return r._=e,a(r,t,n)}finally{Pt=Date}},e}function jt(e){return function(t,n){try{Pt=Rt;var r=new Rt;return r._=t,e(r,n)._}finally{Pt=Date}}}Dt.year=It((function(e){return(e=Dt.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),Dt.years=Dt.year.range,Dt.years.utc=Dt.year.utc.range,Dt.day=It((function(e){var t=new Pt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),Dt.days=Dt.day.range,Dt.days.utc=Dt.day.utc.range,Dt.dayOfYear=function(e){var t=Dt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=Dt[e]=It((function(e){return(e=Dt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=Dt.year(e).getDay();return Math.floor((Dt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));Dt[e+"s"]=n.range,Dt[e+"s"].utc=n.utc.range,Dt[e+"OfYear"]=function(e){var n=Dt.year(e).getDay();return Math.floor((Dt.dayOfYear(e)+(n+t)%7)/7)}})),Dt.week=Dt.sunday,Dt.weeks=Dt.sunday.range,Dt.weeks.utc=Dt.sunday.utc.range,Dt.weekOfYear=Dt.sundayOfYear;var zt={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,Bt=/^%/;function Ut(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Ht(t){return new RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function qt(e){for(var t=new x,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Vt(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Wt(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Yt(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Gt(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Xt(e,t,n){Ft.lastIndex=0;var r,i=Ft.exec(t.slice(n,n+2));return i?(e.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function $t(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Zt(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Kt(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Jt(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function Qt(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function en(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tn(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nn(e,t,n){Ft.lastIndex=0;var r=Ft.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function rn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=y(t)/60|0,i=y(t)%60;return n+Ut(r,"0",2)+Ut(i,"0",2)}function on(e,t,n){Bt.lastIndex=0;var r=Bt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function an(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}e.locale=function(t){return{numberFormat:function(t){var n=t.decimal,r=t.thousands,i=t.grouping,o=t.currency,a=i&&r?function(e,t){for(var n=e.length,o=[],a=0,s=i[0],l=0;n>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),o.push(e.substring(n-=s,n+s)),!((l+=s+1)>t));)s=i[a=(a+1)%i.length];return o.reverse().join(r)}:N;return function(t){var r=Ot.exec(t),i=r[1]||" ",s=r[2]||">",l=r[3]||"-",u=r[4]||"",c=r[5],f=+r[6],d=r[7],h=r[8],p=r[9],m=1,g="",v="",y=!1,b=!0;switch(h&&(h=+h.substring(1)),(c||"0"===i&&"="===s)&&(c=i="0",s="="),p){case"n":d=!0,p="g";break;case"%":m=100,v="%",p="f";break;case"p":m=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+p.toLowerCase());case"c":b=!1;case"d":y=!0,h=0;break;case"s":m=-1,p="r"}"$"===u&&(g=o[0],v=o[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=Ct.get(p)||Nt;var x=c&&d;return function(t){var r=v;if(y&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(m<0){var u=e.formatPrefix(t,h);t=u.scale(t),r=u.symbol+v}else t*=m;var _,w,k=(t=p(t,h)).lastIndexOf(".");if(k<0){var M=b?t.lastIndexOf("e"):-1;M<0?(_=t,w=""):(_=t.substring(0,M),w=t.substring(M))}else _=t.substring(0,k),w=n+t.substring(k+1);!c&&d&&(_=a(_,1/0));var T=g.length+_.length+w.length+(x?0:o.length),S=T<f?new Array(T=f-T+1).join(i):"";return x&&(_=a(S+_,S.length?f-w.length:1/0)),o+=g,t=_+w,("<"===s?o+t+S:">"===s?S+o+t:"^"===s?S.substring(0,T>>=1)+o+t+S.substring(T):o+(x?t:S+t))+r}}}(t),timeFormat:function(t){var n=t.dateTime,r=t.date,i=t.time,o=t.periods,a=t.days,s=t.shortDays,l=t.months,u=t.shortMonths;function c(e){var t=e.length;function n(n){for(var r,i,o,a=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=zt[r=e.charAt(++s)])&&(r=e.charAt(++s)),(o=_[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Pt!==Rt,i=new(r?Rt:Pt);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return e},n}function f(e,t,n,r){for(var i,o,a,s=0,l=t.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(i=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=w[a in zt?t.charAt(s++):a])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(e){var t=c(e);function n(e){try{var n=new(Pt=Rt);return n._=e,t(n)}finally{Pt=Date}}return n.parse=function(e){try{Pt=Rt;var n=t.parse(e);return n&&n._}finally{Pt=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=an;var d=e.map(),h=Ht(a),p=qt(a),m=Ht(s),g=qt(s),v=Ht(l),y=qt(l),b=Ht(u),x=qt(u);o.forEach((function(e,t){d.set(e.toLowerCase(),t)}));var _={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:c(n),d:function(e,t){return Ut(e.getDate(),t,2)},e:function(e,t){return Ut(e.getDate(),t,2)},H:function(e,t){return Ut(e.getHours(),t,2)},I:function(e,t){return Ut(e.getHours()%12||12,t,2)},j:function(e,t){return Ut(1+Dt.dayOfYear(e),t,3)},L:function(e,t){return Ut(e.getMilliseconds(),t,3)},m:function(e,t){return Ut(e.getMonth()+1,t,2)},M:function(e,t){return Ut(e.getMinutes(),t,2)},p:function(e){return o[+(e.getHours()>=12)]},S:function(e,t){return Ut(e.getSeconds(),t,2)},U:function(e,t){return Ut(Dt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ut(Dt.mondayOfYear(e),t,2)},x:c(r),X:c(i),y:function(e,t){return Ut(e.getFullYear()%100,t,2)},Y:function(e,t){return Ut(e.getFullYear()%1e4,t,4)},Z:rn,"%":function(){return"%"}},w={a:function(e,t,n){m.lastIndex=0;var r=m.exec(t.slice(n));return r?(e.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){h.lastIndex=0;var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){v.lastIndex=0;var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,n){return f(e,_.c.toString(),t,n)},d:Kt,e:Kt,H:Qt,I:Qt,j:Jt,L:nn,m:Zt,M:en,p:function(e,t,n){var r=d.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:tn,U:Wt,w:Vt,W:Yt,x:function(e,t,n){return f(e,_.x.toString(),t,n)},X:function(e,t,n){return f(e,_.X.toString(),t,n)},y:Xt,Y:Gt,Z:$t,"%":on};return c}(t)}};var sn=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ln(){}e.format=sn.numberFormat,e.geo={},ln.prototype={s:0,t:0,add:function(e){cn(e,this.t,un),cn(un.s,this.s,this),this.s?this.t+=un.t:this.s=un.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var un=new ln;function cn(e,t,n){var r=n.s=e+t,i=r-e,o=r-i;n.t=e-o+(t-i)}function fn(e,t){e&&hn.hasOwnProperty(e.type)&&hn[e.type](e,t)}e.geo.stream=function(e,t){e&&dn.hasOwnProperty(e.type)?dn[e.type](e,t):fn(e,t)};var dn={Feature:function(e,t){fn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)fn(n[r].geometry,t)}},hn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){pn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pn(n[r],t,0)},Polygon:function(e,t){mn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)mn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)fn(n[r],t)}};function pn(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function mn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)pn(e[n],t,1);t.polygonEnd()}e.geo.area=function(t){return gn=0,e.geo.stream(t,On),gn};var gn,vn,yn,bn,xn,_n,wn,kn,Mn,Tn,Sn,En,An=new ln,On={sphere:function(){gn+=4*Te},point:L,lineStart:L,lineEnd:L,polygonStart:function(){An.reset(),On.lineStart=Cn},polygonEnd:function(){var e=2*An;gn+=e<0?4*Te+e:e,On.lineStart=On.lineEnd=On.point=L}};function Cn(){var e,t,n,r,i;function o(e,t){t=t*Oe/2+Te/4;var o=(e*=Oe)-n,a=o>=0?1:-1,s=a*o,l=Math.cos(t),u=Math.sin(t),c=i*u,f=r*l+c*Math.cos(s),d=c*a*Math.sin(s);An.add(Math.atan2(d,f)),n=e,r=l,i=u}On.point=function(a,s){On.point=o,n=(e=a)*Oe,r=Math.cos(s=(t=s)*Oe/2+Te/4),i=Math.sin(s)},On.lineEnd=function(){o(e,t)}}function Nn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function Dn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Pn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Rn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ln(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function In(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function jn(e){return[Math.atan2(e[1],e[0]),Re(e[2])]}function zn(e,t){return y(e[0]-t[0])<ke&&y(e[1]-t[1])<ke}e.geo.bounds=function(){var t,n,r,i,o,a,s,l,u,c,f,d={point:h,lineStart:m,lineEnd:g,polygonStart:function(){d.point=v,d.lineStart=b,d.lineEnd=x,u=0,On.polygonStart()},polygonEnd:function(){On.polygonEnd(),d.point=h,d.lineStart=m,d.lineEnd=g,An<0?(t=-(r=180),n=-(i=90)):u>ke?i=90:u<-ke&&(n=-90),f[0]=t,f[1]=r}};function h(e,o){c.push(f=[t=e,r=e]),o<n&&(n=o),o>i&&(i=o)}function p(e,a){var s=Nn([e*Oe,a*Oe]);if(l){var u=Pn(l,s),c=Pn([u[1],-u[0],0],u);In(c),c=jn(c);var f=e-o,d=f>0?1:-1,p=c[0]*Ce*d,m=y(f)>180;if(m^(d*o<p&&p<d*e))(g=c[1]*Ce)>i&&(i=g);else if(m^(d*o<(p=(p+360)%360-180)&&p<d*e)){var g;(g=-c[1]*Ce)<n&&(n=g)}else a<n&&(n=a),a>i&&(i=a);m?e<o?_(t,e)>_(t,r)&&(r=e):_(e,r)>_(t,r)&&(t=e):r>=t?(e<t&&(t=e),e>r&&(r=e)):e>o?_(t,e)>_(t,r)&&(r=e):_(e,r)>_(t,r)&&(t=e)}else h(e,a);l=s,o=e}function m(){d.point=p}function g(){f[0]=t,f[1]=r,d.point=h,l=null}function v(e,t){if(l){var n=e-o;u+=y(n)>180?n+(n>0?360:-360):n}else a=e,s=t;On.point(e,t),p(e,t)}function b(){On.lineStart()}function x(){v(a,s),On.lineEnd(),y(u)>ke&&(t=-(r=180)),f[0]=t,f[1]=r,l=null}function _(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function k(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(o){if(i=r=-(t=n=1/0),c=[],e.geo.stream(o,d),u=c.length){c.sort(w);for(var a=1,s=[m=c[0]];a<u;++a)k((h=c[a])[0],m)||k(h[1],m)?(_(m[0],h[1])>_(m[0],m[1])&&(m[1]=h[1]),_(h[0],m[1])>_(m[0],m[1])&&(m[0]=h[0])):s.push(m=h);for(var l,u,h,p=-1/0,m=(a=0,s[u=s.length-1]);a<=u;m=h,++a)h=s[a],(l=_(m[1],h[0]))>p&&(p=l,t=h[0],r=m[1])}return c=f=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,i]]}}(),e.geo.centroid=function(t){vn=yn=bn=xn=_n=wn=kn=Mn=Tn=Sn=En=0,e.geo.stream(t,Fn);var n=Tn,r=Sn,i=En,o=n*n+r*r+i*i;return o<Me&&(n=wn,r=kn,i=Mn,yn<ke&&(n=bn,r=xn,i=_n),(o=n*n+r*r+i*i)<Me)?[NaN,NaN]:[Math.atan2(r,n)*Ce,Re(i/Math.sqrt(o))*Ce]};var Fn={sphere:L,point:Bn,lineStart:Hn,lineEnd:qn,polygonStart:function(){Fn.lineStart=Vn},polygonEnd:function(){Fn.lineStart=Hn}};function Bn(e,t){e*=Oe;var n=Math.cos(t*=Oe);Un(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Un(e,t,n){bn+=(e-bn)/++vn,xn+=(t-xn)/vn,_n+=(n-_n)/vn}function Hn(){var e,t,n;function r(r,i){r*=Oe;var o=Math.cos(i*=Oe),a=o*Math.cos(r),s=o*Math.sin(r),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=t*l-n*s)*u+(u=n*a-e*l)*u+(u=e*s-t*a)*u),e*a+t*s+n*l);yn+=u,wn+=u*(e+(e=a)),kn+=u*(t+(t=s)),Mn+=u*(n+(n=l)),Un(e,t,n)}Fn.point=function(i,o){i*=Oe;var a=Math.cos(o*=Oe);e=a*Math.cos(i),t=a*Math.sin(i),n=Math.sin(o),Fn.point=r,Un(e,t,n)}}function qn(){Fn.point=Bn}function Vn(){var e,t,n,r,i;function o(e,t){e*=Oe;var o=Math.cos(t*=Oe),a=o*Math.cos(e),s=o*Math.sin(e),l=Math.sin(t),u=r*l-i*s,c=i*a-n*l,f=n*s-r*a,d=Math.sqrt(u*u+c*c+f*f),h=n*a+r*s+i*l,p=d&&-Pe(h)/d,m=Math.atan2(d,h);Tn+=p*u,Sn+=p*c,En+=p*f,yn+=m,wn+=m*(n+(n=a)),kn+=m*(r+(r=s)),Mn+=m*(i+(i=l)),Un(n,r,i)}Fn.point=function(a,s){e=a,t=s,Fn.point=o,a*=Oe;var l=Math.cos(s*=Oe);n=l*Math.cos(a),r=l*Math.sin(a),i=Math.sin(s),Un(n,r,i)},Fn.lineEnd=function(){o(e,t),Fn.lineEnd=qn,Fn.point=Bn}}function Wn(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Yn(){return!0}function Gn(e,t,n,r,i){var o=[],a=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(zn(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);i.lineEnd()}else{var l=new $n(n,e,null,!0),u=new $n(n,null,l,!1);l.o=u,o.push(l),a.push(u),l=new $n(r,e,null,!1),u=new $n(r,null,l,!0),l.o=u,o.push(l),a.push(u)}}})),a.sort(t),Xn(o),Xn(a),o.length){for(var s=0,l=n,u=a.length;s<u;++s)a[s].e=l=!l;for(var c,f,d=o[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(s=0,u=c.length;s<u;++s)i.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(s=(c=h.p.z).length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Xn(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function $n(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Zn(t,n,r,i){return function(o,a){var s,l=n(a),u=o.invert(i[0],i[1]),c={point:f,lineStart:h,lineEnd:p,polygonStart:function(){c.point=x,c.lineStart=_,c.lineEnd=w,s=[],m=[]},polygonEnd:function(){c.point=f,c.lineStart=h,c.lineEnd=p,s=e.merge(s);var t=function(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;An.reset();for(var s=0,l=t.length;s<l;++s){var u=t[s],c=u.length;if(c)for(var f=u[0],d=f[0],h=f[1]/2+Te/4,p=Math.sin(h),m=Math.cos(h),g=1;;){g===c&&(g=0);var v=(e=u[g])[0],y=e[1]/2+Te/4,b=Math.sin(y),x=Math.cos(y),_=v-d,w=_>=0?1:-1,k=w*_,M=k>Te,T=p*b;if(An.add(Math.atan2(T*w*Math.sin(k),m*x+T*Math.cos(k))),o+=M?_+w*Se:_,M^d>=n^v>=n){var S=Pn(Nn(f),Nn(e));In(S);var E=Pn(i,S);In(E);var A=(M^_>=0?-1:1)*Re(E[2]);(r>A||r===A&&(S[0]||S[1]))&&(a+=M^_>=0?1:-1)}if(!g++)break;d=v,p=b,m=x,f=e}}return(o<-ke||o<ke&&An<-ke)^1&a}(u,m);s.length?(b||(a.polygonStart(),b=!0),Gn(s,Qn,t,r,a)):t&&(b||(a.polygonStart(),b=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),b&&(a.polygonEnd(),b=!1),s=m=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function f(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function d(e,t){var n=o(e,t);l.point(n[0],n[1])}function h(){c.point=d,l.lineStart()}function p(){c.point=f,l.lineEnd()}var m,g,v=Jn(),y=n(v),b=!1;function x(e,t){g.push([e,t]);var n=o(e,t);y.point(n[0],n[1])}function _(){y.lineStart(),g=[]}function w(){x(g[0][0],g[0][1]),y.lineEnd();var e,t=y.clean(),n=v.buffer(),r=n.length;if(g.pop(),m.push(g),g=null,r)if(1&t){var i,o=-1;if((r=(e=n[0]).length-1)>0){for(b||(a.polygonStart(),b=!0),a.lineStart();++o<r;)a.point((i=e[o])[0],i[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(Kn))}return c}}function Kn(e){return e.length>1}function Jn(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:L,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Qn(e,t){return((e=e.x)[0]<0?e[1]-Ae-ke:Ae-e[1])-((t=t.x)[0]<0?t[1]-Ae-ke:Ae-t[1])}var er=Zn(Yn,(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?Te:-Te,l=y(o-n);y(l-Te)<ke?(e.point(n,r=(r+a)/2>0?Ae:-Ae),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=Te&&(y(n-i)<ke&&(n-=i*ke),y(o-s)<ke&&(o-=s*ke),r=function(e,t,n,r){var i,o,a=Math.sin(e-n);return y(a)>ke?Math.atan((Math.sin(t)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*Ae,r.point(-Te,i),r.point(0,i),r.point(Te,i),r.point(Te,0),r.point(Te,-i),r.point(0,-i),r.point(-Te,-i),r.point(-Te,0),r.point(-Te,i);else if(y(e[0]-t[0])>ke){var o=e[0]<t[0]?Te:-Te;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-Te,-Te/2]);function tr(e,t,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,u=a.y,c=0,f=1,d=s.x-l,h=s.y-u;if(o=e-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>c&&(c=o)}if(o=n-l,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<f&&(f=o)}if(o=t-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}return c>0&&(i.a={x:l+c*d,y:u+c*h}),f<1&&(i.b={x:l+f*d,y:u+f*h}),i}}}}}}var nr=1e9;function rr(t,n,r,i){return function(l){var u,c,f,d,h,p,m,g,v,y,b,x=l,_=Jn(),w=tr(t,n,r,i),k={point:S,lineStart:function(){k.point=E,c&&c.push(f=[]),y=!0,v=!1,m=g=NaN},lineEnd:function(){u&&(E(d,h),p&&v&&_.rejoin(),u.push(_.buffer())),k.point=S,v&&l.lineEnd()},polygonStart:function(){l=_,u=[],c=[],b=!0},polygonEnd:function(){l=x,u=e.merge(u);var n=function(e){for(var t=0,n=c.length,r=e[1],i=0;i<n;++i)for(var o,a=1,s=c[i],l=s.length,u=s[0];a<l;++a)o=s[a],u[1]<=r?o[1]>r&&De(u,o,e)>0&&++t:o[1]<=r&&De(u,o,e)<0&&--t,u=o;return 0!==t}([t,i]),r=b&&n,o=u.length;(r||o)&&(l.polygonStart(),r&&(l.lineStart(),M(null,null,1,l),l.lineEnd()),o&&Gn(u,a,n,M,l),l.polygonEnd()),u=c=f=null}};function M(e,a,l,u){var c=0,f=0;if(null==e||(c=o(e,l))!==(f=o(a,l))||s(e,a)<0^l>0)do{u.point(0===c||3===c?t:r,c>1?i:n)}while((c=(c+l+4)%4)!==f);else u.point(a[0],a[1])}function T(e,o){return t<=e&&e<=r&&n<=o&&o<=i}function S(e,t){T(e,t)&&l.point(e,t)}function E(e,t){var n=T(e=Math.max(-nr,Math.min(nr,e)),t=Math.max(-nr,Math.min(nr,t)));if(c&&f.push([e,t]),y)d=e,h=t,p=n,y=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&v)l.point(e,t);else{var r={a:{x:m,y:g},b:{x:e,y:t}};w(r)?(v||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),b=!1):n&&(l.lineStart(),l.point(e,t),b=!1)}m=e,g=t,v=n}return k};function o(e,i){return y(e[0]-t)<ke?i>0?0:3:y(e[0]-r)<ke?i>0?2:1:y(e[1]-n)<ke?i>0?1:0:i>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function ir(e){var t=0,n=Te/3,r=Ar(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Te/180,n=e[1]*Te/180):[t/Te*180,n/Te*180]},i}function or(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),o-n*Math.cos(e)]}return a.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/r,Re((i-(e*e+n*n)*r*r)/(2*r))]},a}e.geo.clipExtent=function(){var e,t,n,r,i,o,a={stream:function(e){return i&&(i.valid=!1),(i=o(e)).valid=!0,i},extent:function(s){return arguments.length?(o=rr(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[e,t],[n,r]]}};return a.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return ir(or)}).raw=or,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){var t,n,r,i,o=e.geo.albers(),a=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function u(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}return u.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(e)},u.stream=function(e){var t=o.stream(e),n=a.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),u):o.precision()},u.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),u.translate(o.translate())):o.scale()},u.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),c=+e[0],f=+e[1];return n=o.translate(e).clipExtent([[c-.455*t,f-.238*t],[c+.455*t,f+.238*t]]).stream(l).point,r=a.translate([c-.307*t,f+.201*t]).clipExtent([[c-.425*t+ke,f+.12*t+ke],[c-.214*t-ke,f+.234*t-ke]]).stream(l).point,i=s.translate([c-.205*t,f+.212*t]).clipExtent([[c-.214*t+ke,f+.166*t+ke],[c-.115*t-ke,f+.234*t-ke]]).stream(l).point,u},u.scale(1070)};var ar,sr,lr,ur,cr,fr,dr={point:L,lineStart:L,lineEnd:L,polygonStart:function(){sr=0,dr.lineStart=hr},polygonEnd:function(){dr.lineStart=dr.lineEnd=dr.point=L,ar+=y(sr/2)}};function hr(){var e,t,n,r;function i(e,t){sr+=r*e-n*t,n=e,r=t}dr.point=function(o,a){dr.point=i,e=n=o,t=r=a},dr.lineEnd=function(){i(e,t)}}var pr={point:function(e,t){e<lr&&(lr=e),e>cr&&(cr=e),t<ur&&(ur=t),t>fr&&(fr=t)},lineStart:L,lineEnd:L,polygonStart:L,polygonEnd:L};function mr(){var e=gr(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=gr(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=o}function o(e,n){t.push("L",e,",",n)}function a(){n.point=r}function s(){t.push("Z")}return n}function gr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var vr,yr={point:br,lineStart:xr,lineEnd:_r,polygonStart:function(){yr.lineStart=wr},polygonEnd:function(){yr.point=br,yr.lineStart=xr,yr.lineEnd=_r}};function br(e,t){bn+=e,xn+=t,++_n}function xr(){var e,t;function n(n,r){var i=n-e,o=r-t,a=Math.sqrt(i*i+o*o);wn+=a*(e+n)/2,kn+=a*(t+r)/2,Mn+=a,br(e=n,t=r)}yr.point=function(r,i){yr.point=n,br(e=r,t=i)}}function _r(){yr.point=br}function wr(){var e,t,n,r;function i(e,t){var i=e-n,o=t-r,a=Math.sqrt(i*i+o*o);wn+=a*(n+e)/2,kn+=a*(r+t)/2,Mn+=a,Tn+=(a=r*e-n*t)*(n+e),Sn+=a*(r+t),En+=3*a,br(n=e,r=t)}yr.point=function(o,a){yr.point=i,br(e=n=o,t=r=a)},yr.lineEnd=function(){i(e,t)}}function kr(e){var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=e,n},result:L};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Se)}function i(t,r){e.moveTo(t,r),n.point=o}function o(t,n){e.lineTo(t,n)}function a(){n.point=r}function s(){e.closePath()}return n}function Mr(e){var t=.5,n=Math.cos(30*Oe),r=16;function i(t){return(r?function(t){var n,i,a,s,l,u,c,f,d,h,p,m,g={point:v,lineStart:y,lineEnd:x,polygonStart:function(){t.polygonStart(),g.lineStart=_},polygonEnd:function(){t.polygonEnd(),g.lineStart=y}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function y(){f=NaN,g.point=b,t.lineStart()}function b(n,i){var a=Nn([n,i]),s=e(n,i);o(f,d,c,h,p,m,f=s[0],d=s[1],c=n,h=a[0],p=a[1],m=a[2],r,t),t.point(f,d)}function x(){g.point=v,t.lineEnd()}function _(){y(),g.point=w,g.lineEnd=k}function w(e,t){b(n=e,t),i=f,a=d,s=h,l=p,u=m,g.point=b}function k(){o(f,d,c,h,p,m,i,a,n,s,l,u,r,t),g.lineEnd=x,x()}return g}:function(t){return Sr(t,(function(n,r){n=e(n,r),t.point(n[0],n[1])}))})(t)}function o(r,i,a,s,l,u,c,f,d,h,p,m,g,v){var b=c-r,x=f-i,_=b*b+x*x;if(_>4*t&&g--){var w=s+h,k=l+p,M=u+m,T=Math.sqrt(w*w+k*k+M*M),S=Math.asin(M/=T),E=y(y(M)-1)<ke||y(a-d)<ke?(a+d)/2:Math.atan2(k,w),A=e(E,S),O=A[0],C=A[1],N=O-r,D=C-i,P=x*N-b*D;(P*P/_>t||y((b*N+x*D)/_-.5)>.3||s*h+l*p+u*m<n)&&(o(r,i,a,s,l,u,O,C,E,w/=T,k/=T,M,g,v),v.point(O,C),o(O,C,E,w,k,M,c,f,d,h,p,m,g,v))}}return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function Tr(e){this.stream=e}function Sr(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Er(e){return Ar((function(){return e}))()}function Ar(t){var n,r,i,o,a,s,l=Mr((function(e,t){return[(e=n(e,t))[0]*u+o,a-e[1]*u]})),u=150,c=480,f=250,d=0,h=0,p=0,m=0,g=0,v=er,b=N,x=null,_=null;function w(e){return[(e=i(e[0]*Oe,e[1]*Oe))[0]*u+o,a-e[1]*u]}function k(e){return(e=i.invert((e[0]-o)/u,(a-e[1])/u))&&[e[0]*Ce,e[1]*Ce]}function M(){i=Wn(r=Dr(p,m,g),n);var e=n(d,h);return o=c-e[0]*u,a=f+e[1]*u,T()}function T(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Or(v(r,l(b(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(v=null==e?(x=e,er):function(e){var t=Math.cos(e),n=t>0,r=y(t)>ke;return Zn(i,(function(e){var t,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,d){var h,p=[f,d],m=i(f,d),g=n?m?0:a(f,d):m?a(f+(f<0?Te:-Te),d):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(h=o(t,p),(zn(t,h)||zn(p,h))&&(p[0]+=ke,p[1]+=ke,m=i(p[0],p[1]))),m!==l)c=0,m?(e.lineStart(),h=o(p,t),e.point(h[0],h[1])):(h=o(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(r&&t&&n^m){var v;g&s||!(v=o(p,t,!0))||(c=0,n?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||t&&zn(t,p)||e.point(p[0],p[1]),t=p,l=m,s=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),Ir(e,6*Oe),n?[0,-e]:[-Te,e-Te]);function i(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e,n,r){var i=[1,0,0],o=Pn(Nn(e),Nn(n)),a=Dn(o,o),s=o[0],l=a-s*s;if(!l)return!r&&e;var u=t*a/l,c=-t*s/l,f=Pn(i,o),d=Ln(i,u);Rn(d,Ln(o,c));var h=f,p=Dn(d,h),m=Dn(h,h),g=p*p-m*(Dn(d,d)-1);if(!(g<0)){var v=Math.sqrt(g),b=Ln(h,(-p-v)/m);if(Rn(b,d),b=jn(b),!r)return b;var x,_=e[0],w=n[0],k=e[1],M=n[1];w<_&&(x=_,_=w,w=x);var T=w-_,S=y(T-Te)<ke;if(!S&&M<k&&(x=k,k=M,M=x),S||T<ke?S?k+M>0^b[1]<(y(b[0]-_)<ke?k:M):k<=b[1]&&b[1]<=M:T>Te^(_<=b[0]&&b[0]<=w)){var E=Ln(h,(-p+v)/m);return Rn(E,d),[b,jn(E)]}}}function a(t,r){var i=n?e:Te-e,o=0;return t<-i?o|=1:t>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}((x=+e)*Oe),T()):x},w.clipExtent=function(e){return arguments.length?(_=e,b=e?rr(e[0][0],e[0][1],e[1][0],e[1][1]):N,T()):_},w.scale=function(e){return arguments.length?(u=+e,M()):u},w.translate=function(e){return arguments.length?(c=+e[0],f=+e[1],M()):[c,f]},w.center=function(e){return arguments.length?(d=e[0]%360*Oe,h=e[1]%360*Oe,M()):[d*Ce,h*Ce]},w.rotate=function(e){return arguments.length?(p=e[0]%360*Oe,m=e[1]%360*Oe,g=e.length>2?e[2]%360*Oe:0,M()):[p*Ce,m*Ce,g*Ce]},e.rebind(w,l,"precision"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&k,M()}}function Or(e){return Sr(e,(function(t,n){e.point(t*Oe,n*Oe)}))}function Cr(e,t){return[e,t]}function Nr(e,t){return[e>Te?e-Se:e<-Te?e+Se:e,t]}function Dr(e,t,n){return e?t||n?Wn(Rr(e),Lr(t,n)):Rr(e):t||n?Lr(t,n):Nr}function Pr(e){return function(t,n){return[(t+=e)>Te?t-Se:t<-Te?t+Se:t,n]}}function Rr(e){var t=Pr(e);return t.invert=Pr(-e),t}function Lr(e,t){var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),o=Math.sin(t);function a(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,u=Math.sin(t),c=u*n+s*r;return[Math.atan2(l*i-c*o,s*n-u*r),Re(c*i+l*o)]}return a.invert=function(e,t){var a=Math.cos(t),s=Math.cos(e)*a,l=Math.sin(e)*a,u=Math.sin(t),c=u*i-l*o;return[Math.atan2(l*i+u*o,s*n+c*r),Re(c*n-s*r)]},a}function Ir(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,o,a,s){var l=a*t;null!=i?(i=jr(n,i),o=jr(n,o),(a>0?i<o:i>o)&&(i+=a*Se)):(i=e+a*Se,o=e-.5*l);for(var u,c=i;a>0?c>o:c<o;c-=l)s.point((u=jn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function jr(e,t){var n=Nn(t);n[0]-=e,In(n);var r=Pe(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-ke)%(2*Math.PI)}function zr(t,n,r){var i=e.range(t,n-ke,r).concat(n);return function(e){return i.map((function(t){return[e,t]}))}}function Fr(t,n,r){var i=e.range(t,n-ke,r).concat(n);return function(e){return i.map((function(t){return[t,e]}))}}function Br(e){return e.source}function Ur(e){return e.target}e.geo.path=function(){var t,n,r,i,o,a=4.5;function s(t){return t&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(i)),e.geo.stream(t,o)),i.result()}function l(){return o=null,s}return s.area=function(t){return ar=0,e.geo.stream(t,r(dr)),ar},s.centroid=function(t){return bn=xn=_n=wn=kn=Mn=Tn=Sn=En=0,e.geo.stream(t,r(yr)),En?[Tn/En,Sn/En]:Mn?[wn/Mn,kn/Mn]:_n?[bn/_n,xn/_n]:[NaN,NaN]},s.bounds=function(t){return cr=fr=-(lr=ur=1/0),e.geo.stream(t,r(pr)),[[lr,ur],[cr,fr]]},s.projection=function(e){return arguments.length?(r=(t=e)?e.stream||(n=e,i=Mr((function(e,t){return n([e*Ce,t*Ce])})),function(e){return Or(i(e))}):N,l()):t;var n,i},s.context=function(e){return arguments.length?(i=null==(n=e)?new mr:new kr(e),"function"!=typeof a&&i.pointRadius(a),l()):n},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(i.pointRadius(+e),+e),s):a},s.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(e){return{stream:function(t){var n=new Tr(t);for(var r in e)n[r]=e[r];return n}}},Tr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=Er,e.geo.projectionMutator=Ar,(e.geo.equirectangular=function(){return Er(Cr)}).raw=Cr.invert=Cr,e.geo.rotation=function(e){function t(t){return(t=e(t[0]*Oe,t[1]*Oe))[0]*=Ce,t[1]*=Ce,t}return e=Dr(e[0]%360*Oe,e[1]*Oe,e.length>2?e[2]*Oe:0),t.invert=function(t){return(t=e.invert(t[0]*Oe,t[1]*Oe))[0]*=Ce,t[1]*=Ce,t},t},Nr.invert=Cr,e.geo.circle=function(){var e,t,n=[0,0],r=6;function i(){var e="function"==typeof n?n.apply(this,arguments):n,r=Dr(-e[0]*Oe,-e[1]*Oe,0).invert,i=[];return t(null,null,1,{point:function(e,t){i.push(e=r(e,t)),e[0]*=Ce,e[1]*=Ce}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(n=e,i):n},i.angle=function(n){return arguments.length?(t=Ir((e=+n)*Oe,r*Oe),i):e},i.precision=function(n){return arguments.length?(t=Ir(e*Oe,(r=+n)*Oe),i):r},i.angle(90)},e.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Oe,i=e[1]*Oe,o=t[1]*Oe,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=u*c-l*f*s)*n),l*c+u*f*s)},e.geo.graticule=function(){var t,n,r,i,o,a,s,l,u,c,f,d,h=10,p=h,m=90,g=360,v=2.5;function b(){return{type:"MultiLineString",coordinates:x()}}function x(){return e.range(Math.ceil(i/m)*m,r,m).map(f).concat(e.range(Math.ceil(l/g)*g,s,g).map(d)).concat(e.range(Math.ceil(n/h)*h,t,h).filter((function(e){return y(e%m)>ke})).map(u)).concat(e.range(Math.ceil(a/p)*p,o,p).filter((function(e){return y(e%g)>ke})).map(c))}return b.lines=function(){return x().map((function(e){return{type:"LineString",coordinates:e}}))},b.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(d(s).slice(1),f(r).reverse().slice(1),d(l).reverse().slice(1))]}},b.extent=function(e){return arguments.length?b.majorExtent(e).minorExtent(e):b.minorExtent()},b.majorExtent=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],l=+e[0][1],s=+e[1][1],i>r&&(e=i,i=r,r=e),l>s&&(e=l,l=s,s=e),b.precision(v)):[[i,l],[r,s]]},b.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),a>o&&(e=a,a=o,o=e),b.precision(v)):[[n,a],[t,o]]},b.step=function(e){return arguments.length?b.majorStep(e).minorStep(e):b.minorStep()},b.majorStep=function(e){return arguments.length?(m=+e[0],g=+e[1],b):[m,g]},b.minorStep=function(e){return arguments.length?(h=+e[0],p=+e[1],b):[h,p]},b.precision=function(e){return arguments.length?(v=+e,u=zr(a,o,90),c=Fr(n,t,v),f=zr(l,s,90),d=Fr(i,r,v),b):v},b.majorExtent([[-180,-90+ke],[180,90-ke]]).minorExtent([[-180,-80-ke],[180,80+ke]])},e.geo.greatArc=function(){var t,n,r=Br,i=Ur;function o(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}return o.distance=function(){return e.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},o.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,o):r},o.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,o):i},o.precision=function(){return arguments.length?o:0},o},e.geo.interpolate=function(e,t){return n=e[0]*Oe,r=e[1]*Oe,i=t[0]*Oe,o=t[1]*Oe,a=Math.cos(r),s=Math.sin(r),l=Math.cos(o),u=Math.sin(o),c=a*Math.cos(n),f=a*Math.sin(n),d=l*Math.cos(i),h=l*Math.sin(i),p=2*Math.asin(Math.sqrt(Ie(o-r)+a*l*Ie(i-n))),m=1/Math.sin(p),(g=p?function(e){var t=Math.sin(e*=p)*m,n=Math.sin(p-e)*m,r=n*c+t*d,i=n*f+t*h,o=n*s+t*u;return[Math.atan2(i,r)*Ce,Math.atan2(o,Math.sqrt(r*r+i*i))*Ce]}:function(){return[n*Ce,r*Ce]}).distance=p,g;var n,r,i,o,a,s,l,u,c,f,d,h,p,m,g},e.geo.length=function(t){return vr=0,e.geo.stream(t,Hr),vr};var Hr={sphere:L,point:L,lineStart:function(){var e,t,n;function r(r,i){var o=Math.sin(i*=Oe),a=Math.cos(i),s=y((r*=Oe)-e),l=Math.cos(s);vr+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=n*o-t*a*l)*s),t*o+n*a*l),e=r,t=o,n=a}Hr.point=function(i,o){e=i*Oe,t=Math.sin(o*=Oe),n=Math.cos(o),Hr.point=r},Hr.lineEnd=function(){Hr.point=Hr.lineEnd=L}},lineEnd:L,polygonStart:L,polygonEnd:L};function qr(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),o=e(r*i);return[o*i*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(e*o,r*a),Math.asin(r&&n*o/r)]},n}var Vr=qr((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(e.geo.azimuthalEqualArea=function(){return Er(Vr)}).raw=Vr;var Wr=qr((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),N);function Yr(e,t){var n=Math.cos(e),r=function(e){return Math.tan(Te/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),o=n*Math.pow(r(e),i)/i;if(!i)return $r;function a(e,t){o>0?t<-Ae+ke&&(t=-Ae+ke):t>Ae-ke&&(t=Ae-ke);var n=o/Math.pow(r(t),i);return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}return a.invert=function(e,t){var n=o-t,r=Ne(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Ae]},a}function Gr(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;if(y(r)<ke)return Cr;function o(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}return o.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-Ne(r)*Math.sqrt(e*e+n*n)]},o}(e.geo.azimuthalEquidistant=function(){return Er(Wr)}).raw=Wr,(e.geo.conicConformal=function(){return ir(Yr)}).raw=Yr,(e.geo.conicEquidistant=function(){return ir(Gr)}).raw=Gr;var Xr=qr((function(e){return 1/e}),Math.atan);function $r(e,t){return[e,Math.log(Math.tan(Te/4+t/2))]}function Zr(e){var t,n=Er(e),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var a=o.apply(n,arguments);if(a===n){if(t=null==e){var s=Te*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(a=null);return a},n.clipExtent(null)}(e.geo.gnomonic=function(){return Er(Xr)}).raw=Xr,$r.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Ae]},(e.geo.mercator=function(){return Zr($r)}).raw=$r;var Kr=qr((function(){return 1}),Math.asin);(e.geo.orthographic=function(){return Er(Kr)}).raw=Kr;var Jr=qr((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function Qr(e,t){return[Math.log(Math.tan(Te/4+t/2)),-e]}function ei(e){return e[0]}function ti(e){return e[1]}function ni(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&De(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ri(e,t){return e[0]-t[0]||e[1]-t[1]}(e.geo.stereographic=function(){return Er(Jr)}).raw=Jr,Qr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Ae]},(e.geo.transverseMercator=function(){var e=Zr(Qr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=Qr,e.geom={},e.geom.hull=function(e){var t=ei,n=ti;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,i=mt(t),o=mt(n),a=e.length,s=[],l=[];for(r=0;r<a;r++)s.push([+i.call(this,e[r],r),+o.call(this,e[r],r),r]);for(s.sort(ri),r=0;r<a;r++)l.push([s[r][0],-s[r][1]]);var u=ni(s),c=ni(l),f=c[0]===u[0],d=c[c.length-1]===u[u.length-1],h=[];for(r=u.length-1;r>=0;--r)h.push(e[s[u[r]][2]]);for(r=+f;r<c.length-d;++r)h.push(e[s[c[r]][2]]);return h}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},e.geom.polygon=function(e){return H(e,ii),e};var ii=e.geom.polygon.prototype=[];function oi(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function ai(e,t,n,r){var i=e[0],o=n[0],a=t[0]-i,s=r[0]-o,l=e[1],u=n[1],c=t[1]-l,f=r[1]-u,d=(s*(l-u)-f*(i-o))/(f*a-s*c);return[i+d*a,l+d*c]}function si(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}ii.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},ii.centroid=function(e){var t,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},ii.clip=function(e){for(var t,n,r,i,o,a,s=si(e),l=-1,u=this.length-si(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,i=this[l],o=t[(r=t.length-s)-1],n=-1;++n<r;)oi(a=t[n],c,i)?(oi(o,c,i)||e.push(ai(o,a,c,i)),e.push(a)):oi(o,c,i)&&e.push(ai(o,a,c,i)),o=a;s&&e.push(e[0]),c=i}return e};var li,ui,ci,fi,di,hi=[],pi=[];function mi(){Pi(this),this.edge=this.site=this.circle=null}function gi(e){var t=hi.pop()||new mi;return t.site=e,t}function vi(e){Si(e),ci.remove(e),hi.push(e),Pi(e)}function yi(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},o=e.P,a=e.N,s=[e];vi(e);for(var l=o;l.circle&&y(n-l.circle.x)<ke&&y(r-l.circle.cy)<ke;)o=l.P,s.unshift(l),vi(l),l=o;s.unshift(l),Si(l);for(var u=a;u.circle&&y(n-u.circle.x)<ke&&y(r-u.circle.cy)<ke;)a=u.N,s.push(u),vi(u),u=a;s.push(u),Si(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],Ci(u.edge,l.site,u.site,i);l=s[0],(u=s[f-1]).edge=Oi(l.site,u.site,null,i),Ti(l),Ti(u)}function bi(e){for(var t,n,r,i,o=e.x,a=e.y,s=ci._;s;)if((r=xi(s,a)-o)>ke)s=s.L;else{if(!((i=o-_i(s,a))>ke)){r>-ke?(t=s.P,n=s):i>-ke?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=gi(e);if(ci.insert(t,l),t||n){if(t===n)return Si(t),n=gi(t.site),ci.insert(l,n),l.edge=n.edge=Oi(t.site,l.site),Ti(t),void Ti(n);if(n){Si(t),Si(n);var u=t.site,c=u.x,f=u.y,d=e.x-c,h=e.y-f,p=n.site,m=p.x-c,g=p.y-f,v=2*(d*g-h*m),y=d*d+h*h,b=m*m+g*g,x={x:(g*y-h*b)/v+c,y:(d*b-m*y)/v+f};Ci(n.edge,u,p,x),l.edge=Oi(u,e,null,x),n.edge=Oi(e,p,null,x),Ti(t),Ti(n)}else l.edge=Oi(t.site,l.site)}}function xi(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,u=l-t;if(!u)return s;var c=s-r,f=1/o-1/u,d=c/u;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*u)-l+u/2+i-o/2)))/f+r:(r+s)/2}function _i(e,t){var n=e.N;if(n)return xi(n,t);var r=e.site;return r.y===t?r.x:1/0}function wi(e){this.site=e,this.edges=[]}function ki(e,t){return t.angle-e.angle}function Mi(){Pi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ti(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,f=2*(l*(g=o.y-s)-u*c);if(!(f>=-Me)){var d=l*l+u*u,h=c*c+g*g,p=(g*d-u*h)/f,m=(l*h-c*d)/f,g=m+s,v=pi.pop()||new Mi;v.arc=e,v.site=i,v.x=p+a,v.y=g+Math.sqrt(p*p+m*m),v.cy=g,e.circle=v;for(var y=null,b=di._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}di.insert(y,v),y||(fi=v)}}}}function Si(e){var t=e.circle;t&&(t.P||(fi=t.N),di.remove(t),pi.push(t),Pi(t),e.circle=null)}function Ei(e,t){var n=e.b;if(n)return!0;var r,i,o=e.a,a=t[0][0],s=t[1][0],l=t[0][1],u=t[1][1],c=e.l,f=e.r,d=c.x,h=c.y,p=f.x,m=f.y,g=(d+p)/2,v=(h+m)/2;if(m===h){if(g<a||g>=s)return;if(d>p){if(o){if(o.y>=u)return}else o={x:g,y:l};n={x:g,y:u}}else{if(o){if(o.y<l)return}else o={x:g,y:u};n={x:g,y:l}}}else if(i=v-(r=(d-p)/(m-h))*g,r<-1||r>1)if(d>p){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(h<m){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return e.a=o,e.b=n,!0}function Ai(e,t){this.l=e,this.r=t,this.a=this.b=null}function Oi(e,t,n,r){var i=new Ai(e,t);return li.push(i),n&&Ci(i,e,t,n),r&&Ci(i,t,e,r),ui[e.i].edges.push(new Ni(i,e,t)),ui[t.i].edges.push(new Ni(i,t,e)),i}function Ci(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Ni(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Di(){this._=null}function Pi(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Ri(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Li(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ii(e){for(;e.L;)e=e.L;return e}function ji(e,t){var n,r,i,o=e.sort(zi).pop();for(li=[],ui=new Array(e.length),ci=new Di,di=new Di;;)if(i=fi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(ui[o.i]=new wi(o),bi(o),n=o.x,r=o.y),o=e.pop();else{if(!i)break;yi(i.arc)}t&&(function(e){for(var t,n=li,r=tr(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!Ei(t=n[i],e)||!r(t)||y(t.a.x-t.b.x)<ke&&y(t.a.y-t.b.y)<ke)&&(t.a=t.b=null,n.splice(i,1))}(t),function(e){for(var t,n,r,i,o,a,s,l,u,c,f=e[0][0],d=e[1][0],h=e[0][1],p=e[1][1],m=ui,g=m.length;g--;)if((o=m[g])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)r=(c=s[a].end()).x,i=c.y,t=(u=s[++a%l].start()).x,n=u.y,(y(r-t)>ke||y(i-n)>ke)&&(s.splice(a,0,new Ni((v=o.site,b=c,x=y(r-f)<ke&&p-i>ke?{x:f,y:y(t-f)<ke?n:p}:y(i-p)<ke&&d-r>ke?{x:y(n-p)<ke?t:d,y:p}:y(r-d)<ke&&i-h>ke?{x:d,y:y(t-d)<ke?n:h}:y(i-h)<ke&&r-f>ke?{x:y(n-h)<ke?t:f,y:h}:null,_=void 0,(_=new Ai(v,null)).a=b,_.b=x,li.push(_),_),o.site,null)),++l);var v,b,x,_}(t));var a={cells:ui,edges:li};return ci=di=li=ui=null,a}function zi(e,t){return t.y-e.y||t.x-e.x}wi.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(ki),t.length},Ni.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Di.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Ii(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Ri(this,n),n=(e=n).U),n.C=!1,r.C=!0,Li(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Li(this,n),n=(e=n).U),n.C=!1,r.C=!0,Ri(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?Ii(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Ri(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Li(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Ri(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Li(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Ri(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Li(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},e.geom.voronoi=function(e){var t=ei,n=ti,r=t,i=n,o=Fi;if(e)return a(e);function a(e){var t=new Array(e.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return ji(s(e),o).cells.forEach((function(o,s){var l=o.edges,u=o.site;(t[s]=l.length?l.map((function(e){var t=e.start();return[t.x,t.y]})):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=e[s]})),t}function s(e){return e.map((function(e,t){return{x:Math.round(r(e,t)/ke)*ke,y:Math.round(i(e,t)/ke)*ke,i:t}}))}return a.links=function(e){return ji(s(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},a.triangles=function(e){var t=[];return ji(s(e)).cells.forEach((function(n,r){for(var i,o,a,s,l=n.site,u=n.edges.sort(ki),c=-1,f=u.length,d=u[f-1].edge,h=d.l===l?d.r:d.l;++c<f;)i=h,h=(d=u[c].edge).l===l?d.r:d.l,r<i.i&&r<h.i&&(a=i,s=h,((o=l).x-s.x)*(a.y-o.y)-(o.x-a.x)*(s.y-o.y)<0)&&t.push([e[r],e[i.i],e[h.i]])})),t},a.x=function(e){return arguments.length?(r=mt(t=e),a):t},a.y=function(e){return arguments.length?(i=mt(n=e),a):n},a.clipExtent=function(e){return arguments.length?(o=null==e?Fi:e,a):o===Fi?null:o},a.size=function(e){return arguments.length?a.clipExtent(e&&[[0,0],e]):o===Fi?null:o&&o[1]},a};var Fi=[[-1e6,-1e6],[1e6,1e6]];function Bi(e){return e.x}function Ui(e){return e.y}function Hi(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,i=t.g,o=t.b,a=n.r-r,s=n.g-i,l=n.b-o;return function(e){return"#"+lt(Math.round(r+a*e))+lt(Math.round(i+s*e))+lt(Math.round(o+l*e))}}function qi(e,t){var n,r={},i={};for(n in e)n in t?r[n]=Xi(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function Vi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Wi(e,t){var n,r,i,o=Yi.lastIndex=Gi.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=Yi.exec(e))&&(r=Gi.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Vi(n,r)})),o=Gi.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(e,t,n,r,i){var o,a=ei,s=ti;if(o=arguments.length)return a=Bi,s=Ui,3===o&&(i=n,r=t,n=t=0),l(e);function l(e){var l,u,c,f,d,h,p,m,g,v=mt(a),b=mt(s);if(null!=t)h=t,p=n,m=r,g=i;else if(m=g=-(h=p=1/0),u=[],c=[],d=e.length,o)for(f=0;f<d;++f)(l=e[f]).x<h&&(h=l.x),l.y<p&&(p=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),u.push(l.x),c.push(l.y);else for(f=0;f<d;++f){var x=+v(l=e[f],f),_=+b(l,f);x<h&&(h=x),_<p&&(p=_),x>m&&(m=x),_>g&&(g=_),u.push(x),c.push(_)}var w=m-h,k=g-p;function M(e,t,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(y(l-n)+y(u-r)<.01)T(e,t,n,r,i,o,a,s);else{var c=e.point;e.x=e.y=e.point=null,T(e,c,l,u,i,o,a,s),T(e,t,n,r,i,o,a,s)}else e.x=n,e.y=r,e.point=t}else T(e,t,n,r,i,o,a,s)}function T(e,t,n,r,i,o,a,s){var l=.5*(i+a),u=.5*(o+s),c=n>=l,f=r>=u,d=f<<1|c;e.leaf=!1,c?i=l:a=l,f?o=u:s=u,M(e=e.nodes[d]||(e.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){M(S,e,+v(e,++f),+b(e,f),h,p,m,g)}}),t,n,r,i,o,a,s)}w>k?g=p+w:m=h+k;var S={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){M(S,e,+v(e,++f),+b(e,f),h,p,m,g)},visit:function(e){!function e(t,n,r,i,o,a){if(!t(n,r,i,o,a)){var s=.5*(r+o),l=.5*(i+a),u=n.nodes;u[0]&&e(t,u[0],r,i,s,l),u[1]&&e(t,u[1],s,i,o,l),u[2]&&e(t,u[2],r,l,s,a),u[3]&&e(t,u[3],s,l,o,a)}}(e,S,h,p,m,g)},find:function(e){return function(e,t,n,r,i,o,a){var s,l=1/0;return function e(u,c,f,d,h){if(!(c>o||f>a||d<r||h<i)){if(p=u.point){var p,m=t-u.x,g=n-u.y,v=m*m+g*g;if(v<l){var y=Math.sqrt(l=v);r=t-y,i=n-y,o=t+y,a=n+y,s=p}}for(var b=u.nodes,x=.5*(c+d),_=.5*(f+h),w=(n>=_)<<1|t>=x,k=w+4;w<k;++w)if(u=b[3&w])switch(3&w){case 0:e(u,c,f,x,_);break;case 1:e(u,x,f,d,_);break;case 2:e(u,c,_,x,h);break;case 3:e(u,x,_,d,h)}}}(e,r,i,o,a),s}(S,e[0],e[1],h,p,m,g)}};if(f=-1,null==t){for(;++f<d;)M(S,e[f],u[f],c[f],h,p,m,g);--f}else e.forEach(S.add);return u=c=e=l=null,S}return l.x=function(e){return arguments.length?(a=e,l):a},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),l):null==t?null:[[t,n],[r,i]]},l.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),l):null==t?null:[r-t,i-n]},l},e.interpolateRgb=Hi,e.interpolateObject=qi,e.interpolateNumber=Vi,e.interpolateString=Wi;var Yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gi=new RegExp(Yi.source,"g");function Xi(t,n){for(var r,i=e.interpolators.length;--i>=0&&!(r=e.interpolators[i](t,n)););return r}function $i(e,t){var n,r=[],i=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(Xi(e[n],t[n]));for(;n<o;++n)i[n]=e[n];for(;n<a;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}e.interpolate=Xi,e.interpolators=[function(e,t){var n=typeof t;return("string"===n?pt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Hi:Wi:t instanceof Ue?Hi:Array.isArray(t)?$i:"object"===n&&isNaN(t)?qi:Vi)(e,t)}],e.interpolateArray=$i;var Zi=function(){return N},Ki=e.map({linear:Zi,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return to},cubic:function(){return no},sin:function(){return io},exp:function(){return oo},circle:function(){return ao},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Se*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Se/t)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return so}}),Ji=e.map({in:N,out:Qi,"in-out":eo,"out-in":function(e){return eo(Qi(e))}});function Qi(e){return function(t){return 1-e(1-t)}}function eo(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function to(e){return e*e}function no(e){return e*e*e}function ro(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function io(e){return 1-Math.cos(e*Ae)}function oo(e){return Math.pow(2,10*(e-1))}function ao(e){return 1-Math.sqrt(1-e*e)}function so(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function lo(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function uo(e){var t,n,r,i=[e.a,e.b],o=[e.c,e.d],a=fo(i),s=co(i,o),l=fo(((t=o)[0]+=(r=-s)*(n=i)[0],t[1]+=r*n[1],t))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Ce,this.translate=[e.e,e.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Ce:0}function co(e,t){return e[0]*t[0]+e[1]*t[1]}function fo(e){var t=Math.sqrt(co(e,e));return t&&(e[0]/=t,e[1]/=t),t}e.ease=function(e){var t,r=e.indexOf("-"),i=r>=0?e.slice(0,r):e,o=r>=0?e.slice(r+1):"in";return i=Ki.get(i)||Zi,o=Ji.get(o)||N,t=o(i.apply(null,n.call(arguments,1))),function(e){return e<=0?0:e>=1?1:t(e)}},e.interpolateHcl=function(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,i=t.c,o=t.l,a=n.h-r,s=n.c-i,l=n.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?n.c:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(e){return Ge(r+a*e,i+s*e,o+l*e)+""}},e.interpolateHsl=function(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,i=t.s,o=t.l,a=n.h-r,s=n.s-i,l=n.l-o;return isNaN(s)&&(s=0,i=isNaN(i)?n.s:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(e){return Ve(r+a*e,i+s*e,o+l*e)+""}},e.interpolateLab=function(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,i=t.a,o=t.b,a=n.l-r,s=n.a-i,l=n.b-o;return function(e){return et(r+a*e,i+s*e,o+l*e)+""}},e.interpolateRound=lo,e.transform=function(t){var n=i.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new uo(t?t.matrix:ho)})(t)},uo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ho={a:1,b:0,c:0,d:1,e:0,f:0};function po(e){return e.length?e.pop()+",":""}function mo(t,n){var r=[],i=[];return t=e.transform(t),n=e.transform(n),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:Vi(e[0],t[0])},{i:i-2,x:Vi(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(t.translate,n.translate,r,i),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(po(n)+"rotate(",null,")")-2,x:Vi(e,t)})):t&&n.push(po(n)+"rotate("+t+")")}(t.rotate,n.rotate,r,i),function(e,t,n,r){e!==t?r.push({i:n.push(po(n)+"skewX(",null,")")-2,x:Vi(e,t)}):t&&n.push(po(n)+"skewX("+t+")")}(t.skew,n.skew,r,i),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(po(n)+"scale(",null,",",null,")");r.push({i:i-4,x:Vi(e[0],t[0])},{i:i-2,x:Vi(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(po(n)+"scale("+t+")")}(t.scale,n.scale,r,i),t=n=null,function(e){for(var t,n=-1,o=i.length;++n<o;)r[(t=i[n]).i]=t.x(e);return r.join("")}}function go(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function vo(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function yo(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;for(var n=bo(e),r=bo(t),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function bo(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function xo(e){e.fixed|=2}function _o(e){e.fixed&=-7}function wo(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ko(e){e.fixed&=-5}e.interpolateTransform=mo,e.layout={},e.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(yo(e[n]));return t}},e.layout.chord=function(){var t,n,r,i,o,a,s,l={},u=0;function c(){var l,c,d,h,p,m={},g=[],v=e.range(i),y=[];for(t=[],n=[],l=0,h=-1;++h<i;){for(c=0,p=-1;++p<i;)c+=r[h][p];g.push(c),y.push(e.range(i)),l+=c}for(o&&v.sort((function(e,t){return o(g[e],g[t])})),a&&y.forEach((function(e,t){e.sort((function(e,n){return a(r[t][e],r[t][n])}))})),l=(Se-u*i)/l,c=0,h=-1;++h<i;){for(d=c,p=-1;++p<i;){var b=v[h],x=y[b][p],_=r[b][x],w=c,k=c+=_*l;m[b+"-"+x]={index:b,subindex:x,startAngle:w,endAngle:k,value:_}}n[b]={index:b,startAngle:d,endAngle:c,value:g[b]},c+=u}for(h=-1;++h<i;)for(p=h-1;++p<i;){var M=m[h+"-"+p],T=m[p+"-"+h];(M.value||T.value)&&t.push(M.value<T.value?{source:T,target:M}:{source:M,target:T})}s&&f()}function f(){t.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return l.matrix=function(e){return arguments.length?(i=(r=e)&&r.length,t=n=null,l):r},l.padding=function(e){return arguments.length?(u=e,t=n=null,l):u},l.sortGroups=function(e){return arguments.length?(o=e,t=n=null,l):o},l.sortSubgroups=function(e){return arguments.length?(a=e,t=null,l):a},l.sortChords=function(e){return arguments.length?(s=e,t&&f(),l):s},l.chords=function(){return t||c(),t},l.groups=function(){return n||c(),n},l},e.layout.force=function(){var t,n,r,i,o,a,s={},l=e.dispatch("start","tick","end"),u=[1,1],c=.9,f=Mo,d=To,h=-30,p=So,m=.1,g=.64,v=[],y=[];function b(e){return function(t,n,r,i){if(t.point!==e){var o=t.cx-e.x,a=t.cy-e.y,s=i-n,l=o*o+a*a;if(s*s/g<l){if(l<p){var u=t.charge/l;e.px-=o*u,e.py-=a*u}return!0}t.point&&l&&l<p&&(u=t.pointCharge/l,e.px-=o*u,e.py-=a*u)}return!t.charge}}function x(t){t.px=e.event.x,t.py=e.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return t=null,l.end({type:"end",alpha:r=0}),!0;var n,s,f,d,p,g,x,_,w,k=v.length,M=y.length;for(s=0;s<M;++s)d=(f=y[s]).source,(g=(_=(p=f.target).x-d.x)*_+(w=p.y-d.y)*w)&&(_*=g=r*o[s]*((g=Math.sqrt(g))-i[s])/g,w*=g,p.x-=_*(x=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=w*x,d.x+=_*(x=1-x),d.y+=w*x);if((x=r*m)&&(_=u[0]/2,w=u[1]/2,s=-1,x))for(;++s<k;)(f=v[s]).x+=(_-f.x)*x,f.y+=(w-f.y)*x;if(h)for(function e(t,n,r){var i=0,o=0;if(t.charge=0,!t.leaf)for(var a,s=t.nodes,l=s.length,u=-1;++u<l;)null!=(a=s[u])&&(e(a,n,r),t.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=n*r[t.point.index];t.charge+=t.pointCharge=c,i+=c*t.point.x,o+=c*t.point.y}t.cx=i/t.charge,t.cy=o/t.charge}(n=e.geom.quadtree(v),r,a),s=-1;++s<k;)(f=v[s]).fixed||n.visit(b(f));for(s=-1;++s<k;)(f=v[s]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*c,f.y-=(f.py-(f.py=f.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(v=e,s):v},s.links=function(e){return arguments.length?(y=e,s):y},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(p=e*e,s):Math.sqrt(p)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:r=0})):e>0&&(l.start({type:"start",alpha:r=e}),t=kt(s.tick)),s):r},s.start=function(){var e,t,n,r=v.length,l=y.length,c=u[0],p=u[1];for(e=0;e<r;++e)(n=v[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=y[e]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<r;++e)n=v[e],isNaN(n.x)&&(n.x=m("x",c)),isNaN(n.y)&&(n.y=m("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof f)for(e=0;e<l;++e)i[e]=+f.call(this,y[e],e);else for(e=0;e<l;++e)i[e]=f;if(o=[],"function"==typeof d)for(e=0;e<l;++e)o[e]=+d.call(this,y[e],e);else for(e=0;e<l;++e)o[e]=d;if(a=[],"function"==typeof h)for(e=0;e<r;++e)a[e]=+h.call(this,v[e],e);else for(e=0;e<r;++e)a[e]=h;function m(n,i){if(!t){for(t=new Array(r),u=0;u<r;++u)t[u]=[];for(u=0;u<l;++u){var o=y[u];t[o.source.index].push(o.target),t[o.target.index].push(o.source)}}for(var a,s=t[e],u=-1,c=s.length;++u<c;)if(!isNaN(a=s[u][n]))return a;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=e.behavior.drag().origin(N).on("dragstart.force",xo).on("drag.force",x).on("dragend.force",_o)),!arguments.length)return n;this.on("mouseover.force",wo).on("mouseout.force",ko).call(n)},e.rebind(s,l,"on")};var Mo=20,To=1,So=1/0;function Eo(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=Po,t}function Ao(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Oo(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(o=e.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(e=r.pop());)t(e)}function Co(e){return e.children}function No(e){return e.value}function Do(e,t){return t.value-e.value}function Po(t){return e.merge(t.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}e.layout.hierarchy=function(){var e=Do,t=Co,n=No;function r(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=t.call(r,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=u}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Oo(i,(function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)})),s}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(Ao(e,(function(e){e.children&&(e.value=0)})),Oo(e,(function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)}))),e},r},e.layout.partition=function(){var t=e.layout.hierarchy(),n=[1,1];function r(e,r){var i=t.call(this,e,r);return function e(t,n,r,i){var o=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(r=t.value?r/t.value:0;++u<a;)e(s=o[u],n,l=s.value*r,i),n+=l}}(i[0],0,n[0],n[1]/function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}(i[0])),i}return r.size=function(e){return arguments.length?(n=e,r):n},Eo(r,t)},e.layout.pie=function(){var t=Number,n=Ro,r=0,i=Se,o=0;function a(s){var l,u=s.length,c=s.map((function(e,n){return+t.call(a,e,n)})),f=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-f,h=Math.min(Math.abs(d)/u,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(d<0?-1:1),m=e.sum(c),g=m?(d-u*p)/m:0,v=e.range(u),y=[];return null!=n&&v.sort(n===Ro?function(e,t){return c[t]-c[e]}:function(e,t){return n(s[e],s[t])}),v.forEach((function(e){y[e]={data:s[e],value:l=c[e],startAngle:f,endAngle:f+=l*g+p,padAngle:h}})),y}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(e){return arguments.length?(n=e,a):n},a.startAngle=function(e){return arguments.length?(r=e,a):r},a.endAngle=function(e){return arguments.length?(i=e,a):i},a.padAngle=function(e){return arguments.length?(o=e,a):o},a};var Ro={};function Lo(e){return e.x}function Io(e){return e.y}function jo(e,t,n){e.y0=t,e.y=n}e.layout.stack=function(){var t=N,n=Bo,r=Uo,i=jo,o=Lo,a=Io;function s(l,u){if(!(h=l.length))return l;var c=l.map((function(e,n){return t.call(s,e,n)})),f=c.map((function(e){return e.map((function(e,t){return[o.call(s,e,t),a.call(s,e,t)]}))})),d=n.call(s,f,u);c=e.permute(c,d),f=e.permute(f,d);var h,p,m,g,v=r.call(s,f,u),y=c[0].length;for(m=0;m<y;++m)for(i.call(s,c[0][m],g=v[m],f[0][m][1]),p=1;p<h;++p)i.call(s,c[p][m],g+=f[p-1][m][1],f[p][m][1]);return l}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(e){return arguments.length?(n="function"==typeof e?e:zo.get(e)||Bo,s):n},s.offset=function(e){return arguments.length?(r="function"==typeof e?e:Fo.get(e)||Uo,s):r},s.x=function(e){return arguments.length?(o=e,s):o},s.y=function(e){return arguments.length?(a=e,s):a},s.out=function(e){return arguments.length?(i=e,s):i},s};var zo=e.map({"inside-out":function(t){var n,r,i=t.length,o=t.map(Ho),a=t.map(qo),s=e.range(i).sort((function(e,t){return o[e]-o[t]})),l=0,u=0,c=[],f=[];for(n=0;n<i;++n)r=s[n],l<u?(l+=a[r],c.push(r)):(u+=a[r],f.push(r));return f.reverse().concat(c)},reverse:function(t){return e.range(t.length).reverse()},default:Bo}),Fo=e.map({silhouette:function(e){var t,n,r,i=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,r,i,o,a,s,l,u,c=e.length,f=e[0],d=f.length,h=[];for(h[0]=l=u=0,n=1;n<d;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,o=0,s=f[n][0]-f[n-1][0];t<c;++t){for(r=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)a+=(e[r][n][1]-e[r][n-1][1])/s;o+=a*e[t][n][1]}h[n]=l-=i?o/i*s:0,l<u&&(u=l)}for(n=0;n<d;++n)h[n]-=u;return h},expand:function(e){var t,n,r,i=e.length,o=e[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Uo});function Bo(t){return e.range(t.length)}function Uo(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Ho(e){for(var t,n=1,r=0,i=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function qo(e){return e.reduce(Vo,0)}function Vo(e,t){return e+t[1]}function Wo(e,t){return Yo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Yo(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,o=[];++n<=t;)o[n]=i*n+r;return o}function Go(t){return[e.min(t),e.max(t)]}function Xo(e,t){return e.value-t.value}function $o(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Zo(e,t){e._pack_next=t,t._pack_prev=e}function Ko(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Jo(e){if((t=e.children)&&(l=t.length)){var t,n,r,i,o,a,s,l,u=1/0,c=-1/0,f=1/0,d=-1/0;if(t.forEach(Qo),(n=t[0]).x=-n.r,n.y=0,b(n),l>1&&((r=t[1]).x=r.r,r.y=0,b(r),l>2))for(ta(n,r,i=t[2]),b(i),$o(n,i),n._pack_prev=i,$o(i,r),r=n._pack_next,o=3;o<l;o++){ta(n,r,i=t[o]);var h=0,p=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(Ko(a,i)){h=1;break}if(1==h)for(s=n._pack_prev;s!==a._pack_prev&&!Ko(s,i);s=s._pack_prev,m++);h?(p<m||p==m&&r.r<n.r?Zo(n,r=a):Zo(n=s,r),o--):($o(n,i),r=i,b(i))}var g=(u+c)/2,v=(f+d)/2,y=0;for(o=0;o<l;o++)(i=t[o]).x-=g,i.y-=v,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=y,t.forEach(ea)}function b(e){u=Math.min(e.x-e.r,u),c=Math.max(e.x+e.r,c),f=Math.min(e.y-e.r,f),d=Math.max(e.y+e.r,d)}}function Qo(e){e._pack_next=e._pack_prev=e}function ea(e){delete e._pack_next,delete e._pack_prev}function ta(e,t,n){var r=e.r+n.r,i=t.x-e.x,o=t.y-e.y;if(r&&(i||o)){var a=t.r+n.r,s=i*i+o*o,l=.5+((r*=r)-(a*=a))/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=e.x+l*i+u*o,n.y=e.y+l*o-u*i}else n.x=e.x+r,n.y=e.y}function na(e,t){return e.parent==t.parent?1:2}function ra(e){var t=e.children;return t.length?t[0]:e.t}function ia(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function oa(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function aa(e,t,n){return e.a.parent===t.parent?e.a:n}function sa(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function la(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function ua(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ca(e){return e.rangeExtent?e.rangeExtent():ua(e.range())}function fa(e,t,n,r){var i=n(e[0],e[1]),o=r(t[0],t[1]);return function(e){return o(i(e))}}function da(e,t){var n,r=0,i=e.length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function ha(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:pa}e.layout.histogram=function(){var t=!0,n=Number,r=Go,i=Wo;function o(o,a){for(var s,l,u=[],c=o.map(n,this),f=r.call(this,c,a),d=i.call(this,f,c,a),h=(a=-1,c.length),p=d.length-1,m=t?1:1/h;++a<p;)(s=u[a]=[]).dx=d[a+1]-(s.x=d[a]),s.y=0;if(p>0)for(a=-1;++a<h;)(l=c[a])>=f[0]&&l<=f[1]&&((s=u[e.bisect(d,l,1,p)-1]).y+=m,s.push(o[a]));return u}return o.value=function(e){return arguments.length?(n=e,o):n},o.range=function(e){return arguments.length?(r=mt(e),o):r},o.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Yo(t,e)}:mt(e),o):i},o.frequency=function(e){return arguments.length?(t=!!e,o):t},o},e.layout.pack=function(){var t,n=e.layout.hierarchy().sort(Xo),r=0,i=[1,1];function o(e,o){var a=n.call(this,e,o),s=a[0],l=i[0],u=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Oo(s,(function(e){e.r=+c(e.value)})),Oo(s,Jo),r){var f=r*(t?1:Math.max(2*s.r/l,2*s.r/u))/2;Oo(s,(function(e){e.r+=f})),Oo(s,Jo),Oo(s,(function(e){e.r-=f}))}return function e(t,n,r,i){var o=t.children;if(t.x=n+=i*t.x,t.y=r+=i*t.y,t.r*=i,o)for(var a=-1,s=o.length;++a<s;)e(o[a],n,r,i)}(s,l/2,u/2,t?1:1/Math.max(2*s.r/l,2*s.r/u)),a}return o.size=function(e){return arguments.length?(i=e,o):i},o.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,o):t},o.padding=function(e){return arguments.length?(r=+e,o):r},Eo(o,n)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),n=na,r=[1,1],i=null;function o(e,o){var u=t.call(this,e,o),c=u[0],f=function(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,o=t.children,a=0,s=o.length;a<s;++a)r.push((o[a]=i={_:o[a],parent:t,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(c);if(Oo(f,a),f.parent.m=-f.z,Ao(f,s),i)Ao(c,l);else{var d=c,h=c,p=c;Ao(c,(function(e){e.x<d.x&&(d=e),e.x>h.x&&(h=e),e.depth>p.depth&&(p=e)}));var m=n(d,h)/2-d.x,g=r[0]/(h.x+n(h,d)/2+m),v=r[1]/(p.depth||1);Ao(c,(function(e){e.x=(e.x+m)*g,e.y=e.depth*v}))}return u}function a(e){var t=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(t.length){!function(e){for(var t,n=0,r=0,i=e.children,o=i.length;--o>=0;)(t=i[o]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var o=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+n(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+n(e._,i._));e.parent.A=function(e,t,r){if(t){for(var i,o=e,a=e,s=t,l=o.parent.children[0],u=o.m,c=a.m,f=s.m,d=l.m;s=ia(s),o=ra(o),s&&o;)l=ra(l),(a=ia(a)).a=e,(i=s.z+f-o.z-u+n(s._,o._))>0&&(oa(aa(s,e,r),e,i),u+=i,c+=i),f+=s.m,u+=o.m,d+=l.m,c+=a.m;s&&!ia(a)&&(a.t=s,a.m+=f-c),o&&!ra(l)&&(l.t=o,l.m+=u-d,r=e)}return r}(e,i,e.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=r[0],e.y=e.depth*r[1]}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(i=null==(r=e)?l:null,o):i?null:r},o.nodeSize=function(e){return arguments.length?(i=null==(r=e)?null:l,o):i?r:null},Eo(o,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),n=na,r=[1,1],i=!1;function o(o,a){var s,l=t.call(this,o,a),u=l[0],c=0;Oo(u,(function(t){var r=t.children;r&&r.length?(t.x=function(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}(r),t.y=function(t){return 1+e.max(t,(function(e){return e.y}))}(r)):(t.x=s?c+=n(t,s):0,t.y=0,s=t)}));var f=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(u),d=function e(t){var n,r=t.children;return r&&(n=r.length)?e(r[n-1]):t}(u),h=f.x-n(f,d)/2,p=d.x+n(d,f)/2;return Oo(u,i?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),l}return o.separation=function(e){return arguments.length?(n=e,o):n},o.size=function(e){return arguments.length?(i=null==(r=e),o):i?null:r},o.nodeSize=function(e){return arguments.length?(i=null!=(r=e),o):i?r:null},Eo(o,t)},e.layout.treemap=function(){var t,n=e.layout.hierarchy(),r=Math.round,i=[1,1],o=null,a=sa,s=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(e,t){for(var n,r,i=-1,o=e.length;++i<o;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function f(e){var t=e.children;if(t&&t.length){var n,r,i,o=a(e),s=[],u=t.slice(),d=1/0,m="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(u,o.dx*o.dy/e.value),s.area=0;(i=u.length)>0;)s.push(n=u[i-1]),s.area+=n.area,"squarify"!==l||(r=h(s,m))<=d?(u.pop(),d=r):(s.area-=s.pop().area,p(s,m,o,!1),m=Math.min(o.dx,o.dy),s.length=s.area=0,d=1/0);s.length&&(p(s,m,o,!0),s.length=s.area=0),t.forEach(f)}}function d(e){var t=e.children;if(t&&t.length){var n,r=a(e),i=t.slice(),o=[];for(c(i,r.dx*r.dy/e.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(p(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);t.forEach(d)}}function h(e,t){for(var n,r=e.area,i=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),n>i&&(i=n));return t*=t,(r*=r)?Math.max(t*i*u/r,r/(t*o*u)):1/0}function p(e,t,n,i){var o,a=-1,s=e.length,l=n.x,u=n.y,c=t?r(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<s;)(o=e[a]).x=l,o.y=u,o.dy=c,l+=o.dx=Math.min(n.x+n.dx-l,c?r(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<s;)(o=e[a]).x=l,o.y=u,o.dx=c,u+=o.dy=Math.min(n.y+n.dy-u,c?r(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function m(e){var r=t||n(e),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,t&&n.revalue(o),c([o],o.dx*o.dy/o.value),(t?d:f)(o),s&&(t=r),r}return m.size=function(e){return arguments.length?(i=e,m):i},m.padding=function(e){if(!arguments.length)return o;function t(t){return la(t,e)}var n;return a=null==(o=e)?sa:"function"==(n=typeof e)?function(t){var n=e.call(m,t,t.depth);return null==n?sa(t):la(t,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(e=[e,e,e,e],t):t,m},m.round=function(e){return arguments.length?(r=e?Math.round:Number,m):r!=Number},m.sticky=function(e){return arguments.length?(s=e,t=null,m):s},m.ratio=function(e){return arguments.length?(u=e,m):u},m.mode=function(e){return arguments.length?(l=e+"",m):l},Eo(m,n)},e.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},e.scale={};var pa={floor:N,ceil:N};function ma(t,n,r,i){var o=[],a=[],s=0,l=Math.min(t.length,n.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<=l;)o.push(r(t[s-1],t[s])),a.push(i(n[s-1],n[s]));return function(n){var r=e.bisect(t,n,1,l)-1;return a[r](o[r](n))}}function ga(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function va(e,t){return da(e,ha(ya(e,t)[2])),da(e,ha(ya(e,t)[2])),e}function ya(e,t){null==t&&(t=10);var n=ua(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),o=t/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ba(t,n){return e.range.apply(e,ya(t,n))}function xa(t,n,r){var i=ya(t,n);if(r){var o=Ot.exec(r);if(o.shift(),"s"===o[8]){var a=e.formatPrefix(Math.max(y(i[0]),y(i[1])));return o[7]||(o[7]="."+wa(a.scale(i[2]))),o[8]="f",r=e.format(o.join("")),function(e){return r(a.scale(e))+a.symbol}}o[7]||(o[7]="."+function(e,t){var n=wa(t[2]);return e in _a?Math.abs(n-wa(Math.max(y(t[0]),y(t[1]))))+ +("e"!==e):n-2*("%"===e)}(o[8],i)),r=o.join("")}else r=",."+wa(i[2])+"f";return e.format(r)}e.scale.linear=function(){return function e(t,n,r,i){var o,a;function s(){var e=Math.min(t.length,n.length)>2?ma:fa,s=i?vo:go;return o=e(t,n,s,r),a=e(n,t,s,Xi),l}function l(e){return o(e)}return l.invert=function(e){return a(e)},l.domain=function(e){return arguments.length?(t=e.map(Number),s()):t},l.range=function(e){return arguments.length?(n=e,s()):n},l.rangeRound=function(e){return l.range(e).interpolate(lo)},l.clamp=function(e){return arguments.length?(i=e,s()):i},l.interpolate=function(e){return arguments.length?(r=e,s()):r},l.ticks=function(e){return ba(t,e)},l.tickFormat=function(e,n){return xa(t,e,n)},l.nice=function(e){return va(t,e),s()},l.copy=function(){return e(t,n,r,i)},s()}([0,1],[0,1],Xi,!1)};var _a={s:1,g:1,p:1,r:1,e:1};function wa(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}e.scale.log=function(){return function t(n,r,i,o){function a(e){return(i?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(r)}function s(e){return i?Math.pow(r,e):-Math.pow(r,-e)}function l(e){return n(a(e))}return l.invert=function(e){return s(n.invert(e))},l.domain=function(e){return arguments.length?(i=e[0]>=0,n.domain((o=e.map(Number)).map(a)),l):o},l.base=function(e){return arguments.length?(r=+e,n.domain(o.map(a)),l):r},l.nice=function(){var e=da(o.map(a),i?Math:Ma);return n.domain(e),o=e.map(s),l},l.ticks=function(){var e=ua(o),t=[],n=e[0],l=e[1],u=Math.floor(a(n)),c=Math.ceil(a(l)),f=r%1?2:r;if(isFinite(c-u)){if(i){for(;u<c;u++)for(var d=1;d<f;d++)t.push(s(u)*d);t.push(s(u))}else for(t.push(s(u));u++<c;)for(d=f-1;d>0;d--)t.push(s(u)*d);for(u=0;t[u]<n;u++);for(c=t.length;t[c-1]>l;c--);t=t.slice(u,c)}return t},l.tickFormat=function(t,n){if(!arguments.length)return ka;arguments.length<2?n=ka:"function"!=typeof n&&(n=e.format(n));var i=Math.max(1,r*t/l.ticks().length);return function(e){var t=e/s(Math.round(a(e)));return t*r<r-.5&&(t*=r),t<=i?n(e):""}},l.copy=function(){return t(n.copy(),r,i,o)},ga(l,n)}(e.scale.linear().domain([0,1]),10,!0,[1,10])};var ka=e.format(".0e"),Ma={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Ta(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}e.scale.pow=function(){return function e(t,n,r){var i=Ta(n),o=Ta(1/n);function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain((r=e.map(Number)).map(i)),a):r},a.ticks=function(e){return ba(r,e)},a.tickFormat=function(e,t){return xa(r,e,t)},a.nice=function(e){return a.domain(va(r,e))},a.exponent=function(e){return arguments.length?(i=Ta(n=e),o=Ta(1/n),t.domain(r.map(i)),a):n},a.copy=function(){return e(t.copy(),n,r)},ga(a,t)}(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return function t(n,r){var i,o,a;function s(e){return o[((i.get(e)||("range"===r.t?i.set(e,n.push(e)):NaN))-1)%o.length]}function l(t,r){return e.range(n.length).map((function(e){return t+r*e}))}return s.domain=function(e){if(!arguments.length)return n;n=[],i=new x;for(var t,o=-1,a=e.length;++o<a;)i.has(t=e[o])||i.set(t,n.push(t));return s[r.t].apply(s,r.a)},s.range=function(e){return arguments.length?(o=e,a=0,r={t:"range",a:arguments},s):o},s.rangePoints=function(e,t){arguments.length<2&&(t=0);var i=e[0],u=e[1],c=n.length<2?(i=(i+u)/2,0):(u-i)/(n.length-1+t);return o=l(i+c*t/2,c),a=0,r={t:"rangePoints",a:arguments},s},s.rangeRoundPoints=function(e,t){arguments.length<2&&(t=0);var i=e[0],u=e[1],c=n.length<2?(i=u=Math.round((i+u)/2),0):(u-i)/(n.length-1+t)|0;return o=l(i+Math.round(c*t/2+(u-i-(n.length-1+t)*c)/2),c),a=0,r={t:"rangeRoundPoints",a:arguments},s},s.rangeBands=function(e,t,i){arguments.length<2&&(t=0),arguments.length<3&&(i=t);var u=e[1]<e[0],c=e[u-0],f=e[1-u],d=(f-c)/(n.length-t+2*i);return o=l(c+d*i,d),u&&o.reverse(),a=d*(1-t),r={t:"rangeBands",a:arguments},s},s.rangeRoundBands=function(e,t,i){arguments.length<2&&(t=0),arguments.length<3&&(i=t);var u=e[1]<e[0],c=e[u-0],f=e[1-u],d=Math.floor((f-c)/(n.length-t+2*i));return o=l(c+Math.round((f-c-(n.length-t)*d)/2),d),u&&o.reverse(),a=Math.round(d*(1-t)),r={t:"rangeRoundBands",a:arguments},s},s.rangeBand=function(){return a},s.rangeExtent=function(){return ua(r.a[0])},s.copy=function(){return t(n,r)},s.domain(n)}([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(Sa)},e.scale.category20=function(){return e.scale.ordinal().range(Ea)},e.scale.category20b=function(){return e.scale.ordinal().range(Aa)},e.scale.category20c=function(){return e.scale.ordinal().range(Oa)};var Sa=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(at),Ea=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(at),Aa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(at),Oa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(at);function Ca(){return 0}e.scale.quantile=function(){return function t(n,r){var i;function o(){var t=0,o=r.length;for(i=[];++t<o;)i[t-1]=e.quantile(n,t/o);return a}function a(t){if(!isNaN(t=+t))return r[e.bisect(i,t)]}return a.domain=function(e){return arguments.length?(n=e.map(h).filter(p).sort(d),o()):n},a.range=function(e){return arguments.length?(r=e,o()):r},a.quantiles=function(){return i},a.invertExtent=function(e){return(e=r.indexOf(e))<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},a.copy=function(){return t(n,r)},o()}([],[])},e.scale.quantize=function(){return function e(t,n,r){var i,o;function a(e){return r[Math.max(0,Math.min(o,Math.floor(i*(e-t))))]}function s(){return i=r.length/(n-t),o=r.length-1,a}return a.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],s()):[t,n]},a.range=function(e){return arguments.length?(r=e,s()):r},a.invertExtent=function(e){return[e=(e=r.indexOf(e))<0?NaN:e/i+t,e+1/i]},a.copy=function(){return e(t,n,r)},s()}(0,1,[0,1])},e.scale.threshold=function(){return function t(n,r){function i(t){if(t<=t)return r[e.bisect(n,t)]}return i.domain=function(e){return arguments.length?(n=e,i):n},i.range=function(e){return arguments.length?(r=e,i):r},i.invertExtent=function(e){return e=r.indexOf(e),[n[e-1],n[e]]},i.copy=function(){return t(n,r)},i}([.5],[0,1])},e.scale.identity=function(){return function e(t){function n(e){return+e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(e){return ba(t,e)},n.tickFormat=function(e,n){return xa(t,e,n)},n.copy=function(){return e(t)},n}([0,1])},e.svg={},e.svg.arc=function(){var e=Da,t=Pa,n=Ca,r=Na,i=Ra,o=La,a=Ia;function s(){var s=Math.max(0,+e.apply(this,arguments)),u=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-Ae,f=o.apply(this,arguments)-Ae,d=Math.abs(f-c),h=c>f?0:1;if(u<s&&(p=u,u=s,s=p),d>=Ee)return l(u,h)+(s?l(s,1-h):"")+"Z";var p,m,g,v,y,b,x,_,w,k,M,T,S=0,E=0,A=[];if((v=(+a.apply(this,arguments)||0)/2)&&(g=r===Na?Math.sqrt(s*s+u*u):+r.apply(this,arguments),h||(E*=-1),u&&(E=Re(g/u*Math.sin(v))),s&&(S=Re(g/s*Math.sin(v)))),u){y=u*Math.cos(c+E),b=u*Math.sin(c+E),x=u*Math.cos(f-E),_=u*Math.sin(f-E);var O=Math.abs(f-c-2*E)<=Te?0:1;if(E&&ja(y,b,x,_)===h^O){var C=(c+f)/2;y=u*Math.cos(C),b=u*Math.sin(C),x=_=null}}else y=b=0;if(s){w=s*Math.cos(f-S),k=s*Math.sin(f-S),M=s*Math.cos(c+S),T=s*Math.sin(c+S);var N=Math.abs(c-f+2*S)<=Te?0:1;if(S&&ja(w,k,M,T)===1-h^N){var D=(c+f)/2;w=s*Math.cos(D),k=s*Math.sin(D),M=T=null}}else w=k=0;if(d>ke&&(p=Math.min(Math.abs(u-s)/2,+n.apply(this,arguments)))>.001){m=s<u^h?0:1;var P=p,R=p;if(d<Te){var L=null==M?[w,k]:null==x?[y,b]:ai([y,b],[M,T],[x,_],[w,k]),I=y-L[0],j=b-L[1],z=x-L[0],F=_-L[1],B=1/Math.sin(Math.acos((I*z+j*F)/(Math.sqrt(I*I+j*j)*Math.sqrt(z*z+F*F)))/2),U=Math.sqrt(L[0]*L[0]+L[1]*L[1]);R=Math.min(p,(s-U)/(B-1)),P=Math.min(p,(u-U)/(B+1))}if(null!=x){var H=za(null==M?[w,k]:[M,T],[y,b],u,P,h),q=za([x,_],[w,k],u,P,h);p===P?A.push("M",H[0],"A",P,",",P," 0 0,",m," ",H[1],"A",u,",",u," 0 ",1-h^ja(H[1][0],H[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",P,",",P," 0 0,",m," ",q[0]):A.push("M",H[0],"A",P,",",P," 0 1,",m," ",q[0])}else A.push("M",y,",",b);if(null!=M){var V=za([y,b],[M,T],s,-R,h),W=za([w,k],null==x?[y,b]:[x,_],s,-R,h);p===R?A.push("L",W[0],"A",R,",",R," 0 0,",m," ",W[1],"A",s,",",s," 0 ",h^ja(W[1][0],W[1][1],V[1][0],V[1][1]),",",1-h," ",V[1],"A",R,",",R," 0 0,",m," ",V[0]):A.push("L",W[0],"A",R,",",R," 0 0,",m," ",V[0])}else A.push("L",w,",",k)}else A.push("M",y,",",b),null!=x&&A.push("A",u,",",u," 0 ",O,",",h," ",x,",",_),A.push("L",w,",",k),null!=M&&A.push("A",s,",",s," 0 ",N,",",1-h," ",M,",",T);return A.push("Z"),A.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=mt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=mt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=mt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==Na?Na:mt(e),s):r},s.startAngle=function(e){return arguments.length?(i=mt(e),s):i},s.endAngle=function(e){return arguments.length?(o=mt(e),s):o},s.padAngle=function(e){return arguments.length?(a=mt(e),s):a},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ae;return[Math.cos(r)*n,Math.sin(r)*n]},s};var Na="auto";function Da(e){return e.innerRadius}function Pa(e){return e.outerRadius}function Ra(e){return e.startAngle}function La(e){return e.endAngle}function Ia(e){return e&&e.padAngle}function ja(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function za(e,t,n,r,i){var o=e[0]-t[0],a=e[1]-t[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=e[0]+l,f=e[1]+u,d=t[0]+l,h=t[1]+u,p=(c+d)/2,m=(f+h)/2,g=d-c,v=h-f,y=g*g+v*v,b=n-r,x=c*h-d*f,_=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),w=(x*v-g*_)/y,k=(-x*g-v*_)/y,M=(x*v+g*_)/y,T=(-x*g+v*_)/y,S=w-p,E=k-m,A=M-p,O=T-m;return S*S+E*E>A*A+O*O&&(w=M,k=T),[[w-l,k-u],[w*n/b,k*n/b]]}function Fa(e){var t=ei,n=ti,r=Yn,i=Ua,o=i.key,a=.7;function s(o){var s,l=[],u=[],c=-1,f=o.length,d=mt(t),h=mt(n);function p(){l.push("M",i(e(u),a))}for(;++c<f;)r.call(this,s=o[c],c)?u.push([+d.call(this,s,c),+h.call(this,s,c)]):u.length&&(p(),u=[]);return u.length&&p(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(o="function"==typeof e?i=e:(i=Ba.get(e)||Ua).key,s):o},s.tension=function(e){return arguments.length?(a=e,s):a},s}e.svg.line=function(){return Fa(N)};var Ba=e.map({linear:Ua,"linear-closed":Ha,step:function(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":qa,"step-after":Va,basis:Ga,"basis-open":function(e){if(e.length<4)return Ua(e);for(var t,n=[],r=-1,i=e.length,o=[0],a=[0];++r<3;)t=e[r],o.push(t[0]),a.push(t[1]);for(n.push(Xa(Ka,o)+","+Xa(Ka,a)),--r;++r<i;)t=e[r],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Ja(n,o,a);return n.join("")},"basis-closed":function(e){for(var t,n,r=-1,i=e.length,o=i+4,a=[],s=[];++r<4;)n=e[r%i],a.push(n[0]),s.push(n[1]);for(t=[Xa(Ka,a),",",Xa(Ka,s)],--r;++r<o;)n=e[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ja(t,a,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,i,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,u=-1;++u<=n;)i=u/n,(r=e[u])[0]=t*r[0]+(1-t)*(o+i*s),r[1]=t*r[1]+(1-t)*(a+i*l);return Ga(e)},cardinal:function(e,t){return e.length<3?Ua(e):e[0]+Wa(e,Ya(e,t))},"cardinal-open":function(e,t){return e.length<4?Ua(e):e[1]+Wa(e.slice(1,-1),Ya(e,t))},"cardinal-closed":function(e,t){return e.length<3?Ha(e):e[0]+Wa((e.push(e[0]),e),Ya([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?Ua(e):e[0]+Wa(e,function(e){for(var t,n,r,i,o=[],a=function(e){for(var t=0,n=e.length-1,r=[],i=e[0],o=e[1],a=r[0]=Qa(i,o);++t<n;)r[t]=(a+(a=Qa(i=o,o=e[t+1])))/2;return r[t]=a,r}(e),s=-1,l=e.length-1;++s<l;)t=Qa(e[s],e[s+1]),y(t)<ke?a[s]=a[s+1]=0:(i=(n=a[s]/t)*n+(r=a[s+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r);for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}(e))}});function Ua(e){return e.length>1?e.join("L"):e+"Z"}function Ha(e){return e.join("L")+"Z"}function qa(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Va(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Wa(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Ua(e);var n=e.length!=t.length,r="",i=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=e[1],l=2),t.length>1){s=t[1],o=e[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<t.length;u++,l++)o=e[l],s=t[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=e[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Ya(e,t){for(var n,r=[],i=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Ga(e){if(e.length<3)return Ua(e);var t=1,n=e.length,r=e[0],i=r[0],o=r[1],a=[i,i,i,(r=e[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",Xa(Ka,a),",",Xa(Ka,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ja(l,a,s);return e.pop(),l.push("L",r),l.join("")}function Xa(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}Ba.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var $a=[0,2/3,1/3,0],Za=[0,1/3,2/3,0],Ka=[0,1/6,2/3,1/6];function Ja(e,t,n){e.push("C",Xa($a,t),",",Xa($a,n),",",Xa(Za,t),",",Xa(Za,n),",",Xa(Ka,t),",",Xa(Ka,n))}function Qa(e,t){return(t[1]-e[1])/(t[0]-e[0])}function es(e){for(var t,n,r,i=-1,o=e.length;++i<o;)n=(t=e[i])[0],r=t[1]-Ae,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function ts(e){var t=ei,n=ei,r=0,i=ti,o=Yn,a=Ua,s=a.key,l=a,u="L",c=.7;function f(s){var f,d,h,p=[],m=[],g=[],v=-1,y=s.length,b=mt(t),x=mt(r),_=t===n?function(){return d}:mt(n),w=r===i?function(){return h}:mt(i);function k(){p.push("M",a(e(g),c),u,l(e(m.reverse()),c),"Z")}for(;++v<y;)o.call(this,f=s[v],v)?(m.push([d=+b.call(this,f,v),h=+x.call(this,f,v)]),g.push([+_.call(this,f,v),+w.call(this,f,v)])):m.length&&(k(),m=[],g=[]);return m.length&&k(),p.length?p.join(""):null}return f.x=function(e){return arguments.length?(t=n=e,f):n},f.x0=function(e){return arguments.length?(t=e,f):t},f.x1=function(e){return arguments.length?(n=e,f):n},f.y=function(e){return arguments.length?(r=i=e,f):i},f.y0=function(e){return arguments.length?(r=e,f):r},f.y1=function(e){return arguments.length?(i=e,f):i},f.defined=function(e){return arguments.length?(o=e,f):o},f.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=Ba.get(e)||Ua).key,l=a.reverse||a,u=a.closed?"M":"L",f):s},f.tension=function(e){return arguments.length?(c=e,f):c},f}function ns(e){return e.radius}function rs(e){return[e.x,e.y]}function is(){return 64}function os(){return"circle"}function as(e){var t=Math.sqrt(e/Te);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}e.svg.line.radial=function(){var e=Fa(es);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},qa.reverse=Va,Va.reverse=qa,e.svg.area=function(){return ts(N)},e.svg.area.radial=function(){var e=ts(es);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},e.svg.chord=function(){var e=Br,t=Ur,n=ns,r=Ra,i=La;function o(n,r){var i,o,u=a(this,e,n,r),c=a(this,t,n,r);return"M"+u.p0+s(u.r,u.p1,u.a1-u.a0)+(o=c,(i=u).a0==o.a0&&i.a1==o.a1?l(u.r,u.p1,u.r,u.p0):l(u.r,u.p1,c.r,c.p0)+s(c.r,c.p1,c.a1-c.a0)+l(c.r,c.p1,u.r,u.p0))+"Z"}function a(e,t,o,a){var s=t.call(e,o,a),l=n.call(e,s,a),u=r.call(e,s,a)-Ae,c=i.call(e,s,a)-Ae;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Te)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}return o.radius=function(e){return arguments.length?(n=mt(e),o):n},o.source=function(t){return arguments.length?(e=mt(t),o):e},o.target=function(e){return arguments.length?(t=mt(e),o):t},o.startAngle=function(e){return arguments.length?(r=mt(e),o):r},o.endAngle=function(e){return arguments.length?(i=mt(e),o):i},o},e.svg.diagonal=function(){var e=Br,t=Ur,n=rs;function r(r,i){var o=e.call(this,r,i),a=t.call(this,r,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(t){return arguments.length?(e=mt(t),r):e},r.target=function(e){return arguments.length?(t=mt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=rs,r=t.projection;return t.projection=function(e){return arguments.length?r(function(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Ae;return[n*Math.cos(r),n*Math.sin(r)]}}(n=e)):n},t},e.svg.symbol=function(){var e=os,t=is;function n(n,r){return(ss.get(e.call(this,n,r))||as)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=mt(t),n):e},n.size=function(e){return arguments.length?(t=mt(e),n):t},n};var ss=e.map({circle:as,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*us)),n=t*us;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ls),n=t*ls/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ls),n=t*ls/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});e.svg.symbolTypes=ss.keys();var ls=Math.sqrt(3),us=Math.tan(30*Oe);G.transition=function(e){for(var t,n,r=hs||++gs,i=bs(e),o=[],a=ps||{time:Date.now(),ease:ro,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&xs(n,c,i,r,a),t.push(n)}return ds(o,i,r)},G.interrupt=function(e){return this.each(null==e?cs:fs(bs(e)))};var cs=fs(bs());function fs(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function ds(e,t,n){return H(e,ms),e.namespace=t,e.id=n,e}var hs,ps,ms=[],gs=0;function vs(e,t,n,r){var i=e.id,o=e.namespace;return ce(e,"function"==typeof n?function(e,a,s){e[o][i].tween.set(t,r(n.call(e,e.__data__,a,s)))}:(n=r(n),function(e){e[o][i].tween.set(t,n)}))}function ys(e){return null==e&&(e=""),function(){this.textContent=e}}function bs(e){return null==e?"__transition__":"__transition_"+e+"__"}function xs(e,t,n,r,i){var o,a,s,l,u,c=e[n]||(e[n]={active:0,count:0}),f=c[r];function d(n){var i=c.active,d=c[i];for(var p in d&&(d.timer.c=null,d.timer.t=NaN,--c.count,delete c[i],d.event&&d.event.interrupt.call(e,e.__data__,d.index)),c)if(+p<r){var m=c[p];m.timer.c=null,m.timer.t=NaN,--c.count,delete c[p]}a.c=h,kt((function(){return a.c&&h(n||1)&&(a.c=null,a.t=NaN),1}),0,o),c.active=r,f.event&&f.event.start.call(e,e.__data__,t),u=[],f.tween.forEach((function(n,r){(r=r.call(e,e.__data__,t))&&u.push(r)})),l=f.ease,s=f.duration}function h(i){for(var o=i/s,a=l(o),d=u.length;d>0;)u[--d].call(e,a);if(o>=1)return f.event&&f.event.end.call(e,e.__data__,t),--c.count?delete c[r]:delete e[n],1}f||(o=i.time,a=kt((function(e){var t=f.delay;if(a.t=t+o,t<=e)return d(e-t);a.c=d}),0,o),f=c[r]={tween:new x,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++c.count)}ms.call=G.call,ms.empty=G.empty,ms.node=G.node,ms.size=G.size,e.transition=function(t,n){return t&&t.transition?hs?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=ms,ms.select=function(e){var t,n,r,i=this.id,o=this.namespace,a=[];e=X(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),xs(n,c,o,i,r[o][i]),t.push(n)):t.push(null)}return ds(a,o,i)},ms.selectAll=function(e){var t,n,r,i,o,a=this.id,s=this.namespace,l=[];e=$(e);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],d=-1,h=f.length;++d<h;)if(r=f[d]){o=r[s][a],n=e.call(r,r.__data__,d,u),l.push(t=[]);for(var p=-1,m=n.length;++p<m;)(i=n[p])&&xs(i,p,s,a,o),t.push(i)}return ds(l,s,a)},ms.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=ue(e));for(var i=0,o=this.length;i<o;i++){r.push(t=[]);for(var a,s=0,l=(a=this[i]).length;s<l;s++)(n=a[s])&&e.call(n,n.__data__,s,i)&&t.push(n)}return ds(r,this.namespace,this.id)},ms.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):ce(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},ms.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?mo:Xi,i=e.ns.qualify(t);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return vs(this,"attr."+t,n,i.local?function(e){return null==e?a:(e+="",function(){var t,n=this.getAttributeNS(i.space,i.local);return n!==e&&(t=r(n,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}:function(e){return null==e?o:(e+="",function(){var t,n=this.getAttribute(i);return n!==e&&(t=r(n,e),function(e){this.setAttribute(i,t(e))})})})},ms.attrTween=function(t,n){var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?function(e,t){var i=n.call(this,e,t,this.getAttributeNS(r.space,r.local));return i&&function(e){this.setAttributeNS(r.space,r.local,i(e))}}:function(e,t){var i=n.call(this,e,t,this.getAttribute(r));return i&&function(e){this.setAttribute(r,i(e))}})},ms.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function i(){this.style.removeProperty(e)}return vs(this,"style."+e,t,(function(t){return null==t?i:(t+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=Xi(i,t),function(t){this.style.setProperty(e,r(t),n)})})}))},ms.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,(function(r,i){var o=t.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}}))},ms.text=function(e){return vs(this,"text",e,ys)},ms.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},ms.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),ce(this,(function(e){e[r][n].ease=t})))},ms.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:ce(this,"function"==typeof e?function(r,i,o){r[n][t].delay=+e.call(r,r.__data__,i,o)}:(e=+e,function(r){r[n][t].delay=e}))},ms.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:ce(this,"function"==typeof e?function(r,i,o){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,o))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},ms.each=function(t,n){var r=this.id,i=this.namespace;if(arguments.length<2){var o=ps,a=hs;try{hs=r,ce(this,(function(e,n,o){ps=e[i][r],t.call(e,e.__data__,n,o)}))}finally{ps=o,hs=a}}else ce(this,(function(o){var a=o[i][r];(a.event||(a.event=e.dispatch("start","end","interrupt"))).on(t,n)}));return this},ms.transition=function(){for(var e,t,n,r=this.id,i=++gs,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(e=[]);for(var u,c=0,f=(u=this[s]).length;c<f;c++)(t=u[c])&&xs(t,c,o,i,{time:(n=t[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return ds(a,o,i)},e.svg.axis=function(){var t,n=e.scale.linear(),i=_s,o=6,a=6,s=3,l=[10],u=null;function c(r){r.each((function(){var r,c=e.select(this),f=this.__chart__||n,d=this.__chart__=n.copy(),h=null==u?d.ticks?d.ticks.apply(d,l):d.domain():u,p=null==t?d.tickFormat?d.tickFormat.apply(d,l):N:t,m=c.selectAll(".tick").data(h,d),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",ke),v=e.transition(m.exit()).style("opacity",ke).remove(),y=e.transition(m.order()).style("opacity",1),b=Math.max(o,0)+s,x=ca(d),_=c.selectAll(".domain").data([0]),w=(_.enter().append("path").attr("class","domain"),e.transition(_));g.append("line"),g.append("text");var k,M,T,S,E=g.select("line"),A=y.select("line"),O=m.select("text").text(p),C=g.select("text"),D=y.select("text"),P="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(r=ks,k="x",T="y",M="x2",S="y2",O.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+P*a+"V0H"+x[1]+"V"+P*a)):(r=Ms,k="y",T="x",M="y2",S="x2",O.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),w.attr("d","M"+P*a+","+x[0]+"H0V"+x[1]+"H"+P*a)),E.attr(S,P*o),C.attr(T,P*b),A.attr(M,0).attr(S,P*o),D.attr(k,0).attr(T,P*b),d.rangeBand){var R=d,L=R.rangeBand()/2;f=d=function(e){return R(e)+L}}else f.rangeBand?f=d:v.call(r,d,f);g.call(r,f,d),y.call(r,d,d)}))}return c.scale=function(e){return arguments.length?(n=e,c):n},c.orient=function(e){return arguments.length?(i=e in ws?e+"":_s,c):i},c.ticks=function(){return arguments.length?(l=r(arguments),c):l},c.tickValues=function(e){return arguments.length?(u=e,c):u},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(e){var t=arguments.length;return t?(o=+e,a=+arguments[t-1],c):o},c.innerTickSize=function(e){return arguments.length?(o=+e,c):o},c.outerTickSize=function(e){return arguments.length?(a=+e,c):a},c.tickPadding=function(e){return arguments.length?(s=+e,c):s},c.tickSubdivide=function(){return arguments.length&&c},c};var _s="bottom",ws={top:1,right:1,bottom:1,left:1};function ks(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}))}function Ms(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}))}e.svg.brush=function(){var t,n,r=B(d,"brushstart","brush","brushend"),i=null,o=null,s=[0,0],l=[0,0],u=!0,c=!0,f=Ss[0];function d(t){t.each((function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(f,N);r.exit().remove(),r.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Ts[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",d.empty()?"none":null);var a,s=e.transition(t),l=e.transition(n);i&&(a=ca(i),l.attr("x",a[0]).attr("width",a[1]-a[0]),p(s)),o&&(a=ca(o),l.attr("y",a[0]).attr("height",a[1]-a[0]),m(s)),h(s)}))}function h(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+s[+/e$/.test(e)]+","+l[+/^s/.test(e)]+")"}))}function p(e){e.select(".extent").attr("x",s[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function m(e){e.select(".extent").attr("y",l[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function g(){var f,g,v=this,y=e.select(e.event.target),b=r.of(v,arguments),x=e.select(v),_=y.datum(),w=!/^(n|s)$/.test(_)&&i,k=!/^(e|w)$/.test(_)&&o,M=y.classed("extent"),T=be(v),S=e.mouse(v),E=e.select(a(v)).on("keydown.brush",(function(){32==e.event.keyCode&&(M||(f=null,S[0]-=s[1],S[1]-=l[1],M=2),z())})).on("keyup.brush",(function(){32==e.event.keyCode&&2==M&&(S[0]+=s[1],S[1]+=l[1],M=0,z())}));if(e.event.changedTouches?E.on("touchmove.brush",C).on("touchend.brush",D):E.on("mousemove.brush",C).on("mouseup.brush",D),x.interrupt().selectAll("*").interrupt(),M)S[0]=s[0]-S[0],S[1]=l[0]-S[1];else if(_){var A=+/w$/.test(_),O=+/^n/.test(_);g=[s[1-A]-S[0],l[1-O]-S[1]],S[0]=s[A],S[1]=l[O]}else e.event.altKey&&(f=S.slice());function C(){var t=e.mouse(v),n=!1;g&&(t[0]+=g[0],t[1]+=g[1]),M||(e.event.altKey?(f||(f=[(s[0]+s[1])/2,(l[0]+l[1])/2]),S[0]=s[+(t[0]<f[0])],S[1]=l[+(t[1]<f[1])]):f=null),w&&N(t,i,0)&&(p(x),n=!0),k&&N(t,o,1)&&(m(x),n=!0),n&&(h(x),b({type:"brush",mode:M?"move":"resize"}))}function N(e,r,i){var o,a,d=ca(r),h=d[0],p=d[1],m=S[i],g=i?l:s,v=g[1]-g[0];if(M&&(h-=m,p-=v+m),o=(i?c:u)?Math.max(h,Math.min(p,e[i])):e[i],M?a=(o+=m)+v:(f&&(m=Math.max(h,Math.min(p,2*f[i]-o))),m<o?(a=o,o=m):a=m),g[0]!=o||g[1]!=a)return i?n=null:t=null,g[0]=o,g[1]=a,!0}function D(){C(),x.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),e.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),b({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),C()}return d.event=function(i){i.each((function(){var i=r.of(this,arguments),o={x:s,y:l,i:t,j:n},a=this.__chart__||o;this.__chart__=o,hs?e.select(this).transition().each("start.brush",(function(){t=a.i,n=a.j,s=a.x,l=a.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var e=$i(s,o.x),r=$i(l,o.y);return t=n=null,function(t){s=o.x=e(t),l=o.y=r(t),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=o.i,n=o.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},d.x=function(e){return arguments.length?(f=Ss[!(i=e)<<1|!o],d):i},d.y=function(e){return arguments.length?(f=Ss[!i<<1|!(o=e)],d):o},d.clamp=function(e){return arguments.length?(i&&o?(u=!!e[0],c=!!e[1]):i?u=!!e:o&&(c=!!e),d):i&&o?[u,c]:i?u:o?c:null},d.extent=function(e){var r,a,u,c,f;return arguments.length?(i&&(r=e[0],a=e[1],o&&(r=r[0],a=a[0]),t=[r,a],i.invert&&(r=i(r),a=i(a)),a<r&&(f=r,r=a,a=f),r==s[0]&&a==s[1]||(s=[r,a])),o&&(u=e[0],c=e[1],i&&(u=u[1],c=c[1]),n=[u,c],o.invert&&(u=o(u),c=o(c)),c<u&&(f=u,u=c,c=f),u==l[0]&&c==l[1]||(l=[u,c])),d):(i&&(t?(r=t[0],a=t[1]):(r=s[0],a=s[1],i.invert&&(r=i.invert(r),a=i.invert(a)),a<r&&(f=r,r=a,a=f))),o&&(n?(u=n[0],c=n[1]):(u=l[0],c=l[1],o.invert&&(u=o.invert(u),c=o.invert(c)),c<u&&(f=u,u=c,c=f))),i&&o?[[r,u],[a,c]]:i?[r,a]:o&&[u,c])},d.clear=function(){return d.empty()||(s=[0,0],l=[0,0],t=n=null),d},d.empty=function(){return!!i&&s[0]==s[1]||!!o&&l[0]==l[1]},e.rebind(d,r,"on")};var Ts={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ss=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Es=Dt.format=sn.timeFormat,As=Es.utc,Os=As("%Y-%m-%dT%H:%M:%S.%LZ");function Cs(e){return e.toISOString()}function Ns(t,n,r){function i(e){return t(e)}function o(t,r){var i=(t[1]-t[0])/r,o=e.bisect(Ps,i);return o==Ps.length?[n.year,ya(t.map((function(e){return e/31536e6})),r)[2]]:o?n[i/Ps[o-1]<Ps[o]/i?o-1:o]:[Is,ya(t,r)[2]]}return i.invert=function(e){return Ds(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(Ds)},i.nice=function(e,t){var n=i.domain(),r=ua(n),a=null==e?o(r,10):"number"==typeof e&&o(r,e);function s(n){return!isNaN(n)&&!e.range(n,Ds(+n+1),t).length}return a&&(e=a[0],t=a[1]),i.domain(da(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=Ds(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=Ds(+t+1);return t}}:e))},i.ticks=function(e,t){var n=ua(i.domain()),r=null==e?o(n,10):"number"==typeof e?o(n,e):!e.range&&[{range:e},t];return r&&(e=r[0],t=r[1]),e.range(n[0],Ds(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return r},i.copy=function(){return Ns(t.copy(),n,r)},ga(i,t)}function Ds(e){return new Date(e)}Es.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Cs:Os,Cs.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Cs.toString=Os.toString,Dt.second=It((function(e){return new Pt(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),Dt.seconds=Dt.second.range,Dt.seconds.utc=Dt.second.utc.range,Dt.minute=It((function(e){return new Pt(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),Dt.minutes=Dt.minute.range,Dt.minutes.utc=Dt.minute.utc.range,Dt.hour=It((function(e){var t=e.getTimezoneOffset()/60;return new Pt(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),Dt.hours=Dt.hour.range,Dt.hours.utc=Dt.hour.utc.range,Dt.month=It((function(e){return(e=Dt.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),Dt.months=Dt.month.range,Dt.months.utc=Dt.month.utc.range;var Ps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Rs=[[Dt.second,1],[Dt.second,5],[Dt.second,15],[Dt.second,30],[Dt.minute,1],[Dt.minute,5],[Dt.minute,15],[Dt.minute,30],[Dt.hour,1],[Dt.hour,3],[Dt.hour,6],[Dt.hour,12],[Dt.day,1],[Dt.day,2],[Dt.week,1],[Dt.month,1],[Dt.month,3],[Dt.year,1]],Ls=Es.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Yn]]),Is={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(Ds)},floor:N,ceil:N};Rs.year=Dt.year,Dt.scale=function(){return Ns(e.scale.linear(),Rs,Ls)};var js=Rs.map((function(e){return[e[0].utc,e[1]]})),zs=As.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Yn]]);function Fs(e){return JSON.parse(e.responseText)}function Bs(e){var t=i.createRange();return t.selectNode(i.body),t.createContextualFragment(e.responseText)}js.year=Dt.year.utc,Dt.scale.utc=function(){return Ns(e.scale.linear(),js,zs)},e.text=gt((function(e){return e.responseText})),e.json=function(e,t){return vt(e,"application/json",Fs,t)},e.html=function(e,t){return vt(e,"text/html",Bs,t)},e.xml=gt((function(e){return e.responseXML})),"object"==typeof t&&t.exports?t.exports=e:this.d3=e}()},{}],83:[function(e,t,n){t.exports=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}},{}],84:[function(e,t,n){"use strict";var r=e("incremental-convex-hull"),i=e("uniq");function o(e,t){this.point=e,this.index=t}function a(e,t){for(var n=e.point,r=t.point,i=n.length,o=0;o<i;++o){var a=r[o]-n[o];if(a)return a}return 0}t.exports=function(e,t){var n=e.length;if(0===n)return[];var s=e[0].length;if(s<1)return[];if(1===s)return function(e,t,n){if(1===e)return n?[[-1,0]]:[];var r=t.map((function(e,t){return[e[0],t]}));r.sort((function(e,t){return e[0]-t[0]}));for(var i=new Array(e-1),o=1;o<e;++o){var a=r[o-1],s=r[o];i[o-1]=[a[1],s[1]]}return n&&i.push([-1,i[0][1]],[i[e-1][1],-1]),i}(n,e,t);for(var l=new Array(n),u=1,c=0;c<n;++c){for(var f=e[c],d=new Array(s+1),h=0,p=0;p<s;++p){var m=f[p];d[p]=m,h+=m*m}d[s]=h,l[c]=new o(d,c),u=Math.max(h,u)}i(l,a),n=l.length;var g=new Array(n+s+1),v=new Array(n+s+1),y=(s+1)*(s+1)*u,b=new Array(s+1);for(c=0;c<=s;++c)b[c]=0;for(b[s]=y,g[0]=b.slice(),v[0]=-1,c=0;c<=s;++c)(d=b.slice())[c]=1,g[c+1]=d,v[c+1]=-1;for(c=0;c<n;++c){var x=l[c];g[c+s+1]=x.point,v[c+s+1]=x.index}var _=r(g,!1);if(_=t?_.filter((function(e){for(var t=0,n=0;n<=s;++n){var r=v[e[n]];if(r<0&&++t>=2)return!1;e[n]=r}return!0})):_.filter((function(e){for(var t=0;t<=s;++t){var n=v[e[t]];if(n<0)return!1;e[t]=n}return!0})),1&s)for(c=0;c<_.length;++c)d=(x=_[c])[0],x[0]=x[1],x[1]=d;return _}},{"incremental-convex-hull":255,uniq:351}],85:[function(e,t,n){(function(e){var n=!1;if("undefined"!=typeof Float64Array){var r=new Float64Array(1),i=new Uint32Array(r.buffer);r[0]=1,n=!0,1072693248===i[1]?(t.exports=function(e){return r[0]=e,[i[0],i[1]]},t.exports.pack=function(e,t){return i[0]=e,i[1]=t,r[0]},t.exports.lo=function(e){return r[0]=e,i[0]},t.exports.hi=function(e){return r[0]=e,i[1]}):1072693248===i[0]?(t.exports=function(e){return r[0]=e,[i[1],i[0]]},t.exports.pack=function(e,t){return i[1]=e,i[0]=t,r[0]},t.exports.lo=function(e){return r[0]=e,i[1]},t.exports.hi=function(e){return r[0]=e,i[0]}):n=!1}if(!n){var o=new e(8);t.exports=function(e){return o.writeDoubleLE(e,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},t.exports.pack=function(e,t){return o.writeUInt32LE(e,0,!0),o.writeUInt32LE(t,4,!0),o.readDoubleLE(0,!0)},t.exports.lo=function(e){return o.writeDoubleLE(e,0,!0),o.readUInt32LE(0,!0)},t.exports.hi=function(e){return o.writeDoubleLE(e,0,!0),o.readUInt32LE(4,!0)}}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){return(t.exports.hi(e)<<1>>>21)-1023},t.exports.fraction=function(e){var n=t.exports.lo(e),r=t.exports.hi(e),i=1048575&r;return 2146435072&r&&(i+=1<<20),[n,i]},t.exports.denormalized=function(e){return!(2146435072&t.exports.hi(e))}}).call(this,e("buffer").Buffer)},{buffer:49}],86:[function(e,t,n){t.exports=function(e){switch(e){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],87:[function(e,t,n){"use strict";t.exports=function(e,t){switch("undefined"==typeof t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,n,r){var i=0|t[r];if(i<=0)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=e(t,n,r+1);return a}(e,t,0)}return[]}},{}],88:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.length;if("number"!=typeof t){t=0;for(var i=0;i<n;++i){var o=e[i];t=Math.max(t,o[0],o[1])}t=1+(0|t)}t|=0;var a=new Array(t);for(i=0;i<t;++i)a[i]=[];for(i=0;i<n;++i)a[(o=e[i])[0]].push(o[1]),a[o[1]].push(o[0]);for(var s=0;s<t;++s)r(a[s],(function(e,t){return e-t}));return a};var r=e("uniq")},{uniq:351}],89:[function(e,n,r){(function(t,i){!function(e,t){"object"==typeof r&&"undefined"!=typeof n?n.exports=t():e.ES6Promise=t()}(this,(function(){"use strict";function n(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,s=void 0,l=function(e,t){m[o]=e,m[o+1]=t,2===(o+=2)&&(s?s(g):_())},u="undefined"!=typeof window?window:void 0,c=u||{},f=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(g,1)}}var m=new Array(1e3);function g(){for(var e=0;e<o;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;o=0}var v,y,b,x,_=void 0;function w(e,t){var n=arguments,r=this,i=new this.constructor(T);void 0===i[M]&&H(i);var o,a=r._state;return a?(o=n[a-1],l((function(){return B(a,i,o,r._result)}))):I(r,i,e,t),i}function k(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return D(t,e),t}d?_=function(){return t.nextTick(g)}:f?(y=0,b=new f(g),x=document.createTextNode(""),b.observe(x,{characterData:!0}),_=function(){x.data=y=++y%2}):h?((v=new MessageChannel).port1.onmessage=g,_=function(){return v.port2.postMessage(0)}):_=void 0===u&&"function"==typeof e?function(){try{var t=e("vertx");return a=t.runOnLoop||t.runOnContext,function(){a(g)}}catch(e){return p()}}():p();var M=Math.random().toString(36).substring(16);function T(){}var S=void 0,E=1,A=2,O=new z;function C(e){try{return e.then}catch(e){return O.error=e,O}}function N(e,t,r){t.constructor===e.constructor&&r===w&&t.constructor.resolve===k?function(e,t){t._state===E?R(e,t._result):t._state===A?L(e,t._result):I(t,void 0,(function(t){return D(e,t)}),(function(t){return L(e,t)}))}(e,t):r===O?L(e,O.error):void 0===r?R(e,t):n(r)?function(e,t,n){l((function(e){var r=!1,i=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?D(e,n):R(e,n))}),(function(t){r||(r=!0,L(e,t))}),e._label);!r&&i&&(r=!0,L(e,i))}),e)}(e,t,r):R(e,t)}function D(e,t){var n;e===t?L(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=t)||"object"==typeof n&&null!==n?N(e,t,C(t)):R(e,t)}function P(e){e._onerror&&e._onerror(e._result),j(e)}function R(e,t){e._state===S&&(e._result=t,e._state=E,0!==e._subscribers.length&&l(j,e))}function L(e,t){e._state===S&&(e._state=A,e._result=t,l(P,e))}function I(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+E]=n,i[o+A]=r,0===o&&e._state&&l(j,e)}function j(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?B(n,r,i,o):i(o);e._subscribers.length=0}}function z(){this.error=null}var F=new z;function B(e,t,r,i){var o=n(r),a=void 0,s=void 0,l=void 0,u=void 0;if(o){if((a=function(e,t){try{return e(t)}catch(e){return F.error=e,F}}(r,i))===F?(u=!0,s=a.error,a=null):l=!0,t===a)return void L(t,new TypeError("A promises callback cannot return that same promise."))}else a=i,l=!0;t._state!==S||(o&&l?D(t,a):u?L(t,s):e===E?R(t,a):e===A&&L(t,a))}var U=0;function H(e){e[M]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}function q(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[M]||H(this.promise),r(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&R(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}function V(e){this[M]=U++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof V?function(e,t){try{t((function(t){D(e,t)}),(function(t){L(e,t)}))}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}function W(){var e=void 0;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=V}return q.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===S&&n<e;n++)this._eachEntry(t[n],n)},q.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===k){var i=C(e);if(i===w&&e._state!==S)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===V){var o=new n(T);N(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},q.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===S&&(this._remaining--,e===A?L(r,n):this._result[t]=n),0===this._remaining&&R(r,this._result)},q.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,(function(e){return n._settledAt(E,t,e)}),(function(e){return n._settledAt(A,t,e)}))},V.all=function(e){return new q(this,e).promise},V.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},V.resolve=k,V.reject=function(e){var t=new this(T);return L(t,e),t},V._setScheduler=function(e){s=e},V._setAsap=function(e){l=e},V._asap=l,V.prototype={constructor:V,then:w,catch:function(e){return this.then(null,e)}},W(),V.polyfill=W,V.Promise=V,V}))}).call(this,e("_process"),"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:309}],90:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=t||0,i=n||1;return[[e[12]+e[0],e[13]+e[1],e[14]+e[2],e[15]+e[3]],[e[12]-e[0],e[13]-e[1],e[14]-e[2],e[15]-e[3]],[e[12]+e[4],e[13]+e[5],e[14]+e[6],e[15]+e[7]],[e[12]-e[4],e[13]-e[5],e[14]-e[6],e[15]-e[7]],[r*e[12]+e[8],r*e[13]+e[9],r*e[14]+e[10],r*e[15]+e[11]],[i*e[12]-e[8],i*e[13]-e[9],i*e[14]-e[10],i*e[15]-e[11]]]}},{}],91:[function(e,t,n){"use strict";var r=e("is-string-blank");t.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0===(e=+e)&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},{"is-string-blank":263}],92:[function(e,t,n){"use strict";t.exports=function(e,t,n){switch(arguments.length){case 0:return new a([0],[0],0);case 1:return"number"==typeof e?new a(r=l(e),r,0):new a(e,l(e.length),0);case 2:var r;if("number"==typeof t)return new a(e,r=l(e.length),+t);n=0;case 3:if(e.length!==t.length)throw new Error("state and velocity lengths must match");return new a(e,t,n)}};var r=e("cubic-hermite"),i=e("binary-search-bounds");function o(e,t,n){return Math.min(t,Math.max(e,n))}function a(e,t,n){this.dimension=e.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=e.slice().reverse(),this._velocity=t.slice().reverse(),this._time=[n],this._scratch=[e.slice(),e.slice(),e.slice(),e.slice(),e.slice()]}var s=a.prototype;function l(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}s.flush=function(e){var t=i.gt(this._time,e)-1;t<=0||(this._time.splice(0,t),this._state.splice(0,t*this.dimension),this._velocity.splice(0,t*this.dimension))},s.curve=function(e){var t=this._time,n=t.length,a=i.le(t,e),s=this._scratch[0],l=this._state,u=this._velocity,c=this.dimension,f=this.bounds;if(a<0)for(var d=c-1,h=0;h<c;++h,--d)s[h]=l[d];else if(a>=n-1){d=l.length-1;var p=e-t[n-1];for(h=0;h<c;++h,--d)s[h]=l[d]+p*u[d]}else{d=c*(a+1)-1;var m=t[a],g=t[a+1]-m||1,v=this._scratch[1],y=this._scratch[2],b=this._scratch[3],x=this._scratch[4],_=!0;for(h=0;h<c;++h,--d)v[h]=l[d],b[h]=u[d]*g,y[h]=l[d+c],x[h]=u[d+c]*g,_=_&&v[h]===y[h]&&b[h]===x[h]&&0===b[h];if(_)for(h=0;h<c;++h)s[h]=v[h];else r(v,b,y,x,(e-m)/g,s)}var w=f[0],k=f[1];for(h=0;h<c;++h)s[h]=o(w[h],k[h],s[h]);return s},s.dcurve=function(e){var t=this._time,n=t.length,o=i.le(t,e),a=this._scratch[0],s=this._state,l=this._velocity,u=this.dimension;if(o>=n-1)for(var c=s.length-1,f=(t[n-1],0);f<u;++f,--c)a[f]=l[c];else{c=u*(o+1)-1;var d=t[o],h=t[o+1]-d||1,p=this._scratch[1],m=this._scratch[2],g=this._scratch[3],v=this._scratch[4],y=!0;for(f=0;f<u;++f,--c)p[f]=s[c],g[f]=l[c]*h,m[f]=s[c+u],v[f]=l[c+u]*h,y=y&&p[f]===m[f]&&g[f]===v[f]&&0===g[f];if(y)for(f=0;f<u;++f)a[f]=0;else for(r.derivative(p,g,m,v,(e-d)/h,a),f=0;f<u;++f)a[f]/=h}return a},s.lastT=function(){var e=this._time;return e[e.length-1]},s.stable=function(){for(var e=this._velocity,t=e.length,n=this.dimension-1;n>=0;--n)if(e[--t])return!1;return!0},s.jump=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var r=this._state,i=this._velocity,a=r.length-this.dimension,s=this.bounds,l=s[0],u=s[1];this._time.push(t,e);for(var c=0;c<2;++c)for(var f=0;f<n;++f)r.push(r[a++]),i.push(0);for(this._time.push(e),f=n;f>0;--f)r.push(o(l[f-1],u[f-1],arguments[f])),i.push(0)}},s.push=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var r=this._state,i=this._velocity,a=r.length-this.dimension,s=e-t,l=this.bounds,u=l[0],c=l[1],f=s>1e-6?1/s:0;this._time.push(e);for(var d=n;d>0;--d){var h=o(u[d-1],c[d-1],arguments[d]);r.push(h),i.push((h-r[a++])*f)}}},s.set=function(e){var t=this.dimension;if(!(e<this.lastT()||arguments.length!==t+1)){var n=this._state,r=this._velocity,i=this.bounds,a=i[0],s=i[1];this._time.push(e);for(var l=t;l>0;--l)n.push(o(a[l-1],s[l-1],arguments[l])),r.push(0)}},s.move=function(e){var t=this.lastT(),n=this.dimension;if(!(e<=t||arguments.length!==n+1)){var r=this._state,i=this._velocity,a=r.length-this.dimension,s=this.bounds,l=s[0],u=s[1],c=e-t,f=c>1e-6?1/c:0;this._time.push(e);for(var d=n;d>0;--d){var h=arguments[d];r.push(o(l[d-1],u[d-1],r[a++]+h)),i.push(h*f)}}},s.idle=function(e){var t=this.lastT();if(!(e<t)){var n=this.dimension,r=this._state,i=this._velocity,a=r.length-n,s=this.bounds,l=s[0],u=s[1],c=e-t;this._time.push(e);for(var f=n-1;f>=0;--f)r.push(o(l[f],u[f],r[a]+c*i[a])),i.push(0),a+=1}}},{"binary-search-bounds":36,"cubic-hermite":77}],93:[function(e,t,n){"use strict";function r(e,t,n,r,i,o){this._color=e,this.key=t,this.value=n,this.left=r,this.right=i,this._count=o}function i(e){return new r(e._color,e.key,e.value,e.left,e.right,e._count)}function o(e,t){return new r(e,t.key,t.value,t.left,t.right,t._count)}function a(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function s(e,t){this._compare=e,this.root=t}t.exports=function(e){return new s(e||d,null)};var l=s.prototype;function u(e,t){this.tree=e,this._stack=t}Object.defineProperty(l,"keys",{get:function(){var e=[];return this.forEach((function(t,n){e.push(t)})),e}}),Object.defineProperty(l,"values",{get:function(){var e=[];return this.forEach((function(t,n){e.push(n)})),e}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(e,t){for(var n=this._compare,i=this.root,l=[],u=[];i;){var c=n(e,i.key);l.push(i),u.push(c),i=c<=0?i.left:i.right}l.push(new r(0,e,t,null,null,1));for(var f=l.length-2;f>=0;--f)i=l[f],u[f]<=0?l[f]=new r(i._color,i.key,i.value,l[f+1],i.right,i._count+1):l[f]=new r(i._color,i.key,i.value,i.left,l[f+1],i._count+1);for(f=l.length-1;f>1;--f){var d=l[f-1];if(i=l[f],1===d._color||1===i._color)break;var h=l[f-2];if(h.left===d)if(d.left===i){if(!(p=h.right)||0!==p._color){h._color=0,h.left=d.right,d._color=1,d.right=h,l[f-2]=d,l[f-1]=i,a(h),a(d),f>=3&&((m=l[f-3]).left===h?m.left=d:m.right=d);break}d._color=1,h.right=o(1,p),h._color=0,f-=1}else{if(!(p=h.right)||0!==p._color){d.right=i.left,h._color=0,h.left=i.right,i._color=1,i.left=d,i.right=h,l[f-2]=i,l[f-1]=d,a(h),a(d),a(i),f>=3&&((m=l[f-3]).left===h?m.left=i:m.right=i);break}d._color=1,h.right=o(1,p),h._color=0,f-=1}else if(d.right===i){if(!(p=h.left)||0!==p._color){h._color=0,h.right=d.left,d._color=1,d.left=h,l[f-2]=d,l[f-1]=i,a(h),a(d),f>=3&&((m=l[f-3]).right===h?m.right=d:m.left=d);break}d._color=1,h.left=o(1,p),h._color=0,f-=1}else{var p;if(!(p=h.left)||0!==p._color){var m;d.left=i.right,h._color=0,h.right=i.left,i._color=1,i.right=d,i.left=h,l[f-2]=i,l[f-1]=d,a(h),a(d),a(i),f>=3&&((m=l[f-3]).right===h?m.right=i:m.left=i);break}d._color=1,h.left=o(1,p),h._color=0,f-=1}}return l[0]._color=1,new s(n,l[0])},l.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return function e(t,n){var r;return n.left&&(r=e(t,n.left))?r:(r=t(n.key,n.value))||(n.right?e(t,n.right):void 0)}(e,this.root);case 2:return function e(t,n,r,i){if(n(t,i.key)<=0){var o;if(i.left&&(o=e(t,n,r,i.left)))return o;if(o=r(i.key,i.value))return o}if(i.right)return e(t,n,r,i.right)}(t,this._compare,e,this.root);case 3:if(this._compare(t,n)>=0)return;return function e(t,n,r,i,o){var a,s=r(t,o.key),l=r(n,o.key);if(s<=0){if(o.left&&(a=e(t,n,r,i,o.left)))return a;if(l>0&&(a=i(o.key,o.value)))return a}if(l>0&&o.right)return e(t,n,r,i,o.right)}(t,n,this._compare,e,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new u(this,e)}}),Object.defineProperty(l,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new u(this,e)}}),l.at=function(e){if(e<0)return new u(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new u(this,n);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new u(this,[])},l.ge=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<=0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new u(this,r)},l.gt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new u(this,r)},l.lt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new u(this,r)},l.le=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>=0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new u(this,r)},l.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var i=t(e,n.key);if(r.push(n),0===i)return new u(this,r);n=i<=0?n.left:n.right}return new u(this,[])},l.remove=function(e){var t=this.find(e);return t?t.remove():this},l.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var c=u.prototype;function f(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function d(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(c,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(c,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),c.clone=function(){return new u(this.tree,this._stack.slice())},c.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var t=new Array(e.length),n=e[e.length-1];t[t.length-1]=new r(n._color,n.key,n.value,n.left,n.right,n._count);for(var l=e.length-2;l>=0;--l)(n=e[l]).left===e[l+1]?t[l]=new r(n._color,n.key,n.value,t[l+1],n.right,n._count):t[l]=new r(n._color,n.key,n.value,n.left,t[l+1],n._count);if((n=t[t.length-1]).left&&n.right){var u=t.length;for(n=n.left;n.right;)t.push(n),n=n.right;var c=t[u-1];for(t.push(new r(n._color,c.key,c.value,n.left,n.right,n._count)),t[u-1].key=n.key,t[u-1].value=n.value,l=t.length-2;l>=u;--l)n=t[l],t[l]=new r(n._color,n.key,n.value,n.left,t[l+1],n._count);t[u-1].left=t[u]}if(0===(n=t[t.length-1])._color){var d=t[t.length-2];for(d.left===n?d.left=null:d.right===n&&(d.right=null),t.pop(),l=0;l<t.length;++l)t[l]._count--;return new s(this.tree._compare,t[0])}if(n.left||n.right){for(n.left?f(n,n.left):n.right&&f(n,n.right),n._color=1,l=0;l<t.length-1;++l)t[l]._count--;return new s(this.tree._compare,t[0])}if(1===t.length)return new s(this.tree._compare,null);for(l=0;l<t.length;++l)t[l]._count--;var h=t[t.length-2];return function(e){for(var t,n,r,s,l=e.length-1;l>=0;--l){if(t=e[l],0===l)return void(t._color=1);if((n=e[l-1]).left===t){if((r=n.right).right&&0===r.right._color)return s=(r=n.right=i(r)).right=i(r.right),n.right=r.left,r.left=n,r.right=s,r._color=n._color,t._color=1,n._color=1,s._color=1,a(n),a(r),l>1&&((u=e[l-2]).left===n?u.left=r:u.right=r),void(e[l-1]=r);if(r.left&&0===r.left._color)return s=(r=n.right=i(r)).left=i(r.left),n.right=s.left,r.left=s.right,s.left=n,s.right=r,s._color=n._color,n._color=1,r._color=1,t._color=1,a(n),a(r),a(s),l>1&&((u=e[l-2]).left===n?u.left=s:u.right=s),void(e[l-1]=s);if(1===r._color){if(0===n._color)return n._color=1,void(n.right=o(0,r));n.right=o(0,r);continue}r=i(r),n.right=r.left,r.left=n,r._color=n._color,n._color=0,a(n),a(r),l>1&&((u=e[l-2]).left===n?u.left=r:u.right=r),e[l-1]=r,e[l]=n,l+1<e.length?e[l+1]=t:e.push(t),l+=2}else{if((r=n.left).left&&0===r.left._color)return s=(r=n.left=i(r)).left=i(r.left),n.left=r.right,r.right=n,r.left=s,r._color=n._color,t._color=1,n._color=1,s._color=1,a(n),a(r),l>1&&((u=e[l-2]).right===n?u.right=r:u.left=r),void(e[l-1]=r);if(r.right&&0===r.right._color)return s=(r=n.left=i(r)).right=i(r.right),n.left=s.right,r.right=s.left,s.right=n,s.left=r,s._color=n._color,n._color=1,r._color=1,t._color=1,a(n),a(r),a(s),l>1&&((u=e[l-2]).right===n?u.right=s:u.left=s),void(e[l-1]=s);if(1===r._color){if(0===n._color)return n._color=1,void(n.left=o(0,r));n.left=o(0,r);continue}var u;r=i(r),n.left=r.right,r.right=n,r._color=n._color,n._color=0,a(n),a(r),l>1&&((u=e[l-2]).right===n?u.right=r:u.left=r),e[l-1]=r,e[l]=n,l+1<e.length?e[l+1]=t:e.push(t),l+=2}}}(t),h.left===n?h.left=null:h.right=null,new s(this.tree._compare,t[0])},Object.defineProperty(c,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(c,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(c,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var n=this.tree.root;return n?n._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),c.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(c,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),c.update=function(e){var t=this._stack;if(0===t.length)throw new Error("Can't update empty node!");var n=new Array(t.length),i=t[t.length-1];n[n.length-1]=new r(i._color,i.key,e,i.left,i.right,i._count);for(var o=t.length-2;o>=0;--o)(i=t[o]).left===t[o+1]?n[o]=new r(i._color,i.key,i.value,n[o+1],i.right,i._count):n[o]=new r(i._color,i.key,i.value,i.left,n[o+1],i._count);return new s(this.tree._compare,n[0])},c.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(c,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},{}],94:[function(e,t,n){var r=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],i=607/128,o=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function a(e){if(e<0)return Number("0/0");for(var t=o[0],n=o.length-1;n>0;--n)t+=o[n]/(e+n);var r=e+i+.5;return.5*Math.log(2*Math.PI)+(e+.5)*Math.log(r)-r+Math.log(t)-Math.log(e)}t.exports=function e(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*e(1-t));if(t>100)return Math.exp(a(t));t-=1;for(var n=r[0],i=1;i<9;i++)n+=r[i]/(t+i);var o=t+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,t+.5)*Math.exp(-o)*n},t.exports.log=a},{}],95:[function(e,t,n){t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("must specify type string");if(t=t||{},"undefined"==typeof document&&!t.canvas)return null;var n=t.canvas||document.createElement("canvas");"number"==typeof t.width&&(n.width=t.width),"number"==typeof t.height&&(n.height=t.height);var r,i=t;try{var o=[e];0===e.indexOf("webgl")&&o.push("experimental-"+e);for(var a=0;a<o.length;a++)if(r=n.getContext(o[a],i))return r}catch(e){r=null}return r||null}},{}],96:[function(e,t,n){"use strict";t.exports=function(e,t){var n=new c(e);return n.update(t),n};var r=e("./lib/text.js"),i=e("./lib/lines.js"),o=e("./lib/background.js"),a=e("./lib/cube.js"),s=e("./lib/ticks.js"),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function c(e){this.gl=e,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(e)}var f=c.prototype;function d(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}f.update=function(e){function t(t,n,r){if(r in e){var i,o=e[r],a=this[r];(t?Array.isArray(o)&&Array.isArray(o[0]):Array.isArray(o))?this[r]=i=[n(o[0]),n(o[1]),n(o[2])]:this[r]=i=[n(o),n(o),n(o)];for(var s=0;s<3;++s)if(i[s]!==a[s])return!0}return!1}e=e||{};var n,o=t.bind(this,!1,Number),a=t.bind(this,!1,Boolean),l=t.bind(this,!1,String),u=t.bind(this,!0,(function(e){if(Array.isArray(e)){if(3===e.length)return[+e[0],+e[1],+e[2],1];if(4===e.length)return[+e[0],+e[1],+e[2],+e[3]]}return[0,0,0,1]})),c=!1,f=!1;if("bounds"in e)for(var d=e.bounds,h=0;h<2;++h)for(var p=0;p<3;++p)d[h][p]!==this.bounds[h][p]&&(f=!0),this.bounds[h][p]=d[h][p];if("ticks"in e)for(n=e.ticks,c=!0,this.autoTicks=!1,h=0;h<3;++h)this.tickSpacing[h]=0;else o("tickSpacing")&&(this.autoTicks=!0,f=!0);if(this._firstInit&&("ticks"in e||"tickSpacing"in e||(this.autoTicks=!0),f=!0,c=!0,this._firstInit=!1),f&&this.autoTicks&&(n=s.create(this.bounds,this.tickSpacing),c=!0),c){for(h=0;h<3;++h)n[h].sort((function(e,t){return e.x-t.x}));s.equal(n,this.ticks)?c=!1:this.ticks=n}a("tickEnable"),l("tickFont")&&(c=!0),o("tickSize"),o("tickAngle"),o("tickPad"),u("tickColor");var m=l("labels");l("labelFont")&&(m=!0),a("labelEnable"),o("labelSize"),o("labelPad"),u("labelColor"),a("lineEnable"),a("lineMirror"),o("lineWidth"),u("lineColor"),a("lineTickEnable"),a("lineTickMirror"),o("lineTickLength"),o("lineTickWidth"),u("lineTickColor"),a("gridEnable"),o("gridWidth"),u("gridColor"),a("zeroEnable"),u("zeroLineColor"),o("zeroLineWidth"),a("backgroundEnable"),u("backgroundColor"),this._text?this._text&&(m||c)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&c&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};var h=[new d,new d,new d];function p(e,t,n,r,i){for(var o=e.primalOffset,a=e.primalMinor,s=e.mirrorOffset,l=e.mirrorMinor,u=r[t],c=0;c<3;++c)if(t!==c){var f=o,d=s,h=a,p=l;u&1<<c&&(f=s,d=o,h=l,p=a),f[c]=n[0][c],d[c]=n[1][c],i[c]>0?(h[c]=-1,p[c]=0):(h[c]=0,p[c]=1)}}var m=[0,0,0],g={model:l,view:l,projection:l,_ortho:!1};f.isOpaque=function(){return!0},f.isTransparent=function(){return!1},f.drawTransparent=function(e){};var v=[0,0,0],y=[0,0,0],b=[0,0,0];f.draw=function(e){e=e||g;for(var t=this.gl,n=e.model||l,r=e.view||l,i=e.projection||l,o=this.bounds,s=e._ortho||!1,c=a(n,r,i,o,s),f=c.cubeEdges,d=c.axis,x=r[12],_=r[13],w=r[14],k=r[15],M=(s?2:1)*this.pixelRatio*(i[3]*x+i[7]*_+i[11]*w+i[15]*k)/t.drawingBufferHeight,T=0;T<3;++T)this.lastCubeProps.cubeEdges[T]=f[T],this.lastCubeProps.axis[T]=d[T];var S=h;for(T=0;T<3;++T)p(h[T],T,this.bounds,f,d);t=this.gl;var E,A,O,C=m;for(T=0;T<3;++T)this.backgroundEnable[T]?C[T]=d[T]:C[T]=0;for(this._background.draw(n,r,i,o,C,this.backgroundColor),this._lines.bind(n,r,i,this),T=0;T<3;++T){var N=[0,0,0];d[T]>0?N[T]=o[1][T]:N[T]=o[0][T];for(var D=0;D<2;++D){var P=(T+1+D)%3,R=(T+1+(1^D))%3;this.gridEnable[P]&&this._lines.drawGrid(P,R,this.bounds,N,this.gridColor[P],this.gridWidth[P]*this.pixelRatio)}for(D=0;D<2;++D)P=(T+1+D)%3,R=(T+1+(1^D))%3,this.zeroEnable[R]&&Math.min(o[0][R],o[1][R])<=0&&Math.max(o[0][R],o[1][R])>=0&&this._lines.drawZero(P,R,this.bounds,N,this.zeroLineColor[R],this.zeroLineWidth[R]*this.pixelRatio)}for(T=0;T<3;++T){this.lineEnable[T]&&this._lines.drawAxisLine(T,this.bounds,S[T].primalOffset,this.lineColor[T],this.lineWidth[T]*this.pixelRatio),this.lineMirror[T]&&this._lines.drawAxisLine(T,this.bounds,S[T].mirrorOffset,this.lineColor[T],this.lineWidth[T]*this.pixelRatio);var L=u(v,S[T].primalMinor),I=u(y,S[T].mirrorMinor),j=this.lineTickLength;for(D=0;D<3;++D){var z=M/n[5*D];L[D]*=j[D]*z,I[D]*=j[D]*z}this.lineTickEnable[T]&&this._lines.drawAxisTicks(T,S[T].primalOffset,L,this.lineTickColor[T],this.lineTickWidth[T]*this.pixelRatio),this.lineTickMirror[T]&&this._lines.drawAxisTicks(T,S[T].mirrorOffset,I,this.lineTickColor[T],this.lineTickWidth[T]*this.pixelRatio)}function F(e){(O=[0,0,0])[e]=1}function B(e,t,n){var r=(e+1)%3,i=(e+2)%3,o=t[r],a=t[i],s=n[r],l=n[i];o>0&&l>0?F(r):o>0&&l<0?F(r):o<0&&l>0?F(r):o<0&&l<0?F(r):a>0&&s>0?F(i):a>0&&s<0?F(i):a<0&&s>0?F(i):a<0&&s<0&&F(i)}for(this._lines.unbind(),this._text.bind(n,r,i,this.pixelRatio),T=0;T<3;++T){var U=S[T].primalMinor,H=S[T].mirrorMinor,q=u(b,S[T].primalOffset);for(D=0;D<3;++D)this.lineTickEnable[T]&&(q[D]+=M*U[D]*Math.max(this.lineTickLength[D],0)/n[5*D]);var V=[0,0,0];if(V[T]=1,this.tickEnable[T]){for(-3600===this.tickAngle[T]?(this.tickAngle[T]=0,this.tickAlign[T]="auto"):this.tickAlign[T]=-1,A=1,"auto"===(E=[this.tickAlign[T],.5,A])[0]?E[0]=0:E[0]=parseInt(""+E[0]),O=[0,0,0],B(T,U,H),D=0;D<3;++D)q[D]+=M*U[D]*this.tickPad[D]/n[5*D];this._text.drawTicks(T,this.tickSize[T],this.tickAngle[T],q,this.tickColor[T],V,O,E)}if(this.labelEnable[T]){for(A=0,O=[0,0,0],this.labels[T].length>4&&(F(T),A=1),"auto"===(E=[this.labelAlign[T],.5,A])[0]?E[0]=0:E[0]=parseInt(""+E[0]),D=0;D<3;++D)q[D]+=M*U[D]*this.labelPad[D]/n[5*D];q[T]+=.5*(o[0][T]+o[1][T]),this._text.drawLabel(T,this.labelSize[T],this.labelAngle[T],q,this.labelColor[T],[0,0,0],O,E)}}this._text.unbind()},f.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},{"./lib/background.js":97,"./lib/cube.js":98,"./lib/lines.js":99,"./lib/text.js":101,"./lib/ticks.js":102}],97:[function(e,t,n){"use strict";t.exports=function(e){for(var t=[],n=[],s=0,l=0;l<3;++l)for(var u=(l+1)%3,c=(l+2)%3,f=[0,0,0],d=[0,0,0],h=-1;h<=1;h+=2){n.push(s,s+2,s+1,s+1,s+2,s+3),f[l]=h,d[l]=h;for(var p=-1;p<=1;p+=2){f[u]=p;for(var m=-1;m<=1;m+=2)f[c]=m,t.push(f[0],f[1],f[2],d[0],d[1],d[2]),s+=1}var g=u;u=c,c=g}var v=r(e,new Float32Array(t)),y=r(e,new Uint16Array(n),e.ELEMENT_ARRAY_BUFFER),b=i(e,[{buffer:v,type:e.FLOAT,size:3,offset:0,stride:24},{buffer:v,type:e.FLOAT,size:3,offset:12,stride:24}],y),x=o(e);return x.attributes.position.location=0,x.attributes.normal.location=1,new a(e,v,b,x)};var r=e("gl-buffer"),i=e("gl-vao"),o=e("./shaders").bg;function a(e,t,n,r){this.gl=e,this.buffer=t,this.vao=n,this.shader=r}var s=a.prototype;s.draw=function(e,t,n,r,i,o){for(var a=!1,s=0;s<3;++s)a=a||i[s];if(a){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:e,view:t,projection:n,bounds:r,enable:i,colors:o},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),l.disable(l.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders":100,"gl-buffer":104,"gl-vao":169}],98:[function(e,t,n){"use strict";t.exports=function(e,t,n,o,h){i(s,t,e),i(s,n,s);for(var y=0,b=0;b<2;++b){c[2]=o[b][2];for(var x=0;x<2;++x){c[1]=o[x][1];for(var _=0;_<2;++_)c[0]=o[_][0],d(l[y],c,s),y+=1}}var w=-1;for(b=0;b<8;++b){for(var k=l[b][3],M=0;M<3;++M)u[b][M]=l[b][M]/k;h&&(u[b][2]*=-1),k<0&&(w<0?w=b:u[b][2]<u[w][2]&&(w=b))}if(w<0){w=0;for(var T=0;T<3;++T){for(var S=(T+2)%3,E=(T+1)%3,A=-1,O=-1,C=0;C<2;++C){var N=(P=C<<T)+(C<<S)+(1-C<<E),D=P+(1-C<<S)+(C<<E);a(u[P],u[N],u[D],f)<0||(C?A=1:O=1)}if(A<0||O<0)O>A&&(w|=1<<T);else{for(C=0;C<2;++C){N=(P=C<<T)+(C<<S)+(1-C<<E),D=P+(1-C<<S)+(C<<E);var P,R=p([l[P],l[N],l[D],l[P+(1<<S)+(1<<E)]]);C?A=R:O=R}O>A&&(w|=1<<T)}}}var L=7^w,I=-1;for(b=0;b<8;++b)b!==w&&b!==L&&(I<0?I=b:u[I][1]>u[b][1]&&(I=b));var j=-1;for(b=0;b<3;++b)(F=I^1<<b)!==w&&F!==L&&(j<0&&(j=F),(E=u[F])[0]<u[j][0]&&(j=F));var z=-1;for(b=0;b<3;++b){var F;(F=I^1<<b)!==w&&F!==L&&F!==j&&(z<0&&(z=F),(E=u[F])[0]>u[z][0]&&(z=F))}var B=m;B[0]=B[1]=B[2]=0,B[r.log2(j^I)]=I&j,B[r.log2(I^z)]=I&z;var U=7^z;U===w||U===L?(U=7^j,B[r.log2(z^U)]=U&z):B[r.log2(j^U)]=U&j;var H=g,q=w;for(T=0;T<3;++T)H[T]=q&1<<T?-1:1;return v};var r=e("bit-twiddle"),i=e("gl-mat4/multiply"),o=e("split-polygon"),a=e("robust-orientation"),s=new Array(16),l=new Array(8),u=new Array(8),c=new Array(3),f=[0,0,0];function d(e,t,n){for(var r=0;r<4;++r){e[r]=n[12+r];for(var i=0;i<3;++i)e[r]+=t[i]*n[4*i+r]}}!function(){for(var e=0;e<8;++e)l[e]=[1,1,1,1],u[e]=[1,1,1]}();var h=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(e){for(var t=0;t<h.length;++t)if((e=o.positive(e,h[t])).length<3)return 0;var n=e[0],r=n[0]/n[3],i=n[1]/n[3],a=0;for(t=1;t+1<e.length;++t){var s=e[t],l=e[t+1],u=s[0]/s[3]-r,c=s[1]/s[3]-i,f=l[0]/l[3]-r,d=l[1]/l[3]-i;a+=Math.abs(u*d-c*f)}return a}var m=[1,1,1],g=[0,0,0],v={cubeEdges:m,axis:g}},{"bit-twiddle":37,"gl-mat4/multiply":127,"robust-orientation":323,"split-polygon":340}],99:[function(e,t,n){"use strict";t.exports=function(e,t,n){var a=[],s=[0,0,0],l=[0,0,0],u=[0,0,0],c=[0,0,0];a.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var f=0;f<3;++f){for(var d=a.length/3|0,p=0;p<n[f].length;++p){var m=+n[f][p].x;a.push(m,0,1,m,1,1,m,0,-1,m,0,-1,m,1,1,m,1,-1)}var g=a.length/3|0;s[f]=d,l[f]=g-d,d=a.length/3|0;for(var v=0;v<n[f].length;++v)m=+n[f][v].x,a.push(m,0,1,m,1,1,m,0,-1,m,0,-1,m,1,1,m,1,-1);g=a.length/3|0,u[f]=d,c[f]=g-d}var y=r(e,new Float32Array(a)),b=i(e,[{buffer:y,type:e.FLOAT,size:3,stride:0,offset:0}]),x=o(e);return x.attributes.position.location=0,new h(e,y,b,x,l,s,c,u)};var r=e("gl-buffer"),i=e("gl-vao"),o=e("./shaders").line,a=[0,0,0],s=[0,0,0],l=[0,0,0],u=[0,0,0],c=[1,1];function f(e){return e[0]=e[1]=e[2]=0,e}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function h(e,t,n,r,i,o,a,s){this.gl=e,this.vertBuffer=t,this.vao=n,this.shader=r,this.tickCount=i,this.tickOffset=o,this.gridCount=a,this.gridOffset=s}var p=h.prototype;p.bind=function(e,t,n){this.shader.bind(),this.shader.uniforms.model=e,this.shader.uniforms.view=t,this.shader.uniforms.projection=n,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(e,t,n,r,i){var o=f(s);this.shader.uniforms.majorAxis=s,o[e]=t[1][e]-t[0][e],this.shader.uniforms.minorAxis=o;var a,c=d(u,n);c[e]+=t[0][e],this.shader.uniforms.offset=c,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=r,(a=f(l))[(e+2)%3]=1,this.shader.uniforms.screenAxis=a,this.vao.draw(this.gl.TRIANGLES,6),(a=f(l))[(e+1)%3]=1,this.shader.uniforms.screenAxis=a,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(e,t,n,r,i){if(this.tickCount[e]){var o=f(a);o[e]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=t,this.shader.uniforms.minorAxis=n,this.shader.uniforms.color=r,this.shader.uniforms.lineWidth=i;var s=f(l);s[e]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[e],this.tickOffset[e])}},p.drawGrid=function(e,t,n,r,i,o){if(this.gridCount[e]){var c=f(s);c[t]=n[1][t]-n[0][t],this.shader.uniforms.minorAxis=c;var h=d(u,r);h[t]+=n[0][t],this.shader.uniforms.offset=h;var p=f(a);p[e]=1,this.shader.uniforms.majorAxis=p;var m=f(l);m[e]=1,this.shader.uniforms.screenAxis=m,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,this.gridCount[e],this.gridOffset[e])}},p.drawZero=function(e,t,n,r,i,o){var a=f(s);this.shader.uniforms.majorAxis=a,a[e]=n[1][e]-n[0][e],this.shader.uniforms.minorAxis=a;var c=d(u,r);c[e]+=n[0][e],this.shader.uniforms.offset=c;var h=f(l);h[t]=1,this.shader.uniforms.screenAxis=h,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},{"./shaders":100,"gl-buffer":104,"gl-vao":169}],100:[function(e,t,n){"use strict";var r=e("glslify"),i=e("gl-shader"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.line=function(e){return i(e,o,a,null,[{name:"position",type:"vec3"}])};var s=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis, alignDir, alignOpt;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nfloat computeViewAngle(vec3 a, vec3 b) {\n  vec3 A = project(a);\n  vec3 B = project(b);\n\n  return atan(\n    (B.y - A.y) * resolution.y,\n    (B.x - A.x) * resolution.x\n  );\n}\n\nconst float PI = 3.141592;\nconst float TWO_PI = 2.0 * PI;\nconst float HALF_PI = 0.5 * PI;\nconst float ONE_AND_HALF_PI = 1.5 * PI;\n\nint option = int(floor(alignOpt.x + 0.001));\nfloat hv_ratio =       alignOpt.y;\nbool enableAlign =    (alignOpt.z != 0.0);\n\nfloat mod_angle(float a) {\n  return mod(a, PI);\n}\n\nfloat positive_angle(float a) {\n  return mod_angle((a < 0.0) ?\n    a + TWO_PI :\n    a\n  );\n}\n\nfloat look_upwards(float a) {\n  float b = positive_angle(a);\n  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?\n    b - PI :\n    b;\n}\n\nfloat look_horizontal_or_vertical(float a, float ratio) {\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\n  // if ratio is set to 0.5 then it is 50%, 50%.\n  // when using a higher ratio e.g. 0.75 the result would\n  // likely be more horizontal than vertical.\n\n  float b = positive_angle(a);\n\n  return\n    (b < (      ratio) * HALF_PI) ? 0.0 :\n    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :\n    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :\n    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :\n                                    0.0;\n}\n\nfloat roundTo(float a, float b) {\n  return float(b * floor((a + 0.5 * b) / b));\n}\n\nfloat look_round_n_directions(float a, int n) {\n  float b = positive_angle(a);\n  float div = TWO_PI / float(n);\n  float c = roundTo(b, div);\n  return look_upwards(c);\n}\n\nfloat applyAlignOption(float rawAngle, float delta) {\n  return\n    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\n                    rawAngle;                // otherwise return back raw input angle\n}\n\nbool isAxisTitle = (axis.x == 0.0) &&\n                   (axis.y == 0.0) &&\n                   (axis.z == 0.0);\n\nvoid main() {\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n\n  float beta = angle; // i.e. user defined attributes for each tick\n\n  float axisAngle;\n  float clipAngle;\n  float flip;\n\n  if (enableAlign) {\n    axisAngle = (isAxisTitle) ? HALF_PI :\n                      computeViewAngle(dataPosition, dataPosition + axis);\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\n\n    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;\n    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;\n\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\n                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;\n\n    beta += applyAlignOption(clipAngle, flip * PI);\n  }\n\n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n\n  mat2 planeXform = scale * mat2(\n     cos(beta), sin(beta),\n    -sin(beta), cos(beta)\n  );\n\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute clip position\n  vec3 clipPosition = project(dataPosition);\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec3(viewOffset, 0.0);\n\n  //Done\n  gl_Position = vec4(clipPosition, 1.0);\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);n.text=function(e){return i(e,s,l,null,[{name:"position",type:"vec3"}])};var u=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\n\n  vec3 realNormal = signAxis * normal;\n\n  if(dot(realNormal, enable) > 0.0) {\n    vec3 minRange = min(bounds[0], bounds[1]);\n    vec3 maxRange = max(bounds[0], bounds[1]);\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n\n  colorChannel = abs(realNormal);\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] +\n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);n.bg=function(e){return i(e,u,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},{"gl-shader":150,glslify:251}],101:[function(e,t,n){(function(n){"use strict";t.exports=function(e,t,n,o,s,l){var c=r(e),f=i(e,[{buffer:c,size:3}]),d=a(e);d.attributes.position.location=0;var h=new u(e,d,c,f);return h.update(t,n,o,s,l),h};var r=e("gl-buffer"),i=e("gl-vao"),o=e("vectorize-text"),a=e("./shaders").text,s=window||n.global||{},l=s.__TEXT_CACHE||{};function u(e,t,n,r){this.gl=e,this.shader=t,this.buffer=n,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}s.__TEXT_CACHE={};var c=u.prototype,f=[0,0];c.bind=function(e,t,n,r){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=e,i.view=t,i.projection=n,i.pixelScale=r,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=f},c.unbind=function(){this.vao.unbind()},c.update=function(e,t,n,r,i){var a=[];function s(e,t,n,r,i,s){var u=l[n];u||(u=l[n]={});var c=u[t];c||(c=u[t]=function(e,t){try{return o(e,t)}catch(t){return console.warn('error vectorizing text:"'+e+'" error:',t),{cells:[],positions:[]}}}(t,{triangles:!0,font:n,textAlign:"center",textBaseline:"middle",lineSpacing:i,styletags:s}));for(var f=(r||12)/12,d=c.positions,h=c.cells,p=0,m=h.length;p<m;++p)for(var g=h[p],v=2;v>=0;--v){var y=d[g[v]];a.push(f*y[0],-f*y[1],e)}}for(var u=[0,0,0],c=[0,0,0],f=[0,0,0],d=[0,0,0],h={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},p=0;p<3;++p){f[p]=a.length/3|0,s(.5*(e[0][p]+e[1][p]),t[p],n[p],12,1.25,h),d[p]=(a.length/3|0)-f[p],u[p]=a.length/3|0;for(var m=0;m<r[p].length;++m)r[p][m].text&&s(r[p][m].x,r[p][m].text,r[p][m].font||i,r[p][m].fontSize||12,1.25,h);c[p]=(a.length/3|0)-u[p]}this.buffer.update(a),this.tickOffset=u,this.tickCount=c,this.labelOffset=f,this.labelCount=d},c.drawTicks=function(e,t,n,r,i,o,a,s){this.tickCount[e]&&(this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=t,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[e],this.tickOffset[e]))},c.drawLabel=function(e,t,n,r,i,o,a,s){this.labelCount[e]&&(this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=t,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=a,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.labelCount[e],this.labelOffset[e]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this,e("_process"))},{"./shaders":100,_process:309,"gl-buffer":104,"gl-vao":169,"vectorize-text":352}],102:[function(e,t,n){"use strict";function r(e,t){var n=e+"",r=n.indexOf("."),i=0;r>=0&&(i=n.length-r-1);var o=Math.pow(10,i),a=Math.round(e*t*o),s=a+"";if(s.indexOf("e")>=0)return s;var l=a/o,u=a%o;a<0?(l=0|-Math.ceil(l),u=0|-u):(l=0|Math.floor(l),u|=0);var c=""+l;if(a<0&&(c="-"+c),i){for(var f=""+u;f.length<i;)f="0"+f;return c+"."+f}return c}n.create=function(e,t){for(var n=[],i=0;i<3;++i){for(var o=[],a=(e[0][i],e[1][i],0);a*t[i]<=e[1][i];++a)o.push({x:a*t[i],text:r(t[i],a)});for(a=-1;a*t[i]>=e[0][i];--a)o.push({x:a*t[i],text:r(t[i],a)});n.push(o)}return n},n.equal=function(e,t){for(var n=0;n<3;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;++r){var i=e[n][r],o=t[n][r];if(i.x!==o.x||i.text!==o.text||i.font!==o.font||i.fontColor!==o.fontColor||i.fontSize!==o.fontSize||i.dx!==o.dx||i.dy!==o.dy)return!1}}return!0}},{}],103:[function(e,t,n){"use strict";t.exports=function(e,t,n,l,f){var d=t.model||u,h=t.view||u,v=t.projection||u,y=t._ortho||!1,b=e.bounds,x=(f=f||o(d,h,v,b,y)).axis;a(c,h,d),a(c,v,c);for(var _=m,w=0;w<3;++w)_[w].lo=1/0,_[w].hi=-1/0,_[w].pixelsPerDataUnit=1/0;var k=r(s(c,c));s(c,c);for(var M=0;M<3;++M){var T=(M+1)%3,S=(M+2)%3,E=g;e:for(w=0;w<2;++w){var A=[];if(x[M]<0!=!!w){E[M]=b[w][M];for(var O=0;O<2;++O){E[T]=b[O^w][T];for(var C=0;C<2;++C)E[S]=b[C^O^w][S],A.push(E.slice())}var N=y?5:4;for(O=N;O===N;++O){if(0===A.length)continue e;A=i.positive(A,k[O])}for(O=0;O<A.length;++O){S=A[O];var D=p(g,c,S,n,l);for(C=0;C<3;++C)_[C].lo=Math.min(_[C].lo,S[C]),_[C].hi=Math.max(_[C].hi,S[C]),C!==M&&(_[C].pixelsPerDataUnit=Math.min(_[C].pixelsPerDataUnit,Math.abs(D[C])))}}}}return _};var r=e("extract-frustum-planes"),i=e("split-polygon"),o=e("./lib/cube.js"),a=e("gl-mat4/multiply"),s=e("gl-mat4/transpose"),l=e("gl-vec4/transformMat4"),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function f(e,t,n){this.lo=e,this.hi=t,this.pixelsPerDataUnit=n}var d=[0,0,0,1],h=[0,0,0,1];function p(e,t,n,r,i){for(var o=0;o<3;++o){for(var a=d,s=h,u=0;u<3;++u)s[u]=a[u]=n[u];s[3]=a[3]=1,s[o]+=1,l(s,s,t),s[3]<0&&(e[o]=1/0),a[o]-=1,l(a,a,t),a[3]<0&&(e[o]=1/0);var c=(a[0]/a[3]-s[0]/s[3])*r,f=(a[1]/a[3]-s[1]/s[3])*i;e[o]=.25*Math.sqrt(c*c+f*f)}return e}var m=[new f(1/0,-1/0,1/0),new f(1/0,-1/0,1/0),new f(1/0,-1/0,1/0)],g=[0,0,0]},{"./lib/cube.js":98,"extract-frustum-planes":90,"gl-mat4/multiply":127,"gl-mat4/transpose":136,"gl-vec4/transformMat4":240,"split-polygon":340}],104:[function(e,t,n){"use strict";var r=e("typedarray-pool"),i=e("ndarray-ops"),o=e("ndarray"),a=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(e,t,n,r,i){this.gl=e,this.type=t,this.handle=n,this.length=r,this.usage=i}var l=s.prototype;function u(e,t,n,r,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(o<0)return e.bufferData(t,i,r),a;if(a+o>n)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return e.bufferSubData(t,o,i),n}function c(e,t){for(var n=r.malloc(e.length,t),i=e.length,o=0;o<i;++o)n[o]=e[o];return n}l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(e,t){if("number"!=typeof t&&(t=-1),this.bind(),"object"==typeof e&&"undefined"!=typeof e.shape){var n=e.dtype;if(a.indexOf(n)<0&&(n="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(n=gl.getExtension("OES_element_index_uint")&&"uint16"!==n?"uint32":"uint16"),n===e.dtype&&function(e,t){for(var n=1,r=t.length-1;r>=0;--r){if(t[r]!==n)return!1;n*=e[r]}return!0}(e.shape,e.stride))0===e.offset&&e.data.length===e.shape[0]?this.length=u(this.gl,this.type,this.length,this.usage,e.data,t):this.length=u(this.gl,this.type,this.length,this.usage,e.data.subarray(e.offset,e.shape[0]),t);else{var s=r.malloc(e.size,n),l=o(s,e.shape);i.assign(l,e),this.length=u(this.gl,this.type,this.length,this.usage,t<0?s:s.subarray(0,e.size),t),r.free(s)}}else if(Array.isArray(e)){var f;f=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(e,"uint16"):c(e,"float32"),this.length=u(this.gl,this.type,this.length,this.usage,t<0?f:f.subarray(0,e.length),t),r.free(f)}else if("object"==typeof e&&"number"==typeof e.length)this.length=u(this.gl,this.type,this.length,this.usage,e,t);else{if("number"!=typeof e&&void 0!==e)throw new Error("gl-buffer: Invalid data type");if(t>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(e|=0)<=0&&(e=1),this.gl.bufferData(this.type,0|e,this.usage),this.length=e}},t.exports=function(e,t,n,r){if(n=n||e.ARRAY_BUFFER,r=r||e.DYNAMIC_DRAW,n!==e.ARRAY_BUFFER&&n!==e.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(r!==e.DYNAMIC_DRAW&&r!==e.STATIC_DRAW&&r!==e.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=e.createBuffer(),o=new s(e,n,i,0,r);return o.update(t),o}},{ndarray:287,"ndarray-ops":281,"typedarray-pool":349}],105:[function(e,t,n){"use strict";var r=e("gl-vec3"),i=function(e,t){for(var n=0;n<e.length;n++)if(e[n]>=t)return n-1;return n},o=r.create(),a=r.create(),s=function(e,t,n){return e<t?t:e>n?n:e},l=function(e,t,n,l){var u=e[0],c=e[1],f=e[2],d=n[0].length,h=n[1].length,p=n[2].length,m=i(n[0],u),g=i(n[1],c),v=i(n[2],f),y=m+1,b=g+1,x=v+1;if(l&&(m=s(m,0,d-1),y=s(y,0,d-1),g=s(g,0,h-1),b=s(b,0,h-1),v=s(v,0,p-1),x=s(x,0,p-1)),m<0||g<0||v<0||y>=d||b>=h||x>=p)return r.create();var _=(u-n[0][m])/(n[0][y]-n[0][m]),w=(c-n[1][g])/(n[1][b]-n[1][g]),k=(f-n[2][v])/(n[2][x]-n[2][v]);(_<0||_>1||isNaN(_))&&(_=0),(w<0||w>1||isNaN(w))&&(w=0),(k<0||k>1||isNaN(k))&&(k=0);var M=v*d*h,T=x*d*h,S=g*d,E=b*d,A=m,O=y,C=t[S+M+A],N=t[S+M+O],D=t[E+M+A],P=t[E+M+O],R=t[S+T+A],L=t[S+T+O],I=t[E+T+A],j=t[E+T+O],z=r.create();return r.lerp(z,C,N,_),r.lerp(o,D,P,_),r.lerp(z,z,o,w),r.lerp(o,R,L,_),r.lerp(a,I,j,_),r.lerp(o,o,a,w),r.lerp(z,z,o,k),z};t.exports=function(e,t){var n;n=e.positions?e.positions:function(e){for(var t=e[0],n=e[1],r=e[2],i=[],o=0;o<r.length;o++)for(var a=0;a<n.length;a++)for(var s=0;s<t.length;s++)i.push([r[o],n[a],t[s]]);return i}(e.meshgrid);var i=e.meshgrid,o=e.vectors,a={positions:[],vertexIntensity:[],vertexIntensityBounds:e.vertexIntensityBounds,vertexNormals:[],vectors:[],cells:[],coneOffset:e.coneOffset,colormap:e.colormap};if(0===e.positions.length)return t&&(t[0]=[0,0,0],t[1]=[0,0,0]),a;for(var s=0,u=1/0,c=-1/0,f=1/0,d=-1/0,h=1/0,p=-1/0,m=null,g=null,v=[],y=1/0,b=0;b<n.length;b++){var x,_=n[b];u=Math.min(_[0],u),c=Math.max(_[0],c),f=Math.min(_[1],f),d=Math.max(_[1],d),h=Math.min(_[2],h),p=Math.max(_[2],p),x=i?l(_,o,i,!0):o[b],r.length(x)>s&&(s=r.length(x)),b&&(y=Math.min(y,2*r.distance(m,_)/(r.length(g)+r.length(x)))),m=_,g=x,v.push(x)}var w=[u,f,h],k=[c,d,p];t&&(t[0]=w,t[1]=k),0===s&&(s=1);var M=1/s;isFinite(y)&&!isNaN(y)||(y=1),a.vectorScale=y;var T=function(e,t,n){var i=r.create();return r.set(i,0,1,0),i}(),S=e.coneSize||.5;e.absoluteConeSize&&(S=e.absoluteConeSize*M),a.coneScale=S,b=0;for(var E=0;b<n.length;b++)for(var A=(_=n[b])[0],O=_[1],C=_[2],N=v[b],D=r.length(N)*M,P=0;P<8;P++){a.positions.push([A,O,C,E++]),a.positions.push([A,O,C,E++]),a.positions.push([A,O,C,E++]),a.positions.push([A,O,C,E++]),a.positions.push([A,O,C,E++]),a.positions.push([A,O,C,E++]),a.vectors.push(N),a.vectors.push(N),a.vectors.push(N),a.vectors.push(N),a.vectors.push(N),a.vectors.push(N),a.vertexIntensity.push(D,D,D),a.vertexIntensity.push(D,D,D),a.vertexNormals.push(T,T,T),a.vertexNormals.push(T,T,T);var R=a.positions.length;a.cells.push([R-6,R-5,R-4],[R-3,R-2,R-1])}return a},t.exports.createConeMesh=e("./lib/conemesh")},{"./lib/conemesh":106,"gl-vec3":188}],106:[function(e,t,n){"use strict";var r=e("gl-shader"),i=e("gl-buffer"),o=e("gl-vao"),a=e("gl-texture2d"),s=e("normals"),l=e("gl-mat4/multiply"),u=e("gl-mat4/invert"),c=e("ndarray"),f=e("colormap"),d=e("simplicial-complex-contour"),h=e("typedarray-pool"),p=e("./shaders"),m=p.meshShader,g=p.pickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function y(e,t,n,r,i,o,a,s,l,u,c,f,d,h,p,m,g,y,b,x,_,w,k,M){this.gl=e,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=t,this.dirty=!0,this.triShader=n,this.pickShader=r,this.trianglePositions=i,this.triangleVectors=o,this.triangleColors=s,this.triangleNormals=u,this.triangleUVs=l,this.triangleIds=a,this.triangleVAO=c,this.triangleCount=0,this.lineWidth=1,this.edgePositions=f,this.edgeColors=h,this.edgeUVs=p,this.edgeIds=d,this.edgeVAO=m,this.edgeCount=0,this.pointPositions=g,this.pointColors=b,this.pointUVs=x,this.pointSizes=_,this.pointIds=y,this.pointVAO=w,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=k,this.contourVAO=M,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=v,this._view=v,this._projection=v,this._resolution=[1,1]}var b=y.prototype;function x(e){var t=r(e,g.vertex,g.fragment,null,g.attributes);return t.attributes.position.location=0,t.attributes.id.location=1,t.attributes.vector.location=5,t}b.isOpaque=function(){return this.opacity>=1},b.isTransparent=function(){return this.opacity<1},b.pickSlots=1,b.setPickBase=function(e){this.pickId=e},b.highlight=function(e){if(e&&this.contourEnable){for(var t=d(this.cells,this.intensity,e.intensity),n=t.cells,r=t.vertexIds,i=t.vertexWeights,o=n.length,a=h.mallocFloat32(6*o),s=0,l=0;l<o;++l)for(var u=n[l],c=0;c<2;++c){var f=u[0];2===u.length&&(f=u[c]);for(var p=r[f][0],m=r[f][1],g=i[f],v=1-g,y=this.positions[p],b=this.positions[m],x=0;x<3;++x)a[s++]=g*y[x]+v*b[x]}this.contourCount=s/3|0,this.contourPositions.update(a.subarray(0,s)),h.free(a)}else this.contourCount=0},b.update=function(e){e=e||{};var t=this.gl;this.dirty=!0,"contourEnable"in e&&(this.contourEnable=e.contourEnable),"contourColor"in e&&(this.contourColor=e.contourColor),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"lightPosition"in e&&(this.lightPosition=e.lightPosition),"opacity"in e&&(this.opacity=e.opacity),"ambient"in e&&(this.ambientLight=e.ambient),"diffuse"in e&&(this.diffuseLight=e.diffuse),"specular"in e&&(this.specularLight=e.specular),"roughness"in e&&(this.roughness=e.roughness),"fresnel"in e&&(this.fresnel=e.fresnel),void 0!==e.vectorScale&&(this.vectorScale=e.vectorScale),void 0!==e.coneScale&&(this.coneScale=e.coneScale),void 0!==e.coneOffset&&(this.coneOffset=e.coneOffset),e.texture?(this.texture.dispose(),this.texture=a(t,e.texture)):e.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=t.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=t.LINEAR,this.texture.setPixels(function(e){for(var t=f({colormap:e,nshades:256,format:"rgba"}),n=new Uint8Array(1024),r=0;r<256;++r){for(var i=t[r],o=0;o<3;++o)n[4*r+o]=i[o];n[4*r+3]=255*i[3]}return c(n,[256,256,4],[4,0,1])}(e.colormap)),this.texture.generateMipmap());var n=e.cells,r=e.positions,i=e.vectors;if(r&&n&&i){var o=[],l=[],u=[],d=[],h=[],p=[],m=[],g=[],v=[],y=[],b=[],x=[],_=[],w=[],k=[];this.cells=n,this.positions=r;var M=e.vertexNormals,T=e.cellNormals,S=void 0===e.vertexNormalsEpsilon?1e-6:e.vertexNormalsEpsilon,E=void 0===e.faceNormalsEpsilon?1e-6:e.faceNormalsEpsilon;e.useFacetNormals&&!T&&(T=s.faceNormals(n,r,E)),T||M||(M=s.vertexNormals(n,r,S));var A=e.vertexColors,O=e.cellColors,C=e.meshColor||[1,1,1,1],N=e.vertexUVs,D=e.vertexIntensity,P=e.cellUVs,R=e.cellIntensity,L=1/0,I=-1/0;if(!N&&!P)if(D)if(e.vertexIntensityBounds)L=+e.vertexIntensityBounds[0],I=+e.vertexIntensityBounds[1];else for(var j=0;j<D.length;++j){var z=D[j];L=Math.min(L,z),I=Math.max(I,z)}else if(R)for(j=0;j<R.length;++j)z=R[j],L=Math.min(L,z),I=Math.max(I,z);else for(j=0;j<r.length;++j)z=r[j][2],L=Math.min(L,z),I=Math.max(I,z);this.intensity=D||(R?function(e,t,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=0;var o=e.length;for(i=0;i<o;++i)for(var a=e[i],s=0;s<a.length;++s)r[a[s]]=n[i];return r}(n,r.length,R):function(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=e[r][2];return n}(r));var F=e.pointSizes,B=e.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],j=0;j<r.length;++j)for(var U=r[j],H=0;H<3;++H)!isNaN(U[H])&&isFinite(U[H])&&(this.bounds[0][H]=Math.min(this.bounds[0][H],U[H]),this.bounds[1][H]=Math.max(this.bounds[1][H],U[H]));var q=0,V=0,W=0;e:for(j=0;j<n.length;++j){var Y=n[j];switch(Y.length){case 1:for(U=r[X=Y[0]],H=0;H<3;++H)if(isNaN(U[H])||!isFinite(U[H]))continue e;b.push(U[0],U[1],U[2],U[3]),3===($=A?A[X]:O?O[j]:C).length?x.push($[0],$[1],$[2],1):x.push($[0],$[1],$[2],$[3]),Z=N?N[X]:D?[(D[X]-L)/(I-L),0]:P?P[j]:R?[(R[j]-L)/(I-L),0]:[(U[2]-L)/(I-L),0],_.push(Z[0],Z[1]),F?w.push(F[X]):w.push(B),k.push(j),W+=1;break;case 2:for(H=0;H<2;++H){U=r[X=Y[H]];for(var G=0;G<3;++G)if(isNaN(U[G])||!isFinite(U[G]))continue e}for(H=0;H<2;++H)U=r[X=Y[H]],m.push(U[0],U[1],U[2]),3===($=A?A[X]:O?O[j]:C).length?g.push($[0],$[1],$[2],1):g.push($[0],$[1],$[2],$[3]),Z=N?N[X]:D?[(D[X]-L)/(I-L),0]:P?P[j]:R?[(R[j]-L)/(I-L),0]:[(U[2]-L)/(I-L),0],v.push(Z[0],Z[1]),y.push(j);V+=1;break;case 3:for(H=0;H<3;++H)for(U=r[X=Y[H]],G=0;G<3;++G)if(isNaN(U[G])||!isFinite(U[G]))continue e;for(H=0;H<3;++H){var X;U=r[X=Y[2-H]],o.push(U[0],U[1],U[2],U[3]);var $,Z,K,J=i[X];l.push(J[0],J[1],J[2]),3===($=A?A[X]:O?O[j]:C).length?u.push($[0],$[1],$[2],1):u.push($[0],$[1],$[2],$[3]),Z=N?N[X]:D?[(D[X]-L)/(I-L),0]:P?P[j]:R?[(R[j]-L)/(I-L),0]:[(U[2]-L)/(I-L),0],h.push(Z[0],Z[1]),K=M?M[X]:T[j],d.push(K[0],K[1],K[2]),p.push(j)}q+=1}}this.pointCount=W,this.edgeCount=V,this.triangleCount=q,this.pointPositions.update(b),this.pointColors.update(x),this.pointUVs.update(_),this.pointSizes.update(w),this.pointIds.update(new Uint32Array(k)),this.edgePositions.update(m),this.edgeColors.update(g),this.edgeUVs.update(v),this.edgeIds.update(new Uint32Array(y)),this.trianglePositions.update(o),this.triangleVectors.update(l),this.triangleColors.update(u),this.triangleUVs.update(h),this.triangleNormals.update(d),this.triangleIds.update(new Uint32Array(p))}},b.drawTransparent=b.draw=function(e){e=e||{};for(var t=this.gl,n=e.model||v,r=e.view||v,i=e.projection||v,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);var s={model:n,view:r,projection:i,inverseModel:v.slice(),clipBounds:o,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,contourColor:this.contourColor,texture:0};s.inverseModel=u(s.inverseModel,s.model),t.disable(t.CULL_FACE),this.texture.bind(0);var c=new Array(16);for(l(c,s.view,s.model),l(c,s.projection,c),u(c,c),a=0;a<3;++a)s.eyePosition[a]=c[12+a]/c[15];var f=c[15];for(a=0;a<3;++a)f+=this.lightPosition[a]*c[4*a+3];for(a=0;a<3;++a){for(var d=c[12+a],h=0;h<3;++h)d+=c[4*h+a]*this.lightPosition[h];s.lightPosition[a]=d/f}if(this.triangleCount>0){var p=this.triShader;p.bind(),p.uniforms=s,this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},b.drawPick=function(e){e=e||{};for(var t=this.gl,n=e.model||v,r=e.view||v,i=e.projection||v,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[t.drawingBufferWidth,t.drawingBufferHeight];var s={model:n,view:r,projection:i,clipBounds:o,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},l=this.pickShader;l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),t.lineWidth(this.lineWidth*this.pixelRatio),t.drawArrays(t.LINES,0,2*this.edgeCount),this.edgeVAO.unbind())},b.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=e.value[0]+256*e.value[1]+65536*e.value[2],n=this.cells[t],r=this.positions[n[1]].slice(0,3);return{index:Math.floor(n[1]/48),position:r,dataCoordinate:r}},b.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose()},t.exports=function(e,t){1===arguments.length&&(e=(t=e).gl);var n=t.triShader||function(e){var t=r(e,m.vertex,m.fragment,null,m.attributes);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.vector.location=5,t}(e),s=x(e),l=a(e,c(new Uint8Array([255,255,255,255]),[1,1,4]));l.generateMipmap(),l.minFilter=e.LINEAR_MIPMAP_LINEAR,l.magFilter=e.LINEAR;var u=i(e),f=i(e),d=i(e),h=i(e),p=i(e),g=i(e),v=o(e,[{buffer:u,type:e.FLOAT,size:4},{buffer:g,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:d,type:e.FLOAT,size:4},{buffer:h,type:e.FLOAT,size:2},{buffer:p,type:e.FLOAT,size:3},{buffer:f,type:e.FLOAT,size:3}]),b=i(e),_=i(e),w=i(e),k=i(e),M=o(e,[{buffer:b,type:e.FLOAT,size:3},{buffer:k,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:_,type:e.FLOAT,size:4},{buffer:w,type:e.FLOAT,size:2}]),T=i(e),S=i(e),E=i(e),A=i(e),O=i(e),C=o(e,[{buffer:T,type:e.FLOAT,size:3},{buffer:O,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:S,type:e.FLOAT,size:4},{buffer:E,type:e.FLOAT,size:2},{buffer:A,type:e.FLOAT,size:1}]),N=i(e),D=new y(e,l,n,s,u,f,g,d,h,p,v,b,k,_,w,M,T,O,S,E,A,C,N,o(e,[{buffer:N,type:e.FLOAT,size:3}]));return D.update(t),D}},{"./shaders":107,colormap:69,"gl-buffer":104,"gl-mat4/invert":125,"gl-mat4/multiply":127,"gl-shader":150,"gl-texture2d":165,"gl-vao":169,ndarray:287,normals:289,"simplicial-complex-contour":331,"typedarray-pool":349}],107:[function(e,t,n){var r=e("glslify"),i=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\nuniform float vectorScale;\nuniform float coneScale;\n\nuniform float coneOffset;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data\n           , f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * conePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal,0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\n  vec4 t_position  = view * conePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = conePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular\n            , opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data\n           , f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),a=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the cone vertex and normal at the given index.\n//\n// The returned vertex is for a cone with its top at origin and height of 1.0,\n// pointing in the direction of the vector attribute.\n//\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\n// These vertices are used to make up the triangles of the cone by the following:\n//   segment + 0 top vertex\n//   segment + 1 perimeter vertex a+1\n//   segment + 2 perimeter vertex a\n//   segment + 3 center base vertex\n//   segment + 4 perimeter vertex a\n//   segment + 5 perimeter vertex a+1\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\n// To go from index to segment, floor(index / 6)\n// To go from segment to angle, 2*pi * (segment/segmentCount)\n// To go from index to segment index, index - (segment*6)\n//\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\n\n  const float segmentCount = 8.0;\n\n  float index = rawIndex - floor(rawIndex /\n    (segmentCount * 6.0)) *\n    (segmentCount * 6.0);\n\n  float segment = floor(0.001 + index/6.0);\n  float segmentIndex = index - (segment*6.0);\n\n  normal = -normalize(d);\n\n  if (segmentIndex > 2.99 && segmentIndex < 3.01) {\n    return mix(vec3(0.0), -d, coneOffset);\n  }\n\n  float nextAngle = (\n    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||\n    (segmentIndex > 4.99 &&  segmentIndex < 5.01)\n  ) ? 1.0 : 0.0;\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\n\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\n  vec3 v2 = v1 - d;\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d)*0.25;\n  vec3 y = v * sin(angle) * length(d)*0.25;\n  vec3 v3 = v2 + x + y;\n  if (segmentIndex < 3.0) {\n    vec3 tx = u * sin(angle);\n    vec3 ty = v * -cos(angle);\n    vec3 tangent = tx + ty;\n    normal = normalize(cross(v3 - v1, tangent));\n  }\n\n  if (segmentIndex == 0.0) {\n    return mix(d, vec3(0.0), coneOffset);\n  }\n  return v3;\n}\n\nattribute vec3 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nuniform float vectorScale;\nuniform float coneScale;\nuniform float coneOffset;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n  gl_Position = projection * view * conePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);n.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},n.pickShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},{glslify:251}],108:[function(e,t,n){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},{}],109:[function(e,t,n){var r=e("./1.0/numbers");t.exports=function(e){return r[e]}},{"./1.0/numbers":108}],110:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=r(t),a=i(t,[{buffer:n,type:t.FLOAT,size:3,offset:0,stride:40},{buffer:n,type:t.FLOAT,size:4,offset:12,stride:40},{buffer:n,type:t.FLOAT,size:3,offset:28,stride:40}]),l=o(t);l.attributes.position.location=0,l.attributes.color.location=1,l.attributes.offset.location=2;var u=new s(t,n,a,l);return u.update(e),u};var r=e("gl-buffer"),i=e("gl-vao"),o=e("./shaders/index"),a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(e,t,n,r){this.gl=e,this.shader=r,this.buffer=t,this.vao=n,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=s.prototype;function u(e,t){for(var n=0;n<3;++n)e[0][n]=Math.min(e[0][n],t[n]),e[1][n]=Math.max(e[1][n],t[n])}l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(e){var t=this.gl,n=this.shader.uniforms;this.shader.bind();var r=n.view=e.view||a,i=n.projection=e.projection||a;n.model=e.model||a,n.clipBounds=this.clipBounds,n.opacity=this.opacity;var o=r[12],s=r[13],l=r[14],u=r[15],c=(e._ortho?2:1)*this.pixelRatio*(i[3]*o+i[7]*s+i[11]*l+i[15]*u)/t.drawingBufferHeight;this.vao.bind();for(var f=0;f<3;++f)t.lineWidth(this.lineWidth[f]*this.pixelRatio),n.capSize=this.capSize[f]*c,this.lineCount[f]&&t.drawArrays(t.LINES,this.lineOffset[f],this.lineCount[f]);this.vao.unbind()};var c=function(){for(var e=new Array(3),t=0;t<3;++t){for(var n=[],r=1;r<=2;++r)for(var i=-1;i<=1;i+=2){var o=[0,0,0];o[(r+t)%3]=i,n.push(o)}e[t]=n}return e}();function f(e,t,n,r){for(var i=c[r],o=0;o<i.length;++o){var a=i[o];e.push(t[0],t[1],t[2],n[0],n[1],n[2],n[3],a[0],a[1],a[2])}return i.length}l.update=function(e){"lineWidth"in(e=e||{})&&(this.lineWidth=e.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in e&&(this.capSize=e.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in e&&(this.opacity=+e.opacity,this.opacity<1&&(this.hasAlpha=!0));var t=e.color||[[0,0,0],[0,0,0],[0,0,0]],n=e.position,r=e.error;if(Array.isArray(t[0])||(t=[t,t,t]),n&&r){var i=[],o=n.length,a=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var s=0;s<3;++s){this.lineOffset[s]=a;e:for(var l=0;l<o;++l){for(var c=n[l],d=0;d<3;++d)if(isNaN(c[d])||!isFinite(c[d]))continue e;var h,p=r[l],m=t[s];Array.isArray(m[0])&&(m=t[l]),3===m.length?m=[m[0],m[1],m[2],1]:4===m.length&&(m=[m[0],m[1],m[2],m[3]],!this.hasAlpha&&m[3]<1&&(this.hasAlpha=!0)),isNaN(p[0][s])||isNaN(p[1][s])||(p[0][s]<0&&((h=c.slice())[s]+=p[0][s],i.push(c[0],c[1],c[2],m[0],m[1],m[2],m[3],0,0,0,h[0],h[1],h[2],m[0],m[1],m[2],m[3],0,0,0),u(this.bounds,h),a+=2+f(i,h,m,s)),p[1][s]>0&&((h=c.slice())[s]+=p[1][s],i.push(c[0],c[1],c[2],m[0],m[1],m[2],m[3],0,0,0,h[0],h[1],h[2],m[0],m[1],m[2],m[3],0,0,0),u(this.bounds,h),a+=2+f(i,h,m,s)))}this.lineCount[s]=a-this.lineOffset[s]}this.buffer.update(i)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},{"./shaders/index":111,"gl-buffer":104,"gl-vao":169}],111:[function(e,t,n){"use strict";var r=e("glslify"),i=e("gl-shader"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, offset;\nattribute vec4 color;\nuniform mat4 model, view, projection;\nuniform float capSize;\nvarying vec4 fragColor;\nvarying vec3 fragPosition;\n\nvoid main() {\n  vec4 worldPosition  = model * vec4(position, 1.0);\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\n  gl_Position         = projection * view * worldPosition;\n  fragColor           = color;\n  fragPosition        = position;\n}"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float opacity;\nvarying vec3 fragPosition;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  gl_FragColor = opacity * fragColor;\n}"]);t.exports=function(e){return i(e,o,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},{"gl-shader":150,glslify:251}],112:[function(e,t,n){"use strict";var r=e("gl-texture2d");t.exports=function(e,t,n,r){i||(i=e.FRAMEBUFFER_UNSUPPORTED,o=e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var u=e.getExtension("WEBGL_draw_buffers");if(!l&&u&&function(e,t){var n=e.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(n+1);for(var r=0;r<=n;++r){for(var i=new Array(n),o=0;o<r;++o)i[o]=e.COLOR_ATTACHMENT0+o;for(o=r;o<n;++o)i[o]=e.NONE;l[r]=i}}(e,u),Array.isArray(t)&&(r=n,n=0|t[1],t=0|t[0]),"number"!=typeof t)throw new Error("gl-fbo: Missing shape parameter");var c=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<0||t>c||n<0||n>c)throw new Error("gl-fbo: Parameters are too large for FBO");var f=1;if("color"in(r=r||{})){if((f=Math.max(0|r.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(f>1){if(!u)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(f>e.getParameter(u.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+f+" draw buffers")}}var d=e.UNSIGNED_BYTE,h=e.getExtension("OES_texture_float");if(r.float&&f>0){if(!h)throw new Error("gl-fbo: Context does not support floating point textures");d=e.FLOAT}else r.preferFloat&&f>0&&h&&(d=e.FLOAT);var m=!0;"depth"in r&&(m=!!r.depth);var g=!1;return"stencil"in r&&(g=!!r.stencil),new p(e,t,n,d,f,m,g,u)};var i,o,a,s,l=null;function u(e){return[e.getParameter(e.FRAMEBUFFER_BINDING),e.getParameter(e.RENDERBUFFER_BINDING),e.getParameter(e.TEXTURE_BINDING_2D)]}function c(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t[0]),e.bindRenderbuffer(e.RENDERBUFFER,t[1]),e.bindTexture(e.TEXTURE_2D,t[2])}function f(e){switch(e){case i:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case a:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function d(e,t,n,i,o,a){if(!i)return null;var s=r(e,t,n,o,i);return s.magFilter=e.NEAREST,s.minFilter=e.NEAREST,s.mipSamples=1,s.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,a,e.TEXTURE_2D,s.handle,0),s}function h(e,t,n,r,i){var o=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,o),e.renderbufferStorage(e.RENDERBUFFER,r,t,n),e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,o),o}function p(e,t,n,r,i,o,a,s){this.gl=e,this._shape=[0|t,0|n],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var p=0;p<i;++p)this.color[p]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=o,this._useStencil=a;var m=this,g=[0|t,0|n];Object.defineProperties(g,{0:{get:function(){return m._shape[0]},set:function(e){return m.width=e}},1:{get:function(){return m._shape[1]},set:function(e){return m.height=e}}}),this._shapeVector=g,function(e){var t=u(e.gl),n=e.gl,r=e.handle=n.createFramebuffer(),i=e._shape[0],o=e._shape[1],a=e.color.length,s=e._ext,p=e._useStencil,m=e._useDepth,g=e._colorType;n.bindFramebuffer(n.FRAMEBUFFER,r);for(var v=0;v<a;++v)e.color[v]=d(n,i,o,g,n.RGBA,n.COLOR_ATTACHMENT0+v);0===a?(e._color_rb=h(n,i,o,n.RGBA4,n.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(l[0])):a>1&&s.drawBuffersWEBGL(l[a]);var y=n.getExtension("WEBGL_depth_texture");y?p?e.depth=d(n,i,o,y.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):m&&(e.depth=d(n,i,o,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):m&&p?e._depth_rb=h(n,i,o,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):m?e._depth_rb=h(n,i,o,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):p&&(e._depth_rb=h(n,i,o,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var b=n.checkFramebufferStatus(n.FRAMEBUFFER);if(b!==n.FRAMEBUFFER_COMPLETE){for(e._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(e.handle),e.handle=null,e.depth&&(e.depth.dispose(),e.depth=null),e._depth_rb&&(n.deleteRenderbuffer(e._depth_rb),e._depth_rb=null),v=0;v<e.color.length;++v)e.color[v].dispose(),e.color[v]=null;e._color_rb&&(n.deleteRenderbuffer(e._color_rb),e._color_rb=null),c(n,t),f(b)}c(n,t)}(this)}var m=p.prototype;function g(e,t,n){if(e._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(e._shape[0]!==t||e._shape[1]!==n){var r=e.gl,i=r.getParameter(r.MAX_RENDERBUFFER_SIZE);if(t<0||t>i||n<0||n>i)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");e._shape[0]=t,e._shape[1]=n;for(var o=u(r),a=0;a<e.color.length;++a)e.color[a].shape=e._shape;e._color_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._color_rb),r.renderbufferStorage(r.RENDERBUFFER,r.RGBA4,e._shape[0],e._shape[1])),e.depth&&(e.depth.shape=e._shape),e._depth_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._depth_rb),e._useDepth&&e._useStencil?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e._shape[0],e._shape[1]):e._useDepth?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,e._shape[0],e._shape[1]):e._useStencil&&r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX,e._shape[0],e._shape[1])),r.bindFramebuffer(r.FRAMEBUFFER,e.handle);var s=r.checkFramebufferStatus(r.FRAMEBUFFER);s!==r.FRAMEBUFFER_COMPLETE&&(e.dispose(),c(r,o),f(s)),c(r,o)}}Object.defineProperties(m,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(e){if(Array.isArray(e)||(e=[0|e,0|e]),2!==e.length)throw new Error("gl-fbo: Shape vector must be length 2");var t=0|e[0],n=0|e[1];return g(this,t,n),[t,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(e){return g(this,e|=0,this._shape[1]),e},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(e){return e|=0,g(this,this._shape[0],e),e},enumerable:!1}}),m.bind=function(){if(!this._destroyed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.handle),e.viewport(0,0,this._shape[0],this._shape[1])}},m.dispose=function(){if(!this._destroyed){this._destroyed=!0;var e=this.gl;e.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(e.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&(e.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{"gl-texture2d":165}],113:[function(e,t,n){var r=e("sprintf-js").sprintf,i=e("gl-constants/lookup"),o=e("glsl-shader-name"),a=e("add-line-numbers");t.exports=function(e,t,n){"use strict";var s=o(t)||"of unknown name (see npm glsl-shader-name)",l="unknown type";void 0!==n&&(l=n===i.FRAGMENT_SHADER?"fragment":"vertex");for(var u=r("Error compiling %s shader %s:\n",l,s),c=r("%s%s",u,e),f=e.split("\n"),d={},h=0;h<f.length;h++){var p=f[h];if(""!==p&&"\0"!==p){var m=parseInt(p.split(":")[2]);if(isNaN(m))throw new Error(r("Could not parse error: %s",p));d[m]=p}}var g=a(t).split("\n");for(h=0;h<g.length;h++)if((d[h+3]||d[h+2]||d[h+1])&&(u+=g[h]+"\n",d[h+1])){var v=d[h+1];v=v.substr(v.split(":",3).join(":").length+1).trim(),u+=r("^^^ %s\n\n",v)}return{long:u.trim(),short:c.trim()}}},{"add-line-numbers":13,"gl-constants/lookup":109,"glsl-shader-name":243,"sprintf-js":341}],114:[function(e,t,n){var r=e("glslify"),i=e("gl-shader"),o=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, nextPosition;\nattribute float arcLength, lineWidth;\nattribute vec4 color;\n\nuniform vec2 screenShape;\nuniform float pixelRatio;\nuniform mat4 model, view, projection;\n\nvarying vec4 fragColor;\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  vec4 startPoint = project(position);\n  vec4 endPoint   = project(nextPosition);\n\n  vec2 A = startPoint.xy / startPoint.w;\n  vec2 B =   endPoint.xy /   endPoint.w;\n\n  float clipAngle = atan(\n    (B.y - A.y) * screenShape.y,\n    (B.x - A.x) * screenShape.x\n  );\n\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\n    sin(clipAngle),\n    -cos(clipAngle)\n  ) / screenShape;\n\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\n\n  worldPosition = position;\n  pixelArcLength = arcLength;\n  fragColor = color;\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3      clipBounds[2];\nuniform sampler2D dashTexture;\nuniform float     dashScale;\nuniform float     opacity;\n\nvarying vec3    worldPosition;\nvarying float   pixelArcLength;\nvarying vec4    fragColor;\n\nvoid main() {\n  if (\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\n    fragColor.a * opacity == 0.\n  ) discard;\n\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\n  if(dashWeight < 0.5) {\n    discard;\n  }\n  gl_FragColor = fragColor * opacity;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1540259130(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform float pickId;\nuniform vec3 clipBounds[2];\n\nvarying vec3 worldPosition;\nvarying float pixelArcLength;\nvarying vec4 fragColor;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\n\n  gl_FragColor = vec4(pickId/255.0, encode_float_1540259130(pixelArcLength).xyz);\n}"]),l=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];n.createShader=function(e){return i(e,o,a,null,l)},n.createPickShader=function(e){return i(e,o,s,null,l)}},{"gl-shader":150,glslify:251}],115:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl||e.scene&&e.scene.gl,n=c(t);n.attributes.position.location=0,n.attributes.nextPosition.location=1,n.attributes.arcLength.location=2,n.attributes.lineWidth.location=3,n.attributes.color.location=4;var a=f(t);a.attributes.position.location=0,a.attributes.nextPosition.location=1,a.attributes.arcLength.location=2,a.attributes.lineWidth.location=3,a.attributes.color.location=4;for(var s=r(t),u=i(t,[{buffer:s,size:3,offset:0,stride:48},{buffer:s,size:3,offset:12,stride:48},{buffer:s,size:1,offset:24,stride:48},{buffer:s,size:1,offset:28,stride:48},{buffer:s,size:4,offset:32,stride:48}]),d=l(new Array(1024),[256,1,4]),h=0;h<1024;++h)d.data[h]=255;var p=o(t,d);p.wrap=t.REPEAT;var m=new g(t,n,a,s,u,p);return m.update(e),m};var r=e("gl-buffer"),i=e("gl-vao"),o=e("gl-texture2d"),a=e("glsl-read-float"),s=e("binary-search-bounds"),l=e("ndarray"),u=e("./lib/shaders"),c=u.createShader,f=u.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(e,t){for(var n=0,r=0;r<3;++r){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}function p(e){for(var t=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],n=0;n<3;++n)t[0][n]=Math.max(e[0][n],t[0][n]),t[1][n]=Math.min(e[1][n],t[1][n]);return t}function m(e,t,n,r){this.arcLength=e,this.position=t,this.index=n,this.dataCoordinate=r}function g(e,t,n,r,i,o){this.gl=e,this.shader=t,this.pickShader=n,this.buffer=r,this.vao=i,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=o,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var v=g.prototype;v.isTransparent=function(){return this.hasAlpha},v.isOpaque=function(){return!this.hasAlpha},v.pickSlots=1,v.setPickBase=function(e){this.pickId=e},v.drawTransparent=v.draw=function(e){if(this.vertexCount){var t=this.gl,n=this.shader,r=this.vao;n.bind(),n.uniforms={model:e.model||d,view:e.view||d,projection:e.projection||d,clipBounds:p(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[t.drawingBufferWidth,t.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(t.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},v.drawPick=function(e){if(this.vertexCount){var t=this.gl,n=this.pickShader,r=this.vao;n.bind(),n.uniforms={model:e.model||d,view:e.view||d,projection:e.projection||d,pickId:this.pickId,clipBounds:p(this.clipBounds),screenShape:[t.drawingBufferWidth,t.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(t.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},v.update=function(e){var t,n;this.dirty=!0;var r=!!e.connectGaps;"dashScale"in e&&(this.dashScale=e.dashScale),this.hasAlpha=!1,"opacity"in e&&(this.opacity=+e.opacity,this.opacity<1&&(this.hasAlpha=!0));var i=[],o=[],a=[],u=0,c=0,f=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],d=e.position||e.positions;if(d){var p=e.color||e.colors||[0,0,0,1],m=e.lineWidth||1,g=!1;e:for(t=1;t<d.length;++t){var v,y,b,x=d[t-1],_=d[t];for(o.push(u),a.push(x.slice()),n=0;n<3;++n){if(isNaN(x[n])||isNaN(_[n])||!isFinite(x[n])||!isFinite(_[n])){if(!r&&i.length>0){for(var w=0;w<24;++w)i.push(i[i.length-12]);c+=2,g=!0}continue e}f[0][n]=Math.min(f[0][n],x[n],_[n]),f[1][n]=Math.max(f[1][n],x[n],_[n])}Array.isArray(p[0])?(v=p.length>t-1?p[t-1]:p.length>0?p[p.length-1]:[0,0,0,1],y=p.length>t?p[t]:p.length>0?p[p.length-1]:[0,0,0,1]):v=y=p,3===v.length&&(v=[v[0],v[1],v[2],1]),3===y.length&&(y=[y[0],y[1],y[2],1]),!this.hasAlpha&&v[3]<1&&(this.hasAlpha=!0),b=Array.isArray(m)?m.length>t-1?m[t-1]:m.length>0?m[m.length-1]:[0,0,0,1]:m;var k=u;if(u+=h(x,_),g){for(n=0;n<2;++n)i.push(x[0],x[1],x[2],_[0],_[1],_[2],k,b,v[0],v[1],v[2],v[3]);c+=2,g=!1}i.push(x[0],x[1],x[2],_[0],_[1],_[2],k,b,v[0],v[1],v[2],v[3],x[0],x[1],x[2],_[0],_[1],_[2],k,-b,v[0],v[1],v[2],v[3],_[0],_[1],_[2],x[0],x[1],x[2],u,-b,y[0],y[1],y[2],y[3],_[0],_[1],_[2],x[0],x[1],x[2],u,b,y[0],y[1],y[2],y[3]),c+=4}}if(this.buffer.update(i),o.push(u),a.push(d[d.length-1].slice()),this.bounds=f,this.vertexCount=c,this.points=a,this.arcLength=o,"dashes"in e){var M=e.dashes.slice();for(M.unshift(0),t=1;t<M.length;++t)M[t]=M[t-1]+M[t];var T=l(new Array(1024),[256,1,4]);for(t=0;t<256;++t){for(n=0;n<4;++n)T.set(t,0,n,0);1&s.le(M,M[M.length-1]*t/255)?T.set(t,0,0,0):T.set(t,0,0,255)}this.texture.setPixels(T)}},v.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},v.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=a(e.value[0],e.value[1],e.value[2],0),n=s.le(this.arcLength,t);if(n<0)return null;if(n===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),n);for(var r=this.points[n],i=this.points[Math.min(n+1,this.points.length-1)],o=(t-this.arcLength[n])/(this.arcLength[n+1]-this.arcLength[n]),l=1-o,u=[0,0,0],c=0;c<3;++c)u[c]=l*r[c]+o*i[c];var f=Math.min(o<.5?n:n+1,this.points.length-1);return new m(t,u,f,this.points[f])}},{"./lib/shaders":114,"binary-search-bounds":116,"gl-buffer":104,"gl-texture2d":165,"gl-vao":169,"glsl-read-float":242,ndarray:287}],116:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],117:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-i*r;return a?(a=1/a,e[0]=o*a,e[1]=-r*a,e[2]=-i*a,e[3]=n*a,e):null}},{}],118:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=c*a-s*u,d=-c*o+s*l,h=u*o-a*l,p=n*f+r*d+i*h;return p?(p=1/p,e[0]=f*p,e[1]=(-c*r+i*u)*p,e[2]=(s*r-i*a)*p,e[3]=d*p,e[4]=(c*n-i*l)*p,e[5]=(-s*n+i*o)*p,e[6]=h*p,e[7]=(-u*n+r*l)*p,e[8]=(a*n-r*o)*p,e):null}},{}],119:[function(e,t,n){t.exports=function(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],120:[function(e,t,n){t.exports=function(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],121:[function(e,t,n){t.exports=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],d=e[11],h=e[12],p=e[13],m=e[14],g=e[15];return(t*a-n*o)*(f*g-d*m)-(t*s-r*o)*(c*g-d*p)+(t*l-i*o)*(c*m-f*p)+(n*s-r*a)*(u*g-d*h)-(n*l-i*a)*(u*m-f*h)+(r*l-i*s)*(u*p-c*h)}},{}],122:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,u=n*a,c=r*a,f=r*s,d=i*a,h=i*s,p=i*l,m=o*a,g=o*s,v=o*l;return e[0]=1-f-p,e[1]=c+v,e[2]=d-g,e[3]=0,e[4]=c-v,e[5]=1-u-p,e[6]=h+m,e[7]=0,e[8]=d+g,e[9]=h-m,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],123:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=r+r,l=i+i,u=o+o,c=r*s,f=r*l,d=r*u,h=i*l,p=i*u,m=o*u,g=a*s,v=a*l,y=a*u;return e[0]=1-(h+m),e[1]=f+y,e[2]=d-v,e[3]=0,e[4]=f-y,e[5]=1-(c+m),e[6]=p+g,e[7]=0,e[8]=d+v,e[9]=p-g,e[10]=1-(c+h),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},{}],124:[function(e,t,n){t.exports=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{}],125:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],m=t[13],g=t[14],v=t[15],y=n*s-r*a,b=n*l-i*a,x=n*u-o*a,_=r*l-i*s,w=r*u-o*s,k=i*u-o*l,M=c*m-f*p,T=c*g-d*p,S=c*v-h*p,E=f*g-d*m,A=f*v-h*m,O=d*v-h*g,C=y*O-b*A+x*E+_*S-w*T+k*M;return C?(C=1/C,e[0]=(s*O-l*A+u*E)*C,e[1]=(i*A-r*O-o*E)*C,e[2]=(m*k-g*w+v*_)*C,e[3]=(d*w-f*k-h*_)*C,e[4]=(l*S-a*O-u*T)*C,e[5]=(n*O-i*S+o*T)*C,e[6]=(g*x-p*k-v*b)*C,e[7]=(c*k-d*x+h*b)*C,e[8]=(a*A-s*S+u*M)*C,e[9]=(r*S-n*A-o*M)*C,e[10]=(p*w-m*x+v*y)*C,e[11]=(f*x-c*w-h*y)*C,e[12]=(s*T-a*E-l*M)*C,e[13]=(n*E-r*T+i*M)*C,e[14]=(m*b-p*_-g*y)*C,e[15]=(c*_-f*b+d*y)*C,e):null}},{}],126:[function(e,t,n){var r=e("./identity");t.exports=function(e,t,n,i){var o,a,s,l,u,c,f,d,h,p,m=t[0],g=t[1],v=t[2],y=i[0],b=i[1],x=i[2],_=n[0],w=n[1],k=n[2];return Math.abs(m-_)<1e-6&&Math.abs(g-w)<1e-6&&Math.abs(v-k)<1e-6?r(e):(f=m-_,d=g-w,h=v-k,o=b*(h*=p=1/Math.sqrt(f*f+d*d+h*h))-x*(d*=p),a=x*(f*=p)-y*h,s=y*d-b*f,(p=Math.sqrt(o*o+a*a+s*s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0),l=d*s-h*a,u=h*o-f*s,c=f*a-d*o,(p=Math.sqrt(l*l+u*u+c*c))?(l*=p=1/p,u*=p,c*=p):(l=0,u=0,c=0),e[0]=o,e[1]=l,e[2]=f,e[3]=0,e[4]=a,e[5]=u,e[6]=d,e[7]=0,e[8]=s,e[9]=c,e[10]=h,e[11]=0,e[12]=-(o*m+a*g+s*v),e[13]=-(l*m+u*g+c*v),e[14]=-(f*m+d*g+h*v),e[15]=1,e)}},{"./identity":124}],127:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],m=t[12],g=t[13],v=t[14],y=t[15],b=n[0],x=n[1],_=n[2],w=n[3];return e[0]=b*r+x*s+_*f+w*m,e[1]=b*i+x*l+_*d+w*g,e[2]=b*o+x*u+_*h+w*v,e[3]=b*a+x*c+_*p+w*y,b=n[4],x=n[5],_=n[6],w=n[7],e[4]=b*r+x*s+_*f+w*m,e[5]=b*i+x*l+_*d+w*g,e[6]=b*o+x*u+_*h+w*v,e[7]=b*a+x*c+_*p+w*y,b=n[8],x=n[9],_=n[10],w=n[11],e[8]=b*r+x*s+_*f+w*m,e[9]=b*i+x*l+_*d+w*g,e[10]=b*o+x*u+_*h+w*v,e[11]=b*a+x*c+_*p+w*y,b=n[12],x=n[13],_=n[14],w=n[15],e[12]=b*r+x*s+_*f+w*m,e[13]=b*i+x*l+_*d+w*g,e[14]=b*o+x*u+_*h+w*v,e[15]=b*a+x*c+_*p+w*y,e}},{}],128:[function(e,t,n){t.exports=function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e}},{}],129:[function(e,t,n){t.exports=function(e,t,n,r,i){var o=1/Math.tan(t/2),a=1/(r-i);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*a,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*a,e[15]=0,e}},{}],130:[function(e,t,n){t.exports=function(e,t,n,r){var i,o,a,s,l,u,c,f,d,h,p,m,g,v,y,b,x,_,w,k,M,T,S,E,A=r[0],O=r[1],C=r[2],N=Math.sqrt(A*A+O*O+C*C);return Math.abs(N)<1e-6?null:(A*=N=1/N,O*=N,C*=N,i=Math.sin(n),a=1-(o=Math.cos(n)),s=t[0],l=t[1],u=t[2],c=t[3],f=t[4],d=t[5],h=t[6],p=t[7],m=t[8],g=t[9],v=t[10],y=t[11],b=A*A*a+o,x=O*A*a+C*i,_=C*A*a-O*i,w=A*O*a-C*i,k=O*O*a+o,M=C*O*a+A*i,T=A*C*a+O*i,S=O*C*a-A*i,E=C*C*a+o,e[0]=s*b+f*x+m*_,e[1]=l*b+d*x+g*_,e[2]=u*b+h*x+v*_,e[3]=c*b+p*x+y*_,e[4]=s*w+f*k+m*M,e[5]=l*w+d*k+g*M,e[6]=u*w+h*k+v*M,e[7]=c*w+p*k+y*M,e[8]=s*T+f*S+m*E,e[9]=l*T+d*S+g*E,e[10]=u*T+h*S+v*E,e[11]=c*T+p*S+y*E,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}},{}],131:[function(e,t,n){t.exports=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+f*r,e[7]=l*i+d*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=f*i-s*r,e[11]=d*i-l*r,e}},{}],132:[function(e,t,n){t.exports=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-u*r,e[1]=a*i-c*r,e[2]=s*i-f*r,e[3]=l*i-d*r,e[8]=o*r+u*i,e[9]=a*r+c*i,e[10]=s*r+f*i,e[11]=l*r+d*i,e}},{}],133:[function(e,t,n){t.exports=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+f*r,e[3]=l*i+d*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=f*i-s*r,e[7]=d*i-l*r,e}},{}],134:[function(e,t,n){t.exports=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],135:[function(e,t,n){t.exports=function(e,t,n){var r,i,o,a,s,l,u,c,f,d,h,p,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=r*m+s*g+f*v+t[12],e[13]=i*m+l*g+d*v+t[13],e[14]=o*m+u*g+h*v+t[14],e[15]=a*m+c*g+p*v+t[15]),e}},{}],136:[function(e,t,n){t.exports=function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},{}],137:[function(e,t,n){"use strict";t.exports=function(e,t){switch(t.length){case 0:break;case 1:e[0]=1/t[0];break;case 4:r(e,t);break;case 9:i(e,t);break;case 16:o(e,t);break;default:throw new Error("currently supports matrices up to 4x4")}return e};var r=e("gl-mat2/invert"),i=e("gl-mat3/invert"),o=e("gl-mat4/invert")},{"gl-mat2/invert":117,"gl-mat3/invert":118,"gl-mat4/invert":125}],138:[function(e,t,n){"use strict";var r=e("barycentric"),i=e("polytope-closest-point/lib/closest_point_2d.js");function o(e,t){for(var n=[0,0,0,0],r=0;r<4;++r)for(var i=0;i<4;++i)n[i]+=e[4*r+i]*t[r];return n}function a(e,t,n,r,i){for(var a=o(r,o(n,o(t,[e[0],e[1],e[2],1]))),s=0;s<3;++s)a[s]/=a[3];return[.5*i[0]*(1+a[0]),.5*i[1]*(1-a[1])]}t.exports=function(e,t,n,o,s,l){if(1===e.length)return[0,e[0].slice()];for(var u=new Array(e.length),c=0;c<e.length;++c)u[c]=a(e[c],n,o,s,l);var f=0,d=1/0;for(c=0;c<u.length;++c){for(var h=0,p=0;p<2;++p)h+=Math.pow(u[c][p]-t[p],2);h<d&&(d=h,f=c)}var m=function(e,t){if(2===e.length){for(var n=0,o=0,a=0;a<2;++a)n+=Math.pow(t[a]-e[0][a],2),o+=Math.pow(t[a]-e[1][a],2);return(n=Math.sqrt(n))+(o=Math.sqrt(o))<1e-6?[1,0]:[o/(n+o),n/(o+n)]}if(3===e.length){var s=[0,0];return i(e[0],e[1],e[2],t,s),r(e,s)}return[]}(u,t),g=0;for(c=0;c<3;++c){if(m[c]<-.001||m[c]>1.0001)return null;g+=m[c]}return Math.abs(g-1)>.001?null:[f,function(e,t){for(var n=[0,0,0],r=0;r<e.length;++r)for(var i=e[r],o=t[r],a=0;a<3;++a)n[a]+=o*i[a];return n}(e,m),m]}},{barycentric:18,"polytope-closest-point/lib/closest_point_2d.js":308}],139:[function(e,t,n){var r=e("glslify"),i=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position, normal;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvec4 project(vec3 p) {\n  return projection * view * model * vec4(p, 1.0);\n}\n\nvoid main() {\n  gl_Position      = project(position);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\n\n  f_color          = color;\n  f_data           = position;\n  f_uv             = uv;\n}\n"]),o=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (f_color.a == 0.0 ||\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\n  ) discard;\n\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\n\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * f_color.a;\n}\n"]),a=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\n\nuniform mat4 model, view, projection;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_color = color;\n  f_data  = position;\n  f_uv    = uv;\n}"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec3 f_data;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\n\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),l=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 uv;\nattribute float pointSize;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\n  } else {\n    gl_Position = projection * view * model * vec4(position, 1.0);\n  }\n  gl_PointSize = pointSize;\n  f_color = color;\n  f_uv = uv;\n}"]),u=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform sampler2D texture;\nuniform float opacity;\n\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\n  if(dot(pointR, pointR) > 0.25) {\n    discard;\n  }\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\n}"]),c=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n  f_id        = id;\n  f_position  = position;\n}"]),f=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]),d=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3  position;\nattribute float pointSize;\nattribute vec4  id;\n\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\n  } else {\n    gl_Position  = projection * view * model * vec4(position, 1.0);\n    gl_PointSize = pointSize;\n  }\n  f_id         = id;\n  f_position   = position;\n}"]),h=r(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\n\nvoid main() {\n  gl_Position = projection * view * model * vec4(position, 1.0);\n}"]),p=r(["precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 contourColor;\n\nvoid main() {\n  gl_FragColor = vec4(contourColor, 1.0);\n}\n"]);n.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.wireShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},n.pointShader={vertex:l,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},n.pickShader={vertex:c,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},n.pointPickShader={vertex:d,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},n.contourShader={vertex:h,fragment:p,attributes:[{name:"position",type:"vec3"}]}},{glslify:251}],140:[function(e,t,n){"use strict";var r=e("gl-shader"),i=e("gl-buffer"),o=e("gl-vao"),a=e("gl-texture2d"),s=e("normals"),l=e("gl-mat4/multiply"),u=e("gl-mat4/invert"),c=e("ndarray"),f=e("colormap"),d=e("simplicial-complex-contour"),h=e("typedarray-pool"),p=e("./lib/shaders"),m=e("./lib/closest-point"),g=p.meshShader,v=p.wireShader,y=p.pointShader,b=p.pickShader,x=p.pointPickShader,_=p.contourShader,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function k(e,t,n,r,i,o,a,s,l,u,c,f,d,h,p,m,g,v,y,b,x,_,k,M,T,S,E){this.gl=e,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=t,this.dirty=!0,this.triShader=n,this.lineShader=r,this.pointShader=i,this.pickShader=o,this.pointPickShader=a,this.contourShader=s,this.trianglePositions=l,this.triangleColors=c,this.triangleNormals=d,this.triangleUVs=f,this.triangleIds=u,this.triangleVAO=h,this.triangleCount=0,this.lineWidth=1,this.edgePositions=p,this.edgeColors=g,this.edgeUVs=v,this.edgeIds=m,this.edgeVAO=y,this.edgeCount=0,this.pointPositions=b,this.pointColors=_,this.pointUVs=k,this.pointSizes=M,this.pointIds=x,this.pointVAO=T,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=S,this.contourVAO=E,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var M=k.prototype;function T(e,t){if(!t)return 1;if(!t.length)return 1;for(var n=0;n<t.length;++n){if(t.length<2)return 1;if(t[n][0]===e)return t[n][1];if(t[n][0]>e&&n>0){var r=(t[n][0]-e)/(t[n][0]-t[n-1][0]);return t[n][1]*(1-r)+r*t[n-1][1]}}return 1}function S(e){var t=r(e,y.vertex,y.fragment);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.pointSize.location=4,t}function E(e){var t=r(e,b.vertex,b.fragment);return t.attributes.position.location=0,t.attributes.id.location=1,t}function A(e){var t=r(e,x.vertex,x.fragment);return t.attributes.position.location=0,t.attributes.id.location=1,t.attributes.pointSize.location=4,t}function O(e){var t=r(e,_.vertex,_.fragment);return t.attributes.position.location=0,t}M.isOpaque=function(){return!this.hasAlpha},M.isTransparent=function(){return this.hasAlpha},M.pickSlots=1,M.setPickBase=function(e){this.pickId=e},M.highlight=function(e){if(e&&this.contourEnable){for(var t=d(this.cells,this.intensity,e.intensity),n=t.cells,r=t.vertexIds,i=t.vertexWeights,o=n.length,a=h.mallocFloat32(6*o),s=0,l=0;l<o;++l)for(var u=n[l],c=0;c<2;++c){var f=u[0];2===u.length&&(f=u[c]);for(var p=r[f][0],m=r[f][1],g=i[f],v=1-g,y=this.positions[p],b=this.positions[m],x=0;x<3;++x)a[s++]=g*y[x]+v*b[x]}this.contourCount=s/3|0,this.contourPositions.update(a.subarray(0,s)),h.free(a)}else this.contourCount=0},M.update=function(e){e=e||{};var t=this.gl;this.dirty=!0,"contourEnable"in e&&(this.contourEnable=e.contourEnable),"contourColor"in e&&(this.contourColor=e.contourColor),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"lightPosition"in e&&(this.lightPosition=e.lightPosition),this.hasAlpha=!1,"opacity"in e&&(this.opacity=e.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in e&&(this.opacityscale=e.opacityscale,this.hasAlpha=!0),"ambient"in e&&(this.ambientLight=e.ambient),"diffuse"in e&&(this.diffuseLight=e.diffuse),"specular"in e&&(this.specularLight=e.specular),"roughness"in e&&(this.roughness=e.roughness),"fresnel"in e&&(this.fresnel=e.fresnel),e.texture?(this.texture.dispose(),this.texture=a(t,e.texture)):e.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=t.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=t.LINEAR,this.texture.setPixels(function(e,t){for(var n=f({colormap:e,nshades:256,format:"rgba"}),r=new Uint8Array(1024),i=0;i<256;++i){for(var o=n[i],a=0;a<3;++a)r[4*i+a]=o[a];r[4*i+3]=t?255*T(i/255,t):255*o[3]}return c(r,[256,256,4],[4,0,1])}(e.colormap,this.opacityscale)),this.texture.generateMipmap());var n=e.cells,r=e.positions;if(r&&n){var i=[],o=[],l=[],u=[],d=[],h=[],p=[],m=[],g=[],v=[],y=[],b=[],x=[],_=[];this.cells=n,this.positions=r;var w=e.vertexNormals,k=e.cellNormals,M=void 0===e.vertexNormalsEpsilon?1e-6:e.vertexNormalsEpsilon,S=void 0===e.faceNormalsEpsilon?1e-6:e.faceNormalsEpsilon;e.useFacetNormals&&!k&&(k=s.faceNormals(n,r,S)),k||w||(w=s.vertexNormals(n,r,M));var E=e.vertexColors,A=e.cellColors,O=e.meshColor||[1,1,1,1],C=e.vertexUVs,N=e.vertexIntensity,D=e.cellUVs,P=e.cellIntensity,R=1/0,L=-1/0;if(!C&&!D)if(N)if(e.vertexIntensityBounds)R=+e.vertexIntensityBounds[0],L=+e.vertexIntensityBounds[1];else for(var I=0;I<N.length;++I){var j=N[I];R=Math.min(R,j),L=Math.max(L,j)}else if(P)for(I=0;I<P.length;++I)j=P[I],R=Math.min(R,j),L=Math.max(L,j);else for(I=0;I<r.length;++I)j=r[I][2],R=Math.min(R,j),L=Math.max(L,j);this.intensity=N||(P?function(e,t,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=0;var o=e.length;for(i=0;i<o;++i)for(var a=e[i],s=0;s<a.length;++s)r[a[s]]=n[i];return r}(n,r.length,P):function(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=e[r][2];return n}(r));var z=e.pointSizes,F=e.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],I=0;I<r.length;++I)for(var B=r[I],U=0;U<3;++U)!isNaN(B[U])&&isFinite(B[U])&&(this.bounds[0][U]=Math.min(this.bounds[0][U],B[U]),this.bounds[1][U]=Math.max(this.bounds[1][U],B[U]));var H=0,q=0,V=0;e:for(I=0;I<n.length;++I){var W=n[I];switch(W.length){case 1:for(B=r[G=W[0]],U=0;U<3;++U)if(isNaN(B[U])||!isFinite(B[U]))continue e;v.push(B[0],B[1],B[2]),X=E?E[G]:A?A[I]:O,this.opacityscale&&N?o.push(X[0],X[1],X[2],this.opacity*T((N[G]-R)/(L-R),this.opacityscale)):3===X.length?y.push(X[0],X[1],X[2],this.opacity):(y.push(X[0],X[1],X[2],X[3]*this.opacity),!this.hasAlpha&&X[3]<1&&(this.hasAlpha=!0)),$=C?C[G]:N?[(N[G]-R)/(L-R),0]:D?D[I]:P?[(P[I]-R)/(L-R),0]:[(B[2]-R)/(L-R),0],b.push($[0],$[1]),z?x.push(z[G]):x.push(F),_.push(I),V+=1;break;case 2:for(U=0;U<2;++U){B=r[G=W[U]];for(var Y=0;Y<3;++Y)if(isNaN(B[Y])||!isFinite(B[Y]))continue e}for(U=0;U<2;++U)B=r[G=W[U]],h.push(B[0],B[1],B[2]),X=E?E[G]:A?A[I]:O,this.opacityscale&&N?o.push(X[0],X[1],X[2],this.opacity*T((N[G]-R)/(L-R),this.opacityscale)):3===X.length?p.push(X[0],X[1],X[2],this.opacity):(p.push(X[0],X[1],X[2],X[3]*this.opacity),!this.hasAlpha&&X[3]<1&&(this.hasAlpha=!0)),$=C?C[G]:N?[(N[G]-R)/(L-R),0]:D?D[I]:P?[(P[I]-R)/(L-R),0]:[(B[2]-R)/(L-R),0],m.push($[0],$[1]),g.push(I);q+=1;break;case 3:for(U=0;U<3;++U)for(B=r[G=W[U]],Y=0;Y<3;++Y)if(isNaN(B[Y])||!isFinite(B[Y]))continue e;for(U=0;U<3;++U){var G,X,$,Z;B=r[G=W[2-U]],i.push(B[0],B[1],B[2]),X=E?E[G]:A?A[I]:O,this.opacityscale&&N?o.push(X[0],X[1],X[2],this.opacity*T((N[G]-R)/(L-R),this.opacityscale)):3===X.length?o.push(X[0],X[1],X[2],this.opacity):(o.push(X[0],X[1],X[2],X[3]*this.opacity),!this.hasAlpha&&X[3]<1&&(this.hasAlpha=!0)),$=C?C[G]:N?[(N[G]-R)/(L-R),0]:D?D[I]:P?[(P[I]-R)/(L-R),0]:[(B[2]-R)/(L-R),0],u.push($[0],$[1]),Z=w?w[G]:k[I],l.push(Z[0],Z[1],Z[2]),d.push(I)}H+=1}}this.pointCount=V,this.edgeCount=q,this.triangleCount=H,this.pointPositions.update(v),this.pointColors.update(y),this.pointUVs.update(b),this.pointSizes.update(x),this.pointIds.update(new Uint32Array(_)),this.edgePositions.update(h),this.edgeColors.update(p),this.edgeUVs.update(m),this.edgeIds.update(new Uint32Array(g)),this.trianglePositions.update(i),this.triangleColors.update(o),this.triangleUVs.update(u),this.triangleNormals.update(l),this.triangleIds.update(new Uint32Array(d))}},M.drawTransparent=M.draw=function(e){e=e||{};for(var t=this.gl,n=e.model||w,r=e.view||w,i=e.projection||w,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);var s={model:n,view:r,projection:i,inverseModel:w.slice(),clipBounds:o,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};s.inverseModel=u(s.inverseModel,s.model),t.disable(t.CULL_FACE),this.texture.bind(0);var c=new Array(16);for(l(c,s.view,s.model),l(c,s.projection,c),u(c,c),a=0;a<3;++a)s.eyePosition[a]=c[12+a]/c[15];var f,d=c[15];for(a=0;a<3;++a)d+=this.lightPosition[a]*c[4*a+3];for(a=0;a<3;++a){for(var h=c[12+a],p=0;p<3;++p)h+=c[4*p+a]*this.lightPosition[p];s.lightPosition[a]=h/d}this.triangleCount>0&&((f=this.triShader).bind(),f.uniforms=s,this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((f=this.lineShader).bind(),f.uniforms=s,this.edgeVAO.bind(),t.lineWidth(this.lineWidth*this.pixelRatio),t.drawArrays(t.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((f=this.pointShader).bind(),f.uniforms=s,this.pointVAO.bind(),t.drawArrays(t.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((f=this.contourShader).bind(),f.uniforms=s,this.contourVAO.bind(),t.drawArrays(t.LINES,0,this.contourCount),this.contourVAO.unbind())},M.drawPick=function(e){e=e||{};for(var t=this.gl,n=e.model||w,r=e.view||w,i=e.projection||w,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[t.drawingBufferWidth,t.drawingBufferHeight];var s,l={model:n,view:r,projection:i,clipBounds:o,pickId:this.pickId/255};(s=this.pickShader).bind(),s.uniforms=l,this.triangleCount>0&&(this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),t.lineWidth(this.lineWidth*this.pixelRatio),t.drawArrays(t.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((s=this.pointPickShader).bind(),s.uniforms=l,this.pointVAO.bind(),t.drawArrays(t.POINTS,0,this.pointCount),this.pointVAO.unbind())},M.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;for(var t=e.value[0]+256*e.value[1]+65536*e.value[2],n=this.cells[t],r=this.positions,i=new Array(n.length),o=0;o<n.length;++o)i[o]=r[n[o]];var a=m(i,[e.coord[0],this._resolution[1]-e.coord[1]],this._model,this._view,this._projection,this._resolution);if(!a)return null;var s=a[2],l=0;for(o=0;o<n.length;++o)l+=s[o]*this.intensity[n[o]];return{position:a[1],index:n[a[0]],cell:n,cellId:t,intensity:l,dataCoordinate:this.positions[n[a[0]]]}},M.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},t.exports=function(e,t){if(1===arguments.length&&(e=(t=e).gl),!(e.getExtension("OES_standard_derivatives")||e.getExtension("MOZ_OES_standard_derivatives")||e.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var n=function(e){var t=r(e,g.vertex,g.fragment);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.normal.location=4,t}(e),s=function(e){var t=r(e,v.vertex,v.fragment);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t}(e),l=S(e),u=E(e),f=A(e),d=O(e),h=a(e,c(new Uint8Array([255,255,255,255]),[1,1,4]));h.generateMipmap(),h.minFilter=e.LINEAR_MIPMAP_LINEAR,h.magFilter=e.LINEAR;var p=i(e),m=i(e),y=i(e),b=i(e),x=i(e),_=o(e,[{buffer:p,type:e.FLOAT,size:3},{buffer:x,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:m,type:e.FLOAT,size:4},{buffer:y,type:e.FLOAT,size:2},{buffer:b,type:e.FLOAT,size:3}]),w=i(e),M=i(e),T=i(e),C=i(e),N=o(e,[{buffer:w,type:e.FLOAT,size:3},{buffer:C,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:M,type:e.FLOAT,size:4},{buffer:T,type:e.FLOAT,size:2}]),D=i(e),P=i(e),R=i(e),L=i(e),I=i(e),j=o(e,[{buffer:D,type:e.FLOAT,size:3},{buffer:I,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:P,type:e.FLOAT,size:4},{buffer:R,type:e.FLOAT,size:2},{buffer:L,type:e.FLOAT,size:1}]),z=i(e),F=new k(e,h,n,s,l,u,f,d,p,x,m,y,b,_,w,C,M,T,N,D,I,P,R,L,j,z,o(e,[{buffer:z,type:e.FLOAT,size:3}]));return F.update(t),F}},{"./lib/closest-point":138,"./lib/shaders":139,colormap:69,"gl-buffer":104,"gl-mat4/invert":125,"gl-mat4/multiply":127,"gl-shader":150,"gl-texture2d":165,"gl-vao":169,ndarray:287,normals:289,"simplicial-complex-contour":331,"typedarray-pool":349}],141:[function(e,t,n){"use strict";t.exports=function(e,t){e=e||document.body;var n=[.01,1/0];"distanceLimits"in(t=t||{})&&(n[0]=t.distanceLimits[0],n[1]=t.distanceLimits[1]),"zoomMin"in t&&(n[0]=t.zoomMin),"zoomMax"in t&&(n[1]=t.zoomMax);var u=i({center:t.center||[0,0,0],up:t.up||[0,1,0],eye:t.eye||[0,0,10],mode:t.mode||"orbit",distanceLimits:n}),c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,d=e.clientWidth,h=e.clientHeight,p={keyBindingMode:"rotate",enableWheel:!0,view:u,element:e,delay:t.delay||16,rotateSpeed:t.rotateSpeed||1,zoomSpeed:t.zoomSpeed||1,translateSpeed:t.translateSpeed||1,flipX:!!t.flipX,flipY:!!t.flipY,modes:u.modes,_ortho:t._ortho||t.projection&&"orthographic"===t.projection.type||!1,tick:function(){var t=r(),n=this.delay,i=t-2*n;u.idle(t-n),u.recalcMatrix(i),u.flush(t-(100+2*n));for(var o=!0,a=u.computedMatrix,s=0;s<16;++s)o=o&&c[s]===a[s],c[s]=a[s];var l=e.clientWidth===d&&e.clientHeight===h;return d=e.clientWidth,h=e.clientHeight,o?!l:(f=Math.exp(u.computedRadius[0]),!0)},lookAt:function(e,t,n){u.lookAt(u.lastT(),e,t,n)},rotate:function(e,t,n){u.rotate(u.lastT(),e,t,n)},pan:function(e,t,n){u.pan(u.lastT(),e,t,n)},translate:function(e,t,n){u.translate(u.lastT(),e,t,n)}};return Object.defineProperties(p,{matrix:{get:function(){return u.computedMatrix},set:function(e){return u.setMatrix(u.lastT(),e),u.computedMatrix},enumerable:!0},mode:{get:function(){return u.getMode()},set:function(e){var t=u.computedUp.slice(),n=u.computedEye.slice(),i=u.computedCenter.slice();if(u.setMode(e),"turntable"===e){var o=r();u._active.lookAt(o,n,i,t),u._active.lookAt(o+500,n,i,[0,0,1]),u._active.flush(o)}return u.getMode()},enumerable:!0},center:{get:function(){return u.computedCenter},set:function(e){return u.lookAt(u.lastT(),null,e),u.computedCenter},enumerable:!0},eye:{get:function(){return u.computedEye},set:function(e){return u.lookAt(u.lastT(),e),u.computedEye},enumerable:!0},up:{get:function(){return u.computedUp},set:function(e){return u.lookAt(u.lastT(),null,null,e),u.computedUp},enumerable:!0},distance:{get:function(){return f},set:function(e){return u.setDistance(u.lastT(),e),e},enumerable:!0},distanceLimits:{get:function(){return u.getDistanceLimits(n)},set:function(e){return u.setDistanceLimits(e),e},enumerable:!0}}),e.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),p._lastX=-1,p._lastY=-1,p._lastMods={shift:!1,control:!1,alt:!1,meta:!1},p.enableMouseListeners=function(){function t(t,n,i,o){var a=p.keyBindingMode;if(!1!==a){var s="rotate"===a,l="pan"===a,c="zoom"===a,d=!!o.control,h=!!o.alt,m=!!o.shift,g=!!(1&t),v=!!(2&t),y=!!(4&t),b=1/e.clientHeight,x=b*(n-p._lastX),_=b*(i-p._lastY),w=p.flipX?1:-1,k=p.flipY?1:-1,M=Math.PI*p.rotateSpeed,T=r();if(-1!==p._lastX&&-1!==p._lastY&&((s&&g&&!d&&!h&&!m||g&&!d&&!h&&m)&&u.rotate(T,w*M*x,-k*M*_,0),(l&&g&&!d&&!h&&!m||v||g&&d&&!h&&!m)&&u.pan(T,-p.translateSpeed*x*f,p.translateSpeed*_*f,0),c&&g&&!d&&!h&&!m||y||g&&!d&&h&&!m)){var S=-p.zoomSpeed*_/window.innerHeight*(T-u.lastT())*100;u.pan(T,0,0,f*(Math.exp(S)-1))}return p._lastX=n,p._lastY=i,p._lastMods=o,!0}}p.mouseListener=o(e,t),e.addEventListener("touchstart",(function(n){var r=s(n.changedTouches[0],e);t(0,r[0],r[1],p._lastMods),t(1,r[0],r[1],p._lastMods),n.preventDefault()}),!!l&&{passive:!1}),e.addEventListener("touchmove",(function(n){var r=s(n.changedTouches[0],e);t(1,r[0],r[1],p._lastMods),n.preventDefault()}),!!l&&{passive:!1}),e.addEventListener("touchend",(function(e){t(0,p._lastX,p._lastY,p._lastMods),e.preventDefault()}),!!l&&{passive:!1}),p.wheelListener=a(e,(function(e,t){if(!1!==p.keyBindingMode&&p.enableWheel){var n=p.flipX?1:-1,i=p.flipY?1:-1,o=r();if(Math.abs(e)>Math.abs(t))u.rotate(o,0,0,-e*n*Math.PI*p.rotateSpeed/window.innerWidth);else if(!p._ortho){var a=-p.zoomSpeed*i*t/window.innerHeight*(o-u.lastT())/20;u.pan(o,0,0,f*(Math.exp(a)-1))}}}),!0)},p.enableMouseListeners(),p};var r=e("right-now"),i=e("3d-view"),o=e("mouse-change"),a=e("mouse-wheel"),s=e("mouse-event-offset"),l=e("has-passive-events")},{"3d-view":11,"has-passive-events":253,"mouse-change":272,"mouse-event-offset":273,"mouse-wheel":275,"right-now":317}],142:[function(e,t,n){var r=e("glslify"),i=e("gl-shader"),o=r(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);t.exports=function(e){return i(e,o,a,null,[{name:"position",type:"vec2"}])}},{"gl-shader":150,glslify:251}],143:[function(e,t,n){"use strict";var r=e("./camera.js"),i=e("gl-axes3d"),o=e("gl-axes3d/properties"),a=e("gl-spikes3d"),s=e("gl-select-static"),l=e("gl-fbo"),u=e("a-big-triangle"),c=e("mouse-change"),f=e("mouse-wheel"),d=e("gl-mat4/perspective"),h=e("gl-mat4/ortho"),p=e("./lib/shader"),m=e("is-mobile")({tablet:!0});function g(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function v(e){var t=Math.round(Math.log(Math.abs(e))/Math.log(10));if(t<0){var n=Math.round(Math.pow(10,-t));return Math.ceil(e*n)/n}return t>0?(n=Math.round(Math.pow(10,t)),Math.ceil(e/n)*n):Math.ceil(e)}function y(e){return"boolean"!=typeof e||e}t.exports={createScene:function(e){(e=e||{}).camera=e.camera||{};var t=e.canvas;t||(t=document.createElement("canvas"),e.container?e.container.appendChild(t):document.body.appendChild(t));var n=e.gl;if(n||(n=function(e,t){var n=null;try{(n=e.getContext("webgl",t))||(n=e.getContext("experimental-webgl",t))}catch(e){return null}return n}(t,e.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:m})),!n)throw new Error("webgl not supported");var b=e.bounds||[[-10,-10,-10],[10,10,10]],x=new g,_=l(n,[n.drawingBufferWidth,n.drawingBufferHeight],{preferFloat:!m}),w=p(n),k=e.cameraObject&&!0===e.cameraObject._ortho||e.camera.projection&&"orthographic"===e.camera.projection.type||!1,M={eye:e.camera.eye||[2,0,0],center:e.camera.center||[0,0,0],up:e.camera.up||[0,1,0],zoomMin:e.camera.zoomMax||.1,zoomMax:e.camera.zoomMin||100,mode:e.camera.mode||"turntable",_ortho:k},T=e.axes||{},S=i(n,T);S.enable=!T.disable;var E=e.spikes||{},A=a(n,E),O=[],C=[],N=[],D=[],P=!0,R=!0,L=new Array(16),I=new Array(16),j={view:null,projection:L,model:I,_ortho:!1},z=(R=!0,[n.drawingBufferWidth,n.drawingBufferHeight]),F=e.cameraObject||r(t,M),B={gl:n,contextLost:!1,pixelRatio:e.pixelRatio||1,canvas:t,selection:x,camera:F,axes:S,axesPixels:null,spikes:A,bounds:b,objects:O,shape:z,aspect:e.aspectRatio||[1,1,1],pickRadius:e.pickRadius||10,zNear:e.zNear||.01,zFar:e.zFar||1e3,fovy:e.fovy||Math.PI/4,clearColor:e.clearColor||[0,0,0,0],autoResize:y(e.autoResize),autoBounds:y(e.autoBounds),autoScale:!!e.autoScale,autoCenter:y(e.autoCenter),clipToBounds:y(e.clipToBounds),snapToData:!!e.snapToData,onselect:e.onselect||null,onrender:e.onrender||null,onclick:e.onclick||null,cameraParams:j,oncontextloss:null,mouseListener:null,_stopped:!1},U=[n.drawingBufferWidth/B.pixelRatio|0,n.drawingBufferHeight/B.pixelRatio|0];function H(){if(!B._stopped&&B.autoResize){var e=t.parentNode,n=1,r=1;e&&e!==document.body?(n=e.clientWidth,r=e.clientHeight):(n=window.innerWidth,r=window.innerHeight);var i=0|Math.ceil(n*B.pixelRatio),o=0|Math.ceil(r*B.pixelRatio);if(i!==t.width||o!==t.height){t.width=i,t.height=o;var a=t.style;a.position=a.position||"absolute",a.left="0px",a.top="0px",a.width=n+"px",a.height=r+"px",P=!0}}}function q(){for(var e=O.length,t=D.length,r=0;r<t;++r)N[r]=0;e:for(r=0;r<e;++r){var i=O[r],o=i.pickSlots;if(o){for(var a=0;a<t;++a)if(N[a]+o<255){C[r]=a,i.setPickBase(N[a]+1),N[a]+=o;continue e}var l=s(n,z);C[r]=t,D.push(l),N.push(o),i.setPickBase(1),t+=1}else C[r]=-1}for(;t>0&&0===N[t-1];)N.pop(),D.pop().dispose()}function V(){if(B.contextLost)return!0;n.isContextLost()&&(B.contextLost=!0,B.mouseListener.enabled=!1,B.selection.object=null,B.oncontextloss&&B.oncontextloss())}B.autoResize&&H(),window.addEventListener("resize",H),B.update=function(e){B._stopped||(e=e||{},P=!0,R=!0)},B.add=function(e){B._stopped||(e.axes=S,O.push(e),C.push(-1),P=!0,R=!0,q())},B.remove=function(e){if(!B._stopped){var t=O.indexOf(e);t<0||(O.splice(t,1),C.pop(),P=!0,R=!0,q())}},B.dispose=function(){if(!B._stopped&&(B._stopped=!0,window.removeEventListener("resize",H),t.removeEventListener("webglcontextlost",V),B.mouseListener.enabled=!1,!B.contextLost)){S.dispose(),A.dispose();for(var e=0;e<O.length;++e)O[e].dispose();for(_.dispose(),e=0;e<D.length;++e)D[e].dispose();w.dispose(),n=null,S=null,A=null,O=[]}},B.wheelListener=f(t,(function(e,t){if(!1!==F.keyBindingMode&&F.enableWheel&&F._ortho){var n=e>t?1.1:1/1.1;B.aspect[0]*=n,B.aspect[1]*=n,B.aspect[2]*=n,B.redraw()}}),!0),B._mouseRotating=!1,B._prevButtons=0,B.enableMouseListeners=function(){B.mouseListener=c(t,(function(e,t,n){if(!B._stopped){var r=D.length,i=O.length,o=x.object;x.distance=1/0,x.mouse[0]=t,x.mouse[1]=n,x.object=null,x.screen=null,x.dataCoordinate=x.dataPosition=null;var a=!1;if(e&&B._prevButtons)B._mouseRotating=!0;else{B._mouseRotating&&(R=!0),B._mouseRotating=!1;for(var s=0;s<r;++s){var l=D[s].query(t,U[1]-n-1,B.pickRadius);if(l){if(l.distance>x.distance)continue;for(var u=0;u<i;++u){var c=O[u];if(C[u]===s){var f=c.pick(l);f&&(x.buttons=e,x.screen=l.coord,x.distance=l.distance,x.object=c,x.index=f.distance,x.dataPosition=f.position,x.dataCoordinate=f.dataCoordinate,x.data=f,a=!0)}}}}}o&&o!==x.object&&(o.highlight&&o.highlight(null),P=!0),x.object&&(x.object.highlight&&x.object.highlight(x.data),P=!0),(a=a||x.object!==o)&&B.onselect&&B.onselect(x),1&e&&!(1&B._prevButtons)&&B.onclick&&B.onclick(x),B._prevButtons=e}}))},t.addEventListener("webglcontextlost",V);var W=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Y=[W[0].slice(),W[1].slice()];function G(){if(!V()){H();var e=B.camera.tick();j.view=B.camera.matrix,P=P||e,R=R||e,S.pixelRatio=B.pixelRatio,A.pixelRatio=B.pixelRatio;var t=O.length,r=W[0],i=W[1];r[0]=r[1]=r[2]=1/0,i[0]=i[1]=i[2]=-1/0;for(var a=0;a<t;++a){(F=O[a]).pixelRatio=B.pixelRatio,F.axes=B.axes,P=P||!!F.dirty,R=R||!!F.dirty;var s=F.bounds;if(s)for(var l=s[0],c=s[1],f=0;f<3;++f)r[f]=Math.min(r[f],l[f]),i[f]=Math.max(i[f],c[f])}var p=B.bounds;if(B.autoBounds)for(f=0;f<3;++f){if(i[f]<r[f])r[f]=-1,i[f]=1;else{r[f]===i[f]&&(r[f]-=1,i[f]+=1);var m=.05*(i[f]-r[f]);r[f]=r[f]-m,i[f]=i[f]+m}p[0][f]=r[f],p[1][f]=i[f]}var g=!1;for(f=0;f<3;++f)g=g||Y[0][f]!==p[0][f]||Y[1][f]!==p[1][f],Y[0][f]=p[0][f],Y[1][f]=p[1][f];if(R=R||g,P=P||g){if(g){var y=[0,0,0];for(a=0;a<3;++a)y[a]=v((p[1][a]-p[0][a])/10);S.autoTicks?S.update({bounds:p,tickSpacing:y}):S.update({bounds:p})}var b=n.drawingBufferWidth,M=n.drawingBufferHeight;for(z[0]=b,z[1]=M,U[0]=0|Math.max(b/B.pixelRatio,1),U[1]=0|Math.max(M/B.pixelRatio,1),k?(h(L,-b/M,b/M,-1,1,B.zNear,B.zFar),j._ortho=!0):(d(L,B.fovy,b/M,B.zNear,B.zFar),j._ortho=!1),a=0;a<16;++a)I[a]=0;I[15]=1;var T=0;for(a=0;a<3;++a)T=Math.max(T,p[1][a]-p[0][a]);for(a=0;a<3;++a)B.autoScale?I[5*a]=B.aspect[a]/(p[1][a]-p[0][a]):I[5*a]=1/T,B.autoCenter&&(I[12+a]=.5*-I[5*a]*(p[0][a]+p[1][a]));for(a=0;a<t;++a)(F=O[a]).axesBounds=p,B.clipToBounds&&(F.clipBounds=p);x.object&&(B.snapToData?A.position=x.dataCoordinate:A.position=x.dataPosition,A.bounds=p),R&&(R=!1,function(){if(!V()){n.colorMask(!0,!0,!0,!0),n.depthMask(!0),n.disable(n.BLEND),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL);for(var e=O.length,t=D.length,r=0;r<t;++r){var i=D[r];i.shape=U,i.begin();for(var o=0;o<e;++o)if(C[o]===r){var a=O[o];a.drawPick&&(a.pixelRatio=1,a.drawPick(j))}i.end()}}}()),B.axesPixels=o(B.axes,j,b,M),B.onrender&&B.onrender(),n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,b,M);var E=B.clearColor;n.clearColor(E[0],E[1],E[2],E[3]),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.depthMask(!0),n.colorMask(!0,!0,!0,!0),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.disable(n.BLEND),n.disable(n.CULL_FACE);var N=!1;for(S.enable&&(N=N||S.isTransparent(),S.draw(j)),A.axes=S,x.object&&A.draw(j),n.disable(n.CULL_FACE),a=0;a<t;++a)(F=O[a]).axes=S,F.pixelRatio=B.pixelRatio,F.isOpaque&&F.isOpaque()&&F.draw(j),F.isTransparent&&F.isTransparent()&&(N=!0);if(N){for(_.shape=z,_.bind(),n.clear(n.DEPTH_BUFFER_BIT),n.colorMask(!1,!1,!1,!1),n.depthMask(!0),n.depthFunc(n.LESS),S.enable&&S.isTransparent()&&S.drawTransparent(j),a=0;a<t;++a)(F=O[a]).isOpaque&&F.isOpaque()&&F.draw(j);for(n.enable(n.BLEND),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.colorMask(!0,!0,!0,!0),n.depthMask(!1),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),S.isTransparent()&&S.drawTransparent(j),a=0;a<t;++a){var F;(F=O[a]).isTransparent&&F.isTransparent()&&F.drawTransparent(j)}n.bindFramebuffer(n.FRAMEBUFFER,null),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST),w.bind(),_.color[0].bind(0),w.uniforms.accumBuffer=0,u(n),n.disable(n.BLEND)}for(P=!1,a=0;a<t;++a)O[a].dirty=!1}}}return B.enableMouseListeners(),function e(){B._stopped||B.contextLost||(G(),requestAnimationFrame(e))}(),B.redraw=function(){B._stopped||(P=!0,G())},B},createCamera:r}},{"./camera.js":141,"./lib/shader":142,"a-big-triangle":12,"gl-axes3d":96,"gl-axes3d/properties":103,"gl-fbo":112,"gl-mat4/ortho":128,"gl-mat4/perspective":129,"gl-select-static":149,"gl-spikes3d":158,"is-mobile":261,"mouse-change":272,"mouse-wheel":275}],144:[function(e,t,n){t.exports=function(e,t,n,r){var i,o,a,s,l,u=t[0],c=t[1],f=t[2],d=t[3],h=n[0],p=n[1],m=n[2],g=n[3];return(o=u*h+c*p+f*m+d*g)<0&&(o=-o,h=-h,p=-p,m=-m,g=-g),1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),e[0]=s*u+l*h,e[1]=s*c+l*p,e[2]=s*f+l*m,e[3]=s*d+l*g,e}},{}],145:[function(e,t,n){"use strict";t.exports=function(e){return e||0===e?e.toString():""}},{}],146:[function(e,t,n){"use strict";var r=e("vectorize-text");t.exports=function(e,t,n){var o=i[t];if(o||(o=i[t]={}),e in o)return o[e];var a={textAlign:"center",textBaseline:"middle",lineHeight:1,font:t,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},s=r(e,a);a.triangles=!1;var l,u,c=r(e,a);if(n&&1!==n){for(l=0;l<s.positions.length;++l)for(u=0;u<s.positions[l].length;++u)s.positions[l][u]/=n;for(l=0;l<c.positions.length;++l)for(u=0;u<c.positions[l].length;++u)c.positions[l][u]/=n}var f=[[1/0,1/0],[-1/0,-1/0]],d=c.positions.length;for(l=0;l<d;++l){var h=c.positions[l];for(u=0;u<2;++u)f[0][u]=Math.min(f[0][u],h[u]),f[1][u]=Math.max(f[1][u],h[u])}return o[e]=[s,c,f]};var i={}},{"vectorize-text":352}],147:[function(e,t,n){var r=e("gl-shader"),i=e("glslify"),o=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform vec4 highlightId;\nuniform float highlightScale;\nuniform mat4 model, view, projection;\nuniform vec3 clipBounds[2];\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = 1.0;\n    if(distance(highlightId, id) < 0.0001) {\n      scale = highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1);\n    vec4 viewPosition = view * worldPosition;\n    viewPosition = viewPosition / viewPosition.w;\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),a=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float highlightScale, pixelRatio;\nuniform vec4 highlightId;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float scale = pixelRatio;\n    if(distance(highlightId.bgr, id.bgr) < 0.001) {\n      scale *= highlightScale;\n    }\n\n    vec4 worldPosition = model * vec4(position, 1.0);\n    vec4 viewPosition = view * worldPosition;\n    vec4 clipPosition = projection * viewPosition;\n    clipPosition /= clipPosition.w;\n\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = position;\n  }\n}"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nattribute vec3 position;\nattribute vec4 color;\nattribute vec2 glyph;\nattribute vec4 id;\n\nuniform float highlightScale;\nuniform vec4 highlightId;\nuniform vec3 axes[2];\nuniform mat4 model, view, projection;\nuniform vec2 screenSize;\nuniform vec3 clipBounds[2];\nuniform float scale, pixelRatio;\n\nvarying vec4 interpColor;\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\n\n    gl_Position = vec4(0,0,0,0);\n  } else {\n    float lscale = pixelRatio * scale;\n    if(distance(highlightId, id) < 0.0001) {\n      lscale *= highlightScale;\n    }\n\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\n\n    gl_Position = clipPosition;\n    interpColor = color;\n    pickId = id;\n    dataCoordinate = dataPosition;\n  }\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float opacity;\n\nvarying vec4 interpColor;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\n    interpColor.a * opacity == 0.\n  ) discard;\n  gl_FragColor = interpColor * opacity;\n}\n"]),u=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 fragClipBounds[2];\nuniform float pickGroup;\n\nvarying vec4 pickId;\nvarying vec3 dataCoordinate;\n\nvoid main() {\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\n\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\n}"]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],f={vertex:o,fragment:l,attributes:c},d={vertex:a,fragment:l,attributes:c},h={vertex:s,fragment:l,attributes:c},p={vertex:o,fragment:u,attributes:c},m={vertex:a,fragment:u,attributes:c},g={vertex:s,fragment:u,attributes:c};function v(e,t){var n=r(e,t),i=n.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,n}n.createPerspective=function(e){return v(e,f)},n.createOrtho=function(e){return v(e,d)},n.createProject=function(e){return v(e,h)},n.createPickPerspective=function(e){return v(e,p)},n.createPickOrtho=function(e){return v(e,m)},n.createPickProject=function(e){return v(e,g)}},{"gl-shader":150,glslify:251}],148:[function(e,t,n){"use strict";var r=e("is-string-blank"),i=e("gl-buffer"),o=e("gl-vao"),a=e("typedarray-pool"),s=e("gl-mat4/multiply"),l=e("./lib/shaders"),u=e("./lib/glyphs"),c=e("./lib/get-simple-string"),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];return e[0]=t[0]*n+t[4]*r+t[8]*i+t[12]*o,e[1]=t[1]*n+t[5]*r+t[9]*i+t[13]*o,e[2]=t[2]*n+t[6]*r+t[10]*i+t[14]*o,e[3]=t[3]*n+t[7]*r+t[11]*i+t[15]*o,e}function h(e,t,n,r){return d(r,r),d(r,r),d(r,r)}function p(e,t){this.index=e,this.dataCoordinate=this.position=t}function m(e){return!0===e?1:e>1?1:e}function g(e,t,n,r,i,o,a,s,l,u,c,f){this.gl=e,this.pixelRatio=1,this.shader=t,this.orthoShader=n,this.projectShader=r,this.pointBuffer=i,this.colorBuffer=o,this.glyphBuffer=a,this.idBuffer=s,this.vao=l,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=u,this.pickOrthoShader=c,this.pickProjectShader=f,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}t.exports=function(e){var t=e.gl,n=l.createPerspective(t),r=l.createOrtho(t),a=l.createProject(t),s=l.createPickPerspective(t),u=l.createPickOrtho(t),c=l.createPickProject(t),f=i(t),d=i(t),h=i(t),p=i(t),m=new g(t,n,r,a,f,d,h,p,o(t,[{buffer:f,size:3,type:t.FLOAT},{buffer:d,size:4,type:t.FLOAT},{buffer:h,size:2,type:t.FLOAT},{buffer:p,size:4,type:t.UNSIGNED_BYTE,normalized:!0}]),s,u,c);return m.update(e),m};var v=g.prototype;v.pickSlots=1,v.setPickBase=function(e){this.pickId=e},v.isTransparent=function(){if(this.hasAlpha)return!0;for(var e=0;e<3;++e)if(this.axesProject[e]&&this.projectHasAlpha)return!0;return!1},v.isOpaque=function(){if(!this.hasAlpha)return!0;for(var e=0;e<3;++e)if(this.axesProject[e]&&!this.projectHasAlpha)return!0;return!1};var y=[0,0],b=[0,0,0],x=[0,0,0],_=[0,0,0,1],w=[0,0,0,1],k=f.slice(),M=[0,0,0],T=[[0,0,0],[0,0,0]];function S(e){return e[0]=e[1]=e[2]=0,e}function E(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1,e}function A(e,t,n,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[n]=r,e}function O(e,t,n,r){var i,o=t.axesProject,a=t.gl,l=e.uniforms,u=n.model||f,c=n.view||f,d=n.projection||f,p=t.axesBounds,m=function(e){for(var t=T,n=0;n<2;++n)for(var r=0;r<3;++r)t[n][r]=Math.max(Math.min(e[n][r],1e8),-1e8);return t}(t.clipBounds);i=t.axes&&t.axes.lastCubeProps?t.axes.lastCubeProps.axis:[1,1,1],y[0]=2/a.drawingBufferWidth,y[1]=2/a.drawingBufferHeight,e.bind(),l.view=c,l.projection=d,l.screenSize=y,l.highlightId=t.highlightId,l.highlightScale=t.highlightScale,l.clipBounds=m,l.pickGroup=t.pickId/255,l.pixelRatio=r;for(var g=0;g<3;++g)if(o[g]){l.scale=t.projectScale[g],l.opacity=t.projectOpacity[g];for(var v=k,O=0;O<16;++O)v[O]=0;for(O=0;O<4;++O)v[5*O]=1;v[5*g]=0,i[g]<0?v[12+g]=p[0][g]:v[12+g]=p[1][g],s(v,u,v),l.model=v;var C=(g+1)%3,N=(g+2)%3,D=S(b),P=S(x);D[C]=1,P[N]=1;var R=h(0,0,0,E(_,D)),L=h(0,0,0,E(w,P));if(Math.abs(R[1])>Math.abs(L[1])){var I=R;R=L,L=I,I=D,D=P,P=I;var j=C;C=N,N=j}R[0]<0&&(D[C]=-1),L[1]>0&&(P[N]=-1);var z=0,F=0;for(O=0;O<4;++O)z+=Math.pow(u[4*C+O],2),F+=Math.pow(u[4*N+O],2);D[C]/=Math.sqrt(z),P[N]/=Math.sqrt(F),l.axes[0]=D,l.axes[1]=P,l.fragClipBounds[0]=A(M,m[0],g,-1e8),l.fragClipBounds[1]=A(M,m[1],g,1e8),t.vao.bind(),t.vao.draw(a.TRIANGLES,t.vertexCount),t.lineWidth>0&&(a.lineWidth(t.lineWidth*r),t.vao.draw(a.LINES,t.lineVertexCount,t.vertexCount)),t.vao.unbind()}}var C=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function N(e,t,n,r,i,o,a){var s=n.gl;if((o===n.projectHasAlpha||a)&&O(t,n,r,i),o===n.hasAlpha||a){e.bind();var l=e.uniforms;l.model=r.model||f,l.view=r.view||f,l.projection=r.projection||f,y[0]=2/s.drawingBufferWidth,y[1]=2/s.drawingBufferHeight,l.screenSize=y,l.highlightId=n.highlightId,l.highlightScale=n.highlightScale,l.fragClipBounds=C,l.clipBounds=n.axes.bounds,l.opacity=n.opacity,l.pickGroup=n.pickId/255,l.pixelRatio=i,n.vao.bind(),n.vao.draw(s.TRIANGLES,n.vertexCount),n.lineWidth>0&&(s.lineWidth(n.lineWidth*i),n.vao.draw(s.LINES,n.lineVertexCount,n.vertexCount)),n.vao.unbind()}}function D(e,t,n,i){var o;o=Array.isArray(e)?t<e.length?e[t]:void 0:e,o=c(o);var a=!0;r(o)&&(o="\u25bc",a=!1);var s=u(o,n,i);return{mesh:s[0],lines:s[1],bounds:s[2],visible:a}}v.draw=function(e){N(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,e,this.pixelRatio,!1,!1)},v.drawTransparent=function(e){N(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,e,this.pixelRatio,!0,!1)},v.drawPick=function(e){N(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,e,1,!0,!0)},v.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=e.value[2]+(e.value[1]<<8)+(e.value[0]<<16);if(t>=this.pointCount||t<0)return null;var n=this.points[t],r=this._selectResult;r.index=t;for(var i=0;i<3;++i)r.position[i]=r.dataCoordinate[i]=n[i];return r},v.highlight=function(e){if(e){var t=e.index,n=255&t,r=t>>8&255,i=t>>16&255;this.highlightId=[n/255,r/255,i/255,0]}else this.highlightId=[1,1,1,1]},v.update=function(e){if("perspective"in(e=e||{})&&(this.useOrtho=!e.perspective),"orthographic"in e&&(this.useOrtho=!!e.orthographic),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"project"in e)if(Array.isArray(e.project))this.axesProject=e.project;else{var t=!!e.project;this.axesProject=[t,t,t]}if("projectScale"in e)if(Array.isArray(e.projectScale))this.projectScale=e.projectScale.slice();else{var n=+e.projectScale;this.projectScale=[n,n,n]}if(this.projectHasAlpha=!1,"projectOpacity"in e){Array.isArray(e.projectOpacity)?this.projectOpacity=e.projectOpacity.slice():(n=+e.projectOpacity,this.projectOpacity=[n,n,n]);for(var r=0;r<3;++r)this.projectOpacity[r]=m(this.projectOpacity[r]),this.projectOpacity[r]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in e&&(this.opacity=m(e.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var i,o,s=e.position,l=e.font||"normal",u=e.alignment||[0,0];if(2===u.length)i=u[0],o=u[1];else for(i=[],o=[],r=0;r<u.length;++r)i[r]=u[r][0],o[r]=u[r][1];var c=[1/0,1/0,1/0],f=[-1/0,-1/0,-1/0],d=e.glyph,h=e.color,p=e.size,g=e.angle,v=e.lineColor,y=-1,b=0,x=0,_=0;if(s.length){_=s.length;e:for(r=0;r<_;++r){for(var w=s[r],k=0;k<3;++k)if(isNaN(w[k])||!isFinite(w[k]))continue e;var M=(F=D(d,r,l,this.pixelRatio)).mesh,T=F.lines,S=F.bounds;b+=3*M.cells.length,x+=2*T.edges.length}}var E=b+x,A=a.mallocFloat(3*E),O=a.mallocFloat(4*E),C=a.mallocFloat(2*E),N=a.mallocUint32(E);if(E>0){var P=0,R=b,L=[0,0,0,1],I=[0,0,0,1],j=Array.isArray(h)&&Array.isArray(h[0]),z=Array.isArray(v)&&Array.isArray(v[0]);e:for(r=0;r<_;++r){for(y+=1,w=s[r],k=0;k<3;++k){if(isNaN(w[k])||!isFinite(w[k]))continue e;f[k]=Math.max(f[k],w[k]),c[k]=Math.min(c[k],w[k])}M=(F=D(d,r,l,this.pixelRatio)).mesh,T=F.lines,S=F.bounds;var F,B,U=F.visible;if(U)if(Array.isArray(h)){if(3===(B=j?r<h.length?h[r]:[0,0,0,0]:h).length){for(k=0;k<3;++k)L[k]=B[k];L[3]=1}else if(4===B.length){for(k=0;k<4;++k)L[k]=B[k];!this.hasAlpha&&B[3]<1&&(this.hasAlpha=!0)}}else L[0]=L[1]=L[2]=0,L[3]=1;else L=[1,1,1,0];if(U)if(Array.isArray(v)){if(3===(B=z?r<v.length?v[r]:[0,0,0,0]:v).length){for(k=0;k<3;++k)I[k]=B[k];I[k]=1}else if(4===B.length){for(k=0;k<4;++k)I[k]=B[k];!this.hasAlpha&&B[3]<1&&(this.hasAlpha=!0)}}else I[0]=I[1]=I[2]=0,I[3]=1;else I=[1,1,1,0];var H=.5;U?Array.isArray(p)?H=r<p.length?+p[r]:12:p?H=+p:this.useOrtho&&(H=12):H=0;var q=0;Array.isArray(g)?q=r<g.length?+g[r]:0:g&&(q=+g);var V=Math.cos(q),W=Math.sin(q);for(w=s[r],k=0;k<3;++k)f[k]=Math.max(f[k],w[k]),c[k]=Math.min(c[k],w[k]);var Y=i,G=o;Y=0,Array.isArray(i)?Y=r<i.length?i[r]:0:i&&(Y=i),G=0,Array.isArray(o)?G=r<o.length?o[r]:0:o&&(G=o);var X=[Y*=Y>0?1-S[0][0]:Y<0?1+S[1][0]:1,G*=G>0?1-S[0][1]:G<0?1+S[1][1]:1],$=M.cells||[],Z=M.positions||[];for(k=0;k<$.length;++k)for(var K=$[k],J=0;J<3;++J){for(var Q=0;Q<3;++Q)A[3*P+Q]=w[Q];for(Q=0;Q<4;++Q)O[4*P+Q]=L[Q];N[P]=y;var ee=Z[K[J]];C[2*P]=H*(V*ee[0]-W*ee[1]+X[0]),C[2*P+1]=H*(W*ee[0]+V*ee[1]+X[1]),P+=1}for($=T.edges,Z=T.positions,k=0;k<$.length;++k)for(K=$[k],J=0;J<2;++J){for(Q=0;Q<3;++Q)A[3*R+Q]=w[Q];for(Q=0;Q<4;++Q)O[4*R+Q]=I[Q];N[R]=y,ee=Z[K[J]],C[2*R]=H*(V*ee[0]-W*ee[1]+X[0]),C[2*R+1]=H*(W*ee[0]+V*ee[1]+X[1]),R+=1}}}this.bounds=[c,f],this.points=s,this.pointCount=s.length,this.vertexCount=b,this.lineVertexCount=x,this.pointBuffer.update(A),this.colorBuffer.update(O),this.glyphBuffer.update(C),this.idBuffer.update(N),a.free(A),a.free(O),a.free(C),a.free(N)},v.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},{"./lib/get-simple-string":145,"./lib/glyphs":146,"./lib/shaders":147,"gl-buffer":104,"gl-mat4/multiply":127,"gl-vao":169,"is-string-blank":263,"typedarray-pool":349}],149:[function(e,t,n){"use strict";t.exports=function(e,t){return new u(e,r(e,t),i.mallocUint8(t[0]*t[1]*4))};var r=e("gl-fbo"),i=e("typedarray-pool"),o=e("ndarray"),a=e("bit-twiddle").nextPow2,s=e("cwise/lib/wrapper")({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(_inline_52_arg0_<255||_inline_52_arg1_<255||_inline_52_arg2_<255||_inline_52_arg3_<255){var _inline_52_l=_inline_52_arg4_-_inline_52_arg6_[0],_inline_52_a=_inline_52_arg5_-_inline_52_arg6_[1],_inline_52_f=_inline_52_l*_inline_52_l+_inline_52_a*_inline_52_a;_inline_52_f<this_closestD2&&(this_closestD2=_inline_52_f,this_closestX=_inline_52_arg6_[0],this_closestY=_inline_52_arg6_[1])}}",args:[{name:"_inline_52_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_52_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_52_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_52_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_52_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_52_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_52_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_52_a","_inline_52_f","_inline_52_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});function l(e,t,n,r,i){this.coord=[e,t],this.id=n,this.value=r,this.distance=i}function u(e,t,n){this.gl=e,this.fbo=t,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(t.bind(),e.readPixels(0,0,t.shape[0],t.shape[1],e.RGBA,e.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}var c=u.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(e){if(this.gl){this.fbo.shape=e;var t=this.fbo.shape[0],n=this.fbo.shape[1];if(n*t*4>this.buffer.length){i.free(this.buffer);for(var r=this.buffer=i.mallocUint8(a(n*t*4)),o=0;o<n*t*4;++o)r[o]=255}return e}}}),c.begin=function(){var e=this.gl;this.shape,e&&(this.fbo.bind(),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT))},c.end=function(){var e=this.gl;e&&(e.bindFramebuffer(e.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(e,t,n){if(!this.gl)return null;var r=this.fbo.shape.slice();e|=0,t|=0,"number"!=typeof n&&(n=1);var i=0|Math.min(Math.max(e-n,0),r[0]),a=0|Math.min(Math.max(e+n,0),r[0]),u=0|Math.min(Math.max(t-n,0),r[1]),c=0|Math.min(Math.max(t+n,0),r[1]);if(a<=i||c<=u)return null;var f=[a-i,c-u],d=o(this.buffer,[f[0],f[1],4],[4,4*r[0],1],4*(i+r[0]*u)),h=s(d.hi(f[0],f[1],1),n,n),p=h[0],m=h[1];return p<0||Math.pow(this.radius,2)<h[2]?null:new l(p+i|0,m+u|0,d.get(p,m,0),[d.get(p,m,1),d.get(p,m,2),d.get(p,m,3)],Math.sqrt(h[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},{"bit-twiddle":37,"cwise/lib/wrapper":81,"gl-fbo":112,ndarray:287,"typedarray-pool":349}],150:[function(e,t,n){"use strict";var r=e("./lib/create-uniforms"),i=e("./lib/create-attributes"),o=e("./lib/reflect"),a=e("./lib/shader-cache"),s=e("./lib/runtime-reflect"),l=e("./lib/GLError");function u(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=u.prototype;function f(e,t){return e.name<t.name?-1:1}c.bind=function(){var e;this.program||this._relink();var t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},c.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(e,t,n,u){if(!t||1===arguments.length){var c=e;e=c.vertex,t=c.fragment,n=c.uniforms,u=c.attributes}var d=this,h=d.gl,p=d._vref;d._vref=a.shader(h,h.VERTEX_SHADER,e),p&&p.dispose(),d.vertShader=d._vref.shader;var m=this._fref;if(d._fref=a.shader(h,h.FRAGMENT_SHADER,t),m&&m.dispose(),d.fragShader=d._fref.shader,!n||!u){var g=h.createProgram();if(h.attachShader(g,d.fragShader),h.attachShader(g,d.vertShader),h.linkProgram(g),!h.getProgramParameter(g,h.LINK_STATUS)){var v=h.getProgramInfoLog(g);throw new l(v,"Error linking program:"+v)}n=n||s.uniforms(h,g),u=u||s.attributes(h,g),h.deleteProgram(g)}(u=u.slice()).sort(f);var y,b=[],x=[],_=[];for(y=0;y<u.length;++y){var w=u[y];if(w.type.indexOf("mat")>=0){for(var k=0|w.type.charAt(w.type.length-1),M=new Array(k),T=0;T<k;++T)M[T]=_.length,x.push(w.name+"["+T+"]"),"number"==typeof w.location?_.push(w.location+T):Array.isArray(w.location)&&w.location.length===k&&"number"==typeof w.location[T]?_.push(0|w.location[T]):_.push(-1);b.push({name:w.name,type:w.type,locations:M})}else b.push({name:w.name,type:w.type,locations:[_.length]}),x.push(w.name),"number"==typeof w.location?_.push(0|w.location):_.push(-1)}var S=0;for(y=0;y<_.length;++y)if(_[y]<0){for(;_.indexOf(S)>=0;)S+=1;_[y]=S}var E=new Array(n.length);function A(){d.program=a.program(h,d._vref,d._fref,x,_);for(var e=0;e<n.length;++e)E[e]=h.getUniformLocation(d.program,n[e].name)}A(),d._relink=A,d.types={uniforms:o(n),attributes:o(u)},d.attributes=i(h,d,b,_),Object.defineProperty(d,"uniforms",r(h,d,n,E))},t.exports=function(e,t,n,r,i){var o=new u(e);return o.update(t,n,r,i),o}},{"./lib/GLError":151,"./lib/create-attributes":152,"./lib/create-uniforms":153,"./lib/reflect":154,"./lib/runtime-reflect":155,"./lib/shader-cache":156}],151:[function(e,t,n){function r(e,t,n){this.shortMessage=t||"",this.longMessage=n||"",this.rawError=e||"",this.message="gl-shader: "+(t||e||"")+(n?"\n"+n:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,t.exports=r},{}],152:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var o={},l=0,u=n.length;l<u;++l){var c=n[l],f=c.name,d=c.type,h=c.locations;switch(d){case"bool":case"int":case"float":a(e,t,h[0],i,1,o,f);break;default:if(d.indexOf("vec")>=0){if((p=d.charCodeAt(d.length-1)-48)<2||p>4)throw new r("","Invalid data type for attribute "+f+": "+d);a(e,t,h[0],i,p,o,f)}else{if(!(d.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+f+": "+d);var p;if((p=d.charCodeAt(d.length-1)-48)<2||p>4)throw new r("","Invalid data type for attribute "+f+": "+d);s(e,t,h,i,p,o,f)}}}return o};var r=e("./GLError");function i(e,t,n,r,i,o){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=o}var o=i.prototype;function a(e,t,n,r,o,a,s){for(var l=["gl","v"],u=[],c=0;c<o;++c)l.push("x"+c),u.push("x"+c);l.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var f=Function.apply(null,l),d=new i(e,t,n,r,o,f);Object.defineProperty(a,s,{set:function(t){return e.disableVertexAttribArray(r[n]),f(e,r[n],t),t},get:function(){return d},enumerable:!0})}function s(e,t,n,r,i,o,s){for(var l=new Array(i),u=new Array(i),c=0;c<i;++c)a(e,t,n[c],r,i,l,c),u[c]=l[c];Object.defineProperty(l,"location",{set:function(e){if(Array.isArray(e))for(var t=0;t<i;++t)u[t].location=e[t];else for(t=0;t<i;++t)u[t].location=e+t;return e},get:function(){for(var e=new Array(i),t=0;t<i;++t)e[t]=r[n[t]];return e},enumerable:!0}),l.pointer=function(t,o,a,s){t=t||e.FLOAT,o=!!o,a=a||i*i,s=s||0;for(var l=0;l<i;++l){var u=r[n[l]];e.vertexAttribPointer(u,i,t,o,a,s+l*i),e.enableVertexAttribArray(u)}};var f=new Array(i),d=e["vertexAttrib"+i+"fv"];Object.defineProperty(o,s,{set:function(t){for(var o=0;o<i;++o){var a=r[n[o]];if(e.disableVertexAttribArray(a),Array.isArray(t[0]))d.call(e,a,t[o]);else{for(var s=0;s<i;++s)f[s]=t[i*o+s];d.call(e,a,f)}}return t},get:function(){return l},enumerable:!0})}o.pointer=function(e,t,n,r){var i=this._gl,o=this._locations[this._index];i.vertexAttribPointer(o,this._dimension,e||i.FLOAT,!!t,n||0,r||0),i.enableVertexAttribArray(o)},o.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=0|e,this._wrapper.program=null),0|e}})},{"./GLError":151}],153:[function(e,t,n){"use strict";var r=e("./reflect"),i=e("./GLError");function o(e){return new Function("y","return function(){return y}")(e)}function a(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}t.exports=function(e,t,n,s){function l(e,t,n){switch(n){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+t+"],obj"+e+")";case"float":return"gl.uniform1f(locations["+t+"],obj"+e+")";default:var r=n.indexOf("vec");if(!(0<=r&&r<=1&&n.length===4+r)){if(0===n.indexOf("mat")&&4===n.length){var o;if((o=n.charCodeAt(n.length-1)-48)<2||o>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+n);return"gl.uniformMatrix"+o+"fv(locations["+t+"],false,obj"+e+")"}throw new i("","Unknown uniform data type for "+name+": "+n)}if((o=n.charCodeAt(n.length-1)-48)<2||o>4)throw new i("","Invalid data type");switch(n.charAt(0)){case"b":case"i":return"gl.uniform"+o+"iv(locations["+t+"],obj"+e+")";case"v":return"gl.uniform"+o+"fv(locations["+t+"],obj"+e+")";default:throw new i("","Unrecognized data type for vector "+name+": "+n)}}}function u(t){for(var r=["return function updateProperty(obj){"],i=function e(t,n){if("object"!=typeof n)return[[t,n]];var r=[];for(var i in n){var o=n[i],a=t;parseInt(i)+""===i?a+="["+i+"]":a+="."+i,"object"==typeof o?r.push.apply(r,e(a,o)):r.push([a,o])}return r}("",t),o=0;o<i.length;++o){var a=i[o],u=a[0],c=a[1];s[c]&&r.push(l(u,c,n[c].type))}return r.push("return obj}"),new Function("gl","locations",r.join("\n"))(e,s)}function c(r,l,c){if("object"==typeof c){var d=f(c);Object.defineProperty(r,l,{get:o(d),set:u(c),enumerable:!0,configurable:!1})}else s[c]?Object.defineProperty(r,l,{get:(h=c,new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+h+"])}")(e,t,s)),set:u(c),enumerable:!0,configurable:!1}):r[l]=function(e){switch(e){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var t=e.indexOf("vec");if(0<=t&&t<=1&&e.length===4+t){if((n=e.charCodeAt(e.length-1)-48)<2||n>4)throw new i("","Invalid data type");return"b"===e.charAt(0)?a(n,!1):a(n,0)}if(0===e.indexOf("mat")&&4===e.length){var n;if((n=e.charCodeAt(e.length-1)-48)<2||n>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+e);return a(n*n,0)}throw new i("","Unknown uniform data type for "+name+": "+e)}}(n[c].type);var h}function f(e){var t;if(Array.isArray(e)){t=new Array(e.length);for(var n=0;n<e.length;++n)c(t,n,e[n])}else for(var r in t={},e)c(t,r,e[r]);return t}var d=r(n,!0);return{get:o(f(d)),set:u(d),enumerable:!0,configurable:!0}}},{"./GLError":151,"./reflect":154}],154:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name.split("."),o=n,a=0;a<i.length;++a){var s=i[a].split("[");if(s.length>1){s[0]in o||(o[s[0]]=[]),o=o[s[0]];for(var l=1;l<s.length;++l){var u=parseInt(s[l]);l<s.length-1||a<i.length-1?(u in o||(l<s.length-1?o[u]=[]:o[u]={}),o=o[u]):o[u]=t?r:e[r].type}}else a<i.length-1?(s[0]in o||(o[s[0]]={}),o=o[s[0]]):o[s[0]]=t?r:e[r].type}return n}},{}],155:[function(e,t,n){"use strict";n.uniforms=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],i=0;i<n;++i){var a=e.getActiveUniform(t,i);if(a){var s=o(e,a.type);if(a.size>1)for(var l=0;l<a.size;++l)r.push({name:a.name.replace("[0]","["+l+"]"),type:s});else r.push({name:a.name,type:s})}}return r},n.attributes=function(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],i=0;i<n;++i){var a=e.getActiveAttrib(t,i);a&&r.push({name:a.name,type:o(e,a.type)})}return r};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function o(e,t){if(!i){var n=Object.keys(r);i={};for(var o=0;o<n.length;++o){var a=n[o];i[e[a]]=r[a]}}return i[t]}},{}],156:[function(e,t,n){"use strict";n.shader=function(e,t,n){return c(e).getShaderReference(t,n)},n.program=function(e,t,n,r,i){return c(e).getProgram(t,n,r,i)};var r=e("./GLError"),i=e("gl-format-compiler-error"),o=new("undefined"==typeof WeakMap?e("weakmap-shim"):WeakMap),a=0;function s(e,t,n,r,i,o,a){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=o,this.programs=[],this.cache=a}function l(e){this.gl=e,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var o=e.programs[n[r]];o&&(delete e.programs[r],t.deleteProgram(o))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};var u=l.prototype;function c(e){var t=o.get(e);return t||(t=new l(e),o.set(e,t)),t}u.getShaderReference=function(e,t){var n=this.gl,o=this.shaders[e===n.FRAGMENT_SHADER|0],l=o[t];if(l&&n.isShader(l.shader))l.count+=1;else{var u=function(e,t,n){var o=e.createShader(t);if(e.shaderSource(o,n),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(o);try{var s=i(a,n,t)}catch(e){throw console.warn("Failed to format compiler error: "+e),new r(a,"Error compiling shader:\n"+a)}throw new r(a,s.short,s.long)}return o}(n,e,t);l=o[t]=new s(a++,t,e,u,[],1,this)}return l},u.getProgram=function(e,t,n,i){var o=[e.id,t.id,n.join(":"),i.join(":")].join("@"),a=this.programs[o];return a&&this.gl.isProgram(a)||(this.programs[o]=a=function(e,t,n,i,o){var a=e.createProgram();e.attachShader(a,t),e.attachShader(a,n);for(var s=0;s<i.length;++s)e.bindAttribLocation(a,o[s],i[s]);if(e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS)){var l=e.getProgramInfoLog(a);throw new r(l,"Error linking program: "+l)}return a}(this.gl,e.shader,t.shader,n,i),e.programs.push(o),t.programs.push(o)),a}},{"./GLError":151,"gl-format-compiler-error":113,"weakmap-shim":357}],157:[function(e,t,n){"use strict";var r=e("glslify"),i=e("gl-shader"),o=r(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),a=r(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);t.exports=function(e){return i(e,o,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},{"gl-shader":150,glslify:251}],158:[function(e,t,n){"use strict";var r=e("gl-buffer"),i=e("gl-vao"),o=e("./shaders/index");t.exports=function(e,t){var n=[];function a(e,t,r,i,o,a){var s=[e,t,r,0,0,0,1];s[i+3]=1,s[i]=o,n.push.apply(n,s),s[6]=-1,n.push.apply(n,s),s[i]=a,n.push.apply(n,s),n.push.apply(n,s),s[6]=1,n.push.apply(n,s),s[i]=o,n.push.apply(n,s)}a(0,0,0,0,0,1),a(0,0,0,1,0,1),a(0,0,0,2,0,1),a(1,0,0,1,-1,1),a(1,0,0,2,-1,1),a(0,1,0,0,-1,1),a(0,1,0,2,-1,1),a(0,0,1,0,-1,1),a(0,0,1,1,-1,1);var l=r(e,n),u=i(e,[{type:e.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:e.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:e.FLOAT,buffer:l,size:1,offset:24,stride:28}]),c=o(e);c.attributes.position.location=0,c.attributes.color.location=1,c.attributes.weight.location=2;var f=new s(e,l,u,c);return f.update(t),f};var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(e,t,n,r){this.gl=e,this.buffer=t,this.vao=n,this.shader=r,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=s.prototype,u=[0,0,0],c=[0,0,0],f=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(e){},l.draw=function(e){var t=this.gl,n=this.vao,r=this.shader;n.bind(),r.bind();var i,o=e.model||a,s=e.view||a,l=e.projection||a;this.axes&&(i=this.axes.lastCubeProps.axis);for(var d=u,h=c,p=0;p<3;++p)i&&i[p]<0?(d[p]=this.bounds[0][p],h[p]=this.bounds[1][p]):(d[p]=this.bounds[1][p],h[p]=this.bounds[0][p]);for(f[0]=t.drawingBufferWidth,f[1]=t.drawingBufferHeight,r.uniforms.model=o,r.uniforms.view=s,r.uniforms.projection=l,r.uniforms.coordinates=[this.position,d,h],r.uniforms.colors=this.colors,r.uniforms.screenShape=f,p=0;p<3;++p)r.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(n.draw(t.TRIANGLES,6,6*p),this.drawSides[p]&&n.draw(t.TRIANGLES,12,18+12*p));n.unbind()},l.update=function(e){e&&("bounds"in e&&(this.bounds=e.bounds),"position"in e&&(this.position=e.position),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"colors"in e&&(this.colors=e.colors),"enabled"in e&&(this.enabled=e.enabled),"drawSides"in e&&(this.drawSides=e.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{"./shaders/index":157,"gl-buffer":104,"gl-vao":169}],159:[function(e,t,n){var r=e("glslify"),i=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 color, position;\nattribute vec2 uv;\nuniform float vectorScale;\nuniform float tubeScale;\n\nuniform mat4 model\n           , view\n           , projection\n           , inverseModel;\nuniform vec3 eyePosition\n           , lightPosition;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data\n           , f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  // Scale the vector magnitude to stay constant with\n  // model & view changes.\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * tubePosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  f_normal = normalize((vec4(normal,0.0) * inverseModel).xyz);\n\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\n  vec4 t_position  = view * tubePosition;\n  gl_Position      = projection * t_position;\n\n  f_color          = color;\n  f_data           = tubePosition.xyz;\n  f_position       = position.xyz;\n  f_uv             = uv;\n}\n"]),o=r(["#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat cookTorranceSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness,\n  float fresnel) {\n\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\n\n  //Half angle vector\n  vec3 H = normalize(lightDirection + viewDirection);\n\n  //Geometric term\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\n  float VdotH = max(dot(viewDirection, H), 0.000001);\n  float LdotH = max(dot(lightDirection, H), 0.000001);\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\n  float G = min(1.0, min(G1, G2));\n  \n  //Distribution term\n  float D = beckmannDistribution(NdotH, roughness);\n\n  //Fresnel term\n  float F = pow(1.0 - VdotN, fresnel);\n\n  //Multiply terms and done\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 clipBounds[2];\nuniform float roughness\n            , fresnel\n            , kambient\n            , kdiffuse\n            , kspecular\n            , opacity;\nuniform sampler2D texture;\n\nvarying vec3 f_normal\n           , f_lightDirection\n           , f_eyeDirection\n           , f_data\n           , f_position;\nvarying vec4 f_color;\nvarying vec2 f_uv;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n  vec3 N = normalize(f_normal);\n  vec3 L = normalize(f_lightDirection);\n  vec3 V = normalize(f_eyeDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = litColor * opacity;\n}\n"]),a=r(["precision highp float;\n\nprecision highp float;\n#define GLSLIFY 1\n\nvec3 getOrthogonalVector(vec3 v) {\n  // Return up-vector for only-z vector.\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\n  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.\n  // Assign z = 0, x = -b, y = a:\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\n  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {\n    return normalize(vec3(-v.y, v.x, 0.0));\n  } else {\n    return normalize(vec3(0.0, v.z, -v.y));\n  }\n}\n\n// Calculate the tube vertex and normal at the given index.\n//\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\n//\n// Each tube segment is made up of a ring of vertices.\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\n// The indexes of tube segments run from 0 to 8.\n//\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\n  float segmentCount = 8.0;\n\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\n\n  vec3 u = getOrthogonalVector(d);\n  vec3 v = normalize(cross(u, d));\n\n  vec3 x = u * cos(angle) * length(d);\n  vec3 y = v * sin(angle) * length(d);\n  vec3 v3 = x + y;\n\n  normal = normalize(v3);\n\n  return v3;\n}\n\nattribute vec4 vector;\nattribute vec4 position;\nattribute vec4 id;\n\nuniform mat4 model, view, projection;\nuniform float tubeScale;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  vec3 normal;\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\n\n  gl_Position = projection * view * tubePosition;\n  f_id        = id;\n  f_position  = position.xyz;\n}\n"]),s=r(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3  clipBounds[2];\nuniform float pickId;\n\nvarying vec3 f_position;\nvarying vec4 f_id;\n\nvoid main() {\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\n\n  gl_FragColor = vec4(pickId, f_id.xyz);\n}"]);n.meshShader={vertex:i,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},n.pickShader={vertex:a,fragment:s,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},{glslify:251}],160:[function(e,t,n){"use strict";var r=e("gl-shader"),i=e("gl-buffer"),o=e("gl-vao"),a=e("gl-texture2d"),s=e("normals"),l=e("gl-mat4/multiply"),u=e("gl-mat4/invert"),c=e("ndarray"),f=e("colormap"),d=e("simplicial-complex-contour"),h=e("typedarray-pool"),p=e("./shaders"),m=p.meshShader,g=p.pickShader,v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function y(e,t,n,r,i,o,a,s,l,u,c,f,d,h,p,m,g,y,b,x,_,w,k,M){this.gl=e,this.cells=[],this.positions=[],this.intensity=[],this.texture=t,this.dirty=!0,this.triShader=n,this.pickShader=r,this.trianglePositions=i,this.triangleVectors=o,this.triangleColors=s,this.triangleNormals=u,this.triangleUVs=l,this.triangleIds=a,this.triangleVAO=c,this.triangleCount=0,this.lineWidth=1,this.edgePositions=f,this.edgeColors=h,this.edgeUVs=p,this.edgeIds=d,this.edgeVAO=m,this.edgeCount=0,this.pointPositions=g,this.pointColors=b,this.pointUVs=x,this.pointSizes=_,this.pointIds=y,this.pointVAO=w,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=k,this.contourVAO=M,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!1,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.tubeScale=1,this._model=v,this._view=v,this._projection=v,this._resolution=[1,1],this.pixelRatio=1}var b=y.prototype;function x(e){var t=r(e,g.vertex,g.fragment,null,g.attributes);return t.attributes.position.location=0,t.attributes.id.location=1,t.attributes.vector.location=5,t}b.isOpaque=function(){return this.opacity>=1},b.isTransparent=function(){return this.opacity<1},b.pickSlots=1,b.setPickBase=function(e){this.pickId=e},b.highlight=function(e){if(e&&this.contourEnable){for(var t=d(this.cells,this.intensity,e.intensity),n=t.cells,r=t.vertexIds,i=t.vertexWeights,o=n.length,a=h.mallocFloat32(6*o),s=0,l=0;l<o;++l)for(var u=n[l],c=0;c<2;++c){var f=u[0];2===u.length&&(f=u[c]);for(var p=r[f][0],m=r[f][1],g=i[f],v=1-g,y=this.positions[p],b=this.positions[m],x=0;x<3;++x)a[s++]=g*y[x]+v*b[x]}this.contourCount=s/3|0,this.contourPositions.update(a.subarray(0,s)),h.free(a)}else this.contourCount=0},b.update=function(e){e=e||{};var t=this.gl;this.dirty=!0,"contourEnable"in e&&(this.contourEnable=e.contourEnable),"contourColor"in e&&(this.contourColor=e.contourColor),"lineWidth"in e&&(this.lineWidth=e.lineWidth),"lightPosition"in e&&(this.lightPosition=e.lightPosition),"opacity"in e&&(this.opacity=e.opacity),"ambient"in e&&(this.ambientLight=e.ambient),"diffuse"in e&&(this.diffuseLight=e.diffuse),"specular"in e&&(this.specularLight=e.specular),"roughness"in e&&(this.roughness=e.roughness),"fresnel"in e&&(this.fresnel=e.fresnel),e.texture?(this.texture.dispose(),this.texture=a(t,e.texture)):e.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=t.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=t.LINEAR,this.texture.setPixels(function(e){for(var t=f({colormap:e,nshades:256,format:"rgba"}),n=new Uint8Array(1024),r=0;r<256;++r){for(var i=t[r],o=0;o<3;++o)n[4*r+o]=i[o];n[4*r+3]=255*i[3]}return c(n,[256,256,4],[4,0,1])}(e.colormap)),this.texture.generateMipmap());var n=e.cells,r=e.positions,i=e.vectors;if(r&&n&&i){void 0!==e.tubeScale&&(this.tubeScale=e.tubeScale);var o=[],l=[],u=[],d=[],h=[],p=[],m=[],g=[],v=[],y=[],b=[],x=[],_=[],w=[],k=[];this.cells=n,this.positions=r,this.vectors=i;var M=e.vertexNormals,T=e.cellNormals,S=void 0===e.vertexNormalsEpsilon?1e-6:e.vertexNormalsEpsilon,E=void 0===e.faceNormalsEpsilon?1e-6:e.faceNormalsEpsilon;e.useFacetNormals&&!T&&(T=s.faceNormals(n,r,E)),T||M||(M=s.vertexNormals(n,r,S));var A=e.vertexColors,O=e.cellColors,C=e.meshColor||[1,1,1,1],N=e.vertexUVs,D=e.vertexIntensity,P=e.cellUVs,R=e.cellIntensity,L=1/0,I=-1/0;if(!N&&!P)if(D)if(e.vertexIntensityBounds)L=+e.vertexIntensityBounds[0],I=+e.vertexIntensityBounds[1];else for(var j=0;j<D.length;++j){var z=D[j];L=Math.min(L,z),I=Math.max(I,z)}else if(R)for(j=0;j<R.length;++j)z=R[j],L=Math.min(L,z),I=Math.max(I,z);else for(j=0;j<r.length;++j)z=r[j][2],L=Math.min(L,z),I=Math.max(I,z);this.intensity=D||(R?function(e,t,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=0;var o=e.length;for(i=0;i<o;++i)for(var a=e[i],s=0;s<a.length;++s)r[a[s]]=n[i];return r}(n,r.length,R):function(e){for(var t=e.length,n=new Array(t),r=0;r<t;++r)n[r]=e[r][2];return n}(r));var F=e.pointSizes,B=e.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],j=0;j<r.length;++j)for(var U=r[j],H=0;H<3;++H)!isNaN(U[H])&&isFinite(U[H])&&(this.bounds[0][H]=Math.min(this.bounds[0][H],U[H]),this.bounds[1][H]=Math.max(this.bounds[1][H],U[H]));var q=0,V=0,W=0;e:for(j=0;j<n.length;++j){var Y=n[j];switch(Y.length){case 1:for(U=r[X=Y[0]],H=0;H<3;++H)if(isNaN(U[H])||!isFinite(U[H]))continue e;b.push(U[0],U[1],U[2],U[3]),3===($=A?A[X]:O?O[j]:C).length?x.push($[0],$[1],$[2],1):x.push($[0],$[1],$[2],$[3]),Z=N?N[X]:D?[(D[X]-L)/(I-L),0]:P?P[j]:R?[(R[j]-L)/(I-L),0]:[(U[2]-L)/(I-L),0],_.push(Z[0],Z[1]),F?w.push(F[X]):w.push(B),k.push(j),W+=1;break;case 2:for(H=0;H<2;++H){U=r[X=Y[H]];for(var G=0;G<3;++G)if(isNaN(U[G])||!isFinite(U[G]))continue e}for(H=0;H<2;++H)U=r[X=Y[H]],m.push(U[0],U[1],U[2]),3===($=A?A[X]:O?O[j]:C).length?g.push($[0],$[1],$[2],1):g.push($[0],$[1],$[2],$[3]),Z=N?N[X]:D?[(D[X]-L)/(I-L),0]:P?P[j]:R?[(R[j]-L)/(I-L),0]:[(U[2]-L)/(I-L),0],v.push(Z[0],Z[1]),y.push(j);V+=1;break;case 3:for(H=0;H<3;++H)for(U=r[X=Y[H]],G=0;G<3;++G)if(isNaN(U[G])||!isFinite(U[G]))continue e;for(H=0;H<3;++H){var X;U=r[X=Y[2-H]],o.push(U[0],U[1],U[2],U[3]);var $,Z,K,J=i[X];l.push(J[0],J[1],J[2],J[3]),3===($=A?A[X]:O?O[j]:C).length?u.push($[0],$[1],$[2],1):u.push($[0],$[1],$[2],$[3]),Z=N?N[X]:D?[(D[X]-L)/(I-L),0]:P?P[j]:R?[(R[j]-L)/(I-L),0]:[(U[2]-L)/(I-L),0],h.push(Z[0],Z[1]),K=M?M[X]:T[j],d.push(K[0],K[1],K[2]),p.push(j)}q+=1}}this.pointCount=W,this.edgeCount=V,this.triangleCount=q,this.pointPositions.update(b),this.pointColors.update(x),this.pointUVs.update(_),this.pointSizes.update(w),this.pointIds.update(new Uint32Array(k)),this.edgePositions.update(m),this.edgeColors.update(g),this.edgeUVs.update(v),this.edgeIds.update(new Uint32Array(y)),this.trianglePositions.update(o),this.triangleVectors.update(l),this.triangleColors.update(u),this.triangleUVs.update(h),this.triangleNormals.update(d),this.triangleIds.update(new Uint32Array(p))}},b.drawTransparent=b.draw=function(e){e=e||{};for(var t=this.gl,n=e.model||v,r=e.view||v,i=e.projection||v,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);var s={model:n,view:r,projection:i,inverseModel:v.slice(),clipBounds:o,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,contourColor:this.contourColor,texture:0};s.inverseModel=u(s.inverseModel,s.model),t.disable(t.CULL_FACE),this.texture.bind(0);var c=new Array(16);for(l(c,s.view,s.model),l(c,s.projection,c),u(c,c),a=0;a<3;++a)s.eyePosition[a]=c[12+a]/c[15];var f=c[15];for(a=0;a<3;++a)f+=this.lightPosition[a]*c[4*a+3];for(a=0;a<3;++a){for(var d=c[12+a],h=0;h<3;++h)d+=c[4*h+a]*this.lightPosition[h];s.lightPosition[a]=d/f}if(this.triangleCount>0){var p=this.triShader;p.bind(),p.uniforms=s,this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},b.drawPick=function(e){e=e||{};for(var t=this.gl,n=e.model||v,r=e.view||v,i=e.projection||v,o=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],a=0;a<3;++a)o[0][a]=Math.max(o[0][a],this.clipBounds[0][a]),o[1][a]=Math.min(o[1][a],this.clipBounds[1][a]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[t.drawingBufferWidth,t.drawingBufferHeight];var s={model:n,view:r,projection:i,clipBounds:o,tubeScale:this.tubeScale,pickId:this.pickId/255},l=this.pickShader;l.bind(),l.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),t.lineWidth(this.lineWidth*this.pixelRatio),t.drawArrays(t.LINES,0,2*this.edgeCount),this.edgeVAO.unbind())},b.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=e.value[0]+256*e.value[1]+65536*e.value[2],n=this.cells[t],r=this.positions[n[1]].slice(0,3);return{index:t,position:r,intensity:this.intensity[n[1]],velocity:this.vectors[n[1]].slice(0,3),divergence:this.vectors[n[1]][3],dataCoordinate:r}},b.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose()},t.exports=function(e,t){1===arguments.length&&(e=(t=e).gl);var n=t.triShader||function(e){var t=r(e,m.vertex,m.fragment,null,m.attributes);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.vector.location=5,t}(e),s=x(e),l=a(e,c(new Uint8Array([255,255,255,255]),[1,1,4]));l.generateMipmap(),l.minFilter=e.LINEAR_MIPMAP_LINEAR,l.magFilter=e.LINEAR;var u=i(e),f=i(e),d=i(e),h=i(e),p=i(e),g=i(e),v=o(e,[{buffer:u,type:e.FLOAT,size:4},{buffer:g,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:d,type:e.FLOAT,size:4},{buffer:h,type:e.FLOAT,size:2},{buffer:p,type:e.FLOAT,size:3},{buffer:f,type:e.FLOAT,size:4}]),b=i(e),_=i(e),w=i(e),k=i(e),M=o(e,[{buffer:b,type:e.FLOAT,size:3},{buffer:k,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:_,type:e.FLOAT,size:4},{buffer:w,type:e.FLOAT,size:2}]),T=i(e),S=i(e),E=i(e),A=i(e),O=i(e),C=o(e,[{buffer:T,type:e.FLOAT,size:3},{buffer:O,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:S,type:e.FLOAT,size:4},{buffer:E,type:e.FLOAT,size:2},{buffer:A,type:e.FLOAT,size:1}]),N=i(e),D=new y(e,l,n,s,u,f,g,d,h,p,v,b,k,_,w,M,T,O,S,E,A,C,N,o(e,[{buffer:N,type:e.FLOAT,size:3}]));return D.update(t),D}},{"./shaders":159,colormap:69,"gl-buffer":104,"gl-mat4/invert":125,"gl-mat4/multiply":127,"gl-shader":150,"gl-texture2d":165,"gl-vao":169,ndarray:287,normals:289,"simplicial-complex-contour":331,"typedarray-pool":349}],161:[function(e,t,n){"use strict";var r=e("gl-vec3"),i=e("gl-vec4"),o=function(e,t,n,o){for(var a=0,s=0;s<e.length;s++)for(var l=e[s].velocities,u=0;u<l.length;u++){var c=r.length(l[u]);c>a&&(a=c)}var f=e.map((function(e){return function(e,t,n,o){var a,s,l,u=e.points,c=e.velocities,f=e.divergences;r.set(r.create(),0,1,0),r.create(),r.create(),r.create();for(var d=[],h=[],p=[],m=[],g=[],v=[],y=0,b=0,x=i.create(),_=i.create(),w=0;w<u.length;w++){a=u[w],s=c[w],l=f[w],0===t&&(l=.05*n),b=r.length(s)/o,x=i.create(),r.copy(x,s),x[3]=l;for(var k=0;k<8;k++)g[k]=[a[0],a[1],a[2],k];if(m.length>0)for(k=0;k<8;k++){var M=(k+1)%8;d.push(m[k],g[k],g[M],g[M],m[M],m[k]),p.push(_,x,x,x,_,_),v.push(y,b,b,b,y,y),h.push([d.length-6,d.length-5,d.length-4],[d.length-3,d.length-2,d.length-1])}var T=m;m=g,g=T,T=_,_=x,x=T,T=y,y=b,b=T}return{positions:d,cells:h,vectors:p,vertexIntensity:v}}(e,n,o,a)})),d=[],h=[],p=[],m=[];for(s=0;s<f.length;s++){var g=f[s],v=d.length;for(d=d.concat(g.positions),p=p.concat(g.vectors),m=m.concat(g.vertexIntensity),u=0;u<g.cells.length;u++){var y=g.cells[u],b=[];h.push(b);for(var x=0;x<y.length;x++)b.push(y[x]+v)}}return{positions:d,cells:h,vectors:p,vertexIntensity:m,colormap:t}},a=function(e,t){var n=r.create(),i=1e-4;r.add(n,e,[i,0,0]);var o=this.getVelocity(n);r.subtract(o,o,t),r.scale(o,o,1e4),r.add(n,e,[0,i,0]);var a=this.getVelocity(n);r.subtract(a,a,t),r.scale(a,a,1e4),r.add(n,e,[0,0,i]);var s=this.getVelocity(n);return r.subtract(s,s,t),r.scale(s,s,1e4),r.add(n,o,a),r.add(n,n,s),n},s=function(e){return d(e,this.vectors,this.meshgrid,this.clampBorders)},l=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r===t)return n;if(r>t)return n-1}return n},u=r.create(),c=r.create(),f=function(e,t,n){return e<t?t:e>n?n:e},d=function(e,t,n,i){var o=e[0],a=e[1],s=e[2],d=n[0].length,h=n[1].length,p=n[2].length,m=l(n[0],o),g=l(n[1],a),v=l(n[2],s),y=m+1,b=g+1,x=v+1;if(n[0][m]===o&&(y=m),n[1][g]===a&&(b=g),n[2][v]===s&&(x=v),i&&(m=f(m,0,d-1),y=f(y,0,d-1),g=f(g,0,h-1),b=f(b,0,h-1),v=f(v,0,p-1),x=f(x,0,p-1)),m<0||g<0||v<0||y>=d||b>=h||x>=p)return r.create();var _=(o-n[0][m])/(n[0][y]-n[0][m]),w=(a-n[1][g])/(n[1][b]-n[1][g]),k=(s-n[2][v])/(n[2][x]-n[2][v]);(_<0||_>1||isNaN(_))&&(_=0),(w<0||w>1||isNaN(w))&&(w=0),(k<0||k>1||isNaN(k))&&(k=0);var M=v*d*h,T=x*d*h,S=g*d,E=b*d,A=m,O=y,C=t[S+M+A],N=t[S+M+O],D=t[E+M+A],P=t[E+M+O],R=t[S+T+A],L=t[S+T+O],I=t[E+T+A],j=t[E+T+O],z=r.create();return r.lerp(z,C,N,_),r.lerp(u,D,P,_),r.lerp(z,z,u,w),r.lerp(u,R,L,_),r.lerp(c,I,j,_),r.lerp(u,u,c,w),r.lerp(z,z,u,k),z},h=function(e){var t=1/0;e.sort((function(e,t){return e-t}));for(var n=1;n<e.length;n++){var r=Math.abs(e[n]-e[n-1]);r<t&&(t=r)}return t};t.exports=function(e,t){var n=e.startingPositions,i=e.maxLength||1e3,l=e.tubeSize||1,u=e.absoluteTubeSize;e.getDivergence||(e.getDivergence=a),e.getVelocity||(e.getVelocity=s),void 0===e.clampBorders&&(e.clampBorders=!0);var c=[],f=t[0][0],d=t[0][1],p=t[0][2],m=t[1][0],g=t[1][1],v=t[1][2],y=function(e,t){var n=t[0],r=t[1],i=t[2];return n>=f&&n<=m&&r>=d&&r<=g&&i>=p&&i<=v},b=10*r.distance(t[0],t[1])/i,x=b*b,_=1,w=0;r.create(),n.length>=2&&(_=function(e){for(var t=[],n=[],r=[],i={},o={},a={},s=0;s<e.length;s++){var l=e[s],u=l[0],c=l[1],f=l[2];i[u]||(t.push(u),i[u]=!0),o[c]||(n.push(c),o[c]=!0),a[f]||(r.push(f),a[f]=!0)}var d=h(t),p=h(n),m=h(r),g=Math.min(d,p,m);return isFinite(g)?g:1}(n));for(var k=0;k<n.length;k++){var M=r.create();r.copy(M,n[k]);var T=[M],S=[],E=e.getVelocity(M),A=M;S.push(E);var O=[],C=e.getDivergence(M,E);(R=r.length(C))>w&&!isNaN(R)&&isFinite(R)&&(w=R),O.push(R),c.push({points:T,velocities:S,divergences:O});for(var N=0;N<100*i&&T.length<i&&y(0,M);){N++;var D=r.clone(E),P=r.squaredLength(D);if(0===P)break;P>x&&r.scale(D,D,b/Math.sqrt(P)),r.add(D,D,M),E=e.getVelocity(D),r.squaredDistance(A,D)-x>-1e-4*x&&(T.push(D),A=D,S.push(E),C=e.getDivergence(D,E),(R=r.length(C))>w&&!isNaN(R)&&isFinite(R)&&(w=R),O.push(R)),M=D}}for(k=0;k<O.length;k++){var R=O[k];!isNaN(R)&&isFinite(R)||(O[k]=w)}var L=o(c,e.colormap,w,_);return u?L.tubeScale=u:(0===w&&(w=1),L.tubeScale=.5*l*_/w),L},t.exports.createTubeMesh=e("./lib/tubemesh")},{"./lib/tubemesh":160,"gl-vec3":188,"gl-vec4":224}],162:[function(e,t,n){var r=e("gl-shader"),i=e("glslify"),o=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform vec3 objectOffset;\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 localCoordinate = vec3(uv.zw, f.x);\n  worldCoordinate = objectOffset + localCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),a=i(["precision highp float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color \u2014 in vertex or in fragment\n  vec4 surfaceColor =\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\n    step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),s=i(["precision highp float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform vec3 objectOffset;\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  worldCoordinate = objectOffset + dataCoordinate;\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z += zOffset;\n\n  gl_Position = clipPosition;\n  value = f + objectOffset.z;\n  kill = -1.0;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),l=i(["precision highp float;\n#define GLSLIFY 1\n\nbool outOfRange(float a, float b, float p) {\n  return ((p > max(a, b)) || \n          (p < min(a, b)));\n}\n\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y));\n}\n\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\n  return (outOfRange(a.x, b.x, p.x) ||\n          outOfRange(a.y, b.y, p.y) ||\n          outOfRange(a.z, b.z, p.z));\n}\n\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\n  return outOfRange(a.xyz, b.xyz, p.xyz);\n}\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if ((kill > 0.0) ||\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\n\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);n.createShader=function(e){var t=r(e,o,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t.attributes.normal.location=2,t},n.createPickShader=function(e){var t=r(e,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t.attributes.normal.location=2,t},n.createContourShader=function(e){var t=r(e,s,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t},n.createPickContourShader=function(e){var t=r(e,s,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t}},{"gl-shader":150,glslify:251}],163:[function(e,t,n){arguments[4][55][0].apply(n,arguments)},{dup:55}],164:[function(e,t,n){"use strict";t.exports=function(e){var t=e.gl,n=y(t),r=x(t),s=b(t),l=_(t),u=i(t),c=o(t,[{buffer:u,size:4,stride:w,offset:0},{buffer:u,size:3,stride:w,offset:16},{buffer:u,size:3,stride:w,offset:28}]),f=i(t),d=o(t,[{buffer:f,size:4,stride:20,offset:0},{buffer:f,size:1,stride:20,offset:16}]),h=i(t),p=o(t,[{buffer:h,size:2,type:t.FLOAT}]),m=a(t,1,E,t.RGBA,t.UNSIGNED_BYTE);m.minFilter=t.LINEAR,m.magFilter=t.LINEAR;var g=new A(t,[0,0],[[0,0,0],[0,0,0]],n,r,u,c,m,s,l,f,d,h,p,[0,0,0]),v={levels:[[],[],[]]};for(var k in e)v[k]=e[k];return v.colormap=v.colormap||"jet",g.update(v),g};var r=e("bit-twiddle"),i=e("gl-buffer"),o=e("gl-vao"),a=e("gl-texture2d"),s=e("typedarray-pool"),l=e("colormap"),u=e("ndarray-ops"),c=e("ndarray-pack"),f=e("ndarray"),d=e("surface-nets"),h=e("gl-mat4/multiply"),p=e("gl-mat4/invert"),m=e("binary-search-bounds"),g=e("ndarray-gradient"),v=e("./lib/shaders"),y=v.createShader,b=v.createContourShader,x=v.createPickShader,_=v.createPickContourShader,w=40,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],M=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],T=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function S(e,t,n,r,i){this.position=e,this.index=t,this.uv=n,this.level=r,this.dataCoordinate=i}!function(){for(var e=0;e<3;++e){var t=T[e],n=(e+2)%3;t[(e+1)%3+0]=1,t[n+3]=1,t[e+6]=1}}();var E=256;function A(e,t,n,r,i,o,a,l,u,c,d,h,p,m,g){this.gl=e,this.shape=t,this.bounds=n,this.objectOffset=g,this.intensityBounds=[],this._shader=r,this._pickShader=i,this._coordinateBuffer=o,this._vao=a,this._colorMap=l,this._contourShader=u,this._contourPickShader=c,this._contourBuffer=d,this._contourVAO=h,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new S([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=p,this._dynamicVAO=m,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[f(s.mallocFloat(1024),[0,0]),f(s.mallocFloat(1024),[0,0]),f(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var O=A.prototype;O.isTransparent=function(){return this.opacity<1},O.isOpaque=function(){if(this.opacity>=1)return!0;for(var e=0;e<3;++e)if(this._contourCounts[e].length>0||this._dynamicCounts[e]>0)return!0;return!1},O.pickSlots=1,O.setPickBase=function(e){this.pickId=e};var C=[0,0,0],N={showSurface:!1,showContour:!1,projections:[k.slice(),k.slice(),k.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function D(e,t){var n,r,i,o=t.axes&&t.axes.lastCubeProps.axis||C,a=t.showSurface,s=t.showContour;for(n=0;n<3;++n)for(a=a||t.surfaceProject[n],r=0;r<3;++r)s=s||t.contourProject[n][r];for(n=0;n<3;++n){var l=N.projections[n];for(r=0;r<16;++r)l[r]=0;for(r=0;r<4;++r)l[5*r]=1;l[5*n]=0,l[12+n]=t.axesBounds[+(o[n]>0)][n],h(l,e.model,l);var u=N.clipBounds[n];for(i=0;i<2;++i)for(r=0;r<3;++r)u[i][r]=e.clipBounds[i][r];u[0][n]=-1e8,u[1][n]=1e8}return N.showSurface=a,N.showContour=s,N}var P={model:k,view:k,projection:k,inverseModel:k.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},R=k.slice(),L=[1,0,0,0,1,0,0,0,1];function I(e,t){e=e||{};var n=this.gl;n.disable(n.CULL_FACE),this._colorMap.bind(0);var r=P;r.model=e.model||k,r.view=e.view||k,r.projection=e.projection||k,r.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],r.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],r.objectOffset=this.objectOffset,r.contourColor=this.contourColor[0],r.inverseModel=p(r.inverseModel,r.model);for(var i=0;i<2;++i)for(var o=r.clipBounds[i],a=0;a<3;++a)o[a]=Math.min(Math.max(this.clipBounds[i][a],-1e8),1e8);r.kambient=this.ambientLight,r.kdiffuse=this.diffuseLight,r.kspecular=this.specularLight,r.roughness=this.roughness,r.fresnel=this.fresnel,r.opacity=this.opacity,r.height=0,r.permutation=L,r.vertexColor=this.vertexColor;var s=R;for(h(s,r.view,r.model),h(s,r.projection,s),p(s,s),i=0;i<3;++i)r.eyePosition[i]=s[12+i]/s[15];var l=s[15];for(i=0;i<3;++i)l+=this.lightPosition[i]*s[4*i+3];for(i=0;i<3;++i){var u=s[12+i];for(a=0;a<3;++a)u+=s[4*a+i]*this.lightPosition[a];r.lightPosition[i]=u/l}var c=D(r,this);if(c.showSurface&&t===this.opacity<1){for(this._shader.bind(),this._shader.uniforms=r,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(n.TRIANGLES,this._vertexCount),i=0;i<3;++i)this.surfaceProject[i]&&this.vertexCount&&(this._shader.uniforms.model=c.projections[i],this._shader.uniforms.clipBounds=c.clipBounds[i],this._vao.draw(n.TRIANGLES,this._vertexCount));this._vao.unbind()}if(c.showContour&&!t){var f=this._contourShader;r.kambient=1,r.kdiffuse=0,r.kspecular=0,r.opacity=1,f.bind(),f.uniforms=r;var d=this._contourVAO;for(d.bind(),i=0;i<3;++i)for(f.uniforms.permutation=T[i],n.lineWidth(this.contourWidth[i]*this.pixelRatio),a=0;a<this.contourLevels[i].length;++a)a===this.highlightLevel[i]?(f.uniforms.contourColor=this.highlightColor[i],f.uniforms.contourTint=this.highlightTint[i]):0!==a&&a-1!==this.highlightLevel[i]||(f.uniforms.contourColor=this.contourColor[i],f.uniforms.contourTint=this.contourTint[i]),this._contourCounts[i][a]&&(f.uniforms.height=this.contourLevels[i][a],d.draw(n.LINES,this._contourCounts[i][a],this._contourOffsets[i][a]));for(i=0;i<3;++i)for(f.uniforms.model=c.projections[i],f.uniforms.clipBounds=c.clipBounds[i],a=0;a<3;++a)if(this.contourProject[i][a]){f.uniforms.permutation=T[a],n.lineWidth(this.contourWidth[a]*this.pixelRatio);for(var m=0;m<this.contourLevels[a].length;++m)m===this.highlightLevel[a]?(f.uniforms.contourColor=this.highlightColor[a],f.uniforms.contourTint=this.highlightTint[a]):0!==m&&m-1!==this.highlightLevel[a]||(f.uniforms.contourColor=this.contourColor[a],f.uniforms.contourTint=this.contourTint[a]),this._contourCounts[a][m]&&(f.uniforms.height=this.contourLevels[a][m],d.draw(n.LINES,this._contourCounts[a][m],this._contourOffsets[a][m]))}for(d.unbind(),(d=this._dynamicVAO).bind(),i=0;i<3;++i)if(0!==this._dynamicCounts[i])for(f.uniforms.model=r.model,f.uniforms.clipBounds=r.clipBounds,f.uniforms.permutation=T[i],n.lineWidth(this.dynamicWidth[i]*this.pixelRatio),f.uniforms.contourColor=this.dynamicColor[i],f.uniforms.contourTint=this.dynamicTint[i],f.uniforms.height=this.dynamicLevel[i],d.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),a=0;a<3;++a)this.contourProject[a][i]&&(f.uniforms.model=c.projections[a],f.uniforms.clipBounds=c.clipBounds[a],d.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));d.unbind()}}O.draw=function(e){return I.call(this,e,!1)},O.drawTransparent=function(e){return I.call(this,e,!0)};var j={model:k,view:k,projection:k,inverseModel:k,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function z(e,t){return Array.isArray(e)?[t(e[0]),t(e[1]),t(e[2])]:[t(e),t(e),t(e)]}function F(e){return Array.isArray(e)?3===e.length?[e[0],e[1],e[2],1]:[e[0],e[1],e[2],e[3]]:[0,0,0,1]}function B(e){if(Array.isArray(e)){if(Array.isArray(e))return[F(e[0]),F(e[1]),F(e[2])];var t=F(e);return[t.slice(),t.slice(),t.slice()]}}O.drawPick=function(e){e=e||{};var t=this.gl;t.disable(t.CULL_FACE);var n=j;n.model=e.model||k,n.view=e.view||k,n.projection=e.projection||k,n.shape=this._field[2].shape,n.pickId=this.pickId/255,n.lowerBound=this.bounds[0],n.upperBound=this.bounds[1],n.objectOffset=this.objectOffset,n.permutation=L;for(var r=0;r<2;++r)for(var i=n.clipBounds[r],o=0;o<3;++o)i[o]=Math.min(Math.max(this.clipBounds[r][o],-1e8),1e8);var a=D(n,this);if(a.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=n,this._vao.bind(),this._vao.draw(t.TRIANGLES,this._vertexCount),r=0;r<3;++r)this.surfaceProject[r]&&(this._pickShader.uniforms.model=a.projections[r],this._pickShader.uniforms.clipBounds=a.clipBounds[r],this._vao.draw(t.TRIANGLES,this._vertexCount));this._vao.unbind()}if(a.showContour){var s=this._contourPickShader;s.bind(),s.uniforms=n;var l=this._contourVAO;for(l.bind(),o=0;o<3;++o)for(t.lineWidth(this.contourWidth[o]*this.pixelRatio),s.uniforms.permutation=T[o],r=0;r<this.contourLevels[o].length;++r)this._contourCounts[o][r]&&(s.uniforms.height=this.contourLevels[o][r],l.draw(t.LINES,this._contourCounts[o][r],this._contourOffsets[o][r]));for(r=0;r<3;++r)for(s.uniforms.model=a.projections[r],s.uniforms.clipBounds=a.clipBounds[r],o=0;o<3;++o)if(this.contourProject[r][o]){s.uniforms.permutation=T[o],t.lineWidth(this.contourWidth[o]*this.pixelRatio);for(var u=0;u<this.contourLevels[o].length;++u)this._contourCounts[o][u]&&(s.uniforms.height=this.contourLevels[o][u],l.draw(t.LINES,this._contourCounts[o][u],this._contourOffsets[o][u]))}l.unbind()}},O.pick=function(e){if(!e)return null;if(e.id!==this.pickId)return null;var t=this._field[2].shape,n=this._pickResult,r=t[0]*(e.value[0]+(e.value[2]>>4)/16)/255,i=Math.floor(r),o=r-i,a=t[1]*(e.value[1]+(15&e.value[2])/16)/255,s=Math.floor(a),l=a-s;i+=1,s+=1;var u=n.position;u[0]=u[1]=u[2]=0;for(var c=0;c<2;++c)for(var f=c?o:1-o,d=0;d<2;++d)for(var h=i+c,p=s+d,g=f*(d?l:1-l),v=0;v<3;++v)u[v]+=this._field[v].get(h,p)*g;for(var y=this._pickResult.level,b=0;b<3;++b)if(y[b]=m.le(this.contourLevels[b],u[b]),y[b]<0)this.contourLevels[b].length>0&&(y[b]=0);else if(y[b]<this.contourLevels[b].length-1){var x=this.contourLevels[b][y[b]],_=this.contourLevels[b][y[b]+1];Math.abs(x-u[b])>Math.abs(_-u[b])&&(y[b]+=1)}for(n.index[0]=o<.5?i:i+1,n.index[1]=l<.5?s:s+1,n.uv[0]=r/t[0],n.uv[1]=a/t[1],v=0;v<3;++v)n.dataCoordinate[v]=this._field[v].get(n.index[0],n.index[1]);return n},O.padField=function(e,t){var n=t.shape.slice(),r=e.shape.slice();u.assign(e.lo(1,1).hi(n[0],n[1]),t),u.assign(e.lo(1).hi(n[0],1),t.hi(n[0],1)),u.assign(e.lo(1,r[1]-1).hi(n[0],1),t.lo(0,n[1]-1).hi(n[0],1)),u.assign(e.lo(0,1).hi(1,n[1]),t.hi(1)),u.assign(e.lo(r[0]-1,1).hi(1,n[1]),t.lo(n[0]-1)),e.set(0,0,t.get(0,0)),e.set(0,r[1]-1,t.get(0,n[1]-1)),e.set(r[0]-1,0,t.get(n[0]-1,0)),e.set(r[0]-1,r[1]-1,t.get(n[0]-1,n[1]-1))},O.update=function(e){e=e||{},this.objectOffset=e.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in e&&(this.contourWidth=z(e.contourWidth,Number)),"showContour"in e&&(this.showContour=z(e.showContour,Boolean)),"showSurface"in e&&(this.showSurface=!!e.showSurface),"contourTint"in e&&(this.contourTint=z(e.contourTint,Boolean)),"contourColor"in e&&(this.contourColor=B(e.contourColor)),"contourProject"in e&&(this.contourProject=z(e.contourProject,(function(e){return z(e,Boolean)}))),"surfaceProject"in e&&(this.surfaceProject=e.surfaceProject),"dynamicColor"in e&&(this.dynamicColor=B(e.dynamicColor)),"dynamicTint"in e&&(this.dynamicTint=z(e.dynamicTint,Number)),"dynamicWidth"in e&&(this.dynamicWidth=z(e.dynamicWidth,Number)),"opacity"in e&&(this.opacity=e.opacity),"colorBounds"in e&&(this.colorBounds=e.colorBounds),"vertexColor"in e&&(this.vertexColor=e.vertexColor?1:0);var t=e.field||e.coords&&e.coords[2]||null,n=!1;if(t||(t=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in e||"coords"in e){var i=(t.shape[0]+2)*(t.shape[1]+2);i>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(r.nextPow2(i))),this._field[2]=f(this._field[2].data,[t.shape[0]+2,t.shape[1]+2]),this.padField(this._field[2],t),this.shape=t.shape.slice();for(var o=this.shape,a=0;a<2;++a)this._field[2].size>this._field[a].data.length&&(s.freeFloat(this._field[a].data),this._field[a].data=s.mallocFloat(this._field[2].size)),this._field[a]=f(this._field[a].data,[o[0]+2,o[1]+2]);if(e.coords){var h=e.coords;if(!Array.isArray(h)||3!==h.length)throw new Error("gl-surface: invalid coordinates for x/y");for(a=0;a<2;++a){var p=h[a];for(x=0;x<2;++x)if(p.shape[x]!==o[x])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[a],p)}}else if(e.ticks){var m=e.ticks;if(!Array.isArray(m)||2!==m.length)throw new Error("gl-surface: invalid ticks");for(a=0;a<2;++a){var v=m[a];if((Array.isArray(v)||v.length)&&(v=f(v)),v.shape[0]!==o[a])throw new Error("gl-surface: invalid tick length");var y=f(v.data,o);y.stride[a]=v.stride[0],y.stride[1^a]=0,this.padField(this._field[a],y)}}else{for(a=0;a<2;++a){var b=[0,0];b[a]=1,this._field[a]=f(this._field[a].data,[o[0]+2,o[1]+2],b,0)}this._field[0].set(0,0,0);for(var x=0;x<o[0];++x)this._field[0].set(x+1,0,x);for(this._field[0].set(o[0]+1,0,o[0]-1),this._field[1].set(0,0,0),x=0;x<o[1];++x)this._field[1].set(0,x+1,x);this._field[1].set(0,o[1]+1,o[1]-1)}var _=this._field,w=f(s.mallocFloat(3*_[2].size*2),[3,o[0]+2,o[1]+2,2]);for(a=0;a<3;++a)g(w.pick(a),_[a],"mirror");var k=f(s.mallocFloat(3*_[2].size),[o[0]+2,o[1]+2,3]);for(a=0;a<o[0]+2;++a)for(x=0;x<o[1]+2;++x){var T=w.get(0,a,x,0),S=w.get(0,a,x,1),A=w.get(1,a,x,0),O=w.get(1,a,x,1),C=w.get(2,a,x,0),N=w.get(2,a,x,1),D=A*N-O*C,P=C*S-N*T,R=T*O-S*A,L=Math.sqrt(D*D+P*P+R*R);L<1e-8?(L=Math.max(Math.abs(D),Math.abs(P),Math.abs(R)))<1e-8?(R=1,P=D=0,L=1):L=1/L:L=1/Math.sqrt(L),k.set(a,x,0,D*L),k.set(a,x,1,P*L),k.set(a,x,2,R*L)}s.free(w.data);var I=[1/0,1/0,1/0],j=[-1/0,-1/0,-1/0],F=1/0,U=-1/0,H=(o[0]-1)*(o[1]-1)*6,q=s.mallocFloat(r.nextPow2(10*H)),V=0,W=0;for(a=0;a<o[0]-1;++a)e:for(x=0;x<o[1]-1;++x){for(var Y=0;Y<2;++Y)for(var G=0;G<2;++G)for(var X=0;X<3;++X){var $=this._field[X].get(1+a+Y,1+x+G);if(isNaN($)||!isFinite($))continue e}for(X=0;X<6;++X){var Z=a+M[X][0],K=x+M[X][1],J=this._field[0].get(Z+1,K+1),Q=this._field[1].get(Z+1,K+1);$=this._field[2].get(Z+1,K+1),D=k.get(Z+1,K+1,0),P=k.get(Z+1,K+1,1),R=k.get(Z+1,K+1,2),e.intensity&&(ee=e.intensity.get(Z,K));var ee=e.intensity?e.intensity.get(Z,K):$+this.objectOffset[2];q[V++]=Z,q[V++]=K,q[V++]=J,q[V++]=Q,q[V++]=$,q[V++]=0,q[V++]=ee,q[V++]=D,q[V++]=P,q[V++]=R,I[0]=Math.min(I[0],J+this.objectOffset[0]),I[1]=Math.min(I[1],Q+this.objectOffset[1]),I[2]=Math.min(I[2],$+this.objectOffset[2]),F=Math.min(F,ee),j[0]=Math.max(j[0],J+this.objectOffset[0]),j[1]=Math.max(j[1],Q+this.objectOffset[1]),j[2]=Math.max(j[2],$+this.objectOffset[2]),U=Math.max(U,ee),W+=1}}for(e.intensityBounds&&(F=+e.intensityBounds[0],U=+e.intensityBounds[1]),a=6;a<V;a+=10)q[a]=(q[a]-F)/(U-F);this._vertexCount=W,this._coordinateBuffer.update(q.subarray(0,V)),s.freeFloat(q),s.free(k.data),this.bounds=[I,j],this.intensity=e.intensity||this._field[2],this.intensityBounds[0]===F&&this.intensityBounds[1]===U||(n=!0),this.intensityBounds=[F,U]}if("levels"in e){var te=e.levels;for(te=Array.isArray(te[0])?te.slice():[[],[],te],a=0;a<3;++a)te[a]=te[a].slice(),te[a].sort((function(e,t){return e-t}));for(a=0;a<3;++a)for(x=0;x<te[a].length;++x)te[a][x]-=this.objectOffset[a];e:for(a=0;a<3;++a){if(te[a].length!==this.contourLevels[a].length){n=!0;break}for(x=0;x<te[a].length;++x)if(te[a][x]!==this.contourLevels[a][x]){n=!0;break e}}this.contourLevels=te}if(n){_=this._field,o=this.shape;for(var ne=[],re=0;re<3;++re){var ie=this.contourLevels[re],oe=[],ae=[],se=[0,0,0];for(a=0;a<ie.length;++a){var le=d(this._field[re],ie[a]);oe.push(ne.length/5|0),W=0;e:for(x=0;x<le.cells.length;++x){var ue=le.cells[x];for(X=0;X<2;++X){var ce=le.positions[ue[X]],fe=ce[0],de=0|Math.floor(fe),he=fe-de,pe=ce[1],me=0|Math.floor(pe),ge=pe-me,ve=!1;t:for(var ye=0;ye<3;++ye){se[ye]=0;var be=(re+ye+1)%3;for(Y=0;Y<2;++Y){var xe=Y?he:1-he;for(Z=0|Math.min(Math.max(de+Y,0),o[0]),G=0;G<2;++G){var _e=G?ge:1-ge;if(K=0|Math.min(Math.max(me+G,0),o[1]),$=ye<2?this._field[be].get(Z,K):(this.intensity.get(Z,K)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite($)||isNaN($)){ve=!0;break t}var we=xe*_e;se[ye]+=we*$}}}if(ve){if(X>0){for(var ke=0;ke<5;++ke)ne.pop();W-=1}continue e}ne.push(se[0],se[1],ce[0],ce[1],se[2]),W+=1}}ae.push(W)}this._contourOffsets[re]=oe,this._contourCounts[re]=ae}var Me=s.mallocFloat(ne.length);for(a=0;a<ne.length;++a)Me[a]=ne[a];this._contourBuffer.update(Me),s.freeFloat(Me)}e.colormap&&this._colorMap.setPixels(function(e){var t=c([l({colormap:e,nshades:E,format:"rgba"}).map((function(e){return[e[0],e[1],e[2],255*e[3]]}))]);return u.divseq(t,255),t}(e.colormap))},O.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var e=0;e<3;++e)s.freeFloat(this._field[e].data)},O.highlight=function(e){var t,n;if(!e)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(t=0;t<3;++t)this.enableHighlight[t]?this.highlightLevel[t]=e.level[t]:this.highlightLevel[t]=-1;for(n=this.snapToData?e.dataCoordinate:e.position,t=0;t<3;++t)n[t]-=this.objectOffset[t];if(this.enableDynamic[0]&&n[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&n[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&n[2]!==this.dynamicLevel[2]){for(var r=0,i=this.shape,o=s.mallocFloat(12*i[0]*i[1]),a=0;a<3;++a)if(this.enableDynamic[a]){this.dynamicLevel[a]=n[a];var l=(a+1)%3,u=(a+2)%3,c=this._field[a],f=this._field[l],h=this._field[u],p=d(c,n[a]),m=p.cells,g=p.positions;for(this._dynamicOffsets[a]=r,t=0;t<m.length;++t)for(var v=m[t],y=0;y<2;++y){var b=g[v[y]],x=+b[0],_=0|x,w=0|Math.min(_+1,i[0]),k=x-_,M=1-k,T=+b[1],S=0|T,E=0|Math.min(S+1,i[1]),A=T-S,O=1-A,C=M*O,N=M*A,D=k*O,P=k*A,R=C*f.get(_,S)+N*f.get(_,E)+D*f.get(w,S)+P*f.get(w,E),L=C*h.get(_,S)+N*h.get(_,E)+D*h.get(w,S)+P*h.get(w,E);if(isNaN(R)||isNaN(L)){y&&(r-=1);break}o[2*r+0]=R,o[2*r+1]=L,r+=1}this._dynamicCounts[a]=r-this._dynamicOffsets[a]}else this.dynamicLevel[a]=NaN,this._dynamicCounts[a]=0;this._dynamicBuffer.update(o.subarray(0,2*r)),s.freeFloat(o)}}},{"./lib/shaders":162,"binary-search-bounds":163,"bit-twiddle":37,colormap:69,"gl-buffer":104,"gl-mat4/invert":125,"gl-mat4/multiply":127,"gl-texture2d":165,"gl-vao":169,ndarray:287,"ndarray-gradient":278,"ndarray-ops":281,"ndarray-pack":282,"surface-nets":342,"typedarray-pool":349}],165:[function(e,t,n){"use strict";var r=e("ndarray"),i=e("ndarray-ops"),o=e("typedarray-pool");t.exports=function(e){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(a||function(e){a=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],s=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],l=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}(e),"number"==typeof arguments[1])return g(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return g(e,0|arguments[1][0],0|arguments[1][1],arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var t=arguments[1],n=u(t)?t:t.raw;if(n)return function(e,t,n,r,i,o){var a=m(e);return e.texImage2D(e.TEXTURE_2D,0,i,i,o,t),new d(e,a,n,r,i,o)}(e,n,0|t.width,0|t.height,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return function(e,t){var n=t.dtype,a=t.shape.slice(),s=e.getParameter(e.MAX_TEXTURE_SIZE);if(a[0]<0||a[0]>s||a[1]<0||a[1]>s)throw new Error("gl-texture2d: Invalid texture size");var l=p(a,t.stride.slice()),u=0;"float32"===n?u=e.FLOAT:"float64"===n?(u=e.FLOAT,l=!1,n="float32"):"uint8"===n?u=e.UNSIGNED_BYTE:(u=e.UNSIGNED_BYTE,l=!1,n="uint8");var f,h,g=0;if(2===a.length)g=e.LUMINANCE,a=[a[0],a[1],1],t=r(t.data,a,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==a.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===a[2])g=e.ALPHA;else if(2===a[2])g=e.LUMINANCE_ALPHA;else if(3===a[2])g=e.RGB;else{if(4!==a[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=e.RGBA}}u!==e.FLOAT||e.getExtension("OES_texture_float")||(u=e.UNSIGNED_BYTE,l=!1);var v=t.size;if(l)f=0===t.offset&&t.data.length===v?t.data:t.data.subarray(t.offset,t.offset+v);else{var y=[a[2],a[2]*a[0],1];h=o.malloc(v,n);var b=r(h,a,y,0);"float32"!==n&&"float64"!==n||u!==e.UNSIGNED_BYTE?i.assign(b,t):c(b,t),f=h.subarray(0,v)}var x=m(e);return e.texImage2D(e.TEXTURE_2D,0,g,a[0],a[1],0,g,u,f),l||o.free(h),new d(e,x,a[0],a[1],g,u)}(e,t)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,s=null,l=null;function u(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&e instanceof ImageData}var c=function(e,t){i.muls(e,t,255)};function f(e,t,n){var r=e.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(t<0||t>i||n<0||n>i)throw new Error("gl-texture2d: Invalid texture size");return e._shape=[t,n],e.bind(),r.texImage2D(r.TEXTURE_2D,0,e.format,t,n,0,e.format,e.type,null),e._mipLevels=[0],e}function d(e,t,n,r,i,o){this.gl=e,this.handle=t,this.format=i,this.type=o,this._shape=[n,r],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(e){return a.wrapS=e}},{get:function(){return a._wrapT},set:function(e){return a.wrapT=e}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return a._shape[0]},set:function(e){return a.width=e}},{get:function(){return a._shape[1]},set:function(e){return a.height=e}}]),this._shapeVector=l}var h=d.prototype;function p(e,t){return 3===e.length?1===t[2]&&t[1]===e[0]*e[2]&&t[0]===e[2]:1===t[0]&&t[1]===e[0]}function m(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function g(e,t,n,r,i){var o=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>o||n<0||n>o)throw new Error("gl-texture2d: Invalid texture shape");if(i===e.FLOAT&&!e.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var a=m(e);return e.texImage2D(e.TEXTURE_2D,0,r,t,n,0,r,i,null),new d(e,a,t,n,r,i)}Object.defineProperties(h,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&a.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&a.indexOf(e)>=0&&(t.getExtension("OES_texture_float_linear")||(e=t.NEAREST)),s.indexOf(e)<0)throw new Error("gl-texture2d: Unknown filter mode "+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=0|Math.max(e,1),t!==this._anisoSamples){var n=this.gl.getExtension("EXT_texture_filter_anisotropic");n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),l.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),l.indexOf(e)<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),2!==e.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var t=0;t<2;++t)if(l.indexOf(e[t])<0)throw new Error("gl-texture2d: Unknown wrap mode "+e);this._wrapS=e[0],this._wrapT=e[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(Array.isArray(e)){if(2!==e.length)throw new Error("gl-texture2d: Invalid texture shape")}else e=[0|e,0|e];return f(this,0|e[0],0|e[1]),[0|e[0],0|e[1]]}},width:{get:function(){return this._shape[0]},set:function(e){return f(this,e|=0,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e|=0,f(this,this._shape[0],e),e}}}),h.bind=function(e){var t=this.gl;return void 0!==e&&t.activeTexture(t.TEXTURE0+(0|e)),t.bindTexture(t.TEXTURE_2D,this.handle),void 0!==e?0|e:t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0},h.dispose=function(){this.gl.deleteTexture(this.handle)},h.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},h.setPixels=function(e,t,n,a){var s=this.gl;this.bind(),Array.isArray(t)?(a=n,n=0|t[1],t=0|t[0]):(t=t||0,n=n||0),a=a||0;var l=u(e)?e:e.raw;if(l)this._mipLevels.indexOf(a)<0?(s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,this.type,l),this._mipLevels.push(a)):s.texSubImage2D(s.TEXTURE_2D,a,t,n,this.format,this.type,l);else{if(!(e.shape&&e.stride&&e.data))throw new Error("gl-texture2d: Unsupported data type");if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>a||n+e.shape[0]>this._shape[0]>>>a||t<0||n<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(e,t,n,a,s,l,u,f){var d=f.dtype,h=f.shape.slice();if(h.length<2||h.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var m=0,g=0,v=p(h,f.stride.slice());if("float32"===d?m=e.FLOAT:"float64"===d?(m=e.FLOAT,v=!1,d="float32"):"uint8"===d?m=e.UNSIGNED_BYTE:(m=e.UNSIGNED_BYTE,v=!1,d="uint8"),2===h.length)g=e.LUMINANCE,h=[h[0],h[1],1],f=r(f.data,h,[f.stride[0],f.stride[1],1],f.offset);else{if(3!==h.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===h[2])g=e.ALPHA;else if(2===h[2])g=e.LUMINANCE_ALPHA;else if(3===h[2])g=e.RGB;else{if(4!==h[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=e.RGBA}h[2]}if(g!==e.LUMINANCE&&g!==e.ALPHA||s!==e.LUMINANCE&&s!==e.ALPHA||(g=s),g!==s)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var y=f.size,b=u.indexOf(a)<0;if(b&&u.push(a),m===l&&v)0===f.offset&&f.data.length===y?b?e.texImage2D(e.TEXTURE_2D,a,s,h[0],h[1],0,s,l,f.data):e.texSubImage2D(e.TEXTURE_2D,a,t,n,h[0],h[1],s,l,f.data):b?e.texImage2D(e.TEXTURE_2D,a,s,h[0],h[1],0,s,l,f.data.subarray(f.offset,f.offset+y)):e.texSubImage2D(e.TEXTURE_2D,a,t,n,h[0],h[1],s,l,f.data.subarray(f.offset,f.offset+y));else{var x;x=l===e.FLOAT?o.mallocFloat32(y):o.mallocUint8(y);var _=r(x,h,[h[2],h[2]*h[0],1]);m===e.FLOAT&&l===e.UNSIGNED_BYTE?c(_,f):i.assign(_,f),b?e.texImage2D(e.TEXTURE_2D,a,s,h[0],h[1],0,s,l,x.subarray(0,y)):e.texSubImage2D(e.TEXTURE_2D,a,t,n,h[0],h[1],s,l,x.subarray(0,y)),l===e.FLOAT?o.freeFloat32(x):o.freeUint8(x)}}(s,t,n,a,this.format,this.type,this._mipLevels,e)}}},{ndarray:287,"ndarray-ops":281,"typedarray-pool":349}],166:[function(e,t,n){"use strict";t.exports=function(e,t,n){t?t.bind():e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);var r=0|e.getParameter(e.MAX_VERTEX_ATTRIBS);if(n){if(n.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<n.length;++i){var o=n[i];if(o.buffer){var a=o.buffer,s=o.size||4,l=o.type||e.FLOAT,u=!!o.normalized,c=o.stride||0,f=o.offset||0;a.bind(),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,s,l,u,c,f)}else{if("number"==typeof o)e.vertexAttrib1f(i,o);else if(1===o.length)e.vertexAttrib1f(i,o[0]);else if(2===o.length)e.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)e.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");e.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}e.disableVertexAttribArray(i)}}for(;i<r;++i)e.disableVertexAttribArray(i)}else for(e.bindBuffer(e.ARRAY_BUFFER,null),i=0;i<r;++i)e.disableVertexAttribArray(i)}},{}],167:[function(e,t,n){"use strict";var r=e("./do-bind.js");function i(e){this.gl=e,this._elements=null,this._attributes=null,this._elementsType=e.UNSIGNED_SHORT}i.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},i.prototype.update=function(e,t,n){this._elements=t,this._attributes=e,this._elementsType=n||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(e,t,n){n=n||0;var r=this.gl;this._elements?r.drawElements(e,t,this._elementsType,n):r.drawArrays(e,n,t)},t.exports=function(e){return new i(e)}},{"./do-bind.js":166}],168:[function(e,t,n){"use strict";var r=e("./do-bind.js");function i(e,t,n,r,i,o){this.location=e,this.dimension=t,this.a=n,this.b=r,this.c=i,this.d=o}function o(e,t,n){this.gl=e,this._ext=t,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=e.UNSIGNED_SHORT}i.prototype.bind=function(e){switch(this.dimension){case 1:e.vertexAttrib1f(this.location,this.a);break;case 2:e.vertexAttrib2f(this.location,this.a,this.b);break;case 3:e.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:e.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var e=0;e<this._attribs.length;++e)this._attribs[e].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(e,t,n){if(this.bind(),r(this.gl,t,e),this.unbind(),this._attribs.length=0,e)for(var o=0;o<e.length;++o){var a=e[o];"number"==typeof a?this._attribs.push(new i(o,1,a)):Array.isArray(a)&&this._attribs.push(new i(o,a.length,a[0],a[1],a[2],a[3]))}this._useElements=!!t,this._elementsType=n||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(e,t,n){n=n||0;var r=this.gl;this._useElements?r.drawElements(e,t,this._elementsType,n):r.drawArrays(e,n,t)},t.exports=function(e,t){return new o(e,t,t.createVertexArrayOES())}},{"./do-bind.js":166}],169:[function(e,t,n){"use strict";var r=e("./lib/vao-native.js"),i=e("./lib/vao-emulated.js");function o(e){this.bindVertexArrayOES=e.bindVertexArray.bind(e),this.createVertexArrayOES=e.createVertexArray.bind(e),this.deleteVertexArrayOES=e.deleteVertexArray.bind(e)}t.exports=function(e,t,n,a){var s,l=e.createVertexArray?new o(e):e.getExtension("OES_vertex_array_object");return(s=l?r(e,l):i(e)).update(t,n,a),s}},{"./lib/vao-emulated.js":167,"./lib/vao-native.js":168}],170:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}},{}],171:[function(e,t,n){t.exports=function(e,t){var n=r(e[0],e[1],e[2]),a=r(t[0],t[1],t[2]);i(n,n),i(a,a);var s=o(n,a);return s>1?0:Math.acos(s)};var r=e("./fromValues"),i=e("./normalize"),o=e("./dot")},{"./dot":181,"./fromValues":187,"./normalize":198}],172:[function(e,t,n){t.exports=function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}},{}],173:[function(e,t,n){t.exports=function(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},{}],174:[function(e,t,n){t.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},{}],175:[function(e,t,n){t.exports=function(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}},{}],176:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}},{}],177:[function(e,t,n){t.exports=e("./distance")},{"./distance":178}],178:[function(e,t,n){t.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}},{}],179:[function(e,t,n){t.exports=e("./divide")},{"./divide":180}],180:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}},{}],181:[function(e,t,n){t.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},{}],182:[function(e,t,n){t.exports=1e-6},{}],183:[function(e,t,n){t.exports=function(e,t){var n=e[0],i=e[1],o=e[2],a=t[0],s=t[1],l=t[2];return Math.abs(n-a)<=r*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=r*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-l)<=r*Math.max(1,Math.abs(o),Math.abs(l))};var r=e("./epsilon")},{"./epsilon":182}],184:[function(e,t,n){t.exports=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}},{}],185:[function(e,t,n){t.exports=function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}},{}],186:[function(e,t,n){t.exports=function(e,t,n,i,o,a){var s,l;for(t||(t=3),n||(n=0),l=i?Math.min(i*t+n,e.length):e.length,s=n;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],o(r,r,a),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e};var r=e("./create")()},{"./create":175}],187:[function(e,t,n){t.exports=function(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}},{}],188:[function(e,t,n){t.exports={EPSILON:e("./epsilon"),create:e("./create"),clone:e("./clone"),angle:e("./angle"),fromValues:e("./fromValues"),copy:e("./copy"),set:e("./set"),equals:e("./equals"),exactEquals:e("./exactEquals"),add:e("./add"),subtract:e("./subtract"),sub:e("./sub"),multiply:e("./multiply"),mul:e("./mul"),divide:e("./divide"),div:e("./div"),min:e("./min"),max:e("./max"),floor:e("./floor"),ceil:e("./ceil"),round:e("./round"),scale:e("./scale"),scaleAndAdd:e("./scaleAndAdd"),distance:e("./distance"),dist:e("./dist"),squaredDistance:e("./squaredDistance"),sqrDist:e("./sqrDist"),length:e("./length"),len:e("./len"),squaredLength:e("./squaredLength"),sqrLen:e("./sqrLen"),negate:e("./negate"),inverse:e("./inverse"),normalize:e("./normalize"),dot:e("./dot"),cross:e("./cross"),lerp:e("./lerp"),random:e("./random"),transformMat4:e("./transformMat4"),transformMat3:e("./transformMat3"),transformQuat:e("./transformQuat"),rotateX:e("./rotateX"),rotateY:e("./rotateY"),rotateZ:e("./rotateZ"),forEach:e("./forEach")}},{"./add":170,"./angle":171,"./ceil":172,"./clone":173,"./copy":174,"./create":175,"./cross":176,"./dist":177,"./distance":178,"./div":179,"./divide":180,"./dot":181,"./epsilon":182,"./equals":183,"./exactEquals":184,"./floor":185,"./forEach":186,"./fromValues":187,"./inverse":189,"./len":190,"./length":191,"./lerp":192,"./max":193,"./min":194,"./mul":195,"./multiply":196,"./negate":197,"./normalize":198,"./random":199,"./rotateX":200,"./rotateY":201,"./rotateZ":202,"./round":203,"./scale":204,"./scaleAndAdd":205,"./set":206,"./sqrDist":207,"./sqrLen":208,"./squaredDistance":209,"./squaredLength":210,"./sub":211,"./subtract":212,"./transformMat3":213,"./transformMat4":214,"./transformQuat":215}],189:[function(e,t,n){t.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}},{}],190:[function(e,t,n){t.exports=e("./length")},{"./length":191}],191:[function(e,t,n){t.exports=function(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}},{}],192:[function(e,t,n){t.exports=function(e,t,n,r){var i=t[0],o=t[1],a=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e}},{}],193:[function(e,t,n){t.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}},{}],194:[function(e,t,n){t.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}},{}],195:[function(e,t,n){t.exports=e("./multiply")},{"./multiply":196}],196:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}},{}],197:[function(e,t,n){t.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}},{}],198:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}},{}],199:[function(e,t,n){t.exports=function(e,t){t=t||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e}},{}],200:[function(e,t,n){t.exports=function(e,t,n,r){var i=n[1],o=n[2],a=t[1]-i,s=t[2]-o,l=Math.sin(r),u=Math.cos(r);return e[0]=t[0],e[1]=i+a*u-s*l,e[2]=o+a*l+s*u,e}},{}],201:[function(e,t,n){t.exports=function(e,t,n,r){var i=n[0],o=n[2],a=t[0]-i,s=t[2]-o,l=Math.sin(r),u=Math.cos(r);return e[0]=i+s*l+a*u,e[1]=t[1],e[2]=o+s*u-a*l,e}},{}],202:[function(e,t,n){t.exports=function(e,t,n,r){var i=n[0],o=n[1],a=t[0]-i,s=t[1]-o,l=Math.sin(r),u=Math.cos(r);return e[0]=i+a*u-s*l,e[1]=o+a*l+s*u,e[2]=t[2],e}},{}],203:[function(e,t,n){t.exports=function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}},{}],204:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}},{}],205:[function(e,t,n){t.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}},{}],206:[function(e,t,n){t.exports=function(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}},{}],207:[function(e,t,n){t.exports=e("./squaredDistance")},{"./squaredDistance":209}],208:[function(e,t,n){t.exports=e("./squaredLength")},{"./squaredLength":210}],209:[function(e,t,n){t.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}},{}],210:[function(e,t,n){t.exports=function(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}},{}],211:[function(e,t,n){t.exports=e("./subtract")},{"./subtract":212}],212:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}},{}],213:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}},{}],214:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}},{}],215:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*o-l*i,f=u*i+l*r-a*o,d=u*o+a*i-s*r,h=-a*r-s*i-l*o;return e[0]=c*u+h*-a+f*-l-d*-s,e[1]=f*u+h*-s+d*-a-c*-l,e[2]=d*u+h*-l+c*-s-f*-a,e}},{}],216:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}},{}],217:[function(e,t,n){t.exports=function(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},{}],218:[function(e,t,n){t.exports=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},{}],219:[function(e,t,n){t.exports=function(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}},{}],220:[function(e,t,n){t.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+o*o)}},{}],221:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}},{}],222:[function(e,t,n){t.exports=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}},{}],223:[function(e,t,n){t.exports=function(e,t,n,r){var i=new Float32Array(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}},{}],224:[function(e,t,n){t.exports={create:e("./create"),clone:e("./clone"),fromValues:e("./fromValues"),copy:e("./copy"),set:e("./set"),add:e("./add"),subtract:e("./subtract"),multiply:e("./multiply"),divide:e("./divide"),min:e("./min"),max:e("./max"),scale:e("./scale"),scaleAndAdd:e("./scaleAndAdd"),distance:e("./distance"),squaredDistance:e("./squaredDistance"),length:e("./length"),squaredLength:e("./squaredLength"),negate:e("./negate"),inverse:e("./inverse"),normalize:e("./normalize"),dot:e("./dot"),lerp:e("./lerp"),random:e("./random"),transformMat4:e("./transformMat4"),transformQuat:e("./transformQuat")}},{"./add":216,"./clone":217,"./copy":218,"./create":219,"./distance":220,"./divide":221,"./dot":222,"./fromValues":223,"./inverse":225,"./length":226,"./lerp":227,"./max":228,"./min":229,"./multiply":230,"./negate":231,"./normalize":232,"./random":233,"./scale":234,"./scaleAndAdd":235,"./set":236,"./squaredDistance":237,"./squaredLength":238,"./subtract":239,"./transformMat4":240,"./transformQuat":241}],225:[function(e,t,n){t.exports=function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}},{}],226:[function(e,t,n){t.exports=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}},{}],227:[function(e,t,n){t.exports=function(e,t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=a+r*(n[2]-a),e[3]=s+r*(n[3]-s),e}},{}],228:[function(e,t,n){t.exports=function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}},{}],229:[function(e,t,n){t.exports=function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}},{}],230:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}},{}],231:[function(e,t,n){t.exports=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}},{}],232:[function(e,t,n){t.exports=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*n+r*r+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),e[0]=n*a,e[1]=r*a,e[2]=i*a,e[3]=o*a),e}},{}],233:[function(e,t,n){var r=e("./normalize"),i=e("./scale");t.exports=function(e,t){return t=t||1,e[0]=Math.random(),e[1]=Math.random(),e[2]=Math.random(),e[3]=Math.random(),r(e,e),i(e,e,t),e}},{"./normalize":232,"./scale":234}],234:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}},{}],235:[function(e,t,n){t.exports=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}},{}],236:[function(e,t,n){t.exports=function(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}},{}],237:[function(e,t,n){t.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+i*i+o*o}},{}],238:[function(e,t,n){t.exports=function(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}},{}],239:[function(e,t,n){t.exports=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}},{}],240:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}},{}],241:[function(e,t,n){t.exports=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2],u=n[3],c=u*r+s*o-l*i,f=u*i+l*r-a*o,d=u*o+a*i-s*r,h=-a*r-s*i-l*o;return e[0]=c*u+h*-a+f*-l-d*-s,e[1]=f*u+h*-s+d*-a-c*-l,e[2]=d*u+h*-l+c*-s-f*-a,e[3]=t[3],e}},{}],242:[function(e,t,n){t.exports=function(e,t,n,o){return r[0]=o,r[1]=n,r[2]=t,r[3]=e,i[0]};var r=new Uint8Array(4),i=new Float32Array(r.buffer)},{}],243:[function(e,t,n){var r=e("glsl-tokenizer"),i=e("atob-lite");t.exports=function(e){for(var t=Array.isArray(e)?e:r(e),n=0;n<t.length;n++){var o=t[n];if("preprocessor"===o.type){var a=o.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],l=a[2];return(s?i(l):l).trim()}}}}},{"atob-lite":17,"glsl-tokenizer":250}],244:[function(e,t,n){t.exports=function(e){var t,n,k,M=0,T=0,S=l,E=[],A=[],O=1,C=0,N=0,D=!1,P=!1,R="",L=o,I=r;return"300 es"===(e=e||{}).version&&(L=s,I=a),function(e){return A=[],null!==e?function(e){var n;for(M=0,k=(R+=e).length;t=R[M],M<k;){switch(n=M,S){case c:M=U();break;case f:case d:M=B();break;case h:M=H();break;case p:M=W();break;case _:M=V();break;case m:M=Y();break;case u:M=G();break;case b:M=F();break;case l:M=z()}if(n!==M)switch(R[n]){case"\n":C=0,++O;break;default:++C}}return T+=M,R=R.slice(M),A}(e.replace?e.replace(/\r\n/g,"\n"):e):(E.length&&j(E.join("")),S=x,j("(eof)"),A)};function j(e){e.length&&A.push({type:w[S],data:e,position:N,line:O,column:C})}function z(){return E=E.length?[]:E,"/"===n&&"*"===t?(N=T+M-1,S=c,n=t,M+1):"/"===n&&"/"===t?(N=T+M-1,S=f,n=t,M+1):"#"===t?(S=d,N=T+M,M):/\s/.test(t)?(S=b,N=T+M,M):(D=/\d/.test(t),P=/[^\w_]/.test(t),N=T+M,S=D?p:P?h:u,M)}function F(){return/[^\s]/g.test(t)?(j(E.join("")),S=l,M):(E.push(t),n=t,M+1)}function B(){return"\r"!==t&&"\n"!==t||"\\"===n?(E.push(t),n=t,M+1):(j(E.join("")),S=l,M)}function U(){return"/"===t&&"*"===n?(E.push(t),j(E.join("")),S=l,M+1):(E.push(t),n=t,M+1)}function H(){if("."===n&&/\d/.test(t))return S=m,M;if("/"===n&&"*"===t)return S=c,M;if("/"===n&&"/"===t)return S=f,M;if("."===t&&E.length){for(;q(E););return S=m,M}if(";"===t||")"===t||"("===t){if(E.length)for(;q(E););return j(t),S=l,M+1}var e=2===E.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;q(E););return S=l,M}return E.push(t),n=t,M+1}function q(e){for(var t,n,r=0;;){if(t=i.indexOf(e.slice(0,e.length+r).join("")),n=i[t],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return j(n),N+=n.length,(E=E.slice(n.length)).length}}function V(){return/[^a-fA-F0-9]/.test(t)?(j(E.join("")),S=l,M):(E.push(t),n=t,M+1)}function W(){return"."===t?(E.push(t),S=m,n=t,M+1):/[eE]/.test(t)?(E.push(t),S=m,n=t,M+1):"x"===t&&1===E.length&&"0"===E[0]?(S=_,E.push(t),n=t,M+1):/[^\d]/.test(t)?(j(E.join("")),S=l,M):(E.push(t),n=t,M+1)}function Y(){return"f"===t&&(E.push(t),n=t,M+=1),/[eE]/.test(t)?(E.push(t),n=t,M+1):"-"===t&&/[eE]/.test(n)?(E.push(t),n=t,M+1):/[^\d]/.test(t)?(j(E.join("")),S=l,M):(E.push(t),n=t,M+1)}function G(){if(/[^\d\w_]/.test(t)){var e=E.join("");return S=I.indexOf(e)>-1?y:L.indexOf(e)>-1?v:g,j(E.join("")),S=l,M}return E.push(t),n=t,M+1}};var r=e("./lib/literals"),i=e("./lib/operators"),o=e("./lib/builtins"),a=e("./lib/literals-300es"),s=e("./lib/builtins-300es"),l=999,u=9999,c=0,f=1,d=2,h=3,p=4,m=5,g=6,v=7,y=8,b=9,x=10,_=11,w=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},{"./lib/builtins":246,"./lib/builtins-300es":245,"./lib/literals":248,"./lib/literals-300es":247,"./lib/operators":249}],245:[function(e,t,n){var r=e("./builtins");r=r.slice().filter((function(e){return!/^(gl\_|texture)/.test(e)})),t.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},{"./builtins":246}],246:[function(e,t,n){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},{}],247:[function(e,t,n){var r=e("./literals");t.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},{"./literals":248}],248:[function(e,t,n){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},{}],249:[function(e,t,n){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},{}],250:[function(e,t,n){var r=e("./index");t.exports=function(e,t){var n=r(t),i=[];return(i=i.concat(n(e))).concat(n(null))}},{"./index":244}],251:[function(e,t,n){t.exports=function(e){"string"==typeof e&&(e=[e]);for(var t=[].slice.call(arguments,1),n=[],r=0;r<e.length-1;r++)n.push(e[r],t[r]||"");return n.push(e[r]),n.join("")}},{}],252:[function(e,n,r){(function(t){"use strict";var r,i=e("is-browser");r="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:i,n.exports=r}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":259}],253:[function(e,t,n){"use strict";var r=e("is-browser");t.exports=r&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return e}()},{"is-browser":259}],254:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*m}},{}],255:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.length;if(0===n)throw new Error("Must have at least d+1 points");var i=e[0].length;if(n<=i)throw new Error("Must input at least d+1 points");var a=e.slice(0,i+1),s=r.apply(void 0,a);if(0===s)throw new Error("Input not in general position");for(var l=new Array(i+1),c=0;c<=i;++c)l[c]=c;s<0&&(l[0]=1,l[1]=0);var f=new o(l,new Array(i+1),!1),d=f.adjacent,h=new Array(i+2);for(c=0;c<=i;++c){for(var p=l.slice(),m=0;m<=i;++m)m===c&&(p[m]=-1);var g=p[0];p[0]=p[1],p[1]=g;var v=new o(p,new Array(i+1),!0);d[c]=v,h[c]=v}for(h[i+1]=f,c=0;c<=i;++c){p=d[c].vertices;var y=d[c].adjacent;for(m=0;m<=i;++m){var b=p[m];if(b<0)y[m]=f;else for(var x=0;x<=i;++x)d[x].vertices.indexOf(b)<0&&(y[m]=d[x])}}var _=new u(i,a,h),w=!!t;for(c=i+1;c<n;++c)_.insert(e[c],w);return _.boundary()};var r=e("robust-orientation"),i=e("simplicial-complex").compareCells;function o(e,t,n){this.vertices=e,this.adjacent=t,this.boundary=n,this.lastVisited=-1}function a(e,t,n){this.vertices=e,this.cell=t,this.index=n}function s(e,t){return i(e.vertices,t.vertices)}o.prototype.flip=function(){var e=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=e;var t=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=t};var l=[];function u(e,t,n){this.dimension=e,this.vertices=t,this.simplices=n,this.interior=n.filter((function(e){return!e.boundary})),this.tuple=new Array(e+1);for(var i=0;i<=e;++i)this.tuple[i]=this.vertices[i];var o=l[e];o||(o=l[e]=function(e){for(var t=["function orient(){var tuple=this.tuple;return test("],n=0;n<=e;++n)n>0&&t.push(","),t.push("tuple[",n,"]");t.push(")}return orient");var i=new Function("test",t.join("")),o=r[e+1];return o||(o=r),i(o)}(e)),this.orient=o}var c=u.prototype;c.handleBoundaryDegeneracy=function(e,t){var n=this.dimension,r=this.vertices.length-1,i=this.tuple,o=this.vertices,a=[e];for(e.lastVisited=-r;a.length>0;){(e=a.pop()).vertices;for(var s=e.adjacent,l=0;l<=n;++l){var u=s[l];if(u.boundary&&!(u.lastVisited<=-r)){for(var c=u.vertices,f=0;f<=n;++f){var d=c[f];i[f]=d<0?t:o[d]}var h=this.orient();if(h>0)return u;u.lastVisited=-r,0===h&&a.push(u)}}}return null},c.walk=function(e,t){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,o=this.tuple,a=t?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[a];e:for(;!s.boundary;){for(var l=s.vertices,u=s.adjacent,c=0;c<=r;++c)o[c]=i[l[c]];for(s.lastVisited=n,c=0;c<=r;++c){var f=u[c];if(!(f.lastVisited>=n)){var d=o[c];o[c]=e;var h=this.orient();if(o[c]=d,h<0){s=f;continue e}f.boundary?f.lastVisited=-n:f.lastVisited=n}}return}return s},c.addPeaks=function(e,t){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,l=this.tuple,u=this.interior,c=this.simplices,f=[t];t.lastVisited=n,t.vertices[t.vertices.indexOf(-1)]=n,t.boundary=!1,u.push(t);for(var d=[];f.length>0;){var h=(t=f.pop()).vertices,p=t.adjacent,m=h.indexOf(n);if(!(m<0))for(var g=0;g<=r;++g)if(g!==m){var v=p[g];if(v.boundary&&!(v.lastVisited>=n)){var y=v.vertices;if(v.lastVisited!==-n){for(var b=0,x=0;x<=r;++x)y[x]<0?(b=x,l[x]=e):l[x]=i[y[x]];if(this.orient()>0){y[b]=n,v.boundary=!1,u.push(v),f.push(v),v.lastVisited=n;continue}v.lastVisited=-n}var _=v.adjacent,w=h.slice(),k=p.slice(),M=new o(w,k,!0);c.push(M);var T=_.indexOf(t);if(!(T<0))for(_[T]=M,k[m]=v,w[g]=-1,k[g]=t,p[g]=M,M.flip(),x=0;x<=r;++x){var S=w[x];if(!(S<0||S===n)){for(var E=new Array(r-1),A=0,O=0;O<=r;++O){var C=w[O];C<0||O===x||(E[A++]=C)}d.push(new a(E,M,x))}}}}}for(d.sort(s),g=0;g+1<d.length;g+=2){var N=d[g],D=d[g+1],P=N.index,R=D.index;P<0||R<0||(N.cell.adjacent[N.index]=D.cell,D.cell.adjacent[D.index]=N.cell)}},c.insert=function(e,t){var n=this.vertices;n.push(e);var r=this.walk(e,t);if(r){for(var i=this.dimension,o=this.tuple,a=0;a<=i;++a){var s=r.vertices[a];o[a]=s<0?e:n[s]}var l=this.orient(o);l<0||(0!==l||(r=this.handleBoundaryDegeneracy(r,e)))&&this.addPeaks(e,r)}},c.boundary=function(){for(var e=this.dimension,t=[],n=this.simplices,r=n.length,i=0;i<r;++i){var o=n[i];if(o.boundary){for(var a=new Array(e),s=o.vertices,l=0,u=0,c=0;c<=e;++c)s[c]>=0?a[l++]=s[c]:u=1&c;if(u===(1&e)){var f=a[0];a[0]=a[1],a[1]=f}t.push(a)}}return t}},{"robust-orientation":323,"simplicial-complex":333}],256:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),i=0,o=1;function a(e,t,n,r,i){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(t?t.count:0)+(n?n.count:0)+r.length}t.exports=function(e){return e&&0!==e.length?new b(y(e)):new b(null)};var s=a.prototype;function l(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function u(e,t){var n=y(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function c(e,t){var n=e.intervals([]);n.push(t),u(e,n)}function f(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?i:(n.splice(r,1),u(e,n),o)}function d(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var i=n(e[r]);if(i)return i}}function h(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var i=n(e[r]);if(i)return i}}function p(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function m(e,t){return e-t}function g(e,t){return e[0]-t[0]||e[1]-t[1]}function v(e,t){return e[1]-t[1]||e[0]-t[0]}function y(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(m);var r=t[t.length>>1],i=[],o=[],s=[];for(n=0;n<e.length;++n){var l=e[n];l[1]<r?i.push(l):r<l[0]?o.push(l):s.push(l)}var u=s,c=s.slice();return u.sort(g),c.sort(v),new a(r,y(i),y(o),u,c)}function b(e){this.root=e}s.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},s.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?c(this,e):this.left.insert(e):this.left=y([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?c(this,e):this.right.insert(e):this.right=y([e]);else{var n=r.ge(this.leftPoints,e,g),i=r.ge(this.rightPoints,e,v);this.leftPoints.splice(n,0,e),this.rightPoints.splice(i,0,e)}},s.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?f(this,e):2===(u=this.left.remove(e))?(this.left=null,this.count-=1,o):(u===o&&(this.count-=1),u):i;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?f(this,e):2===(u=this.right.remove(e))?(this.right=null,this.count-=1,o):(u===o&&(this.count-=1),u):i;if(1===this.count)return this.leftPoints[0]===e?2:i;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,a=this.left;a.right;)n=a,a=a.right;if(n===this)a.right=this.right;else{var s=this.left,u=this.right;n.count-=a.count,n.right=a.left,a.left=s,a.right=u}l(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?l(this,this.left):l(this,this.right);return o}for(s=r.ge(this.leftPoints,e,g);s<this.leftPoints.length&&this.leftPoints[s][0]===e[0];++s)if(this.leftPoints[s]===e)for(this.count-=1,this.leftPoints.splice(s,1),u=r.ge(this.rightPoints,e,v);u<this.rightPoints.length&&this.rightPoints[u][1]===e[1];++u)if(this.rightPoints[u]===e)return this.rightPoints.splice(u,1),o;return i},s.queryPoint=function(e,t){return e<this.mid?this.left&&(n=this.left.queryPoint(e,t))?n:d(this.leftPoints,e,t):e>this.mid?this.right&&(n=this.right.queryPoint(e,t))?n:h(this.rightPoints,e,t):p(this.leftPoints,t);var n},s.queryInterval=function(e,t,n){var r;return e<this.mid&&this.left&&(r=this.left.queryInterval(e,t,n))?r:t>this.mid&&this.right&&(r=this.right.queryInterval(e,t,n))?r:t<this.mid?d(this.leftPoints,t,n):e>this.mid?h(this.rightPoints,e,n):p(this.leftPoints,n)};var x=b.prototype;x.insert=function(e){this.root?this.root.insert(e):this.root=new a(e[0],null,null,[e],[e])},x.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==i}return!1},x.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},x.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(x,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(x,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},{"binary-search-bounds":36}],257:[function(e,t,n){"use strict";t.exports=function(e,t){t=t||new Array(e.length);for(var n=0;n<e.length;++n)t[e[n]]=n;return t}},{}],258:[function(e,t,n){"use strict";t.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},{}],259:[function(e,t,n){t.exports=!0},{}],260:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],261:[function(e,t,n){"use strict";t.exports=o,t.exports.isMobile=o,t.exports.default=o;var r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function o(e){e||(e={});var t=e.ua;return t||"undefined"==typeof navigator||(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"==typeof t&&(e.tablet?i.test(t):r.test(t))}},{}],262:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t;return"[object Object]"===r.call(e)&&(null===(t=Object.getPrototypeOf(e))||t===Object.getPrototypeOf({}))}},{}],263:[function(e,t,n){"use strict";t.exports=function(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}},{}],264:[function(e,t,n){t.exports=function(e,t,n){return e*(1-n)+t*n}},{}],265:[function(e,t,n){"use strict";t.exports=function(e){for(var t=1<<e+1,n=new Array(t),r=0;r<t;++r)n[r]=o(e,r);return n};var r=e("convex-hull");function i(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=0,i===t&&(r[i]+=.5),i===n&&(r[i]+=.5);return r}function o(e,t){if(0===t||t===(1<<e+1)-1)return[];for(var n=[],o=[],a=0;a<=e;++a)if(t&1<<a){n.push(i(e,a-1,a-1)),o.push(null);for(var s=0;s<=e;++s)~t&1<<s&&(n.push(i(e,a-1,s-1)),o.push([a,s]))}var l=r(n),u=[];e:for(a=0;a<l.length;++a){var c=l[a],f=[];for(s=0;s<c.length;++s){if(!o[c[s]])continue e;f.push(o[c[s]].slice())}u.push(f)}return u}},{"convex-hull":73}],266:[function(e,t,n){var r=e("./normalize"),i=e("gl-mat4/create"),o=e("gl-mat4/clone"),a=e("gl-mat4/determinant"),s=e("gl-mat4/invert"),l=e("gl-mat4/transpose"),u={length:e("gl-vec3/length"),normalize:e("gl-vec3/normalize"),dot:e("gl-vec3/dot"),cross:e("gl-vec3/cross")},c=i(),f=i(),d=[0,0,0,0],h=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];function m(e,t,n,r,i){e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i}t.exports=function(e,t,n,i,g,v){if(t||(t=[0,0,0]),n||(n=[0,0,0]),i||(i=[0,0,0]),g||(g=[0,0,0,1]),v||(v=[0,0,0,1]),!r(c,e))return!1;if(o(f,c),f[3]=0,f[7]=0,f[11]=0,f[15]=1,Math.abs(a(f)<1e-8))return!1;var y,b,x,_,w,k,M,T=c[3],S=c[7],E=c[11],A=c[12],O=c[13],C=c[14],N=c[15];if(0!==T||0!==S||0!==E){if(d[0]=T,d[1]=S,d[2]=E,d[3]=N,!s(f,f))return!1;l(f,f),y=g,x=f,_=(b=d)[0],w=b[1],k=b[2],M=b[3],y[0]=x[0]*_+x[4]*w+x[8]*k+x[12]*M,y[1]=x[1]*_+x[5]*w+x[9]*k+x[13]*M,y[2]=x[2]*_+x[6]*w+x[10]*k+x[14]*M,y[3]=x[3]*_+x[7]*w+x[11]*k+x[15]*M}else g[0]=g[1]=g[2]=0,g[3]=1;if(t[0]=A,t[1]=O,t[2]=C,function(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}(h,c),n[0]=u.length(h[0]),u.normalize(h[0],h[0]),i[0]=u.dot(h[0],h[1]),m(h[1],h[1],h[0],1,-i[0]),n[1]=u.length(h[1]),u.normalize(h[1],h[1]),i[0]/=n[1],i[1]=u.dot(h[0],h[2]),m(h[2],h[2],h[0],1,-i[1]),i[2]=u.dot(h[1],h[2]),m(h[2],h[2],h[1],1,-i[2]),n[2]=u.length(h[2]),u.normalize(h[2],h[2]),i[1]/=n[2],i[2]/=n[2],u.cross(p,h[1],h[2]),u.dot(h[0],p)<0)for(var D=0;D<3;D++)n[D]*=-1,h[D][0]*=-1,h[D][1]*=-1,h[D][2]*=-1;return v[0]=.5*Math.sqrt(Math.max(1+h[0][0]-h[1][1]-h[2][2],0)),v[1]=.5*Math.sqrt(Math.max(1-h[0][0]+h[1][1]-h[2][2],0)),v[2]=.5*Math.sqrt(Math.max(1-h[0][0]-h[1][1]+h[2][2],0)),v[3]=.5*Math.sqrt(Math.max(1+h[0][0]+h[1][1]+h[2][2],0)),h[2][1]>h[1][2]&&(v[0]=-v[0]),h[0][2]>h[2][0]&&(v[1]=-v[1]),h[1][0]>h[0][1]&&(v[2]=-v[2]),!0}},{"./normalize":267,"gl-mat4/clone":119,"gl-mat4/create":120,"gl-mat4/determinant":121,"gl-mat4/invert":125,"gl-mat4/transpose":136,"gl-vec3/cross":176,"gl-vec3/dot":181,"gl-vec3/length":191,"gl-vec3/normalize":198}],267:[function(e,t,n){t.exports=function(e,t){var n=t[15];if(0===n)return!1;for(var r=1/n,i=0;i<16;i++)e[i]=t[i]*r;return!0}},{}],268:[function(e,t,n){var r=e("gl-vec3/lerp"),i=e("mat4-recompose"),o=e("mat4-decompose"),a=e("gl-mat4/determinant"),s=e("quat-slerp"),l=f(),u=f(),c=f();function f(){return{translate:d(),scale:d(1),skew:d(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function d(e){return[e||0,e||0,e||0]}t.exports=function(e,t,n,f){if(0===a(t)||0===a(n))return!1;var d=o(t,l.translate,l.scale,l.skew,l.perspective,l.quaternion),h=o(n,u.translate,u.scale,u.skew,u.perspective,u.quaternion);return!(!d||!h||(r(c.translate,l.translate,u.translate,f),r(c.skew,l.skew,u.skew,f),r(c.scale,l.scale,u.scale,f),r(c.perspective,l.perspective,u.perspective,f),s(c.quaternion,l.quaternion,u.quaternion,f),i(e,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},{"gl-mat4/determinant":121,"gl-vec3/lerp":192,"mat4-decompose":266,"mat4-recompose":269,"quat-slerp":310}],269:[function(e,t,n){var r={identity:e("gl-mat4/identity"),translate:e("gl-mat4/translate"),multiply:e("gl-mat4/multiply"),create:e("gl-mat4/create"),scale:e("gl-mat4/scale"),fromRotationTranslation:e("gl-mat4/fromRotationTranslation")},i=(r.create(),r.create());t.exports=function(e,t,n,o,a,s){return r.identity(e),r.fromRotationTranslation(e,s,t),e[3]=a[0],e[7]=a[1],e[11]=a[2],e[15]=a[3],r.identity(i),0!==o[2]&&(i[9]=o[2],r.multiply(e,e,i)),0!==o[1]&&(i[9]=0,i[8]=o[1],r.multiply(e,e,i)),0!==o[0]&&(i[8]=0,i[4]=o[0],r.multiply(e,e,i)),r.scale(e,e,n),e}},{"gl-mat4/create":120,"gl-mat4/fromRotationTranslation":123,"gl-mat4/identity":124,"gl-mat4/multiply":127,"gl-mat4/scale":134,"gl-mat4/translate":135}],270:[function(e,t,n){"use strict";var r=e("binary-search-bounds"),i=e("mat4-interpolate"),o=e("gl-mat4/invert"),a=e("gl-mat4/rotateX"),s=e("gl-mat4/rotateY"),l=e("gl-mat4/rotateZ"),u=e("gl-mat4/lookAt"),c=e("gl-mat4/translate"),f=(e("gl-mat4/scale"),e("gl-vec3/normalize")),d=[0,0,0];function h(e){this._components=e.slice(),this._time=[0],this.prevMatrix=e.slice(),this.nextMatrix=e.slice(),this.computedMatrix=e.slice(),this.computedInverse=e.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}t.exports=function(e){return new h((e=e||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var p=h.prototype;p.recalcMatrix=function(e){var t=this._time,n=r.le(t,e),a=this.computedMatrix;if(!(n<0)){var s=this._components;if(n===t.length-1)for(var l=16*n,u=0;u<16;++u)a[u]=s[l++];else{var c=t[n+1]-t[n],d=(l=16*n,this.prevMatrix),h=!0;for(u=0;u<16;++u)d[u]=s[l++];var p=this.nextMatrix;for(u=0;u<16;++u)p[u]=s[l++],h=h&&d[u]===p[u];if(c<1e-6||h)for(u=0;u<16;++u)a[u]=d[u];else i(a,d,p,(e-t[n])/c)}var m=this.computedUp;m[0]=a[1],m[1]=a[5],m[2]=a[9],f(m,m);var g=this.computedInverse;o(g,a);var v=this.computedEye,y=g[15];v[0]=g[12]/y,v[1]=g[13]/y,v[2]=g[14]/y;var b=this.computedCenter,x=Math.exp(this.computedRadius[0]);for(u=0;u<3;++u)b[u]=v[u]-a[2+4*u]*x}},p.idle=function(e){if(!(e<this.lastT())){for(var t=this._components,n=t.length-16,r=0;r<16;++r)t.push(t[n++]);this._time.push(e)}},p.flush=function(e){var t=r.gt(this._time,e)-2;t<0||(this._time.splice(0,t),this._components.splice(0,16*t))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(e,t,n,r){this.recalcMatrix(e),t=t||this.computedEye,n=n||d,r=r||this.computedUp,this.setMatrix(e,u(this.computedMatrix,t,n,r));for(var i=0,o=0;o<3;++o)i+=Math.pow(n[o]-t[o],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},p.rotate=function(e,t,n,r){this.recalcMatrix(e);var i=this.computedInverse;t&&s(i,i,t),n&&a(i,i,n),r&&l(i,i,r),this.setMatrix(e,o(this.computedMatrix,i))};var m=[0,0,0];p.pan=function(e,t,n,r){m[0]=-(t||0),m[1]=-(n||0),m[2]=-(r||0),this.recalcMatrix(e);var i=this.computedInverse;c(i,i,m),this.setMatrix(e,o(i,i))},p.translate=function(e,t,n,r){m[0]=t||0,m[1]=n||0,m[2]=r||0,this.recalcMatrix(e);var i=this.computedMatrix;c(i,i,m),this.setMatrix(e,i)},p.setMatrix=function(e,t){if(!(e<this.lastT())){this._time.push(e);for(var n=0;n<16;++n)this._components.push(t[n])}},p.setDistance=function(e,t){this.computedRadius[0]=t},p.setDistanceLimits=function(e,t){var n=this._limits;n[0]=e,n[1]=t},p.getDistanceLimits=function(e){var t=this._limits;return e?(e[0]=t[0],e[1]=t[1],e):t}},{"binary-search-bounds":36,"gl-mat4/invert":125,"gl-mat4/lookAt":126,"gl-mat4/rotateX":131,"gl-mat4/rotateY":132,"gl-mat4/rotateZ":133,"gl-mat4/scale":134,"gl-mat4/translate":135,"gl-vec3/normalize":198,"mat4-interpolate":268}],271:[function(e,t,n){"use strict";t.exports=function(e){var t=e.length;if(t<3){for(var n=new Array(t),i=0;i<t;++i)n[i]=i;return 2===t&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}var o=new Array(t);for(i=0;i<t;++i)o[i]=i;o.sort((function(t,n){return e[t][0]-e[n][0]||e[t][1]-e[n][1]}));var a=[o[0],o[1]],s=[o[0],o[1]];for(i=2;i<t;++i){for(var l=o[i],u=e[l],c=a.length;c>1&&r(e[a[c-2]],e[a[c-1]],u)<=0;)c-=1,a.pop();for(a.push(l),c=s.length;c>1&&r(e[s[c-2]],e[s[c-1]],u)>=0;)c-=1,s.pop();s.push(l)}n=new Array(s.length+a.length-2);for(var f=0,d=(i=0,a.length);i<d;++i)n[f++]=a[i];for(var h=s.length-2;h>0;--h)n[f++]=s[h];return n};var r=e("robust-orientation")[3]},{"robust-orientation":323}],272:[function(e,t,n){"use strict";t.exports=function(e,t){t||(t=e,e=window);var n=0,i=0,o=0,a={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function l(e){var t=!1;return"altKey"in e&&(t=t||e.altKey!==a.alt,a.alt=!!e.altKey),"shiftKey"in e&&(t=t||e.shiftKey!==a.shift,a.shift=!!e.shiftKey),"ctrlKey"in e&&(t=t||e.ctrlKey!==a.control,a.control=!!e.ctrlKey),"metaKey"in e&&(t=t||e.metaKey!==a.meta,a.meta=!!e.metaKey),t}function u(e,s){var u=r.x(s),c=r.y(s);"buttons"in s&&(e=0|s.buttons),(e!==n||u!==i||c!==o||l(s))&&(n=0|e,i=u||0,o=c||0,t&&t(n,i,o,a))}function c(e){u(0,e)}function f(){(n||i||o||a.shift||a.alt||a.meta||a.control)&&(i=o=0,n=0,a.shift=a.alt=a.control=a.meta=!1,t&&t(0,0,0,a))}function d(e){l(e)&&t&&t(n,i,o,a)}function h(e){0===r.buttons(e)?u(0,e):u(n,e)}function p(e){u(n|r.buttons(e),e)}function m(e){u(n&~r.buttons(e),e)}function g(){s||(s=!0,e.addEventListener("mousemove",h),e.addEventListener("mousedown",p),e.addEventListener("mouseup",m),e.addEventListener("mouseleave",c),e.addEventListener("mouseenter",c),e.addEventListener("mouseout",c),e.addEventListener("mouseover",c),e.addEventListener("blur",f),e.addEventListener("keyup",d),e.addEventListener("keydown",d),e.addEventListener("keypress",d),e!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",d),window.addEventListener("keydown",d),window.addEventListener("keypress",d)))}g();var v={element:e};return Object.defineProperties(v,{enabled:{get:function(){return s},set:function(t){t?g():s&&(s=!1,e.removeEventListener("mousemove",h),e.removeEventListener("mousedown",p),e.removeEventListener("mouseup",m),e.removeEventListener("mouseleave",c),e.removeEventListener("mouseenter",c),e.removeEventListener("mouseout",c),e.removeEventListener("mouseover",c),e.removeEventListener("blur",f),e.removeEventListener("keyup",d),e.removeEventListener("keydown",d),e.removeEventListener("keypress",d),e!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",d),window.removeEventListener("keydown",d),window.removeEventListener("keypress",d)))},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return o},enumerable:!0},mods:{get:function(){return a},enumerable:!0}}),v};var r=e("mouse-event")},{"mouse-event":274}],273:[function(e,t,n){var r={left:0,top:0};t.exports=function(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var i,o=e.clientX||0,a=e.clientY||0,s=(i=t)===window||i===document||i===document.body?r:i.getBoundingClientRect();return n[0]=o-s.left,n[1]=a-s.top,n}},{}],274:[function(e,t,n){"use strict";function r(e){return e.target||e.srcElement||window}n.buttons=function(e){if("object"==typeof e){if("buttons"in e)return e.buttons;if("which"in e){if(2===(t=e.which))return 4;if(3===t)return 2;if(t>0)return 1<<t-1}else if("button"in e){var t;if(1===(t=e.button))return 4;if(2===t)return 2;if(t>=0)return 1<<t}}return 0},n.element=r,n.x=function(e){if("object"==typeof e){if("offsetX"in e)return e.offsetX;var t=r(e).getBoundingClientRect();return e.clientX-t.left}return 0},n.y=function(e){if("object"==typeof e){if("offsetY"in e)return e.offsetY;var t=r(e).getBoundingClientRect();return e.clientY-t.top}return 0}},{}],275:[function(e,t,n){"use strict";var r=e("to-px");t.exports=function(e,t,n){"function"==typeof e&&(n=!!t,t=e,e=window);var i=r("ex",e),o=function(e){n&&e.preventDefault();var r=e.deltaX||0,o=e.deltaY||0,a=e.deltaZ||0,s=1;switch(e.deltaMode){case 1:s=i;break;case 2:s=window.innerHeight}if(o*=s,a*=s,(r*=s)||o||a)return t(r,o,a,e)};return e.addEventListener("wheel",o),o}},{"to-px":344}],276:[function(e,t,n){"use strict";var r=e("typedarray-pool");function i(e){return"a"+e}function o(e){return"d"+e}function a(e,t){return"c"+e+"_"+t}function s(e){return"s"+e}function l(e,t){return"t"+e+"_"+t}function u(e){return"o"+e}function c(e){return"x"+e}function f(e){return"p"+e}function d(e,t){return"d"+e+"_"+t}function h(e){return"i"+e}function p(e,t){return"u"+e+"_"+t}function m(e){return"b"+e}function g(e){return"y"+e}function v(e){return"e"+e}function y(e){return"v"+e}t.exports=function(e){function t(e){throw new Error("ndarray-extract-contour: "+e)}"object"!=typeof e&&t("Must specify arguments");var n=e.order;Array.isArray(n)||t("Must specify order");var S=e.arrayArguments||1;S<1&&t("Must have at least one array argument");var E=e.scalarArguments||0;E<0&&t("Scalar arg count must be > 0"),"function"!=typeof e.vertex&&t("Must specify vertex creation function"),"function"!=typeof e.cell&&t("Must specify cell creation function"),"function"!=typeof e.phase&&t("Must specify phase function");for(var A=e.getters||[],O=new Array(S),C=0;C<S;++C)A.indexOf(C)>=0?O[C]=!0:O[C]=!1;return function(e,t,n,S,E,A){var O=A.length,C=E.length;if(C<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var N="extractContour"+E.join("_"),D=[],P=[],R=[],L=0;L<O;++L)R.push(i(L));for(L=0;L<S;++L)R.push(c(L));for(L=0;L<C;++L)P.push(s(L)+"="+i(0)+".shape["+L+"]|0");for(L=0;L<O;++L){P.push(o(L)+"="+i(L)+".data",u(L)+"="+i(L)+".offset|0");for(var I=0;I<C;++I)P.push(l(L,I)+"="+i(L)+".stride["+I+"]|0")}for(L=0;L<O;++L)for(P.push(f(L)+"="+u(L)),P.push(a(L,0)),I=1;I<1<<C;++I){for(var j=[],z=0;z<C;++z)I&1<<z&&j.push("-"+l(L,z));P.push(d(L,I)+"=("+j.join("")+")|0"),P.push(a(L,I)+"=0")}for(L=0;L<O;++L)for(I=0;I<C;++I){var F=[l(L,E[I])];I>0&&F.push(l(L,E[I-1])+"*"+s(E[I-1])),P.push(p(L,E[I])+"=("+F.join("-")+")|0")}for(L=0;L<C;++L)P.push(h(L)+"=0");P.push(_+"=0");var B=["2"];for(L=C-2;L>=0;--L)B.push(s(E[L]));for(P.push(w+"=("+B.join("*")+")|0",x+"=mallocUint32("+w+")",b+"=mallocUint32("+w+")",k+"=0"),P.push(m(0)+"=0"),I=1;I<1<<C;++I){var U=[],H=[];for(z=0;z<C;++z)I&1<<z&&(0===H.length?U.push("1"):U.unshift(H.join("*"))),H.push(s(E[z]));var q="";U[0].indexOf(s(E[C-2]))<0&&(q="-");var V=T(C,I,E);P.push(v(V)+"=(-"+U.join("-")+")|0",g(V)+"=("+q+U.join("-")+")|0",m(V)+"=0")}function W(e,t){D.push("for(",h(E[e]),"=",t,";",h(E[e]),"<",s(E[e]),";","++",h(E[e]),"){")}function Y(e){for(var t=0;t<O;++t)D.push(f(t),"+=",p(t,E[e]),";");D.push("}")}function G(){for(var e=1;e<1<<C;++e)D.push(M,"=",v(e),";",v(e),"=",g(e),";",g(e),"=",M,";")}P.push(y(0)+"=0",M+"=0"),function e(t,n){if(t<0)!function(e){for(var t=0;t<O;++t)A[t]?D.push(a(t,0),"=",o(t),".get(",f(t),");"):D.push(a(t,0),"=",o(t),"[",f(t),"];");var n=[];for(t=0;t<O;++t)n.push(a(t,0));for(t=0;t<S;++t)n.push(c(t));D.push(m(0),"=",x,"[",k,"]=phase(",n.join(),");");for(var r=1;r<1<<C;++r)D.push(m(r),"=",x,"[",k,"+",v(r),"];");var i=[];for(r=1;r<1<<C;++r)i.push("("+m(0)+"!=="+m(r)+")");D.push("if(",i.join("||"),"){");var s=[];for(t=0;t<C;++t)s.push(h(t));for(t=0;t<O;++t)for(s.push(a(t,0)),r=1;r<1<<C;++r)A[t]?D.push(a(t,r),"=",o(t),".get(",f(t),"+",d(t,r),");"):D.push(a(t,r),"=",o(t),"[",f(t),"+",d(t,r),"];"),s.push(a(t,r));for(t=0;t<1<<C;++t)s.push(m(t));for(t=0;t<S;++t)s.push(c(t));D.push("vertex(",s.join(),");",y(0),"=",b,"[",k,"]=",_,"++;");var l=(1<<C)-1,u=m(l);for(r=0;r<C;++r)if(0==(e&~(1<<r))){for(var p=l^1<<r,g=m(p),w=[],M=p;M>0;M=M-1&p)w.push(b+"["+k+"+"+v(M)+"]");for(w.push(y(0)),M=0;M<O;++M)1&r?w.push(a(M,l),a(M,p)):w.push(a(M,p),a(M,l));for(1&r?w.push(u,g):w.push(g,u),M=0;M<S;++M)w.push(c(M));D.push("if(",u,"!==",g,"){","face(",w.join(),")}")}D.push("}",k,"+=1;")}(n);else{!function(e){for(var t=e-1;t>=0;--t)W(t,0);var n=[];for(t=0;t<O;++t)A[t]?n.push(o(t)+".get("+f(t)+")"):n.push(o(t)+"["+f(t)+"]");for(t=0;t<S;++t)n.push(c(t));for(D.push(x,"[",k,"++]=phase(",n.join(),");"),t=0;t<e;++t)Y(t);for(var r=0;r<O;++r)D.push(f(r),"+=",p(r,E[e]),";")}(t),D.push("if(",s(E[t]),">0){",h(E[t]),"=1;"),e(t-1,n|1<<E[t]);for(var r=0;r<O;++r)D.push(f(r),"+=",p(r,E[t]),";");t===C-1&&(D.push(k,"=0;"),G()),W(t,2),e(t-1,n),t===C-1&&(D.push("if(",h(E[C-1]),"&1){",k,"=0;}"),G()),Y(t),D.push("}")}}(C-1,0),D.push("freeUint32(",b,");freeUint32(",x,");");var X=["'use strict';","function ",N,"(",R.join(),"){","var ",P.join(),";",D.join(""),"}","return ",N].join("");return new Function("vertex","face","phase","mallocUint32","freeUint32",X)(e,t,n,r.mallocUint32,r.freeUint32)}(e.vertex,e.cell,e.phase,E,n,O)};var b="V",x="P",_="N",w="Q",k="X",M="T";function T(e,t,n){for(var r=0,i=0;i<e;++i)t&1<<i&&(r|=1<<n[i]);return r}},{"typedarray-pool":349}],277:[function(e,t,n){"use strict";var r=e("cwise/lib/wrapper")({args:["index","array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_37_arg1_=_inline_37_arg2_.apply(void 0,_inline_37_arg0_)}",args:[{name:"_inline_37_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_37_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});t.exports=function(e,t){return r(e,t),e}},{"cwise/lib/wrapper":81}],278:[function(e,t,n){"use strict";t.exports=function(e,t,n){if(Array.isArray(n)){if(n.length!==t.dimension)throw new Error("ndarray-gradient: invalid boundary conditions")}else n=r(t.dimension,"string"==typeof n?n:"clamp");if(e.dimension!==t.dimension+1)throw new Error("ndarray-gradient: output dimension must be +1 input dimension");if(e.shape[t.dimension]!==t.dimension)throw new Error("ndarray-gradient: output shape must match input shape");for(var i=0;i<t.dimension;++i)if(e.shape[i]!==t.shape[i])throw new Error("ndarray-gradient: shape mismatch");return 0===t.size?e:t.dimension<=0?(e.set(0),e):function(e){var t=e.join();if(v=a[t])return v;var n=e.length,r=["function gradient(dst,src){var s=src.shape.slice();"];function i(t){for(var i=n-t.length,o=[],a=[],s=[],l=0;l<n;++l)t.indexOf(l+1)>=0?s.push("0"):t.indexOf(-(l+1))>=0?s.push("s["+l+"]-1"):(s.push("-1"),o.push("1"),a.push("s["+l+"]-2"));var u=".lo("+o.join()+").hi("+a.join()+")";if(0===o.length&&(u=""),i>0){for(r.push("if(1"),l=0;l<n;++l)t.indexOf(l+1)>=0||t.indexOf(-(l+1))>=0||r.push("&&s[",l,"]>2");for(r.push("){grad",i,"(src.pick(",s.join(),")",u),l=0;l<n;++l)t.indexOf(l+1)>=0||t.indexOf(-(l+1))>=0||r.push(",dst.pick(",s.join(),",",l,")",u);r.push(");")}for(l=0;l<t.length;++l){var c=Math.abs(t[l])-1,f="dst.pick("+s.join()+","+c+")"+u;switch(e[c]){case"clamp":var d=s.slice(),h=s.slice();t[l]<0?d[c]="s["+c+"]-2":h[c]="1",0===i?r.push("if(s[",c,"]>1){dst.set(",s.join(),",",c,",0.5*(src.get(",d.join(),")-src.get(",h.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):r.push("if(s[",c,"]>1){diff(",f,",src.pick(",d.join(),")",u,",src.pick(",h.join(),")",u,");}else{zero(",f,");};");break;case"mirror":0===i?r.push("dst.set(",s.join(),",",c,",0);"):r.push("zero(",f,");");break;case"wrap":var p=s.slice(),m=s.slice();t[l]<0?(p[c]="s["+c+"]-2",m[c]="0"):(p[c]="s["+c+"]-1",m[c]="1"),0===i?r.push("if(s[",c,"]>2){dst.set(",s.join(),",",c,",0.5*(src.get(",p.join(),")-src.get(",m.join(),")))}else{dst.set(",s.join(),",",c,",0)};"):r.push("if(s[",c,"]>2){diff(",f,",src.pick(",p.join(),")",u,",src.pick(",m.join(),")",u,");}else{zero(",f,");};");break;default:throw new Error("ndarray-gradient: Invalid boundary condition")}}i>0&&r.push("};")}for(var s=0;s<1<<n;++s){for(var f=[],d=0;d<n;++d)s&1<<d&&f.push(d+1);for(var h=0;h<1<<f.length;++h){var p=f.slice();for(d=0;d<f.length;++d)h&1<<d&&(p[d]=-p[d]);i(p)}}r.push("return dst;};return gradient");var m=["diff","zero"],g=[l,u];for(s=1;s<=n;++s)m.push("grad"+s),g.push(c(s));m.push(r.join(""));var v=Function.apply(void 0,m).apply(void 0,g);return o[t]=v,v}(n)(e,t)};var r=e("dup"),i=e("cwise-compiler"),o={},a={},s={body:"",args:[],thisVars:[],localVars:[]},l=i({args:["array","array","array"],pre:s,post:s,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1},{name:"left",lvalue:!1,rvalue:!0,count:1},{name:"right",lvalue:!1,rvalue:!0,count:1}],body:"out=0.5*(left-right)",thisVars:[],localVars:[]},funcName:"cdiff"}),u=i({args:["array"],pre:s,post:s,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1}],body:"out=0",thisVars:[],localVars:[]},funcName:"zero"});function c(e){if(e in o)return o[e];for(var t=[],n=0;n<e;++n)t.push("out",n,"s=0.5*(inp",n,"l-inp",n,"r);");var a=["array"],l=["junk"];for(n=0;n<e;++n){a.push("array"),l.push("out"+n+"s");var u=r(e);u[n]=-1,a.push({array:0,offset:u.slice()}),u[n]=1,a.push({array:0,offset:u.slice()}),l.push("inp"+n+"l","inp"+n+"r")}return o[e]=i({args:a,pre:s,post:s,body:{body:t.join(""),args:l.map((function(e){return{name:e,lvalue:0===e.indexOf("out"),rvalue:0===e.indexOf("inp"),count:"junk"!==e|0}})),thisVars:[],localVars:[]},funcName:"fdTemplate"+e})}},{"cwise-compiler":78,dup:87}],279:[function(e,t,n){"use strict";var r=e("ndarray-warp"),i=e("gl-matrix-invert");t.exports=function(e,t,n){var o=t.dimension,a=i([],n);return r(e,t,(function(e,t){for(var n=0;n<o;++n){e[n]=a[(o+1)*o+n];for(var r=0;r<o;++r)e[n]+=a[(o+1)*r+n]*t[r]}var i=a[(o+1)*(o+1)-1];for(r=0;r<o;++r)i+=a[(o+1)*r+o]*t[r];var s=1/i;for(n=0;n<o;++n)e[n]*=s;return e})),e}},{"gl-matrix-invert":137,"ndarray-warp":286}],280:[function(e,t,n){"use strict";function r(e,t){var n=Math.floor(t),r=t-n,i=0<=n&&n<e.shape[0],o=0<=n+1&&n+1<e.shape[0];return(1-r)*(i?+e.get(n):0)+r*(o?+e.get(n+1):0)}function i(e,t,n){var r=Math.floor(t),i=t-r,o=0<=r&&r<e.shape[0],a=0<=r+1&&r+1<e.shape[0],s=Math.floor(n),l=n-s,u=0<=s&&s<e.shape[1],c=0<=s+1&&s+1<e.shape[1],f=o&&u?e.get(r,s):0,d=o&&c?e.get(r,s+1):0;return(1-l)*((1-i)*f+i*(a&&u?e.get(r+1,s):0))+l*((1-i)*d+i*(a&&c?e.get(r+1,s+1):0))}function o(e,t,n,r){var i=Math.floor(t),o=t-i,a=0<=i&&i<e.shape[0],s=0<=i+1&&i+1<e.shape[0],l=Math.floor(n),u=n-l,c=0<=l&&l<e.shape[1],f=0<=l+1&&l+1<e.shape[1],d=Math.floor(r),h=r-d,p=0<=d&&d<e.shape[2],m=0<=d+1&&d+1<e.shape[2],g=a&&c&&p?e.get(i,l,d):0,v=a&&f&&p?e.get(i,l+1,d):0,y=s&&c&&p?e.get(i+1,l,d):0,b=s&&f&&p?e.get(i+1,l+1,d):0,x=a&&c&&m?e.get(i,l,d+1):0,_=a&&f&&m?e.get(i,l+1,d+1):0;return(1-h)*((1-u)*((1-o)*g+o*y)+u*((1-o)*v+o*b))+h*((1-u)*((1-o)*x+o*(s&&c&&m?e.get(i+1,l,d+1):0))+u*((1-o)*_+o*(s&&f&&m?e.get(i+1,l+1,d+1):0)))}t.exports=function(e,t,n,a){switch(e.shape.length){case 0:return 0;case 1:return r(e,t);case 2:return i(e,t,n);case 3:return o(e,t,n,a);default:return function(e){var t,n,r=0|e.shape.length,i=new Array(r),o=new Array(r),a=new Array(r),s=new Array(r);for(t=0;t<r;++t)n=+arguments[t+1],i[t]=Math.floor(n),o[t]=n-i[t],a[t]=0<=i[t]&&i[t]<e.shape[t],s[t]=0<=i[t]+1&&i[t]+1<e.shape[t];var l,u,c,f=0;e:for(t=0;t<1<<r;++t){for(u=1,c=e.offset,l=0;l<r;++l)if(t&1<<l){if(!s[l])continue e;u*=o[l],c+=e.stride[l]*(i[l]+1)}else{if(!a[l])continue e;u*=1-o[l],c+=e.stride[l]*i[l]}f+=u*e.data[c]}return f}.apply(void 0,arguments)}},t.exports.d1=r,t.exports.d2=i,t.exports.d3=o},{}],281:[function(e,t,n){"use strict";var r=e("cwise-compiler"),i={body:"",args:[],thisVars:[],localVars:[]};function o(e){if(!e)return i;for(var t=0;t<e.args.length;++t){var n=e.args[t];e.args[t]=0===t?{name:n,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function a(e){for(var t=[],n=0;n<e.args.length;++n)t.push("a"+n);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(function(e){return r({args:e.args,pre:o(e.pre),body:o(e.body),post:o(e.proc),funcName:e.funcName})}(e))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in s){var t=s[e];n[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),n[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in l){var t=l[e];n[e]=a({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),n[e+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in u){var t=u[e];n[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),n[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),n[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),n[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<c.length;++e){var t=c[e];n[t]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),n[t+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var e=0;e<f.length;++e){var t=f[e];n[t]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),n[t+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),n[t+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),n[t+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var d=["atan2","pow"];!function(){for(var e=0;e<d.length;++e){var t=d[e];n[t+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),n[t+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),n[t+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),n[t+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),n.any=r({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=r({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=r({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":78}],282:[function(e,t,n){"use strict";var r=e("ndarray"),i=e("./doConvert.js");t.exports=function(e,t){for(var n=[],o=e,a=1;Array.isArray(o);)n.push(o.length),a*=o.length,o=o[0];return 0===n.length?r():(t||(t=r(new Float64Array(a),n)),i(t,e),t)}},{"./doConvert.js":283,ndarray:287}],283:[function(e,t,n){t.exports=e("cwise-compiler")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},{"cwise-compiler":78}],284:[function(e,t,n){"use strict";var r=e("typedarray-pool"),i=32;function o(e){switch(e){case"uint8":return[r.mallocUint8,r.freeUint8];case"uint16":return[r.mallocUint16,r.freeUint16];case"uint32":return[r.mallocUint32,r.freeUint32];case"int8":return[r.mallocInt8,r.freeInt8];case"int16":return[r.mallocInt16,r.freeInt16];case"int32":return[r.mallocInt32,r.freeInt32];case"float32":return[r.mallocFloat,r.freeFloat];case"float64":return[r.mallocDouble,r.freeDouble];default:return null}}function a(e){for(var t=[],n=0;n<e;++n)t.push("s"+n);for(n=0;n<e;++n)t.push("n"+n);for(n=1;n<e;++n)t.push("d"+n);for(n=1;n<e;++n)t.push("e"+n);for(n=1;n<e;++n)t.push("f"+n);return t}t.exports=function(e,t){var n=["'use strict'"],r=["ndarraySortWrapper",e.join("d"),t].join("");n.push(["function ",r,"(",["array"].join(","),"){"].join(""));for(var s=["data=array.data,offset=array.offset|0,shape=array.shape,stride=array.stride"],l=0;l<e.length;++l)s.push(["s",l,"=stride[",l,"]|0,n",l,"=shape[",l,"]|0"].join(""));var u=new Array(e.length),c=[];for(l=0;l<e.length;++l)0!==(h=e[l])&&(0===c.length?u[h]="1":u[h]=c.join("*"),c.push("n"+h));var f=-1,d=-1;for(l=0;l<e.length;++l){var h,p=e[l];0!==p&&(f>0?s.push(["d",p,"=s",p,"-d",f,"*n",f].join("")):s.push(["d",p,"=s",p].join("")),f=p),0!=(h=e.length-1-l)&&(d>0?s.push(["e",h,"=s",h,"-e",d,"*n",d,",f",h,"=",u[h],"-f",d,"*n",d].join("")):s.push(["e",h,"=s",h,",f",h,"=",u[h]].join("")),d=h)}n.push("var "+s.join(","));var m=["0","n0-1","data","offset"].concat(a(e.length));n.push(["if(n0<=",i,"){","insertionSort(",m.join(","),")}else{","quickSort(",m.join(","),")}"].join("")),n.push("}return "+r);var g=new Function("insertionSort","quickSort",n.join("\n")),v=function(e,t){var n=["'use strict'"],r=["ndarrayInsertionSort",e.join("d"),t].join(""),i=["left","right","data","offset"].concat(a(e.length)),s=o(t),l=["i,j,cptr,ptr=left*s0+offset"];if(e.length>1){for(var u=[],c=1;c<e.length;++c)l.push("i"+c),u.push("n"+c);s?l.push("scratch=malloc("+u.join("*")+")"):l.push("scratch=new Array("+u.join("*")+")"),l.push("dptr","sptr","a","b")}else l.push("scratch");function f(e){return"generic"===t?["data.get(",e,")"].join(""):["data[",e,"]"].join("")}function d(e,n){return"generic"===t?["data.set(",e,",",n,")"].join(""):["data[",e,"]=",n].join("")}if(n.push(["function ",r,"(",i.join(","),"){var ",l.join(",")].join(""),"for(i=left+1;i<=right;++i){","j=i;ptr+=s0","cptr=ptr"),e.length>1){for(n.push("dptr=0;sptr=ptr"),c=e.length-1;c>=0;--c)0!==(h=e[c])&&n.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""));for(n.push("scratch[dptr++]=",f("sptr")),c=0;c<e.length;++c)0!==(h=e[c])&&n.push("sptr+=d"+h,"}");for(n.push("__g:while(j--\x3eleft){","dptr=0","sptr=cptr-s0"),c=1;c<e.length;++c)1===c&&n.push("__l:"),n.push(["for(i",c,"=0;i",c,"<n",c,";++i",c,"){"].join(""));for(n.push(["a=",f("sptr"),"\nb=scratch[dptr]\nif(a<b){break __g}\nif(a>b){break __l}"].join("")),c=e.length-1;c>=1;--c)n.push("sptr+=e"+c,"dptr+=f"+c,"}");for(n.push("dptr=cptr;sptr=cptr-s0"),c=e.length-1;c>=0;--c)0!==(h=e[c])&&n.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""));for(n.push(d("dptr",f("sptr"))),c=0;c<e.length;++c)0!==(h=e[c])&&n.push(["dptr+=d",h,";sptr+=d",h].join(""),"}");for(n.push("cptr-=s0\n}"),n.push("dptr=cptr;sptr=0"),c=e.length-1;c>=0;--c)0!==(h=e[c])&&n.push(["for(i",h,"=0;i",h,"<n",h,";++i",h,"){"].join(""));for(n.push(d("dptr","scratch[sptr++]")),c=0;c<e.length;++c){var h;0!==(h=e[c])&&n.push("dptr+=d"+h,"}")}}else n.push("scratch="+f("ptr"),"while((j--\x3eleft)&&("+f("cptr-s0")+">scratch)){",d("cptr",f("cptr-s0")),"cptr-=s0","}",d("cptr","scratch"));return n.push("}"),e.length>1&&s&&n.push("free(scratch)"),n.push("} return "+r),s?new Function("malloc","free",n.join("\n"))(s[0],s[1]):new Function(n.join("\n"))()}(e,t),y=function(e,t,n){var r=["'use strict'"],s=["ndarrayQuickSort",e.join("d"),t].join(""),l=["left","right","data","offset"].concat(a(e.length)),u=o(t),c=0;r.push(["function ",s,"(",l.join(","),"){"].join(""));var f=["sixth=((right-left+1)/6)|0","index1=left+sixth","index5=right-sixth","index3=(left+right)>>1","index2=index3-sixth","index4=index3+sixth","el1=index1","el2=index2","el3=index3","el4=index4","el5=index5","less=left+1","great=right-1","pivots_are_equal=true","tmp","tmp0","x","y","z","k","ptr0","ptr1","ptr2","comp_pivot1=0","comp_pivot2=0","comp=0"];if(e.length>1){for(var d=[],h=1;h<e.length;++h)d.push("n"+h),f.push("i"+h);for(h=0;h<8;++h)f.push("b_ptr"+h);f.push("ptr3","ptr4","ptr5","ptr6","ptr7","pivot_ptr","ptr_shift","elementSize="+d.join("*")),u?f.push("pivot1=malloc(elementSize)","pivot2=malloc(elementSize)"):f.push("pivot1=new Array(elementSize),pivot2=new Array(elementSize)")}else f.push("pivot1","pivot2");function p(e){return["(offset+",e,"*s0)"].join("")}function m(e){return"generic"===t?["data.get(",e,")"].join(""):["data[",e,"]"].join("")}function g(e,n){return"generic"===t?["data.set(",e,",",n,")"].join(""):["data[",e,"]=",n].join("")}function v(t,n,i){if(1===t.length)r.push("ptr0="+p(t[0]));else for(var o=0;o<t.length;++o)r.push(["b_ptr",o,"=s0*",t[o]].join(""));for(n&&r.push("pivot_ptr=0"),r.push("ptr_shift=offset"),o=e.length-1;o>=0;--o)0!==(a=e[o])&&r.push(["for(i",a,"=0;i",a,"<n",a,";++i",a,"){"].join(""));if(t.length>1)for(o=0;o<t.length;++o)r.push(["ptr",o,"=b_ptr",o,"+ptr_shift"].join(""));for(r.push(i),n&&r.push("++pivot_ptr"),o=0;o<e.length;++o){var a;0!==(a=e[o])&&(t.length>1?r.push("ptr_shift+=d"+a):r.push("ptr0+=d"+a),r.push("}"))}}function y(t,n,i,o){if(1===n.length)r.push("ptr0="+p(n[0]));else{for(var a=0;a<n.length;++a)r.push(["b_ptr",a,"=s0*",n[a]].join(""));r.push("ptr_shift=offset")}for(i&&r.push("pivot_ptr=0"),t&&r.push(t+":"),a=1;a<e.length;++a)r.push(["for(i",a,"=0;i",a,"<n",a,";++i",a,"){"].join(""));if(n.length>1)for(a=0;a<n.length;++a)r.push(["ptr",a,"=b_ptr",a,"+ptr_shift"].join(""));for(r.push(o),a=e.length-1;a>=1;--a)i&&r.push("pivot_ptr+=f"+a),n.length>1?r.push("ptr_shift+=e"+a):r.push("ptr0+=e"+a),r.push("}")}function b(){e.length>1&&u&&r.push("free(pivot1)","free(pivot2)")}function x(t,n){var i="el"+t,o="el"+n;if(e.length>1){var a="__l"+ ++c;y(a,[i,o],!1,["comp=",m("ptr0"),"-",m("ptr1"),"\n","if(comp>0){tmp0=",i,";",i,"=",o,";",o,"=tmp0;break ",a,"}\n","if(comp<0){break ",a,"}"].join(""))}else r.push(["if(",m(p(i)),">",m(p(o)),"){tmp0=",i,";",i,"=",o,";",o,"=tmp0}"].join(""))}function _(t,n){e.length>1?v([t,n],!1,g("ptr0",m("ptr1"))):r.push(g(p(t),m(p(n))))}function w(t,n,i){if(e.length>1){var o="__l"+ ++c;y(o,[n],!0,[t,"=",m("ptr0"),"-pivot",i,"[pivot_ptr]\n","if(",t,"!==0){break ",o,"}"].join(""))}else r.push([t,"=",m(p(n)),"-pivot",i].join(""))}function k(t,n){e.length>1?v([t,n],!1,["tmp=",m("ptr0"),"\n",g("ptr0",m("ptr1")),"\n",g("ptr1","tmp")].join("")):r.push(["ptr0=",p(t),"\n","ptr1=",p(n),"\n","tmp=",m("ptr0"),"\n",g("ptr0",m("ptr1")),"\n",g("ptr1","tmp")].join(""))}function M(t,n,i){e.length>1?(v([t,n,i],!1,["tmp=",m("ptr0"),"\n",g("ptr0",m("ptr1")),"\n",g("ptr1",m("ptr2")),"\n",g("ptr2","tmp")].join("")),r.push("++"+n,"--"+i)):r.push(["ptr0=",p(t),"\n","ptr1=",p(n),"\n","ptr2=",p(i),"\n","++",n,"\n","--",i,"\n","tmp=",m("ptr0"),"\n",g("ptr0",m("ptr1")),"\n",g("ptr1",m("ptr2")),"\n",g("ptr2","tmp")].join(""))}function T(e,t){k(e,t),r.push("--"+t)}function S(t,n,i){e.length>1?v([t,n],!0,[g("ptr0",m("ptr1")),"\n",g("ptr1",["pivot",i,"[pivot_ptr]"].join(""))].join("")):r.push(g(p(t),m(p(n))),g(p(n),"pivot"+i))}function E(t,n){r.push(["if((",n,"-",t,")<=",i,"){\n","insertionSort(",t,",",n,",data,offset,",a(e.length).join(","),")\n","}else{\n",s,"(",t,",",n,",data,offset,",a(e.length).join(","),")\n","}"].join(""))}function A(t,n,i){e.length>1?(r.push(["__l",++c,":while(true){"].join("")),v([t],!0,["if(",m("ptr0"),"!==pivot",n,"[pivot_ptr]){break __l",c,"}"].join("")),r.push(i,"}")):r.push(["while(",m(p(t)),"===pivot",n,"){",i,"}"].join(""))}return r.push("var "+f.join(",")),x(1,2),x(4,5),x(1,3),x(2,3),x(1,4),x(3,4),x(2,5),x(2,3),x(4,5),e.length>1?v(["el1","el2","el3","el4","el5","index1","index3","index5"],!0,["pivot1[pivot_ptr]=",m("ptr1"),"\n","pivot2[pivot_ptr]=",m("ptr3"),"\n","pivots_are_equal=pivots_are_equal&&(pivot1[pivot_ptr]===pivot2[pivot_ptr])\n","x=",m("ptr0"),"\n","y=",m("ptr2"),"\n","z=",m("ptr4"),"\n",g("ptr5","x"),"\n",g("ptr6","y"),"\n",g("ptr7","z")].join("")):r.push(["pivot1=",m(p("el2")),"\n","pivot2=",m(p("el4")),"\n","pivots_are_equal=pivot1===pivot2\n","x=",m(p("el1")),"\n","y=",m(p("el3")),"\n","z=",m(p("el5")),"\n",g(p("index1"),"x"),"\n",g(p("index3"),"y"),"\n",g(p("index5"),"z")].join("")),_("index2","left"),_("index4","right"),r.push("if(pivots_are_equal){"),r.push("for(k=less;k<=great;++k){"),w("comp","k",1),r.push("if(comp===0){continue}"),r.push("if(comp<0){"),r.push("if(k!==less){"),k("k","less"),r.push("}"),r.push("++less"),r.push("}else{"),r.push("while(true){"),w("comp","great",1),r.push("if(comp>0){"),r.push("great--"),r.push("}else if(comp<0){"),M("k","less","great"),r.push("break"),r.push("}else{"),T("k","great"),r.push("break"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}else{"),r.push("for(k=less;k<=great;++k){"),w("comp_pivot1","k",1),r.push("if(comp_pivot1<0){"),r.push("if(k!==less){"),k("k","less"),r.push("}"),r.push("++less"),r.push("}else{"),w("comp_pivot2","k",2),r.push("if(comp_pivot2>0){"),r.push("while(true){"),w("comp","great",2),r.push("if(comp>0){"),r.push("if(--great<k){break}"),r.push("continue"),r.push("}else{"),w("comp","great",1),r.push("if(comp<0){"),M("k","less","great"),r.push("}else{"),T("k","great"),r.push("}"),r.push("break"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),S("left","(less-1)",1),S("right","(great+1)",2),E("left","(less-2)"),E("(great+2)","right"),r.push("if(pivots_are_equal){"),b(),r.push("return"),r.push("}"),r.push("if(less<index1&&great>index5){"),A("less",1,"++less"),A("great",2,"--great"),r.push("for(k=less;k<=great;++k){"),w("comp_pivot1","k",1),r.push("if(comp_pivot1===0){"),r.push("if(k!==less){"),k("k","less"),r.push("}"),r.push("++less"),r.push("}else{"),w("comp_pivot2","k",2),r.push("if(comp_pivot2===0){"),r.push("while(true){"),w("comp","great",2),r.push("if(comp===0){"),r.push("if(--great<k){break}"),r.push("continue"),r.push("}else{"),w("comp","great",1),r.push("if(comp<0){"),M("k","less","great"),r.push("}else{"),T("k","great"),r.push("}"),r.push("break"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),r.push("}"),b(),E("less","great"),r.push("}return "+s),e.length>1&&u?new Function("insertionSort","malloc","free",r.join("\n"))(n,u[0],u[1]):new Function("insertionSort",r.join("\n"))(n)}(e,t,v);return g(v,y)}},{"typedarray-pool":349}],285:[function(e,t,n){"use strict";var r=e("./lib/compile_sort.js"),i={};t.exports=function(e){var t=e.order,n=e.dtype,o=[t,n].join(":"),a=i[o];return a||(i[o]=a=r(t,n)),a(e),e}},{"./lib/compile_sort.js":284}],286:[function(e,t,n){"use strict";var r=e("ndarray-linear-interpolate"),i=e("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=new Array(_inline_39_arg4_)}",args:[{name:"_inline_39_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_39_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_39_arg2_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_39_arg3_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_39_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_40_arg2_(this_warped,_inline_40_arg0_),_inline_40_arg1_=_inline_40_arg3_.apply(void 0,this_warped)}",args:[{name:"_inline_40_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_40_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_40_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_40_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_40_arg4_",lvalue:!1,rvalue:!1,count:0}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warpND",blockSize:64}),o=e("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_43_arg2_(this_warped,_inline_43_arg0_),_inline_43_arg1_=_inline_43_arg3_(_inline_43_arg4_,this_warped[0])}",args:[{name:"_inline_43_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_43_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_43_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_43_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_43_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp1D",blockSize:64}),a=e("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_46_arg2_(this_warped,_inline_46_arg0_),_inline_46_arg1_=_inline_46_arg3_(_inline_46_arg4_,this_warped[0],this_warped[1])}",args:[{name:"_inline_46_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_46_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp2D",blockSize:64}),s=e("cwise/lib/wrapper")({args:["index","array","scalar","scalar","scalar"],pre:{body:"{this_warped=[0,0,0]}",args:[],thisVars:["this_warped"],localVars:[]},body:{body:"{_inline_49_arg2_(this_warped,_inline_49_arg0_),_inline_49_arg1_=_inline_49_arg3_(_inline_49_arg4_,this_warped[0],this_warped[1],this_warped[2])}",args:[{name:"_inline_49_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_49_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_49_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_49_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_49_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_warped"],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"warp3D",blockSize:64});t.exports=function(e,t,n){switch(t.shape.length){case 1:o(e,n,r.d1,t);break;case 2:a(e,n,r.d2,t);break;case 3:s(e,n,r.d3,t);break;default:i(e,n,r.bind(void 0,t),t.shape.length)}return e}},{"cwise/lib/wrapper":81,"ndarray-linear-interpolate":280}],287:[function(e,t,n){var r=e("iota-array"),i=e("is-buffer"),o="undefined"!=typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function l(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===t)return o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",new Function("TrivialArray",o)(u[e][0]);o=["'use strict'"];var a=r(t),l=a.map((function(e){return"i"+e})),c="this.offset+"+a.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),f=a.map((function(e){return"b"+e})).join(","),d=a.map((function(e){return"c"+e})).join(",");o.push("function "+n+"(a,"+f+","+d+",d){this.data=a","this.shape=["+f+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+l.join(",")+",v){"),i?o.push("return this.data.set("+c+",v)}"):o.push("return this.data["+c+"]=v}"),o.push("proto.get=function "+n+"_get("+l.join(",")+"){"),i?o.push("return this.data.get("+c+")}"):o.push("return this.data["+c+"]}"),o.push("proto.index=function "+n+"_index(",l.join(),"){return "+c+"}"),o.push("proto.hi=function "+n+"_hi("+l.join(",")+"){return new "+n+"(this.data,"+a.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+a.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var h=a.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=a.map((function(e){return"c"+e+"=this.stride["+e+"]"}));o.push("proto.lo=function "+n+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+p.join(","));for(var m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");for(o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"c"+e})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+l.join(",")+"){var "+a.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+a.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"b"+e})).join(",")+",c)}");var g=new Array(t),v=new Array(t);for(m=0;m<t;++m)g[m]="a[i"+m+"]",v[m]="b[i"+m+"]";for(o.push("proto.transpose=function "+n+"_transpose("+l+"){"+l.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+g.join(",")+","+v.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+l+"){var a=[],b=[],c=this.offset"),m=0;m<t;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(e){return"shape["+e+"]"})).join(",")+","+a.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(u[e],s)}var u={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(e,t,n,r){if(void 0===e)return(0,u.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===n){n=new Array(a);for(var s=a-1,c=1;s>=0;--s)n[s]=c,c*=t[s]}if(void 0===r)for(r=0,s=0;s<a;++s)n[s]<0&&(r-=(t[s]-1)*n[s]);for(var f=function(e){if(i(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),d=u[f];d.length<=a+1;)d.push(l(f,d.length-1));return(0,d[a+1])(e,t,n,r)}},{"iota-array":258,"is-buffer":260}],288:[function(e,t,n){"use strict";var r=e("double-bits"),i=Math.pow(2,-1074),o=-1>>>0;t.exports=function(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===t)return e;if(0===e)return t<0?-i:i;var n=r.hi(e),a=r.lo(e);return t>e==e>0?a===o?(n+=1,a=0):a+=1:0===a?(a=o,n-=1):a-=1,r.pack(a,n)}},{"double-bits":85}],289:[function(e,t,n){n.vertexNormals=function(e,t,n){for(var r=t.length,i=new Array(r),o=void 0===n?1e-6:n,a=0;a<r;++a)i[a]=[0,0,0];for(a=0;a<e.length;++a)for(var s=e[a],l=0,u=s[s.length-1],c=s[0],f=0;f<s.length;++f){l=u,u=c,c=s[(f+1)%s.length];for(var d=t[l],h=t[u],p=t[c],m=new Array(3),g=0,v=new Array(3),y=0,b=0;b<3;++b)m[b]=d[b]-h[b],g+=m[b]*m[b],v[b]=p[b]-h[b],y+=v[b]*v[b];if(g*y>o){var x=i[u],_=1/Math.sqrt(g*y);for(b=0;b<3;++b){var w=(b+1)%3,k=(b+2)%3;x[b]+=_*(v[w]*m[k]-v[k]*m[w])}}}for(a=0;a<r;++a){x=i[a];var M=0;for(b=0;b<3;++b)M+=x[b]*x[b];if(M>o)for(_=1/Math.sqrt(M),b=0;b<3;++b)x[b]*=_;else for(b=0;b<3;++b)x[b]=0}return i},n.faceNormals=function(e,t,n){for(var r=e.length,i=new Array(r),o=void 0===n?1e-6:n,a=0;a<r;++a){for(var s=e[a],l=new Array(3),u=0;u<3;++u)l[u]=t[s[u]];var c=new Array(3),f=new Array(3);for(u=0;u<3;++u)c[u]=l[1][u]-l[0][u],f[u]=l[2][u]-l[0][u];var d=new Array(3),h=0;for(u=0;u<3;++u){var p=(u+1)%3,m=(u+2)%3;d[u]=c[p]*f[m]-c[m]*f[p],h+=d[u]*d[u]}for(h=h>o?1/Math.sqrt(h):0,u=0;u<3;++u)d[u]*=h;i[a]=d}return i}},{}],290:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i,o,a,s,l,u){var c=t+o+u;if(f>0){var f=Math.sqrt(c+1);e[0]=.5*(a-l)/f,e[1]=.5*(s-r)/f,e[2]=.5*(n-o)/f,e[3]=.5*f}else{var d=Math.max(t,o,u);f=Math.sqrt(2*d-c+1),t>=d?(e[0]=.5*f,e[1]=.5*(i+n)/f,e[2]=.5*(s+r)/f,e[3]=.5*(a-l)/f):o>=d?(e[0]=.5*(n+i)/f,e[1]=.5*f,e[2]=.5*(l+a)/f,e[3]=.5*(s-r)/f):(e[0]=.5*(r+s)/f,e[1]=.5*(a+l)/f,e[2]=.5*f,e[3]=.5*(n-i)/f)}return e}},{}],291:[function(e,t,n){"use strict";t.exports=function(e){var t=(e=e||{}).center||[0,0,0],n=e.rotation||[0,0,0,1],r=e.radius||1;t=[].slice.call(t,0,3),c(n=[].slice.call(n,0,4),n);var i=new f(n,t,Math.log(r));return i.setDistanceLimits(e.zoomMin,e.zoomMax),("eye"in e||"up"in e)&&i.lookAt(0,e.eye,e.center,e.up),i};var r=e("filtered-vector"),i=e("gl-mat4/lookAt"),o=e("gl-mat4/fromQuat"),a=e("gl-mat4/invert"),s=e("./lib/quatFromFrame");function l(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))}function u(e,t,n,r){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2)+Math.pow(r,2))}function c(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=u(n,r,i,o);a>1e-6?(e[0]=n/a,e[1]=r/a,e[2]=i/a,e[3]=o/a):(e[0]=e[1]=e[2]=0,e[3]=1)}function f(e,t,n){this.radius=r([n]),this.center=r(t),this.rotation=r(e),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var d=f.prototype;d.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},d.recalcMatrix=function(e){this.radius.curve(e),this.center.curve(e),this.rotation.curve(e);var t=this.computedRotation;c(t,t);var n=this.computedMatrix;o(n,t);var r=this.computedCenter,i=this.computedEye,a=this.computedUp,s=Math.exp(this.computedRadius[0]);i[0]=r[0]+s*n[2],i[1]=r[1]+s*n[6],i[2]=r[2]+s*n[10],a[0]=n[1],a[1]=n[5],a[2]=n[9];for(var l=0;l<3;++l){for(var u=0,f=0;f<3;++f)u+=n[l+4*f]*i[f];n[12+l]=-u}},d.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n},d.idle=function(e){this.center.idle(e),this.radius.idle(e),this.rotation.idle(e)},d.flush=function(e){this.center.flush(e),this.radius.flush(e),this.rotation.flush(e)},d.pan=function(e,t,n,r){t=t||0,n=n||0,r=r||0,this.recalcMatrix(e);var i=this.computedMatrix,o=i[1],a=i[5],s=i[9],u=l(o,a,s);o/=u,a/=u,s/=u;var c=i[0],f=i[4],d=i[8],h=c*o+f*a+d*s,p=l(c-=o*h,f-=a*h,d-=s*h);c/=p,f/=p,d/=p;var m=i[2],g=i[6],v=i[10],y=m*o+g*a+v*s,b=m*c+g*f+v*d,x=l(m-=y*o+b*c,g-=y*a+b*f,v-=y*s+b*d);m/=x,g/=x,v/=x;var _=c*t+o*n,w=f*t+a*n,k=d*t+s*n;this.center.move(e,_,w,k);var M=Math.exp(this.computedRadius[0]);M=Math.max(1e-4,M+r),this.radius.set(e,Math.log(M))},d.rotate=function(e,t,n,r){this.recalcMatrix(e),t=t||0,n=n||0;var i=this.computedMatrix,o=i[0],a=i[4],s=i[8],c=i[1],f=i[5],d=i[9],h=i[2],p=i[6],m=i[10],g=t*o+n*c,v=t*a+n*f,y=t*s+n*d,b=-(p*y-m*v),x=-(m*g-h*y),_=-(h*v-p*g),w=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(x,2)-Math.pow(_,2))),k=u(b,x,_,w);k>1e-6?(b/=k,x/=k,_/=k,w/=k):(b=x=_=0,w=1);var M=this.computedRotation,T=M[0],S=M[1],E=M[2],A=M[3],O=T*w+A*b+S*_-E*x,C=S*w+A*x+E*b-T*_,N=E*w+A*_+T*x-S*b,D=A*w-T*b-S*x-E*_;if(r){b=h,x=p,_=m;var P=Math.sin(r)/l(b,x,_);b*=P,x*=P,_*=P,D=D*(w=Math.cos(t))-(O=O*w+D*b+C*_-N*x)*b-(C=C*w+D*x+N*b-O*_)*x-(N=N*w+D*_+O*x-C*b)*_}var R=u(O,C,N,D);R>1e-6?(O/=R,C/=R,N/=R,D/=R):(O=C=N=0,D=1),this.rotation.set(e,O,C,N,D)},d.lookAt=function(e,t,n,r){this.recalcMatrix(e),n=n||this.computedCenter,t=t||this.computedEye,r=r||this.computedUp;var o=this.computedMatrix;i(o,t,n,r);var a=this.computedRotation;s(a,o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]),c(a,a),this.rotation.set(e,a[0],a[1],a[2],a[3]);for(var l=0,u=0;u<3;++u)l+=Math.pow(n[u]-t[u],2);this.radius.set(e,.5*Math.log(Math.max(l,1e-6))),this.center.set(e,n[0],n[1],n[2])},d.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},d.setMatrix=function(e,t){var n=this.computedRotation;s(n,t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]),c(n,n),this.rotation.set(e,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;a(r,t);var i=r[15];if(Math.abs(i)>1e-6){var o=r[12]/i,l=r[13]/i,u=r[14]/i;this.recalcMatrix(e);var f=Math.exp(this.computedRadius[0]);this.center.set(e,o-r[2]*f,l-r[6]*f,u-r[10]*f),this.radius.idle(e)}else this.center.idle(e),this.radius.idle(e)},d.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},d.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},d.getDistanceLimits=function(e){var t=this.radius.bounds;return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},d.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},d.fromJSON=function(e){var t=this.lastT(),n=e.center;n&&this.center.set(t,n[0],n[1],n[2]);var r=e.rotation;r&&this.rotation.set(t,r[0],r[1],r[2],r[3]);var i=e.distance;i&&i>0&&this.radius.set(t,Math.log(i)),this.setDistanceLimits(e.zoomMin,e.zoomMax)}},{"./lib/quatFromFrame":290,"filtered-vector":92,"gl-mat4/fromQuat":122,"gl-mat4/invert":125,"gl-mat4/lookAt":126}],292:[function(e,t,n){"use strict";var r=e("repeat-string");t.exports=function(e,t,n){return r(n="undefined"!=typeof n?n+"":" ",t)+e}},{"repeat-string":316}],293:[function(e,t,n){t.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},{}],294:[function(e,t,n){"use strict";t.exports=function(e){var t=e.length;if(t<r){for(var n=1,o=0;o<t;++o)for(var a=0;a<o;++a)if(e[o]<e[a])n=-n;else if(e[o]===e[a])return 0;return n}var s=i.mallocUint8(t);for(o=0;o<t;++o)s[o]=0;for(n=1,o=0;o<t;++o)if(!s[o]){var l=1;for(s[o]=1,a=e[o];a!==o;a=e[a]){if(s[a])return i.freeUint8(s),0;l+=1,s[a]=1}1&l||(n=-n)}return i.freeUint8(s),n};var r=32,i=e("typedarray-pool")},{"typedarray-pool":349}],295:[function(e,t,n){"use strict";var r=e("typedarray-pool"),i=e("invert-permutation");n.rank=function(e){var t=e.length;switch(t){case 0:case 1:return 0;case 2:return e[1]}var n,o,a,s=r.mallocUint32(t),l=r.mallocUint32(t),u=0;for(i(e,l),a=0;a<t;++a)s[a]=e[a];for(a=t-1;a>0;--a)o=l[a],n=s[a],s[a]=s[o],s[o]=n,l[a]=l[n],l[n]=o,u=(u+n)*a;return r.freeUint32(l),r.freeUint32(s),u},n.unrank=function(e,t,n){switch(e){case 0:return n||[];case 1:return n?(n[0]=0,n):[0];case 2:return n?(t?(n[0]=0,n[1]=1):(n[0]=1,n[1]=0),n):t?[0,1]:[1,0]}var r,i,o,a=1;for((n=n||new Array(e))[0]=0,o=1;o<e;++o)n[o]=o,a=a*o|0;for(o=e-1;o>0;--o)t=t-(r=t/a|0)*a|0,a=a/o|0,i=0|n[o],n[o]=0|n[r],n[r]=0|i;return n}},{"invert-permutation":257,"typedarray-pool":349}],296:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=0|t.length,i=e.length,o=[new Array(n),new Array(n)],a=0;a<n;++a)o[0][a]=[],o[1][a]=[];for(a=0;a<i;++a){var s=e[a];o[0][s[0]].push(s),o[1][s[1]].push(s)}var l=[];for(a=0;a<n;++a)o[0][a].length+o[1][a].length===0&&l.push([a]);function u(e,t){var n=o[t][e[t]];n.splice(n.indexOf(e),1)}function c(e,n,i){for(var a,s,l,c=0;c<2;++c)if(o[c][n].length>0){a=o[c][n][0],l=c;break}s=a[1^l];for(var f=0;f<2;++f)for(var d=o[f][n],h=0;h<d.length;++h){var p=d[h],m=p[1^f];r(t[e],t[n],t[s],t[m])>0&&(a=p,s=m,l=f)}return i?s:(a&&u(a,l),s)}function f(e,n){var i=o[n][e][0],a=[e];u(i,n);for(var s=i[1^n];;){for(;s!==e;)a.push(s),s=c(a[a.length-2],s,!1);if(o[0][e].length+o[1][e].length===0)break;var l=a[a.length-1],f=e,d=a[1],h=c(l,f,!0);if(r(t[l],t[f],t[d],t[h])<0)break;a.push(e),s=c(l,f)}return a}function d(e,t){return t[1]===t[t.length-1]}for(a=0;a<n;++a)for(var h=0;h<2;++h){for(var p=[];o[h][a].length>0;){o[0][a].length;var m=f(a,h);d(0,m)?p.push.apply(p,m):(p.length>0&&l.push(p),p=m)}p.length>0&&l.push(p)}return l};var r=e("compare-angle")},{"compare-angle":70}],297:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=r(e,t.length),i=new Array(t.length),o=new Array(t.length),a=[],s=0;s<t.length;++s){var l=n[s].length;o[s]=l,i[s]=!0,l<=1&&a.push(s)}for(;a.length>0;){i[h=a.pop()]=!1;var u=n[h];for(s=0;s<u.length;++s){var c=u[s];0==--o[c]&&a.push(c)}}var f=new Array(t.length),d=[];for(s=0;s<t.length;++s)if(i[s]){var h=d.length;f[s]=h,d.push(t[s])}else f[s]=-1;var p=[];for(s=0;s<e.length;++s){var m=e[s];i[m[0]]&&i[m[1]]&&p.push([f[m[0]],f[m[1]]])}return[p,d]};var r=e("edges-to-adjacency-list")},{"edges-to-adjacency-list":88}],298:[function(e,t,n){"use strict";t.exports=function(e,t){e=(j=u(e,t))[0];for(var n=(t=j[1]).length,f=(e.length,r(e,t.length)),d=0;d<n;++d)if(f[d].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var h=i(e,t),p=(h=h.filter((function(e){for(var n=e.length,r=[0],i=0;i<n;++i){var o=t[e[i]],l=t[e[(i+1)%n]],u=a(-o[0],o[1]),c=a(-o[0],l[1]),f=a(l[0],o[1]),d=a(l[0],l[1]);r=s(r,s(s(u,c),s(f,d)))}return r[r.length-1]>0}))).length,m=new Array(p),g=new Array(p);for(d=0;d<p;++d){m[d]=d;var v=new Array(p),y=h[d].map((function(e){return t[e]})),b=o([y]),x=0;e:for(var _=0;_<p;++_)if(v[_]=0,d!==_){for(var w=(q=h[_]).length,k=0;k<w;++k){var M=b(t[q[k]]);if(0!==M){M<0&&(v[_]=1,x+=1);continue e}}v[_]=1,x+=1}g[d]=[x,d,v]}for(g.sort((function(e,t){return t[0]-e[0]})),d=0;d<p;++d){var T=(v=g[d])[1],S=v[2];for(_=0;_<p;++_)S[_]&&(m[_]=T)}var E=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=[];return t}(p);for(d=0;d<p;++d)E[d].push(m[d]),E[m[d]].push(d);var A={},O=c(n,!1);for(d=0;d<p;++d)for(w=(q=h[d]).length,_=0;_<w;++_){var C=q[_],N=q[(_+1)%w],D=Math.min(C,N)+":"+Math.max(C,N);if(D in A){var P=A[D];E[P].push(d),E[d].push(P),O[C]=O[N]=!0}else A[D]=d}function R(e){for(var t=e.length,n=0;n<t;++n)if(!O[e[n]])return!1;return!0}var L=[],I=c(p,-1);for(d=0;d<p;++d)m[d]!==d||R(h[d])?I[d]=-1:(L.push(d),I[d]=0);for(var j=[];L.length>0;){var z=L.pop(),F=E[z];l(F,(function(e,t){return e-t}));var B,U=F.length,H=I[z];for(0===H&&(B=[q=h[z]]),d=0;d<U;++d){var q,V=F[d];I[V]>=0||(I[V]=1^H,L.push(V),0!==H)||R(q=h[V])||(q.reverse(),B.push(q))}0===H&&j.push(B)}return j};var r=e("edges-to-adjacency-list"),i=e("planar-dual"),o=e("point-in-big-polygon"),a=e("two-product"),s=e("robust-sum"),l=e("uniq"),u=e("./lib/trim-leaves");function c(e,t){for(var n=new Array(e),r=0;r<e;++r)n[r]=t;return n}},{"./lib/trim-leaves":297,"edges-to-adjacency-list":88,"planar-dual":296,"point-in-big-polygon":299,"robust-sum":328,"two-product":347,uniq:351}],299:[function(e,t,n){t.exports=function(e){for(var t=e.length,n=[],o=[],s=0;s<t;++s)for(var c=e[s],f=c.length,d=f-1,h=0;h<f;d=h++){var p=c[d],m=c[h];p[0]===m[0]?o.push([p,m]):n.push([p,m])}if(0===n.length)return 0===o.length?u:(g=l(o),function(e){return g(e[0],e[1])?0:1});var g,v=i(n),y=function(e,t){return function(n){var i=a.le(t,n[0]);if(i<0)return 1;var o=e[i];if(!o){if(!(i>0&&t[i]===n[0]))return 1;o=e[i-1]}for(var s=1;o;){var l=o.key,u=r(n,l[0],l[1]);if(l[0][0]<l[1][0])if(u<0)o=o.left;else{if(!(u>0))return 0;s=-1,o=o.right}else if(u>0)o=o.left;else{if(!(u<0))return 0;s=1,o=o.right}}return s}}(v.slabs,v.coordinates);return 0===o.length?y:function(e,t){return function(n){return e(n[0],n[1])?0:t(n)}}(l(o),y)};var r=e("robust-orientation")[3],i=e("slab-decomposition"),o=e("interval-tree-1d"),a=e("binary-search-bounds");function s(){return!0}function l(e){for(var t={},n=0;n<e.length;++n){var r=e[n],i=r[0][0],a=r[0][1],l=r[1][1],u=[Math.min(a,l),Math.max(a,l)];i in t?t[i].push(u):t[i]=[u]}var c={},f=Object.keys(t);for(n=0;n<f.length;++n){var d=t[f[n]];c[f[n]]=o(d)}return function(e){return function(t,n){var r=e[t];return!!r&&!!r.queryPoint(n,s)}}(c)}function u(e){return 1}},{"binary-search-bounds":36,"interval-tree-1d":256,"robust-orientation":323,"slab-decomposition":339}],300:[function(e,t,n){var r,i=e("./lib/build-log"),o=e("./lib/epsilon"),a=e("./lib/intersecter"),s=e("./lib/segment-chainer"),l=e("./lib/segment-selector"),u=e("./lib/geojson"),c=!1,f=o();function d(e,t,n){var i=r.segments(e),o=r.segments(t),a=n(r.combine(i,o));return r.polygon(a)}r={buildLog:function(e){return!0===e?c=i():!1===e&&(c=!1),!1!==c&&c.list},epsilon:function(e){return f.epsilon(e)},segments:function(e){var t=a(!0,f,c);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:a(!1,f,c).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:l.union(e.combined,c),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:l.intersect(e.combined,c),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:l.difference(e.combined,c),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:l.differenceRev(e.combined,c),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:l.xor(e.combined,c),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:s(e.segments,f,c),inverted:e.inverted}},polygonFromGeoJSON:function(e){return u.toPolygon(r,e)},polygonToGeoJSON:function(e){return u.fromPolygon(r,f,e)},union:function(e,t){return d(e,t,r.selectUnion)},intersect:function(e,t){return d(e,t,r.selectIntersect)},difference:function(e,t){return d(e,t,r.selectDifference)},differenceRev:function(e,t){return d(e,t,r.selectDifferenceRev)},xor:function(e,t){return d(e,t,r.selectXor)}},"object"==typeof window&&(window.PolyBool=r),t.exports=r},{"./lib/build-log":301,"./lib/epsilon":302,"./lib/geojson":303,"./lib/intersecter":304,"./lib/segment-chainer":306,"./lib/segment-selector":307}],301:[function(e,t,n){t.exports=function(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r("check",{seg1:e,seg2:t})},segmentChop:function(e,t){return r("div_seg",{seg:e,pt:t}),r("chop",{seg:e,pt:t})},statusRemove:function(e){return r("pop_seg",{seg:e})},segmentUpdate:function(e){return r("seg_update",{seg:e})},segmentNew:function(e,t){return r("new_seg",{seg:e,primary:t})},segmentRemove:function(e){return r("rem_seg",{seg:e})},tempStatus:function(e,t,n){return r("temp_status",{seg:e,above:t,below:n})},rewind:function(e){return r("rewind",{seg:e})},status:function(e,t,n){return r("status",{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r("vert",{x:t}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),r("log",{txt:e})},reset:function(){return r("reset")},selected:function(e){return r("selected",{segs:e})},chainStart:function(e){return r("chain_start",{seg:e})},chainRemoveHead:function(e,t){return r("chain_rem_head",{index:e,pt:t})},chainRemoveTail:function(e,t){return r("chain_rem_tail",{index:e,pt:t})},chainNew:function(e,t){return r("chain_new",{pt1:e,pt2:t})},chainMatch:function(e){return r("chain_match",{index:e})},chainClose:function(e){return r("chain_close",{index:e})},chainAddHead:function(e,t){return r("chain_add_head",{index:e,pt:t})},chainAddTail:function(e,t){return r("chain_add_tail",{index:e,pt:t})},chainConnect:function(e,t){return r("chain_con",{index1:e,index2:t})},chainReverse:function(e){return r("chain_rev",{index:e})},chainJoin:function(e,t){return r("chain_join",{index1:e,index2:t})},done:function(){return r("done")}}}},{}],302:[function(e,t,n){t.exports=function(e){"number"!=typeof e&&(e=1e-10);var t={epsilon:function(t){return"number"==typeof t&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var i=n[0],o=n[1],a=r[0],s=r[1],l=t[0];return(a-i)*(t[1]-o)-(s-o)*(l-i)>=-e},pointBetween:function(t,n,r){var i=t[1]-n[1],o=r[0]-n[0],a=t[0]-n[0],s=r[1]-n[1],l=a*o+i*s;return!(l<e||l-(o*o+s*s)>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var i=t[0]-n[0],o=t[1]-n[1],a=n[0]-r[0],s=n[1]-r[1];return Math.abs(i*s-a*o)<e},linesIntersect:function(t,n,r,i){var o=n[0]-t[0],a=n[1]-t[1],s=i[0]-r[0],l=i[1]-r[1],u=o*l-a*s;if(Math.abs(u)<e)return!1;var c=t[0]-r[0],f=t[1]-r[1],d=(s*f-l*c)/u,h=(o*f-a*c)/u,p={alongA:0,alongB:0,pt:[t[0]+d*o,t[1]+d*a]};return p.alongA=d<=-e?-2:d<e?-1:d-1<=-e?0:d-1<e?1:2,p.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,p},pointInsideRegion:function(t,n){for(var r=t[0],i=t[1],o=n[n.length-1][0],a=n[n.length-1][1],s=!1,l=0;l<n.length;l++){var u=n[l][0],c=n[l][1];c-i>e!=a-i>e&&(o-u)*(i-c)/(a-c)+u-r>e&&(s=!s),o=u,a=c}return s}};return t}},{}],303:[function(e,t,n){var r={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),i=1;i<t.length;i++)r=e.selectDifference(e.combine(r,n(t[i])));return r}if("Polygon"===t.type)return e.polygon(n(t.coordinates));if("MultiPolygon"===t.type){for(var r=e.segments({inverted:!1,regions:[]}),i=0;i<t.coordinates.length;i++)r=e.selectUnion(e.combine(r,n(t.coordinates[i])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,t,n){function r(e,n){return t.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],n)}function i(e){return{region:e,children:[]}}n=e.polygon(e.segments(n));var o=i(null);function a(e,t){for(var n=0;n<e.children.length;n++)if(r(t,(s=e.children[n]).region))return void a(s,t);var o=i(t);for(n=0;n<e.children.length;n++){var s;r((s=e.children[n]).region,t)&&(o.children.push(s),e.children.splice(n,1),n--)}e.children.push(o)}for(var s=0;s<n.regions.length;s++){var l=n.regions[s];l.length<3||a(o,l)}function u(e,t){for(var n=0,r=e[e.length-1][0],i=e[e.length-1][1],o=[],a=0;a<e.length;a++){var s=e[a][0],l=e[a][1];o.push([s,l]),n+=l*r-s*i,r=s,i=l}return n<0!==t&&o.reverse(),o.push([o[0][0],o[0][1]]),o}var c=[];function f(e){var t=[u(e.region,!1)];c.push(t);for(var n=0;n<e.children.length;n++)t.push(d(e.children[n]))}function d(e){for(var t=0;t<e.children.length;t++)f(e.children[t]);return u(e.region,!0)}for(s=0;s<o.children.length;s++)f(o.children[s]);return c.length<=0?{type:"Polygon",coordinates:[]}:1==c.length?{type:"Polygon",coordinates:c[0]}:{type:"MultiPolygon",coordinates:c}}};t.exports=r},{}],304:[function(e,t,n){var r=e("./linked-list");t.exports=function(e,t,n){function i(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var o=r.create();function a(e,n){o.insertBefore(e,(function(r){return function(e,n,r,i,o,a){var s=t.pointsCompare(n,o);return 0!==s?s:t.pointsSame(r,a)?0:e!==i?e?1:-1:t.pointAboveOrOnLine(r,i?o:a,i?a:o)?1:-1}(e.isStart,e.pt,n,r.isStart,r.pt,r.other.pt)<0}))}function s(e,t){var n=function(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return a(n,e.end),n}(e,t);return function(e,t,n){var i=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=i,a(i,e.pt)}(n,e,t),n}function l(e,t){var r=i(t,e.seg.end,e.seg);return function(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,a(e.other,e.pt)}(e,t),s(r,e.primary)}function u(i,a){var s=r.create();function u(e){return s.findTransition((function(n){var r,i,o,a,s,l;return r=e,i=n.ev,o=r.seg.start,a=r.seg.end,s=i.seg.start,l=i.seg.end,(t.pointsCollinear(o,s,l)?t.pointsCollinear(a,s,l)?1:t.pointAboveOrOnLine(a,s,l)?1:-1:t.pointAboveOrOnLine(o,s,l)?1:-1)>0}))}function c(e,r){var i=e.seg,o=r.seg,a=i.start,s=i.end,u=o.start,c=o.end;n&&n.checkIntersection(i,o);var f=t.linesIntersect(a,s,u,c);if(!1===f){if(!t.pointsCollinear(a,s,u))return!1;if(t.pointsSame(a,c)||t.pointsSame(s,u))return!1;var d=t.pointsSame(a,u),h=t.pointsSame(s,c);if(d&&h)return r;var p=!d&&t.pointBetween(a,u,c),m=!h&&t.pointBetween(s,u,c);if(d)return m?l(r,s):l(e,c),r;p&&(h||(m?l(r,s):l(e,c)),l(r,a))}else 0===f.alongA&&(-1===f.alongB?l(e,u):0===f.alongB?l(e,f.pt):1===f.alongB&&l(e,c)),0===f.alongB&&(-1===f.alongA?l(r,a):0===f.alongA?l(r,f.pt):1===f.alongA&&l(r,s));return!1}for(var f=[];!o.isEmpty();){var d=o.getHead();if(n&&n.vert(d.pt[0]),d.isStart){n&&n.segmentNew(d.seg,d.primary);var h=u(d),p=h.before?h.before.ev:null,m=h.after?h.after.ev:null;n&&n.tempStatus(d.seg,!!p&&p.seg,!!m&&m.seg);var g,v,y=function(){if(p){var e=c(d,p);if(e)return e}return!!m&&c(d,m)}();if(y&&(e?(v=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below)&&(y.seg.myFill.above=!y.seg.myFill.above):y.seg.otherFill=d.seg.myFill,n&&n.segmentUpdate(y.seg),d.other.remove(),d.remove()),o.getHead()!==d){n&&n.rewind(d.seg);continue}e?(v=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below,d.seg.myFill.below=m?m.seg.myFill.above:i,d.seg.myFill.above=v?!d.seg.myFill.below:d.seg.myFill.below):null===d.seg.otherFill&&(g=m?d.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:d.primary?a:i,d.seg.otherFill={above:g,below:g}),n&&n.status(d.seg,!!p&&p.seg,!!m&&m.seg),d.other.status=h.insert(r.node({ev:d}))}else{var b=d.status;if(null===b)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(b.prev)&&s.exists(b.next)&&c(b.prev.ev,b.next.ev),n&&n.statusRemove(b.ev.seg),b.remove(),!d.primary){var x=d.seg.myFill;d.seg.myFill=d.seg.otherFill,d.seg.otherFill=x}f.push(d.seg)}o.getHead().remove()}return n&&n.done(),f}return e?{addRegion:function(e){for(var r,i,o,a=e[e.length-1],l=0;l<e.length;l++){r=a,a=e[l];var u=t.pointsCompare(r,a);0!==u&&s((i=u<0?r:a,o=u<0?a:r,{id:n?n.segmentId():-1,start:i,end:o,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return u(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach((function(e){s(i(e.start,e.end,e),!0)})),n.forEach((function(e){s(i(e.start,e.end,e),!1)})),u(t,r)}}}},{"./linked-list":305}],305:[function(e,t,n){t.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return null!==t&&t!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,i=e.root.next;null!==i;){if(n(i))return t.prev=i.prev,t.next=i,i.prev.next=t,void(i.prev=t);r=i,i=i.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;null!==r&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,null!==r&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},{}],306:[function(e,t,n){t.exports=function(e,t,n){var r=[],i=[];return e.forEach((function(e){var o=e.start,a=e.end;if(t.pointsSame(o,a))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(e);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},u=s,c=0;c<r.length;c++){var f=(g=r[c])[0],d=(g[1],g[g.length-1]);if(g[g.length-2],t.pointsSame(f,o)){if(M(c,!0,!0))break}else if(t.pointsSame(f,a)){if(M(c,!0,!1))break}else if(t.pointsSame(d,o)){if(M(c,!1,!0))break}else if(t.pointsSame(d,a)&&M(c,!1,!1))break}if(u===s)return r.push([o,a]),void(n&&n.chainNew(o,a));if(u===l){n&&n.chainMatch(s.index);var h=s.index,p=s.matches_pt1?a:o,m=s.matches_head,g=r[h],v=m?g[0]:g[g.length-1],y=m?g[1]:g[g.length-2],b=m?g[g.length-1]:g[0],x=m?g[g.length-2]:g[1];return t.pointsCollinear(y,v,p)&&(m?(n&&n.chainRemoveHead(s.index,p),g.shift()):(n&&n.chainRemoveTail(s.index,p),g.pop()),v=y),t.pointsSame(b,p)?(r.splice(h,1),t.pointsCollinear(x,b,v)&&(m?(n&&n.chainRemoveTail(s.index,v),g.pop()):(n&&n.chainRemoveHead(s.index,v),g.shift())),n&&n.chainClose(s.index),void i.push(g)):void(m?(n&&n.chainAddHead(s.index,p),g.unshift(p)):(n&&n.chainAddTail(s.index,p),g.push(p)))}var _=s.index,w=l.index;n&&n.chainConnect(_,w);var k=r[_].length<r[w].length;s.matches_head?l.matches_head?k?(T(_),S(_,w)):(T(w),S(w,_)):S(w,_):l.matches_head?S(_,w):k?(T(_),S(w,_)):(T(w),S(_,w))}function M(e,t,n){return u.index=e,u.matches_head=t,u.matches_pt1=n,u===s?(u=l,!1):(u=null,!0)}function T(e){n&&n.chainReverse(e),r[e].reverse()}function S(e,i){var o=r[e],a=r[i],s=o[o.length-1],l=o[o.length-2],u=a[0],c=a[1];t.pointsCollinear(l,s,u)&&(n&&n.chainRemoveTail(e,s),o.pop(),s=l),t.pointsCollinear(s,u,c)&&(n&&n.chainRemoveHead(i,u),a.shift()),n&&n.chainJoin(e,i),r[e]=o.concat(a),r.splice(i,1)}})),i}},{}],307:[function(e,t,n){function r(e,t,n){var r=[];return e.forEach((function(e){var i=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==t[i]&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===t[i],below:2===t[i]},otherFill:null})})),n&&n.selected(r),r}var i={union:function(e,t){return r(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],t)},intersect:function(e,t){return r(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],t)},difference:function(e,t){return r(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],t)},differenceRev:function(e,t){return r(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],t)},xor:function(e,t){return r(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],t)}};t.exports=i},{}],308:[function(e,t,n){"use strict";var r=new Float64Array(4),i=new Float64Array(4),o=new Float64Array(4);t.exports=function(e,t,n,a,s){r.length<a.length&&(r=new Float64Array(a.length),i=new Float64Array(a.length),o=new Float64Array(a.length));for(var l=0;l<a.length;++l)r[l]=e[l]-a[l],i[l]=t[l]-e[l],o[l]=n[l]-e[l];var u=0,c=0,f=0,d=0,h=0,p=0;for(l=0;l<a.length;++l){var m=i[l],g=o[l],v=r[l];u+=m*m,c+=m*g,f+=g*g,d+=v*m,h+=v*g,p+=v*v}var y,b,x,_,w,k=Math.abs(u*f-c*c),M=c*h-f*d,T=c*d-u*h;if(M+T<=k)if(M<0)T<0&&d<0?(T=0,-d>=u?(M=1,y=u+2*d+p):y=d*(M=-d/u)+p):(M=0,h>=0?(T=0,y=p):-h>=f?(T=1,y=f+2*h+p):y=h*(T=-h/f)+p);else if(T<0)T=0,d>=0?(M=0,y=p):-d>=u?(M=1,y=u+2*d+p):y=d*(M=-d/u)+p;else{var S=1/k;y=(M*=S)*(u*M+c*(T*=S)+2*d)+T*(c*M+f*T+2*h)+p}else M<0?(x=f+h)>(b=c+d)?(_=x-b)>=(w=u-2*c+f)?(M=1,T=0,y=u+2*d+p):y=(M=_/w)*(u*M+c*(T=1-M)+2*d)+T*(c*M+f*T+2*h)+p:(M=0,x<=0?(T=1,y=f+2*h+p):h>=0?(T=0,y=p):y=h*(T=-h/f)+p):T<0?(x=u+d)>(b=c+h)?(_=x-b)>=(w=u-2*c+f)?(T=1,M=0,y=f+2*h+p):y=(M=1-(T=_/w))*(u*M+c*T+2*d)+T*(c*M+f*T+2*h)+p:(T=0,x<=0?(M=1,y=u+2*d+p):d>=0?(M=0,y=p):y=d*(M=-d/u)+p):(_=f+h-c-d)<=0?(M=0,T=1,y=f+2*h+p):_>=(w=u-2*c+f)?(M=1,T=0,y=u+2*d+p):y=(M=_/w)*(u*M+c*(T=1-M)+2*d)+T*(c*M+f*T+2*h)+p;var E=1-M-T;for(l=0;l<a.length;++l)s[l]=E*e[l]+M*t[l]+T*n[l];return y<0?0:y}},{}],309:[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,c=[],f=!1,d=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!f){var e=l(h);f=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||f||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],310:[function(e,t,n){t.exports=e("gl-quat/slerp")},{"gl-quat/slerp":144}],311:[function(e,t,n){"use strict";var r=e("big-rat/add");t.exports=function(e,t){for(var n=e.length,i=new Array(n),o=0;o<n;++o)i[o]=r(e[o],t[o]);return i}},{"big-rat/add":20}],312:[function(e,t,n){"use strict";t.exports=function(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=r(e[n]);return t};var r=e("big-rat")},{"big-rat":23}],313:[function(e,t,n){"use strict";var r=e("big-rat"),i=e("big-rat/mul");t.exports=function(e,t){for(var n=r(t),o=e.length,a=new Array(o),s=0;s<o;++s)a[s]=i(e[s],n);return a}},{"big-rat":23,"big-rat/mul":32}],314:[function(e,t,n){"use strict";var r=e("big-rat/sub");t.exports=function(e,t){for(var n=e.length,i=new Array(n),o=0;o<n;++o)i[o]=r(e[o],t[o]);return i}},{"big-rat/sub":34}],315:[function(e,t,n){"use strict";var r=e("compare-cell"),i=e("compare-oriented-cell"),o=e("cell-orientation");t.exports=function(e){e.sort(i);for(var t=e.length,n=0,a=0;a<t;++a){var s=e[a],l=o(s);if(0!==l){if(n>0){var u=e[n-1];if(0===r(s,u)&&o(u)!==l){n-=1;continue}}e[n++]=s}}return e.length=n,e}},{"cell-orientation":56,"compare-cell":71,"compare-oriented-cell":72}],316:[function(e,t,n){"use strict";var r,i="";t.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(r!==e||"undefined"==typeof r)r=e,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&t>1;)1&t&&(i+=e),t>>=1,e+=e;return i=(i+=e).substr(0,n)}},{}],317:[function(e,n,r){(function(e){n.exports=e.performance&&e.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],318:[function(e,t,n){"use strict";t.exports=function(e){for(var t=e.length,n=e[e.length-1],r=t,i=t-2;i>=0;--i){var o=n;(l=(s=e[i])-((n=o+s)-o))&&(e[--r]=n,n=l)}var a=0;for(i=r;i<t;++i){var s,l;(l=(s=n)-((n=(o=e[i])+s)-o))&&(e[a++]=l)}return e[a++]=n,e.length=a,e}},{}],319:[function(e,t,n){"use strict";var r=e("two-product"),i=e("robust-sum"),o=e("robust-scale"),a=e("robust-compress");function s(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function l(e){if(2===e.length)return["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("");for(var t=[],n=0;n<e.length;++n)t.push(["scale(",l(s(e,n)),",",(r=n,1&r?"-":""),e[0][n],")"].join(""));return function e(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var n=t.length>>1;return["sum(",e(t.slice(0,n)),",",e(t.slice(n)),")"].join("")}(t);var r}function u(e){return new Function("sum","scale","prod","compress",["function robustDeterminant",e,"(m){return compress(",l(function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m[",n,"][",r,"]"].join("")}return t}(e)),")};return robustDeterminant",e].join(""))(i,o,r,a)}var c=[function(){return[0]},function(e){return[e[0][0]]}];!function(){for(;c.length<6;)c.push(u(c.length));for(var e=[],n=["function robustDeterminant(m){switch(m.length){"],r=0;r<6;++r)e.push("det"+r),n.push("case ",r,":return det",r,"(m);");n.push("}var det=CACHE[m.length];if(!det)det=CACHE[m.length]=gen(m.length);return det(m);}return robustDeterminant"),e.push("CACHE","gen",n.join(""));var i=Function.apply(void 0,e);for(t.exports=i.apply(void 0,c.concat([c,u])),r=0;r<c.length;++r)t.exports[r]=c[r]}()},{"robust-compress":318,"robust-scale":325,"robust-sum":328,"two-product":347}],320:[function(e,t,n){"use strict";var r=e("two-product"),i=e("robust-sum");t.exports=function(e,t){for(var n=r(e[0],t[0]),o=1;o<e.length;++o)n=i(n,r(e[o],t[o]));return n}},{"robust-sum":328,"two-product":347}],321:[function(e,t,n){"use strict";var r=e("two-product"),i=e("robust-sum"),o=e("robust-subtract"),a=e("robust-scale");function s(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function l(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",l(e.slice(0,t)),",",l(e.slice(t)),")"].join("")}function u(e,t){if("m"===e.charAt(0)){if("w"===t.charAt(0)){var n=e.split("[");return["w",t.substr(1),"m",n[0].substr(1)].join("")}return["prod(",e,",",t,")"].join("")}return u(t,e)}function c(e){if(2===e.length)return[["diff(",u(e[0][0],e[1][1]),",",u(e[1][0],e[0][1]),")"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",l(c(s(e,n))),",",(r=n,!0&r?"-":""),e[0][n],")"].join(""));return t;var r}function f(e,t){for(var n=[],r=0;r<t-2;++r)n.push(["prod(m",e,"[",r,"],m",e,"[",r,"])"].join(""));return l(n)}function d(e){for(var t=[],n=[],u=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-2,"]"].join("")}return t}(e),d=0;d<e;++d)u[0][d]="1",u[e-1][d]="w"+d;for(d=0;d<e;++d)0==(1&d)?t.push.apply(t,c(s(u,d))):n.push.apply(n,c(s(u,d)));var h=l(t),p=l(n),m="exactInSphere"+e,g=[];for(d=0;d<e;++d)g.push("m"+d);var v=["function ",m,"(",g.join(),"){"];for(d=0;d<e;++d){v.push("var w",d,"=",f(d,e),";");for(var y=0;y<e;++y)y!==d&&v.push("var w",d,"m",y,"=scale(w",d,",m",y,"[0]);")}return v.push("var p=",h,",n=",p,",d=diff(p,n);return d[d.length-1];}return ",m),new Function("sum","diff","prod","scale",v.join(""))(i,o,r,a)}var h=[function(){return 0},function(){return 0},function(){return 0}];!function(){for(;h.length<=6;)h.push(d(h.length));for(var e=[],n=["slow"],r=0;r<=6;++r)e.push("a"+r),n.push("o"+r);var i=["function testInSphere(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=6;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),n.push(i.join(""));var o=Function.apply(void 0,n);for(t.exports=o.apply(void 0,[function(e){var t=h[e.length];return t||(t=h[e.length]=d(e.length)),t.apply(void 0,e)}].concat(h)),r=0;r<=6;++r)t.exports[r]=h[r]}()},{"robust-scale":325,"robust-subtract":327,"robust-sum":328,"two-product":347}],322:[function(e,t,n){"use strict";var r=e("robust-determinant");function i(e){for(var t="robustLinearSolve"+e+"d",n=["function ",t,"(A,b){return ["],i=0;i<e;++i){n.push("det([");for(var o=0;o<e;++o){o>0&&n.push(","),n.push("[");for(var a=0;a<e;++a)a>0&&n.push(","),a===i?n.push("+b[",o,"]"):n.push("+A[",o,"][",a,"]");n.push("]")}n.push("]),")}return n.push("det(A)]}return ",t),new Function("det",n.join(""))(e<6?r[e]:r)}var o=[function(){return[0]},function(e,t){return[[t[0]],[e[0][0]]]}];!function(){for(;o.length<6;)o.push(i(o.length));for(var e=[],n=["function dispatchLinearSolve(A,b){switch(A.length){"],r=0;r<6;++r)e.push("s"+r),n.push("case ",r,":return s",r,"(A,b);");n.push("}var s=CACHE[A.length];if(!s)s=CACHE[A.length]=g(A.length);return s(A,b)}return dispatchLinearSolve"),e.push("CACHE","g",n.join(""));var a=Function.apply(void 0,e);for(t.exports=a.apply(void 0,o.concat([o,i])),r=0;r<6;++r)t.exports[r]=o[r]}()},{"robust-determinant":319}],323:[function(e,t,n){"use strict";var r=e("two-product"),i=e("robust-sum"),o=e("robust-scale"),a=e("robust-subtract");function s(e,t){for(var n=new Array(e.length-1),r=1;r<e.length;++r)for(var i=n[r-1]=new Array(e.length-1),o=0,a=0;o<e.length;++o)o!==t&&(i[a++]=e[r][o]);return n}function l(e){if(1===e.length)return e[0];if(2===e.length)return["sum(",e[0],",",e[1],")"].join("");var t=e.length>>1;return["sum(",l(e.slice(0,t)),",",l(e.slice(t)),")"].join("")}function u(e){if(2===e.length)return[["sum(prod(",e[0][0],",",e[1][1],"),prod(-",e[0][1],",",e[1][0],"))"].join("")];for(var t=[],n=0;n<e.length;++n)t.push(["scale(",l(u(s(e,n))),",",(r=n,1&r?"-":""),e[0][n],")"].join(""));return t;var r}function c(e){for(var t=[],n=[],c=function(e){for(var t=new Array(e),n=0;n<e;++n){t[n]=new Array(e);for(var r=0;r<e;++r)t[n][r]=["m",r,"[",e-n-1,"]"].join("")}return t}(e),f=[],d=0;d<e;++d)0==(1&d)?t.push.apply(t,u(s(c,d))):n.push.apply(n,u(s(c,d))),f.push("m"+d);var h=l(t),p=l(n),m="orientation"+e+"Exact",g=["function ",m,"(",f.join(),"){var p=",h,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",m].join("");return new Function("sum","prod","scale","sub",g)(i,r,o,a)}var f=c(3),d=c(4),h=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r,i=(e[1]-n[1])*(t[0]-n[0]),o=(e[0]-n[0])*(t[1]-n[1]),a=i-o;if(i>0){if(o<=0)return a;r=i+o}else{if(!(i<0))return a;if(o>=0)return a;r=-(i+o)}var s=33306690738754716e-32*r;return a>=s||a<=-s?a:f(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],o=t[0]-r[0],a=n[0]-r[0],s=e[1]-r[1],l=t[1]-r[1],u=n[1]-r[1],c=e[2]-r[2],f=t[2]-r[2],h=n[2]-r[2],p=o*u,m=a*l,g=a*s,v=i*u,y=i*l,b=o*s,x=c*(p-m)+f*(g-v)+h*(y-b),_=7771561172376103e-31*((Math.abs(p)+Math.abs(m))*Math.abs(c)+(Math.abs(g)+Math.abs(v))*Math.abs(f)+(Math.abs(y)+Math.abs(b))*Math.abs(h));return x>_||-x>_?x:d(e,t,n,r)}];!function(){for(;h.length<=5;)h.push(c(h.length));for(var e=[],n=["slow"],r=0;r<=5;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=5;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var o=Function.apply(void 0,n);for(t.exports=o.apply(void 0,[function(e){var t=h[e.length];return t||(t=h[e.length]=c(e.length)),t.apply(void 0,e)}].concat(h)),r=0;r<=5;++r)t.exports[r]=h[r]}()},{"robust-scale":325,"robust-subtract":327,"robust-sum":328,"two-product":347}],324:[function(e,t,n){"use strict";var r=e("robust-sum"),i=e("robust-scale");t.exports=function(e,t){if(1===e.length)return i(t,e[0]);if(1===t.length)return i(e,t[0]);if(0===e.length||0===t.length)return[0];var n=[0];if(e.length<t.length)for(var o=0;o<e.length;++o)n=r(n,i(t,e[o]));else for(o=0;o<t.length;++o)n=r(n,i(e,t[o]));return n}},{"robust-scale":325,"robust-sum":328}],325:[function(e,t,n){"use strict";var r=e("two-product"),i=e("two-sum");t.exports=function(e,t){var n=e.length;if(1===n){var o=r(e[0],t);return o[0]?o:[o[1]]}var a=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(e[0],t,s),s[0]&&(a[u++]=s[0]);for(var c=1;c<n;++c){r(e[c],t,l);var f=s[1];i(f,l[0],s),s[0]&&(a[u++]=s[0]);var d=l[1],h=s[1],p=d+h,m=h-(p-d);s[1]=p,m&&(a[u++]=m)}return s[1]&&(a[u++]=s[1]),0===u&&(a[u++]=0),a.length=u,a}},{"two-product":347,"two-sum":348}],326:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){var o=r(e,n,i),a=r(t,n,i);if(o>0&&a>0||o<0&&a<0)return!1;var s=r(n,e,t),l=r(i,e,t);return!(s>0&&l>0||s<0&&l<0)&&(0!==o||0!==a||0!==s||0!==l||function(e,t,n,r){for(var i=0;i<2;++i){var o=e[i],a=t[i],s=Math.min(o,a),l=Math.max(o,a),u=n[i],c=r[i],f=Math.min(u,c);if(Math.max(u,c)<s||l<f)return!1}return!0}(e,t,n,i))};var r=e("robust-orientation")[3]},{"robust-orientation":323}],327:[function(e,t,n){"use strict";t.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],-t[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=e[l],d=c(f),h=-t[u],p=c(h);d<p?(o=f,(l+=1)<n&&(d=c(f=e[l]))):(o=h,(u+=1)<r&&(p=c(h=-t[u]))),l<n&&d<p||u>=r?(i=f,(l+=1)<n&&(d=c(f=e[l]))):(i=h,(u+=1)<r&&(p=c(h=-t[u])));for(var m,g,v=i+o,y=v-i,b=o-y,x=b,_=v;l<n&&u<r;)d<p?(i=f,(l+=1)<n&&(d=c(f=e[l]))):(i=h,(u+=1)<r&&(p=c(h=-t[u]))),(b=(o=x)-(y=(v=i+o)-i))&&(a[s++]=b),x=_-((m=_+v)-(g=m-_))+(v-g),_=m;for(;l<n;)(b=(o=x)-(y=(v=(i=f)+o)-i))&&(a[s++]=b),x=_-((m=_+v)-(g=m-_))+(v-g),_=m,(l+=1)<n&&(f=e[l]);for(;u<r;)(b=(o=x)-(y=(v=(i=h)+o)-i))&&(a[s++]=b),x=_-((m=_+v)-(g=m-_))+(v-g),_=m,(u+=1)<r&&(h=-t[u]);return x&&(a[s++]=x),_&&(a[s++]=_),s||(a[s++]=0),a.length=s,a}},{}],328:[function(e,t,n){"use strict";t.exports=function(e,t){var n=0|e.length,r=0|t.length;if(1===n&&1===r)return function(e,t){var n=e+t,r=n-e,i=e-(n-r)+(t-r);return i?[i,n]:[n]}(e[0],t[0]);var i,o,a=new Array(n+r),s=0,l=0,u=0,c=Math.abs,f=e[l],d=c(f),h=t[u],p=c(h);d<p?(o=f,(l+=1)<n&&(d=c(f=e[l]))):(o=h,(u+=1)<r&&(p=c(h=t[u]))),l<n&&d<p||u>=r?(i=f,(l+=1)<n&&(d=c(f=e[l]))):(i=h,(u+=1)<r&&(p=c(h=t[u])));for(var m,g,v=i+o,y=v-i,b=o-y,x=b,_=v;l<n&&u<r;)d<p?(i=f,(l+=1)<n&&(d=c(f=e[l]))):(i=h,(u+=1)<r&&(p=c(h=t[u]))),(b=(o=x)-(y=(v=i+o)-i))&&(a[s++]=b),x=_-((m=_+v)-(g=m-_))+(v-g),_=m;for(;l<n;)(b=(o=x)-(y=(v=(i=f)+o)-i))&&(a[s++]=b),x=_-((m=_+v)-(g=m-_))+(v-g),_=m,(l+=1)<n&&(f=e[l]);for(;u<r;)(b=(o=x)-(y=(v=(i=h)+o)-i))&&(a[s++]=b),x=_-((m=_+v)-(g=m-_))+(v-g),_=m,(u+=1)<r&&(h=t[u]);return x&&(a[s++]=x),_&&(a[s++]=_),s||(a[s++]=0),a.length=s,a}},{}],329:[function(e,t,n){"use strict";t.exports=function(e){return e<0?-1:e>0?1:0}},{}],330:[function(e,t,n){"use strict";t.exports=function(e){return i(r(e))};var r=e("boundary-cells"),i=e("reduce-simplicial-complex")},{"boundary-cells":39,"reduce-simplicial-complex":315}],331:[function(e,t,n){"use strict";t.exports=function(e,t,n,s){if(n=n||0,"undefined"==typeof s&&(s=function(e){for(var t=e.length,n=0,r=0;r<t;++r)n=0|Math.max(n,e[r].length);return n-1}(e)),0===e.length||s<1)return{cells:[],vertexIds:[],vertexWeights:[]};var l=function(e,t){for(var n=e.length,r=i.mallocUint8(n),o=0;o<n;++o)r[o]=e[o]<t|0;return r}(t,+n),u=function(e,t){for(var n=e.length,a=t*(t+1)/2*n|0,s=i.mallocUint32(2*a),l=0,u=0;u<n;++u)for(var c=e[u],f=(t=c.length,0);f<t;++f)for(var d=0;d<f;++d){var h=c[d],p=c[f];s[l++]=0|Math.min(h,p),s[l++]=0|Math.max(h,p)}o(r(s,[l/2|0,2]));var m=2;for(u=2;u<l;u+=2)s[u-2]===s[u]&&s[u-1]===s[u+1]||(s[m++]=s[u],s[m++]=s[u+1]);return r(s,[m/2|0,2])}(e,s),c=function(e,t,n,o){for(var a=e.data,s=e.shape[0],l=i.mallocDouble(s),u=0,c=0;c<s;++c){var f=a[2*c],d=a[2*c+1];if(n[f]!==n[d]){var h=t[f],p=t[d];a[2*u]=f,a[2*u+1]=d,l[u++]=(p-o)/(p-h)}}return e.shape[0]=u,r(l,[u])}(u,t,l,+n),f=function(e,t){var n=i.mallocInt32(2*t),r=e.shape[0],o=e.data;n[0]=0;for(var a=0,s=0;s<r;++s){var l=o[2*s];if(l!==a){for(n[2*a+1]=s;++a<l;)n[2*a]=s,n[2*a+1]=s;n[2*a]=s}}for(n[2*a+1]=r;++a<t;)n[2*a]=n[2*a+1]=r;return n}(u,0|t.length),d=a(s)(e,u.data,f,l),h=function(e){for(var t=0|e.shape[0],n=e.data,r=new Array(t),i=0;i<t;++i)r[i]=[n[2*i],n[2*i+1]];return r}(u),p=[].slice.call(c.data,0,c.shape[0]);return i.free(l),i.free(u.data),i.free(c.data),i.free(f),{cells:d,vertexIds:h,vertexWeights:p}};var r=e("ndarray"),i=e("typedarray-pool"),o=e("ndarray-sort"),a=e("./lib/codegen")},{"./lib/codegen":332,ndarray:287,"ndarray-sort":285,"typedarray-pool":349}],332:[function(e,t,n){"use strict";t.exports=function(e){var t=o[e];return t||(t=o[e]=function(e){var t=0,n=new Array(e+1);n[0]=[[]];for(var o=1;o<=e;++o)for(var a=n[o]=i(o),s=0;s<a.length;++s)t=Math.max(t,a[o].length);var l=["function B(C,E,i,j){","var a=Math.min(i,j)|0,b=Math.max(i,j)|0,l=C[2*a],h=C[2*a+1];","while(l<h){","var m=(l+h)>>1,v=E[2*m+1];","if(v===b){return m}","if(b<v){h=m}else{l=m+1}","}","return l;","};","function getContour",e,"d(F,E,C,S){","var n=F.length,R=[];","for(var i=0;i<n;++i){var c=F[i],l=c.length;"];function u(e){if(!(e.length<=0)){l.push("R.push(");for(var t=0;t<e.length;++t){var n=e[t];t>0&&l.push(","),l.push("[");for(var r=0;r<n.length;++r){var i=n[r];r>0&&l.push(","),l.push("B(C,E,c[",i[0],"],c[",i[1],"])")}l.push("]")}l.push(");")}}for(o=e+1;o>1;--o){o<e+1&&l.push("else "),l.push("if(l===",o,"){");var c=[];for(s=0;s<o;++s)c.push("(S[c["+s+"]]<<"+s+")");for(l.push("var M=",c.join("+"),";if(M===0||M===",(1<<o)-1,"){continue}switch(M){"),a=n[o-1],s=0;s<a.length;++s)l.push("case ",s,":"),u(a[s]),l.push("break;");l.push("}}")}return l.push("}return R;};return getContour",e,"d"),new Function("pool",l.join(""))(r)}(e)),t};var r=e("typedarray-pool"),i=e("marching-simplex-table"),o={}},{"marching-simplex-table":265,"typedarray-pool":349}],333:[function(e,t,n){"use strict";var r=e("bit-twiddle"),i=e("union-find");function o(e,t){var n=e.length,r=e.length-t.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:return(s=e[0]+e[1]-t[0]-t[1])||i(e[0],e[1])-i(t[0],t[1]);case 3:var o=e[0]+e[1],a=t[0]+t[1];if(s=o+e[2]-(a+t[2]))return s;var s,l=i(e[0],e[1]),u=i(t[0],t[1]);return(s=i(l,e[2])-i(u,t[2]))||i(l+e[2],o)-i(u+t[2],a);default:var c=e.slice(0);c.sort();var f=t.slice(0);f.sort();for(var d=0;d<n;++d)if(r=c[d]-f[d])return r;return 0}}function a(e,t){return o(e[0],t[0])}function s(e,t){if(t){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=[e[i],t[i]];for(r.sort(a),i=0;i<n;++i)e[i]=r[i][0],t[i]=r[i][1];return e}return e.sort(o),e}function l(e){if(0===e.length)return[];for(var t=1,n=e.length,r=1;r<n;++r){var i=e[r];if(o(i,e[r-1])){if(r===t){t++;continue}e[t++]=i}}return e.length=t,e}function u(e,t){for(var n=0,r=e.length-1,i=-1;n<=r;){var a=n+r>>1,s=o(e[a],t);s<=0?(0===s&&(i=a),n=a+1):s>0&&(r=a-1)}return i}function c(e,t){for(var n=new Array(e.length),i=0,a=n.length;i<a;++i)n[i]=[];for(var s=[],l=(i=0,t.length);i<l;++i)for(var c=t[i],f=c.length,d=1,h=1<<f;d<h;++d){s.length=r.popCount(d);for(var p=0,m=0;m<f;++m)d&1<<m&&(s[p++]=c[m]);var g=u(e,s);if(!(g<0))for(;n[g++].push(i),!(g>=e.length||0!==o(e[g],s)););}return n}function f(e,t){if(t<0)return[];for(var n=[],i=(1<<t+1)-1,o=0;o<e.length;++o)for(var a=e[o],l=i;l<1<<a.length;l=r.nextCombination(l)){for(var u=new Array(t+1),c=0,f=0;f<a.length;++f)l&1<<f&&(u[c++]=a[f]);n.push(u)}return s(n)}n.dimension=function(e){for(var t=0,n=Math.max,r=0,i=e.length;r<i;++r)t=n(t,e[r].length);return t-1},n.countVertices=function(e){for(var t=-1,n=Math.max,r=0,i=e.length;r<i;++r)for(var o=e[r],a=0,s=o.length;a<s;++a)t=n(t,o[a]);return t+1},n.cloneCells=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e[n].slice(0);return t},n.compareCells=o,n.normalize=s,n.unique=l,n.findCell=u,n.incidence=c,n.dual=function(e,t){if(!t)return c(l(f(e,0)),e);for(var n=new Array(t),r=0;r<t;++r)n[r]=[];r=0;for(var i=e.length;r<i;++r)for(var o=e[r],a=0,s=o.length;a<s;++a)n[o[a]].push(r);return n},n.explode=function(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0|i.length,a=1,l=1<<o;a<l;++a){for(var u=[],c=0;c<o;++c)a>>>c&1&&u.push(i[c]);t.push(u)}return s(t)},n.skeleton=f,n.boundary=function(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;++o){for(var l=new Array(i.length-1),u=0,c=0;u<a;++u)u!==o&&(l[c++]=i[u]);t.push(l)}return s(t)},n.connectedComponents=function(e,t){return t?function(e,t){for(var n=new i(t),r=0;r<e.length;++r)for(var o=e[r],a=0;a<o.length;++a)for(var s=a+1;s<o.length;++s)n.link(o[a],o[s]);var l=[],u=n.ranks;for(r=0;r<u.length;++r)u[r]=-1;for(r=0;r<e.length;++r){var c=n.find(e[r][0]);u[c]<0?(u[c]=l.length,l.push([e[r].slice(0)])):l[u[c]].push(e[r].slice(0))}return l}(e,t):function(e){for(var t=l(s(f(e,0))),n=new i(t.length),r=0;r<e.length;++r)for(var o=e[r],a=0;a<o.length;++a)for(var c=u(t,[o[a]]),d=a+1;d<o.length;++d)n.link(c,u(t,[o[d]]));var h=[],p=n.ranks;for(r=0;r<p.length;++r)p[r]=-1;for(r=0;r<e.length;++r){var m=n.find(u(t,[e[r][0]]));p[m]<0?(p[m]=h.length,h.push([e[r].slice(0)])):h[p[m]].push(e[r].slice(0))}return h}(e)}},{"bit-twiddle":37,"union-find":350}],334:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{dup:37}],335:[function(e,t,n){arguments[4][333][0].apply(n,arguments)},{"bit-twiddle":334,dup:333,"union-find":336}],336:[function(e,t,n){"use strict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}t.exports=r,r.prototype.length=function(){return this.roots.length},r.prototype.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},r.prototype.find=function(e){for(var t=this.roots;t[e]!==e;){var n=t[e];t[e]=t[n],e=n}return e},r.prototype.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var i=this.ranks,o=this.roots,a=i[n],s=i[r];a<s?o[n]=r:s<a?o[r]=n:(o[r]=n,++i[n])}}},{}],337:[function(e,t,n){"use strict";t.exports=function(e,t,n){for(var o=t.length,a=e.length,s=new Array(o),l=new Array(o),u=new Array(o),c=new Array(o),f=0;f<o;++f)s[f]=l[f]=-1,u[f]=1/0,c[f]=!1;for(f=0;f<a;++f){var d=e[f];if(2!==d.length)throw new Error("Input must be a graph");var h=d[1],p=d[0];-1!==l[p]?l[p]=-2:l[p]=h,-1!==s[h]?s[h]=-2:s[h]=p}function m(e){if(c[e])return 1/0;var n,i,o,a=s[e],u=l[e];return a<0||u<0?1/0:(n=t[e],i=t[a],o=t[u],Math.abs(r(n,i,o))/Math.sqrt(Math.pow(i[0]-o[0],2)+Math.pow(i[1]-o[1],2)))}function g(e,t){var n=M[e],r=M[t];M[e]=r,M[t]=n,T[n]=t,T[r]=e}function v(e){return u[M[e]]}function y(e){return 1&e?e-1>>1:(e>>1)-1}function b(e){for(var t=v(e);;){var n=t,r=2*e+1,i=2*(e+1),o=e;if(r<S){var a=v(r);a<n&&(o=r,n=a)}if(i<S&&v(i)<n&&(o=i),o===e)return e;g(e,o),e=o}}function x(e){for(var t=v(e);e>0;){var n=y(e);if(!(n>=0&&t<v(n)))return e;g(e,n),e=n}}function _(){if(S>0){var e=M[0];return g(0,S-1),S-=1,b(0),e}return-1}function w(e,t){var n=M[e];return u[n]===t?e:(u[n]=-1/0,x(e),_(),u[n]=t,x((S+=1)-1))}function k(e){if(!c[e]){c[e]=!0;var t=s[e],n=l[e];s[n]>=0&&(s[n]=t),l[t]>=0&&(l[t]=n),T[t]>=0&&w(T[t],m(t)),T[n]>=0&&w(T[n],m(n))}}var M=[],T=new Array(o);for(f=0;f<o;++f)(u[f]=m(f))<1/0?(T[f]=M.length,M.push(f)):T[f]=-1;var S=M.length;for(f=S>>1;f>=0;--f)b(f);for(;;){var E=_();if(E<0||u[E]>n)break;k(E)}var A=[];for(f=0;f<o;++f)c[f]||(T[f]=A.length,A.push(t[f].slice()));function O(e,t){if(e[t]<0)return t;var n=t,r=t;do{var i=e[r];if(!c[r]||i<0||i===r)break;if(i=e[r=i],!c[r]||i<0||i===r)break;r=i,n=e[n]}while(n!==r);for(var o=t;o!==r;o=e[o])e[o]=r;return r}A.length;var C=[];return e.forEach((function(e){var t=O(s,e[0]),n=O(l,e[1]);if(t>=0&&n>=0&&t!==n){var r=T[t],i=T[n];r!==i&&C.push([r,i])}})),i.unique(i.normalize(C)),{positions:A,edges:C}};var r=e("robust-orientation"),i=e("simplicial-complex")},{"robust-orientation":323,"simplicial-complex":335}],338:[function(e,t,n){"use strict";t.exports=function(e,t){var n,o,a,s;if(t[0][0]<t[1][0])n=t[0],o=t[1];else{if(!(t[0][0]>t[1][0]))return i(t,e);n=t[1],o=t[0]}if(e[0][0]<e[1][0])a=e[0],s=e[1];else{if(!(e[0][0]>e[1][0]))return-i(e,t);a=e[1],s=e[0]}var l=r(n,o,s),u=r(n,o,a);if(l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;if(l=r(s,a,o),u=r(s,a,n),l<0){if(u<=0)return l}else if(l>0){if(u>=0)return l}else if(u)return u;return o[0]-s[0]};var r=e("robust-orientation");function i(e,t){var n,i,o,a;if(t[0][0]<t[1][0])n=t[0],i=t[1];else{if(!(t[0][0]>t[1][0])){var s=Math.min(e[0][1],e[1][1]),l=Math.max(e[0][1],e[1][1]),u=Math.min(t[0][1],t[1][1]),c=Math.max(t[0][1],t[1][1]);return l<u?l-u:s>c?s-c:l-c}n=t[1],i=t[0]}e[0][1]<e[1][1]?(o=e[0],a=e[1]):(o=e[1],a=e[0]);var f=r(i,n,o);return f||(f=r(i,n,a))||a-i}},{"robust-orientation":323}],339:[function(e,t,n){"use strict";t.exports=function(e){for(var t=e.length,n=2*t,r=new Array(n),o=0;o<t;++o){var l=e[o],u=l[0][0]<l[1][0];r[2*o]=new f(l[0][0],l,u,o),r[2*o+1]=new f(l[1][0],l,!u,o)}r.sort((function(e,t){var n=e.x-t.x;return n||(n=e.create-t.create)||Math.min(e.segment[0][1],e.segment[1][1])-Math.min(t.segment[0][1],t.segment[1][1])}));var d=i(a),h=[],p=[],m=[];for(o=0;o<n;){for(var g=r[o].x,v=[];o<n;){var y=r[o];if(y.x!==g)break;o+=1,y.segment[0][0]===y.x&&y.segment[1][0]===y.x?y.create&&(y.segment[0][1]<y.segment[1][1]?(v.push(new c(y.segment[0][1],y.index,!0,!0)),v.push(new c(y.segment[1][1],y.index,!1,!1))):(v.push(new c(y.segment[1][1],y.index,!0,!1)),v.push(new c(y.segment[0][1],y.index,!1,!0)))):d=y.create?d.insert(y.segment,y.index):d.remove(y.segment)}h.push(d.root),p.push(g),m.push(v)}return new s(h,p,m)};var r=e("binary-search-bounds"),i=e("functional-red-black-tree"),o=e("robust-orientation"),a=e("./lib/order-segments");function s(e,t,n){this.slabs=e,this.coordinates=t,this.horizontal=n}function l(e,t){return e.y-t}function u(e,t){for(var n=null;e;){var r,i,a=e.key;a[0][0]<a[1][0]?(r=a[0],i=a[1]):(r=a[1],i=a[0]);var s=o(r,i,t);if(s<0)e=e.left;else if(s>0)if(t[0]!==a[1][0])n=e,e=e.right;else{if(l=u(e.right,t))return l;e=e.left}else{if(t[0]!==a[1][0])return e;var l;if(l=u(e.right,t))return l;e=e.left}}return n}function c(e,t,n,r){this.y=e,this.index=t,this.start=n,this.closed=r}function f(e,t,n,r){this.x=e,this.segment=t,this.create=n,this.index=r}s.prototype.castUp=function(e){var t=r.le(this.coordinates,e[0]);if(t<0)return-1;this.slabs[t];var n=u(this.slabs[t],e),i=-1;if(n&&(i=n.value),this.coordinates[t]===e[0]){var s=null;if(n&&(s=n.key),t>0){var c=u(this.slabs[t-1],e);c&&(s?a(c.key,s)>0&&(s=c.key,i=c.value):(i=c.value,s=c.key))}var f=this.horizontal[t];if(f.length>0){var d=r.ge(f,e[1],l);if(d<f.length){var h=f[d];if(e[1]===h.y){if(h.closed)return h.index;for(;d<f.length-1&&f[d+1].y===e[1];)if((h=f[d+=1]).closed)return h.index;if(h.y===e[1]&&!h.start){if((d+=1)>=f.length)return i;h=f[d]}}if(h.start)if(s){var p=o(s[0],s[1],[e[0],h.y]);s[0][0]>s[1][0]&&(p=-p),p>0&&(i=h.index)}else i=h.index;else h.y!==e[1]&&(i=h.index)}}}return i}},{"./lib/order-segments":338,"binary-search-bounds":36,"functional-red-black-tree":93,"robust-orientation":323}],340:[function(e,t,n){"use strict";var r=e("robust-dot-product"),i=e("robust-sum");function o(e,t){var n=i(r(e,t),[t[t.length-1]]);return n[n.length-1]}function a(e,t,n,r){var i=-t/(r-t);i<0?i=0:i>1&&(i=1);for(var o=1-i,a=e.length,s=new Array(a),l=0;l<a;++l)s[l]=i*e[l]+o*n[l];return s}t.exports=function(e,t){for(var n=[],r=[],i=o(e[e.length-1],t),s=e[e.length-1],l=e[0],u=0;u<e.length;++u,s=l){var c=o(l=e[u],t);if(i<0&&c>0||i>0&&c<0){var f=a(s,c,l,i);n.push(f),r.push(f.slice())}c<0?r.push(l.slice()):c>0?n.push(l.slice()):(n.push(l.slice()),r.push(l.slice())),i=c}return{positive:n,negative:r}},t.exports.positive=function(e,t){for(var n=[],r=o(e[e.length-1],t),i=e[e.length-1],s=e[0],l=0;l<e.length;++l,i=s){var u=o(s=e[l],t);(r<0&&u>0||r>0&&u<0)&&n.push(a(i,u,s,r)),u>=0&&n.push(s.slice()),r=u}return n},t.exports.negative=function(e,t){for(var n=[],r=o(e[e.length-1],t),i=e[e.length-1],s=e[0],l=0;l<e.length;++l,i=s){var u=o(s=e[l],t);(r<0&&u>0||r>0&&u<0)&&n.push(a(i,u,s,r)),u<=0&&n.push(s.slice()),r=u}return n}},{"robust-dot-product":320,"robust-sum":328}],341:[function(e,t,n){!function(){"use strict";var e={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function t(n){return function(n,r){var i,o,a,s,l,u,c,f,d,h=1,p=n.length,m="";for(o=0;o<p;o++)if("string"==typeof n[o])m+=n[o];else if("object"==typeof n[o]){if((s=n[o]).keys)for(i=r[h],a=0;a<s.keys.length;a++){if(null==i)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));i=i[s.keys[a]]}else i=s.param_no?r[s.param_no]:r[h++];if(e.not_type.test(s.type)&&e.not_primitive.test(s.type)&&i instanceof Function&&(i=i()),e.numeric_arg.test(s.type)&&"number"!=typeof i&&isNaN(i))throw new TypeError(t("[sprintf] expecting number but found %T",i));switch(e.number.test(s.type)&&(f=i>=0),s.type){case"b":i=parseInt(i,10).toString(2);break;case"c":i=String.fromCharCode(parseInt(i,10));break;case"d":case"i":i=parseInt(i,10);break;case"j":i=JSON.stringify(i,null,s.width?parseInt(s.width):0);break;case"e":i=s.precision?parseFloat(i).toExponential(s.precision):parseFloat(i).toExponential();break;case"f":i=s.precision?parseFloat(i).toFixed(s.precision):parseFloat(i);break;case"g":i=s.precision?String(Number(i.toPrecision(s.precision))):parseFloat(i);break;case"o":i=(parseInt(i,10)>>>0).toString(8);break;case"s":i=String(i),i=s.precision?i.substring(0,s.precision):i;break;case"t":i=String(!!i),i=s.precision?i.substring(0,s.precision):i;break;case"T":i=Object.prototype.toString.call(i).slice(8,-1).toLowerCase(),i=s.precision?i.substring(0,s.precision):i;break;case"u":i=parseInt(i,10)>>>0;break;case"v":i=i.valueOf(),i=s.precision?i.substring(0,s.precision):i;break;case"x":i=(parseInt(i,10)>>>0).toString(16);break;case"X":i=(parseInt(i,10)>>>0).toString(16).toUpperCase()}e.json.test(s.type)?m+=i:(!e.number.test(s.type)||f&&!s.sign?d="":(d=f?"+":"-",i=i.toString().replace(e.sign,"")),u=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",c=s.width-(d+i).length,l=s.width&&c>0?u.repeat(c):"",m+=s.align?d+i+l:"0"===u?d+l+i:l+d+i)}return m}(function(t){if(i[t])return i[t];for(var n,r=t,o=[],a=0;r;){if(null!==(n=e.text.exec(r)))o.push(n[0]);else if(null!==(n=e.modulo.exec(r)))o.push("%");else{if(null===(n=e.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(n[2]){a|=1;var s=[],l=n[2],u=[];if(null===(u=e.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=e.key_access.exec(l)))s.push(u[1]);else{if(null===(u=e.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(u[1])}n[2]=s}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}r=r.substring(n[0].length)}return i[t]=o}(n),arguments)}function r(e,n){return t.apply(null,[e].concat(n||[]))}var i=Object.create(null);"undefined"!=typeof n&&(n.sprintf=t,n.vsprintf=r),"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=r)}()},{}],342:[function(e,t,n){"use strict";t.exports=function(e,t){if(e.dimension<=0)return{positions:[],cells:[]};if(1===e.dimension)return function(e,t){for(var n=o(e,t),r=n.length,i=new Array(r),a=new Array(r),s=0;s<r;++s)i[s]=[n[s]],a[s]=[s];return{positions:i,cells:a}}(e,t);var n=e.order.join()+"-"+e.dtype,s=a[n];return t=+t||0,s||(s=a[n]=function(e,t){var n=e.length,o=["'use strict';"],a="surfaceNets"+e.join("_")+"d"+t;o.push("var contour=genContour({","order:[",e.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===t&&o.push("getters:[0],");for(var s=[],l=[],u=0;u<n;++u)s.push("d"+u),l.push("d"+u);for(u=0;u<1<<n;++u)s.push("v"+u),l.push("v"+u);for(u=0;u<1<<n;++u)s.push("p"+u),l.push("p"+u);s.push("a","b","c"),l.push("a","c"),o.push("vertex:function vertexFunc(",s.join(),"){");var c=[];for(u=0;u<1<<n;++u)c.push("(p"+u+"<<"+u+")");o.push("var m=(",c.join("+"),")|0;if(m===0||m===",(1<<(1<<n))-1,"){return}");var f=[],d=[];for(1<<(1<<n)<=128?(o.push("switch(m){"),d=o):o.push("switch(m>>>7){"),u=0;u<1<<(1<<n);++u){if(1<<(1<<n)>128&&u%128==0){f.length>0&&d.push("}}");var h="vExtra"+f.length;o.push("case ",u>>>7,":",h,"(m&0x7f,",l.join(),");break;"),d=["function ",h,"(m,",l.join(),"){switch(m){"],f.push(d)}d.push("case ",127&u,":");for(var p=new Array(n),m=new Array(n),g=new Array(n),v=new Array(n),y=0,b=0;b<n;++b)p[b]=[],m[b]=[],g[b]=0,v[b]=0;for(b=0;b<1<<n;++b)for(var x=0;x<n;++x){var _=b^1<<x;if(!(_>b)&&!(u&1<<_)!=!(u&1<<b)){var w=1;u&1<<_?m[x].push("v"+_+"-v"+b):(m[x].push("v"+b+"-v"+_),w=-w),w<0?(p[x].push("-v"+b+"-v"+_),g[x]+=2):(p[x].push("v"+b+"+v"+_),g[x]-=2),y+=1;for(var k=0;k<n;++k)k!==x&&(_&1<<k?v[k]+=1:v[k]-=1)}}var M=[];for(x=0;x<n;++x)if(0===p[x].length)M.push("d"+x+"-0.5");else{var T="";g[x]<0?T=g[x]+"*c":g[x]>0&&(T="+"+g[x]+"*c");var S=p[x].length/y*.5,E=.5+v[x]/y*.5;M.push("d"+x+"-"+E+"-"+S+"*("+p[x].join("+")+T+")/("+m[x].join("+")+")")}d.push("a.push([",M.join(),"]);","break;")}o.push("}},"),f.length>0&&d.push("}}");var A=[];for(u=0;u<1<<n-1;++u)A.push("v"+u);A.push("c0","c1","p0","p1","a","b","c"),o.push("cell:function cellFunc(",A.join(),"){");var O=i(n-1);for(o.push("if(p0){b.push(",O.map((function(e){return"["+e.map((function(e){return"v"+e}))+"]"})).join(),")}else{b.push(",O.map((function(e){var t=e.slice();return t.reverse(),"["+t.map((function(e){return"v"+e}))+"]"})).join(),")}}});function ",a,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",a,";"),u=0;u<f.length;++u)o.push(f[u].join(""));return new Function("genContour",o.join(""))(r)}(e.order,e.dtype)),s(e,t)};var r=e("ndarray-extract-contour"),i=e("triangulate-hypercube"),o=e("zero-crossings"),a={}},{"ndarray-extract-contour":276,"triangulate-hypercube":345,"zero-crossings":360}],343:[function(e,t,n){!function(e){var n=/^\s+/,r=/\s+$/,i=0,o=e.round,a=e.min,s=e.max,l=e.random;function u(t,l){if(l=l||{},(t=t||"")instanceof u)return t;if(!(this instanceof u))return new u(t,l);var c=function(t){var i,o,l,u={r:0,g:0,b:0},c=1,f=null,d=null,h=null,p=!1,m=!1;return"string"==typeof t&&(t=function(e){e=e.replace(n,"").replace(r,"").toLowerCase();var t,i=!1;if(E[e])e=E[e],i=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=B.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=B.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=B.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=B.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=B.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=B.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=B.hex8.exec(e))?{r:D(t[1]),g:D(t[2]),b:D(t[3]),a:I(t[4]),format:i?"name":"hex8"}:(t=B.hex6.exec(e))?{r:D(t[1]),g:D(t[2]),b:D(t[3]),format:i?"name":"hex"}:(t=B.hex4.exec(e))?{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),a:I(t[4]+""+t[4]),format:i?"name":"hex8"}:!!(t=B.hex3.exec(e))&&{r:D(t[1]+""+t[1]),g:D(t[2]+""+t[2]),b:D(t[3]+""+t[3]),format:i?"name":"hex"}}(t)),"object"==typeof t&&(U(t.r)&&U(t.g)&&U(t.b)?(i=t.r,o=t.g,l=t.b,u={r:255*C(i,255),g:255*C(o,255),b:255*C(l,255)},p=!0,m="%"===String(t.r).substr(-1)?"prgb":"rgb"):U(t.h)&&U(t.s)&&U(t.v)?(f=R(t.s),d=R(t.v),u=function(t,n,r){t=6*C(t,360),n=C(n,100),r=C(r,100);var i=e.floor(t),o=t-i,a=r*(1-n),s=r*(1-o*n),l=r*(1-(1-o)*n),u=i%6;return{r:255*[r,s,a,a,l,r][u],g:255*[l,r,r,s,a,a][u],b:255*[a,a,l,r,r,s][u]}}(t.h,f,d),p=!0,m="hsv"):U(t.h)&&U(t.s)&&U(t.l)&&(f=R(t.s),h=R(t.l),u=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=C(e,360),t=C(t,100),n=C(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(t.h,f,h),p=!0,m="hsl"),t.hasOwnProperty("a")&&(c=t.a)),c=O(c),{ok:p,format:t.format||m,r:a(255,s(u.r,0)),g:a(255,s(u.g,0)),b:a(255,s(u.b,0)),a:c}}(t);this._originalInput=t,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=o(100*this._a)/100,this._format=l.format||c.format,this._gradientType=l.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=c.ok,this._tc_id=i++}function c(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=s(e,t,n),l=a(e,t,n),u=(o+l)/2;if(o==l)r=i=0;else{var c=o-l;switch(i=u>.5?c/(2-o-l):c/(o+l),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,l:u}}function f(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=s(e,t,n),l=a(e,t,n),u=o,c=o-l;if(i=0===o?0:c/o,o==l)r=0;else{switch(o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,v:u}}function d(e,t,n,r){var i=[P(o(e).toString(16)),P(o(t).toString(16)),P(o(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function h(e,t,n,r){return[P(L(r)),P(o(e).toString(16)),P(o(t).toString(16)),P(o(n).toString(16))].join("")}function p(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s-=t/100,n.s=N(n.s),u(n)}function m(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.s+=t/100,n.s=N(n.s),u(n)}function g(e){return u(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l+=t/100,n.l=N(n.l),u(n)}function y(e,t){t=0===t?0:t||10;var n=u(e).toRgb();return n.r=s(0,a(255,n.r-o(-t/100*255))),n.g=s(0,a(255,n.g-o(-t/100*255))),n.b=s(0,a(255,n.b-o(-t/100*255))),u(n)}function b(e,t){t=0===t?0:t||10;var n=u(e).toHsl();return n.l-=t/100,n.l=N(n.l),u(n)}function x(e,t){var n=u(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,u(n)}function _(e){var t=u(e).toHsl();return t.h=(t.h+180)%360,u(t)}function w(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+120)%360,s:t.s,l:t.l}),u({h:(n+240)%360,s:t.s,l:t.l})]}function k(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+90)%360,s:t.s,l:t.l}),u({h:(n+180)%360,s:t.s,l:t.l}),u({h:(n+270)%360,s:t.s,l:t.l})]}function M(e){var t=u(e).toHsl(),n=t.h;return[u(e),u({h:(n+72)%360,s:t.s,l:t.l}),u({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=u(e).toHsl(),i=360/n,o=[u(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(u(r));return o}function S(e,t){t=t||6;for(var n=u(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(u({h:r,s:i,v:o})),o=(o+s)%1;return a}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var t,n,r,i=this.toRgb();return t=i.r/255,n=i.g/255,r=i.b/255,.2126*(t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=O(e),this._roundA=o(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=o(360*e.h),n=o(100*e.s),r=o(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var a=[P(o(e).toString(16)),P(o(t).toString(16)),P(o(n).toString(16)),P(L(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*C(this._r,255))+"%",g:o(100*C(this._g,255))+"%",b:o(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*C(this._r,255))+"%, "+o(100*C(this._g,255))+"%, "+o(100*C(this._b,255))+"%)":"rgba("+o(100*C(this._r,255))+"%, "+o(100*C(this._g,255))+"%, "+o(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+h(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=u(e);n="#"+h(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},u.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:R(e[r]));e=n}return u(e,t)},u.equals=function(e,t){return!(!e||!t)&&u(e).toRgbString()==u(t).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})},u.mix=function(e,t,n){n=0===n?0:n||50;var r=u(e).toRgb(),i=u(t).toRgb(),o=n/100;return u({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},u.readability=function(t,n){var r=u(t),i=u(n);return(e.max(r.getLuminance(),i.getLuminance())+.05)/(e.min(r.getLuminance(),i.getLuminance())+.05)},u.isReadable=function(e,t,n){var r,i,o=u.readability(e,t);switch(i=!1,(r=function(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},u.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=u.readability(e,t[c]))>l&&(l=r,s=u(t[c]));return u.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,u.mostReadable(e,["#fff","#000"],n))};var E=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=u.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(E);function O(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function C(t,n){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(t)&&(t="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(t);return t=a(n,s(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function N(e){return a(1,s(0,e))}function D(e){return parseInt(e,16)}function P(e){return 1==e.length?"0"+e:""+e}function R(e){return e<=1&&(e=100*e+"%"),e}function L(t){return e.round(255*parseFloat(t)).toString(16)}function I(e){return D(e)/255}var j,z,F,B=(z="[\\s|\\(]+("+(j="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",F="[\\s|\\(]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")[,|\\s]+("+j+")\\s*\\)?",{CSS_UNIT:new RegExp(j),rgb:new RegExp("rgb"+z),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+z),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+z),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function U(e){return!!B.CSS_UNIT.exec(e)}"undefined"!=typeof t&&t.exports?t.exports=u:window.tinycolor=u}(Math)},{}],344:[function(e,t,n){"use strict";var r=e("parse-unit");t.exports=a;var i=96;function o(e,t){var n=r(getComputedStyle(e).getPropertyValue(t));return n[0]*a(n[1],e)}function a(e,t){switch(t=t||document.body,e=(e||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return function(e,t){var n=document.createElement("div");n.style["font-size"]="128"+e,t.appendChild(n);var r=o(n,"font-size")/128;return t.removeChild(n),r}(e,t);case"em":return o(t,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},{"parse-unit":293}],345:[function(e,t,n){"use strict";t.exports=function(e){if(e<0)return[];if(0===e)return[[0]];for(var t=0|Math.round(o(e+1)),n=[],a=0;a<t;++a){for(var s=r.unrank(e,a),l=[0],u=0,c=0;c<s.length;++c)u+=1<<s[c],l.push(u);i(s)<1&&(l[0]=u,l[e]=0),n.push(l)}return n};var r=e("permutation-rank"),i=e("permutation-parity"),o=e("gamma")},{gamma:94,"permutation-parity":294,"permutation-rank":295}],346:[function(e,t,n){"use strict";t.exports=function(e){var t=(e=e||{}).center||[0,0,0],n=e.up||[0,1,0],r=e.right||f(n),i=e.radius||1,o=e.theta||0,c=e.phi||0;if(t=[].slice.call(t,0,3),n=[].slice.call(n,0,3),s(n,n),r=[].slice.call(r,0,3),s(r,r),"eye"in e){var h=e.eye,p=[h[0]-t[0],h[1]-t[1],h[2]-t[2]];a(r,p,n),u(r[0],r[1],r[2])<1e-6?r=f(n):s(r,r),i=u(p[0],p[1],p[2]);var m=l(n,p)/i,g=l(r,p)/i;c=Math.acos(m),o=Math.acos(g)}return i=Math.log(i),new d(e.zoomMin,e.zoomMax,t,n,r,i,o,c)};var r=e("filtered-vector"),i=e("gl-mat4/invert"),o=e("gl-mat4/rotate"),a=e("gl-vec3/cross"),s=e("gl-vec3/normalize"),l=e("gl-vec3/dot");function u(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))}function c(e){return Math.min(1,Math.max(-1,e))}function f(e){var t=Math.abs(e[0]),n=Math.abs(e[1]),r=Math.abs(e[2]),i=[0,0,0];t>Math.max(n,r)?i[2]=1:n>Math.max(t,r)?i[0]=1:i[1]=1;for(var o=0,a=0,l=0;l<3;++l)o+=e[l]*e[l],a+=i[l]*e[l];for(l=0;l<3;++l)i[l]-=a/o*e[l];return s(i,i),i}function d(e,t,n,i,o,a,s,l){this.center=r(n),this.up=r(i),this.right=r(o),this.radius=r([a]),this.angle=r([s,l]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(e,t),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var u=0;u<16;++u)this.computedMatrix[u]=.5;this.recalcMatrix(0)}var h=d.prototype;h.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},h.getDistanceLimits=function(e){var t=this.radius.bounds[0];return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},h.recalcMatrix=function(e){this.center.curve(e),this.up.curve(e),this.right.curve(e),this.radius.curve(e),this.angle.curve(e);for(var t=this.computedUp,n=this.computedRight,r=0,i=0,o=0;o<3;++o)i+=t[o]*n[o],r+=t[o]*t[o];var l=Math.sqrt(r),c=0;for(o=0;o<3;++o)n[o]-=t[o]*i/r,c+=n[o]*n[o],t[o]/=l;var f=Math.sqrt(c);for(o=0;o<3;++o)n[o]/=f;var d=this.computedToward;a(d,t,n),s(d,d);var h=Math.exp(this.computedRadius[0]),p=this.computedAngle[0],m=this.computedAngle[1],g=Math.cos(p),v=Math.sin(p),y=Math.cos(m),b=Math.sin(m),x=this.computedCenter,_=g*y,w=v*y,k=b,M=-g*b,T=-v*b,S=y,E=this.computedEye,A=this.computedMatrix;for(o=0;o<3;++o){var O=_*n[o]+w*d[o]+k*t[o];A[4*o+1]=M*n[o]+T*d[o]+S*t[o],A[4*o+2]=O,A[4*o+3]=0}var C=A[1],N=A[5],D=A[9],P=A[2],R=A[6],L=A[10],I=N*L-D*R,j=D*P-C*L,z=C*R-N*P,F=u(I,j,z);for(I/=F,j/=F,z/=F,A[0]=I,A[4]=j,A[8]=z,o=0;o<3;++o)E[o]=x[o]+A[2+4*o]*h;for(o=0;o<3;++o){c=0;for(var B=0;B<3;++B)c+=A[o+4*B]*E[B];A[12+o]=-c}A[15]=1},h.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n};var p=[0,0,0];h.rotate=function(e,t,n,r){if(this.angle.move(e,t,n),r){this.recalcMatrix(e);var i=this.computedMatrix;p[0]=i[2],p[1]=i[6],p[2]=i[10];for(var a=this.computedUp,s=this.computedRight,l=this.computedToward,u=0;u<3;++u)i[4*u]=a[u],i[4*u+1]=s[u],i[4*u+2]=l[u];for(o(i,i,r,p),u=0;u<3;++u)a[u]=i[4*u],s[u]=i[4*u+1];this.up.set(e,a[0],a[1],a[2]),this.right.set(e,s[0],s[1],s[2])}},h.pan=function(e,t,n,r){t=t||0,n=n||0,r=r||0,this.recalcMatrix(e);var i=this.computedMatrix,o=(Math.exp(this.computedRadius[0]),i[1]),a=i[5],s=i[9],l=u(o,a,s);o/=l,a/=l,s/=l;var c=i[0],f=i[4],d=i[8],h=c*o+f*a+d*s,p=u(c-=o*h,f-=a*h,d-=s*h),m=(c/=p)*t+o*n,g=(f/=p)*t+a*n,v=(d/=p)*t+s*n;this.center.move(e,m,g,v);var y=Math.exp(this.computedRadius[0]);y=Math.max(1e-4,y+r),this.radius.set(e,Math.log(y))},h.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},h.setMatrix=function(e,t,n,r){var o=1;"number"==typeof n&&(o=0|n),(o<0||o>3)&&(o=1);var a=(o+2)%3;t||(this.recalcMatrix(e),t=this.computedMatrix);var s=t[o],l=t[o+4],f=t[o+8];if(r){var d=Math.abs(s),h=Math.abs(l),p=Math.abs(f),m=Math.max(d,h,p);d===m?(s=s<0?-1:1,l=f=0):p===m?(f=f<0?-1:1,s=l=0):(l=l<0?-1:1,s=f=0)}else{var g=u(s,l,f);s/=g,l/=g,f/=g}var v,y,b=t[a],x=t[a+4],_=t[a+8],w=b*s+x*l+_*f,k=u(b-=s*w,x-=l*w,_-=f*w),M=l*(_/=k)-f*(x/=k),T=f*(b/=k)-s*_,S=s*x-l*b,E=u(M,T,S);if(M/=E,T/=E,S/=E,this.center.jump(e,V,W,Y),this.radius.idle(e),this.up.jump(e,s,l,f),this.right.jump(e,b,x,_),2===o){var A=t[1],O=t[5],C=t[9],N=A*b+O*x+C*_,D=A*M+O*T+C*S;v=I<0?-Math.PI/2:Math.PI/2,y=Math.atan2(D,N)}else{var P=t[2],R=t[6],L=t[10],I=P*s+R*l+L*f,j=P*b+R*x+L*_,z=P*M+R*T+L*S;v=Math.asin(c(I)),y=Math.atan2(z,j)}this.angle.jump(e,y,v),this.recalcMatrix(e);var F=t[2],B=t[6],U=t[10],H=this.computedMatrix;i(H,t);var q=H[15],V=H[12]/q,W=H[13]/q,Y=H[14]/q,G=Math.exp(this.computedRadius[0]);this.center.jump(e,V-F*G,W-B*G,Y-U*G)},h.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},h.idle=function(e){this.center.idle(e),this.up.idle(e),this.right.idle(e),this.radius.idle(e),this.angle.idle(e)},h.flush=function(e){this.center.flush(e),this.up.flush(e),this.right.flush(e),this.radius.flush(e),this.angle.flush(e)},h.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},h.lookAt=function(e,t,n,r){this.recalcMatrix(e),t=t||this.computedEye,n=n||this.computedCenter;var i=(r=r||this.computedUp)[0],o=r[1],a=r[2],s=u(i,o,a);if(!(s<1e-6)){i/=s,o/=s,a/=s;var l=t[0]-n[0],f=t[1]-n[1],d=t[2]-n[2],h=u(l,f,d);if(!(h<1e-6)){l/=h,f/=h,d/=h;var p=this.computedRight,m=p[0],g=p[1],v=p[2],y=i*m+o*g+a*v,b=u(m-=y*i,g-=y*o,v-=y*a);if(!(b<.01&&(b=u(m=o*d-a*f,g=a*l-i*d,v=i*f-o*l))<1e-6)){m/=b,g/=b,v/=b,this.up.set(e,i,o,a),this.right.set(e,m,g,v),this.center.set(e,n[0],n[1],n[2]),this.radius.set(e,Math.log(h));var x=o*v-a*g,_=a*m-i*v,w=i*g-o*m,k=u(x,_,w),M=i*l+o*f+a*d,T=m*l+g*f+v*d,S=(x/=k)*l+(_/=k)*f+(w/=k)*d,E=Math.asin(c(M)),A=Math.atan2(S,T),O=this.angle._state,C=O[O.length-1],N=O[O.length-2];C%=2*Math.PI;var D=Math.abs(C+2*Math.PI-A),P=Math.abs(C-A),R=Math.abs(C-2*Math.PI-A);D<P&&(C+=2*Math.PI),R<P&&(C-=2*Math.PI),this.angle.jump(this.angle.lastT(),C,N),this.angle.set(e,A,E)}}}}},{"filtered-vector":92,"gl-mat4/invert":125,"gl-mat4/rotate":130,"gl-vec3/cross":176,"gl-vec3/dot":181,"gl-vec3/normalize":198}],347:[function(e,t,n){"use strict";t.exports=function(e,t,n){var i=e*t,o=r*e,a=o-(o-e),s=e-a,l=r*t,u=l-(l-t),c=t-u,f=s*c-(i-a*u-s*u-a*c);return n?(n[0]=f,n[1]=i,n):[f,i]};var r=+(Math.pow(2,27)+1)},{}],348:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=e+t,i=r-e,o=t-i,a=e-(r-i);return n?(n[0]=a+o,n[1]=r,n):[a+o,r]}},{}],349:[function(e,n,r){(function(t,n){"use strict";var i=e("bit-twiddle"),o=e("dup");t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s=t.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var l=s.DATA,u=s.BUFFER;function c(e){if(e){var t=e.length||e.byteLength,n=i.log2(t);l[n].push(e)}}function f(e){e=i.nextPow2(e);var t=i.log2(e),n=l[t];return n.length>0?n.pop():new ArrayBuffer(e)}function d(e){return new Uint8Array(f(e),0,e)}function h(e){return new Uint16Array(f(2*e),0,e)}function p(e){return new Uint32Array(f(4*e),0,e)}function m(e){return new Int8Array(f(e),0,e)}function g(e){return new Int16Array(f(2*e),0,e)}function v(e){return new Int32Array(f(4*e),0,e)}function y(e){return new Float32Array(f(4*e),0,e)}function b(e){return new Float64Array(f(8*e),0,e)}function x(e){return a?new Uint8ClampedArray(f(e),0,e):d(e)}function _(e){return new DataView(f(e),0,e)}function w(e){e=i.nextPow2(e);var t=i.log2(e),r=u[t];return r.length>0?r.pop():new n(e)}r.free=function(e){if(n.isBuffer(e))u[i.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,r=0|i.log2(t);l[r].push(e)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=function(e){c(e.buffer)},r.freeArrayBuffer=c,r.freeBuffer=function(e){u[i.log2(e.length)].push(e)},r.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return f(e);switch(t){case"uint8":return d(e);case"uint16":return h(e);case"uint32":return p(e);case"int8":return m(e);case"int16":return g(e);case"int32":return v(e);case"float":case"float32":return y(e);case"double":case"float64":return b(e);case"uint8_clamped":return x(e);case"buffer":return w(e);case"data":case"dataview":return _(e);default:return null}return null},r.mallocArrayBuffer=f,r.mallocUint8=d,r.mallocUint16=h,r.mallocUint32=p,r.mallocInt8=m,r.mallocInt16=g,r.mallocInt32=v,r.mallocFloat32=r.mallocFloat=y,r.mallocFloat64=r.mallocDouble=b,r.mallocUint8Clamped=x,r.mallocDataView=_,r.mallocBuffer=w,r.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,l[e].length=0,u[e].length=0}}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"bit-twiddle":37,buffer:49,dup:87}],350:[function(e,t,n){"use strict";function r(e){this.roots=new Array(e),this.ranks=new Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}t.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},i.find=function(e){for(var t=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[t]!==e;){var r=n[t];n[t]=e,t=r}return e},i.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var i=this.ranks,o=this.roots,a=i[n],s=i[r];a<s?o[n]=r:s<a?o[r]=n:(o[r]=n,++i[n])}}},{}],351:[function(e,t,n){"use strict";t.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,i=e[0],o=e[0],a=1;a<r;++a)if(o=i,t(i=e[a],o)){if(a===n){n++;continue}e[n++]=i}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,r=e[0],i=e[0],o=1;o<n;++o,i=r)if(i=r,(r=e[o])!==i){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}(e))}},{}],352:[function(e,t,n){"use strict";t.exports=function(e,t){return"object"==typeof t&&null!==t||(t={}),r(e,t.canvas||i,t.context||o,t)};var r=e("./lib/vtext"),i=null,o=null;"undefined"!=typeof document&&((i=document.createElement("canvas")).width=8192,i.height=1024,o=i.getContext("2d"))},{"./lib/vtext":353}],353:[function(e,t,n){t.exports=function(e,t,n,r){var o=64,a=1.25,s={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return r&&(r.size&&r.size>0&&(o=r.size),r.lineSpacing&&r.lineSpacing>0&&(a=r.lineSpacing),r.styletags&&r.styletags.breaklines&&(s.breaklines=!!r.styletags.breaklines),r.styletags&&r.styletags.bolds&&(s.bolds=!!r.styletags.bolds),r.styletags&&r.styletags.italics&&(s.italics=!!r.styletags.italics),r.styletags&&r.styletags.subscripts&&(s.subscripts=!!r.styletags.subscripts),r.styletags&&r.styletags.superscripts&&(s.superscripts=!!r.styletags.superscripts)),n.font=[r.fontStyle,r.fontVariant,r.fontWeight,o+"px",r.font].filter((function(e){return e})).join(" "),n.textAlign="start",n.textBaseline="alphabetic",n.direction="ltr",w(function(e,t,n,r,o,a){n=n.replace(/\n/g,""),n=!0===a.breaklines?n.replace(/\<br\>/g,"\n"):n.replace(/\<br\>/g," ");var s="",l=[];for(k=0;k<n.length;++k)l[k]=s;!0===a.bolds&&(l=b(u,c,n,l)),!0===a.italics&&(l=b(f,d,n,l)),!0===a.superscripts&&(l=b(h,m,n,l)),!0===a.subscripts&&(l=b(g,y,n,l));var x=[],_="";for(k=0;k<n.length;++k)null!==l[k]&&(_+=n[k],x.push(l[k]));var w,k,M,T,S,E=_.split("\n"),A=E.length,O=Math.round(o*r),C=r,N=2*r,D=0,P=A*O+N;e.height<P&&(e.height=P),t.fillStyle="#000",t.fillRect(0,0,e.width,e.height),t.fillStyle="#fff";var R=0,L="";function I(){if(""!==L){var e=t.measureText(L).width;t.fillText(L,C+M,N+T),M+=e}}function j(){return Math.round(S)+"px "}function z(e,n){var r=""+t.font;if(!0===a.subscripts){var i=e.indexOf(v),o=n.indexOf(v),s=i>-1?parseInt(e[1+i]):0,l=o>-1?parseInt(n[1+o]):0;s!==l&&(r=r.replace(j(),"?px "),S*=Math.pow(.75,l-s),r=r.replace("?px ",j())),T+=.25*O*(l-s)}if(!0===a.superscripts){var u=e.indexOf(p),f=n.indexOf(p),h=u>-1?parseInt(e[1+u]):0,m=f>-1?parseInt(n[1+f]):0;h!==m&&(r=r.replace(j(),"?px "),S*=Math.pow(.75,m-h),r=r.replace("?px ",j())),T-=.25*O*(m-h)}if(!0===a.bolds){var g=e.indexOf(c)>-1,y=n.indexOf(c)>-1;!g&&y&&(r=b?r.replace("italic ","italic bold "):"bold "+r),g&&!y&&(r=r.replace("bold ",""))}if(!0===a.italics){var b=e.indexOf(d)>-1,x=n.indexOf(d)>-1;!b&&x&&(r="italic "+r),b&&!x&&(r=r.replace("italic ",""))}t.font=r}for(w=0;w<A;++w){var F=E[w]+"\n";for(M=0,T=w*O,S=r,L="",k=0;k<F.length;++k){var B=k+R<x.length?x[k+R]:x[x.length-1];s===B?L+=F[k]:(I(),L=F[k],void 0!==B&&(z(s,B),s=B))}I(),R+=F.length;var U=0|Math.round(M+2*C);D<U&&(D=U)}var H=D,q=N+O*A;return i(t.getImageData(0,0,H,q).data,[q,H,4]).pick(-1,-1,0).transpose(1,0)}(t,n,e,o,a,s),r,o)},t.exports.processPixels=w;var r=e("surface-nets"),i=e("ndarray"),o=e("simplify-planar-graph"),a=e("clean-pslg"),s=e("cdt2d"),l=e("planar-graph-to-polyline"),u="b",c="b|",f="i",d="i|",h="sup",p="+",m="+1",g="sub",v="-",y="-1";function b(e,t,n,r){for(var i="<"+e+">",o="</"+e+">",a=i.length,s=o.length,l=t[0]===p||t[0]===v,u=0,c=-s;u>-1&&-1!==(u=n.indexOf(i,u))&&-1!==(c=n.indexOf(o,u+a))&&!(c<=u);){for(var f=u;f<c+s;++f)if(f<u+a||f>=c)r[f]=null,n=n.substr(0,f)+" "+n.substr(f+1);else if(null!==r[f]){var d=r[f].indexOf(t[0]);-1===d?r[f]+=t:l&&(r[f]=r[f].substr(0,d+1)+(1+parseInt(r[f][d+1]))+r[f].substr(d+2))}var h=u+a,m=n.substr(h,c-h).indexOf(i);u=-1!==m?m:c+s}return r}function x(e,t){var n=r(e,128);return t?o(n.cells,n.positions,.25):{edges:n.cells,positions:n.positions}}function _(e,t,n,r){var i=x(e,r),o=function(e,t,n){for(var r=t.textAlign||"start",i=t.textBaseline||"alphabetic",o=[1<<30,1<<30],a=[0,0],s=e.length,l=0;l<s;++l)for(var u=e[l],c=0;c<2;++c)o[c]=0|Math.min(o[c],u[c]),a[c]=0|Math.max(a[c],u[c]);var f=0;switch(r){case"center":f=-.5*(o[0]+a[0]);break;case"right":case"end":f=-a[0];break;case"left":case"start":f=-o[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+r+"'")}var d=0;switch(i){case"hanging":case"top":d=-o[1];break;case"middle":d=-.5*(o[1]+a[1]);break;case"alphabetic":case"ideographic":d=-3*n;break;case"bottom":d=-a[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+i+"'")}var h=1/n;return"lineHeight"in t?h*=+t.lineHeight:"width"in t?h=t.width/(a[0]-o[0]):"height"in t&&(h=t.height/(a[1]-o[1])),e.map((function(e){return[h*(e[0]+f),h*(e[1]+d)]}))}(i.positions,t,n),u=i.edges,c="ccw"===t.orientation;if(a(o,u),t.polygons||t.polygon||t.polyline){for(var f=l(u,o),d=new Array(f.length),h=0;h<f.length;++h){for(var p=f[h],m=new Array(p.length),g=0;g<p.length;++g){for(var v=p[g],y=new Array(v.length),b=0;b<v.length;++b)y[b]=o[v[b]].slice();c&&y.reverse(),m[g]=y}d[h]=m}return d}return t.triangles||t.triangulate||t.triangle?{cells:s(o,u,{delaunay:!1,exterior:!1,interior:!0}),positions:o}:{edges:u,positions:o}}function w(e,t,n){try{return _(e,t,n,!0)}catch(e){}try{return _(e,t,n,!1)}catch(e){}return t.polygons||t.polyline||t.polygon?[]:t.triangles||t.triangulate||t.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},{cdt2d:50,"clean-pslg":60,ndarray:287,"planar-graph-to-polyline":298,"simplify-planar-graph":337,"surface-nets":342}],354:[function(e,t,n){!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=g);var e=!1;if("function"==typeof WeakMap){var n=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var r=new n,i=Object.freeze({});if(r.set(i,1),1===r.get(i))return void(t.exports=WeakMap);e=!0}}Object.prototype.hasOwnProperty;var o=Object.getOwnPropertyNames,a=Object.defineProperty,s=Object.isExtensible,l="weakmap:",u=l+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var c=new ArrayBuffer(25),f=new Uint8Array(c);crypto.getRandomValues(f),u=l+"rand:"+Array.prototype.map.call(f,(function(e){return(e%36).toString(36)})).join("")+"___"}if(a(Object,"getOwnPropertyNames",{value:function(e){return o(e).filter(v)}}),"getPropertyNames"in Object){var d=Object.getPropertyNames;a(Object,"getPropertyNames",{value:function(e){return d(e).filter(v)}})}!function(){var e=Object.freeze;a(Object,"freeze",{value:function(t){return y(t),e(t)}});var t=Object.seal;a(Object,"seal",{value:function(e){return y(e),t(e)}});var n=Object.preventExtensions;a(Object,"preventExtensions",{value:function(e){return y(e),n(e)}})}();var h=!1,p=0,m=function e(){this instanceof e||x();var t=[],n=[],r=p++;return Object.create(e.prototype,{get___:{value:b((function(e,i){var o,a=y(e);return a?r in a?a[r]:i:(o=t.indexOf(e))>=0?n[o]:i}))},has___:{value:b((function(e){var n=y(e);return n?r in n:t.indexOf(e)>=0}))},set___:{value:b((function(e,i){var o,a=y(e);return a?a[r]=i:(o=t.indexOf(e))>=0?n[o]=i:(o=t.length,n[o]=i,t[o]=e),this}))},delete___:{value:b((function(e){var i,o,a=y(e);return a?r in a&&delete a[r]:!((i=t.indexOf(e))<0||(o=t.length-1,t[i]=void 0,n[i]=n[o],t[i]=t[o],t.length=o,n.length=o,0))}))}})};m.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),"function"==typeof n?function(){function r(){this instanceof m||x();var t,r=new n,i=void 0,o=!1;return t=e?function(e,t){return r.set(e,t),r.has(e)||(i||(i=new m),i.set(e,t)),this}:function(e,t){if(o)try{r.set(e,t)}catch(n){i||(i=new m),i.set___(e,t)}else r.set(e,t);return this},Object.create(m.prototype,{get___:{value:b((function(e,t){return i?r.has(e)?r.get(e):i.get___(e,t):r.get(e,t)}))},has___:{value:b((function(e){return r.has(e)||!!i&&i.has___(e)}))},set___:{value:b(t)},delete___:{value:b((function(e){var t=!!r.delete(e);return i&&i.delete___(e)||t}))},permitHostObjects___:{value:b((function(e){if(e!==g)throw new Error("bogus call to permitHostObjects___");o=!0}))}})}e&&"undefined"!=typeof Proxy&&(Proxy=void 0),r.prototype=m.prototype,t.exports=r,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),t.exports=m)}function g(e){e.permitHostObjects___&&e.permitHostObjects___(g)}function v(e){return!(e.substr(0,l.length)==l&&"___"===e.substr(e.length-3))}function y(e){if(e!==Object(e))throw new TypeError("Not an object: "+e);var t=e[u];if(t&&t.key===e)return t;if(s(e)){t={key:e};try{return a(e,u,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch(e){return}}}function b(e){return e.prototype=null,Object.freeze(e)}function x(){h||"undefined"==typeof console||(h=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},{}],355:[function(e,t,n){var r=e("./hidden-store.js");t.exports=function(){var e={};return function(t){if(("object"!=typeof t||null===t)&&"function"!=typeof t)throw new Error("Weakmap-shim: Key must be object");var n=t.valueOf(e);return n&&n.identity===e?n:r(t,e)}}},{"./hidden-store.js":356}],356:[function(e,t,n){t.exports=function(e,t){var n={identity:t},r=e.valueOf;return Object.defineProperty(e,"valueOf",{value:function(e){return e!==t?r.apply(this,arguments):n},writable:!0}),n}},{}],357:[function(e,t,n){var r=e("./create-store.js");t.exports=function(){var e=r();return{get:function(t,n){var r=e(t);return r.hasOwnProperty("value")?r.value:n},set:function(t,n){return e(t).value=n,this},has:function(t){return"value"in e(t)},delete:function(t){return delete e(t).value}}}},{"./create-store.js":355}],358:[function(e,t,n){var r=e("get-canvas-context");t.exports=function(e){return r("webgl",e)}},{"get-canvas-context":95}],359:[function(e,t,n){t.exports=e("cwise-compiler")({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},{"cwise-compiler":78}],360:[function(e,t,n){"use strict";t.exports=function(e,t){var n=[];return t=+t||0,r(e.hi(e.shape[0]-1),n,t),n};var r=e("./lib/zc-core")},{"./lib/zc-core":359}],361:[function(e,t,n){"use strict";t.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],362:[function(e,t,n){"use strict";var r=e("./arrow_paths"),i=e("../../plots/font_attributes"),o=e("../../plots/cartesian/constants"),a=e("../../plot_api/plot_template").templatedArray;t.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:i({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",o.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:i({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../plot_api/plot_template":533,"../../plots/cartesian/constants":549,"../../plots/font_attributes":569,"./arrow_paths":361}],363:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("./draw").draw;function a(e){var t=e._fullLayout;r.filterVisible(t.annotations).forEach((function(t){var n=i.getFromId(e,t.xref),r=i.getFromId(e,t.yref);t._extremes={},n&&s(t,n),r&&s(t,r)}))}function s(e,t){var n,r=t._id,o=r.charAt(0),a=e[o],s=e["a"+o],l=e[o+"ref"],u=e["a"+o+"ref"],c=e["_"+o+"padplus"],f=e["_"+o+"padminus"],d={x:1,y:-1}[o]*e[o+"shift"],h=3*e.arrowsize*e.arrowwidth||0,p=h+d,m=h-d,g=3*e.startarrowsize*e.arrowwidth||0,v=g+d,y=g-d;if(u===l){var b=i.findExtremes(t,[t.r2c(a)],{ppadplus:p,ppadminus:m}),x=i.findExtremes(t,[t.r2c(s)],{ppadplus:Math.max(c,v),ppadminus:Math.max(f,y)});n={min:[b.min[0],x.min[0]],max:[b.max[0],x.max[0]]}}else v=s?v+s:v,y=s?y-s:y,n=i.findExtremes(t,[t.r2c(a)],{ppadplus:Math.max(c,p,v),ppadminus:Math.max(f,m,y)});e._extremes[r]=n}t.exports=function(e){var t=e._fullLayout;if(r.filterVisible(t.annotations).length&&e._fullData.length)return r.syncOrAsync([o,a],e)}},{"../../lib":497,"../../plots/cartesian/axes":543,"./draw":368}],364:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=e("../../plot_api/plot_template").arrayEditor;function a(e,t){var n,r,i,o,a,l,u,c=e._fullLayout.annotations,f=[],d=[],h=[],p=(t||[]).length;for(n=0;n<c.length;n++)if(o=(i=c[n]).clicktoshow){for(r=0;r<p;r++)if(l=(a=t[r]).xaxis,u=a.yaxis,l._id===i.xref&&u._id===i.yref&&l.d2r(a.x)===s(i._xclick,l)&&u.d2r(a.y)===s(i._yclick,u)){(i.visible?"onout"===o?d:h:f).push(n);break}r===p&&i.visible&&"onout"===o&&d.push(n)}return{on:f,off:d,explicitOff:h}}function s(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}t.exports={hasClickToShow:function(e,t){var n=a(e,t);return n.on.length>0||n.explicitOff.length>0},onClick:function(e,t){var n,s,l=a(e,t),u=l.on,c=l.off.concat(l.explicitOff),f={},d=e._fullLayout.annotations;if(u.length||c.length){for(n=0;n<u.length;n++)(s=o(e.layout,"annotations",d[u[n]])).modifyItem("visible",!0),r.extendFlat(f,s.getUpdateObj());for(n=0;n<c.length;n++)(s=o(e.layout,"annotations",d[c[n]])).modifyItem("visible",!1),r.extendFlat(f,s.getUpdateObj());return i.call("update",e,{},f)}}}},{"../../lib":497,"../../plot_api/plot_template":533,"../../registry":595}],365:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color");t.exports=function(e,t,n,o){o("opacity");var a=o("bgcolor"),s=o("bordercolor"),l=i.opacity(s);o("borderpad");var u=o("borderwidth"),c=o("showarrow");if(o("text",c?" ":n._dfltTitle.annotation),o("textangle"),r.coerceFont(o,"font",n.font),o("width"),o("align"),o("height")&&o("valign"),c){var f,d,h=o("arrowside");-1!==h.indexOf("end")&&(f=o("arrowhead"),d=o("arrowsize")),-1!==h.indexOf("start")&&(o("startarrowhead",f),o("startarrowsize",d)),o("arrowcolor",l?t.bordercolor:i.defaultLine),o("arrowwidth",2*(l&&u||1)),o("standoff"),o("startstandoff")}var p=o("hovertext"),m=n.hoverlabel||{};if(p){var g=o("hoverlabel.bgcolor",m.bgcolor||(i.opacity(a)?i.rgb(a):i.defaultLine)),v=o("hoverlabel.bordercolor",m.bordercolor||i.contrast(g));r.coerceFont(o,"hoverlabel.font",{family:m.font.family,size:m.font.size,color:m.font.color||v})}o("captureevents",!!p)}},{"../../lib":497,"../color":377}],366:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,o){t=t||{};var a="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(a||s)for(var l,u,c=e._fullLayout.annotations,f=t._id.charAt(0),d=0;d<c.length;d++)l=c[d],u="annotations["+d+"].",l[f+"ref"]===t._id&&h(f),l["a"+f+"ref"]===t._id&&h("a"+f);function h(e){var n=l[e],s=null;s=a?i(n,t.range):Math.pow(10,n),r(s)||(s=null),o(u+e,s)}}},{"../../lib/to_log_range":522,"fast-isnumeric":91}],367:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("./common_defaults"),s=e("./attributes");function l(e,t,n){function o(n,i){return r.coerce(e,t,s,n,i)}var l=o("visible"),u=o("clicktoshow");if(l||u){a(e,t,n,o);for(var c=t.showarrow,f=["x","y"],d=[-10,-30],h={_fullLayout:n},p=0;p<2;p++){var m=f[p],g=i.coerceRef(e,t,h,m,"","paper");if("paper"!==g&&i.getFromId(h,g)._annIndices.push(t._index),i.coercePosition(t,h,o,g,m,.5),c){var v="a"+m,y=i.coerceRef(e,t,h,v,"pixel");"pixel"!==y&&y!==g&&(y=t[v]="pixel");var b="pixel"===y?d[p]:.4;i.coercePosition(t,h,o,y,v,b)}o(m+"anchor"),o(m+"shift")}if(r.noneOrAll(e,t,["x","y"]),c&&r.noneOrAll(e,t,["ax","ay"]),u){var x=o("xclick"),_=o("yclick");t._xclick=void 0===x?t.x:i.cleanPosition(x,h,t.xref),t._yclick=void 0===_?t.y:i.cleanPosition(_,h,t.yref)}}}t.exports=function(e,t){o(e,t,{name:"annotations",handleItemDefaults:l})}},{"../../lib":497,"../../plots/array_container_defaults":539,"../../plots/cartesian/axes":543,"./attributes":362,"./common_defaults":365}],368:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../plots/plots"),a=e("../../lib"),s=e("../../plots/cartesian/axes"),l=e("../color"),u=e("../drawing"),c=e("../fx"),f=e("../../lib/svg_text_utils"),d=e("../../lib/setcursor"),h=e("../dragelement"),p=e("../../plot_api/plot_template").arrayEditor,m=e("./draw_arrow_head");function g(e,t){var n=e._fullLayout.annotations[t]||{},r=s.getFromId(e,n.xref),i=s.getFromId(e,n.yref);r&&r.setScale(),i&&i.setScale(),v(e,n,t,!1,r,i)}function v(e,t,n,o,s,g){var v,y,b=e._fullLayout,x=e._fullLayout._size,_=e._context.edits;o?(v="annotation-"+o,y=o+".annotations"):(v="annotation",y="annotations");var w=p(e.layout,y,t),k=w.modifyBase,M=w.modifyItem,T=w.getUpdateObj;b._infolayer.selectAll("."+v+'[data-index="'+n+'"]').remove();var S="clip"+b._uid+"_ann"+n;if(t._input&&!1!==t.visible){var E={x:{},y:{}},A=+t.textangle||0,O=b._infolayer.append("g").classed(v,!0).attr("data-index",String(n)).style("opacity",t.opacity),C=O.append("g").classed("annotation-text-g",!0),N=_[t.showarrow?"annotationTail":"annotationPosition"],D=t.captureevents||_.annotationText||N,P=C.append("g").style("pointer-events",D?"all":null).call(d,"pointer").on("click",(function(){e._dragging=!1,e.emit("plotly_clickannotation",q(r.event))}));t.hovertext&&P.on("mouseover",(function(){var n=t.hoverlabel,r=n.font,i=this.getBoundingClientRect(),o=e.getBoundingClientRect();c.loneHover({x0:i.left-o.left,x1:i.right-o.left,y:(i.top+i.bottom)/2-o.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:e})})).on("mouseout",(function(){c.loneUnhover(b._hoverlayer.node())}));var R=t.borderwidth,L=t.borderpad,I=R+L,j=P.append("rect").attr("class","bg").style("stroke-width",R+"px").call(l.stroke,t.bordercolor).call(l.fill,t.bgcolor),z=t.width||t.height,F=b._topclips.selectAll("#"+S).data(z?[0]:[]);F.enter().append("clipPath").classed("annclip",!0).attr("id",S).append("rect"),F.exit().remove();var B=t.font,U=b._meta?a.templateString(t.text,b._meta):t.text,H=P.append("text").classed("annotation-text",!0).text(U);_.annotationText?H.call(f.makeEditable,{delegate:P,gd:e}).call(V).on("edit",(function(n){t.text=n,this.call(V),M("text",n),s&&s.autorange&&k(s._name+".autorange",!0),g&&g.autorange&&k(g._name+".autorange",!0),i.call("_guiRelayout",e,T())})):H.call(V)}else r.selectAll("#"+S).remove();function q(e){var r={index:n,annotation:t._input,fullAnnotation:t,event:e};return o&&(r.subplotId=o),r}function V(n){return n.call(u.font,B).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),f.convertToTspans(n,e,W),n}function W(){var n=H.selectAll("a");1===n.size()&&n.text()===H.text()&&P.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(j.node());var r=P.select(".annotation-text-math-group"),c=!r.empty(),p=u.bBox((c?r:H).node()),v=p.width,y=p.height,w=t.width||v,D=t.height||y,L=Math.round(w+2*I),B=Math.round(D+2*I);function U(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var V=!1,W=["x","y"],Y=0;Y<W.length;Y++){var G,X,$,Z,K,J=W[Y],Q=t[J+"ref"]||J,ee=t["a"+J+"ref"],te={x:s,y:g}[J],ne=(A+("x"===J?0:-90))*Math.PI/180,re=L*Math.cos(ne),ie=B*Math.sin(ne),oe=Math.abs(re)+Math.abs(ie),ae=t[J+"anchor"],se=t[J+"shift"]*("x"===J?1:-1),le=E[J];if(te){var ue=te.r2fraction(t[J]);(ue<0||ue>1)&&(ee===Q?((ue=te.r2fraction(t["a"+J]))<0||ue>1)&&(V=!0):V=!0),G=te._offset+te.r2p(t[J]),Z=.5}else"x"===J?($=t[J],G=x.l+x.w*$):($=1-t[J],G=x.t+x.h*$),Z=t.showarrow?.5:$;if(t.showarrow){le.head=G;var ce=t["a"+J];K=re*U(.5,t.xanchor)-ie*U(.5,t.yanchor),ee===Q?(le.tail=te._offset+te.r2p(ce),X=K):(le.tail=G+ce,X=K+ce),le.text=le.tail+K;var fe=b["x"===J?"width":"height"];if("paper"===Q&&(le.head=a.constrain(le.head,1,fe-1)),"pixel"===ee){var de=-Math.max(le.tail-3,le.text),he=Math.min(le.tail+3,le.text)-fe;de>0?(le.tail+=de,le.text+=de):he>0&&(le.tail-=he,le.text-=he)}le.tail+=se,le.head+=se}else X=K=oe*U(Z,ae),le.text=G+K;le.text+=se,K+=se,X+=se,t["_"+J+"padplus"]=oe/2+X,t["_"+J+"padminus"]=oe/2-X,t["_"+J+"size"]=oe,t["_"+J+"shift"]=K}if(V)P.remove();else{var pe=0,me=0;if("left"!==t.align&&(pe=(w-v)*("center"===t.align?.5:1)),"top"!==t.valign&&(me=(D-y)*("middle"===t.valign?.5:1)),c)r.select("svg").attr({x:I+pe-1,y:I+me}).call(u.setClipUrl,z?S:null,e);else{var ge=I+me-p.top,ve=I+pe-p.left;H.call(f.positionText,ve,ge).call(u.setClipUrl,z?S:null,e)}F.select("rect").call(u.setRect,I,I,w,D),j.call(u.setRect,R/2,R/2,L-R,B-R),P.call(u.setTranslate,Math.round(E.x.text-L/2),Math.round(E.y.text-B/2)),C.attr({transform:"rotate("+A+","+E.x.text+","+E.y.text+")"});var ye,be=function(n,r){O.selectAll(".annotation-arrow-g").remove();var c=E.x.head,f=E.y.head,d=E.x.tail+n,p=E.y.tail+r,v=E.x.text+n,y=E.y.text+r,b=a.rotationXYMatrix(A,v,y),w=a.apply2DTransform(b),S=a.apply2DTransform2(b),N=+j.attr("width"),D=+j.attr("height"),R=v-.5*N,L=R+N,I=y-.5*D,z=I+D,F=[[R,I,R,z],[R,z,L,z],[L,z,L,I],[L,I,R,I]].map(S);if(!F.reduce((function(e,t){return e^!!a.segmentsIntersect(c,f,c+1e6,f+1e6,t[0],t[1],t[2],t[3])}),!1)){F.forEach((function(e){var t=a.segmentsIntersect(d,p,c,f,e[0],e[1],e[2],e[3]);t&&(d=t.x,p=t.y)}));var B=t.arrowwidth,U=t.arrowcolor,H=t.arrowside,q=O.append("g").style({opacity:l.opacity(U)}).classed("annotation-arrow-g",!0),V=q.append("path").attr("d","M"+d+","+p+"L"+c+","+f).style("stroke-width",B+"px").call(l.stroke,l.rgb(U));if(m(V,H,t),_.annotationPosition&&V.node().parentNode&&!o){var W=c,Y=f;if(t.standoff){var G=Math.sqrt(Math.pow(c-d,2)+Math.pow(f-p,2));W+=t.standoff*(d-c)/G,Y+=t.standoff*(p-f)/G}var X,$,Z=q.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(d-W)+","+(p-Y),transform:"translate("+W+","+Y+")"}).style("stroke-width",B+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");h.init({element:Z.node(),gd:e,prepFn:function(){var e=u.getTranslate(P);X=e.x,$=e.y,s&&s.autorange&&k(s._name+".autorange",!0),g&&g.autorange&&k(g._name+".autorange",!0)},moveFn:function(e,n){var r=w(X,$),i=r[0]+e,o=r[1]+n;P.call(u.setTranslate,i,o),M("x",s?s.p2r(s.r2p(t.x)+e):t.x+e/x.w),M("y",g?g.p2r(g.r2p(t.y)+n):t.y-n/x.h),t.axref===t.xref&&M("ax",s.p2r(s.r2p(t.ax)+e)),t.ayref===t.yref&&M("ay",g.p2r(g.r2p(t.ay)+n)),q.attr("transform","translate("+e+","+n+")"),C.attr({transform:"rotate("+A+","+i+","+o+")"})},doneFn:function(){i.call("_guiRelayout",e,T());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}};t.showarrow&&be(0,0),N&&h.init({element:P.node(),gd:e,prepFn:function(){ye=C.attr("transform")},moveFn:function(e,n){var r="pointer";if(t.showarrow)t.axref===t.xref?M("ax",s.p2r(s.r2p(t.ax)+e)):M("ax",t.ax+e),t.ayref===t.yref?M("ay",g.p2r(g.r2p(t.ay)+n)):M("ay",t.ay+n),be(e,n);else{if(o)return;var i,a;if(s)i=s.p2r(s.r2p(t.x)+e);else{var l=t._xsize/x.w,u=t.x+(t._xshift-t.xshift)/x.w-l/2;i=h.align(u+e/x.w,l,0,1,t.xanchor)}if(g)a=g.p2r(g.r2p(t.y)+n);else{var c=t._ysize/x.h,f=t.y-(t._yshift+t.yshift)/x.h-c/2;a=h.align(f-n/x.h,c,0,1,t.yanchor)}M("x",i),M("y",a),s&&g||(r=h.getCursor(s?.5:i,g?.5:a,t.xanchor,t.yanchor))}C.attr({transform:"translate("+e+","+n+")"+ye}),d(P,r)},clickFn:function(n,r){t.captureevents&&e.emit("plotly_clickannotation",q(r))},doneFn:function(){d(P),i.call("_guiRelayout",e,T());var t=document.querySelector(".js-notes-box-panel");t&&t.redraw(t.selectedObj)}})}}}t.exports={draw:function(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&g(e,n);return o.previousPromises(e)},drawOne:g,drawRaw:v}},{"../../lib":497,"../../lib/setcursor":516,"../../lib/svg_text_utils":520,"../../plot_api/plot_template":533,"../../plots/cartesian/axes":543,"../../plots/plots":586,"../../registry":595,"../color":377,"../dragelement":395,"../drawing":398,"../fx":415,"./draw_arrow_head":369,d3:82}],369:[function(e,t,n){"use strict";var r=e("d3"),i=e("../color"),o=e("./arrow_paths");t.exports=function(e,t,n){var a,s,l,u,c=e.node(),f=o[n.arrowhead||0],d=o[n.startarrowhead||0],h=(n.arrowwidth||1)*(n.arrowsize||1),p=(n.arrowwidth||1)*(n.startarrowsize||1),m=t.indexOf("start")>=0,g=t.indexOf("end")>=0,v=f.backoff*h+n.standoff,y=d.backoff*p+n.startstandoff;if("line"===c.nodeName){a={x:+e.attr("x1"),y:+e.attr("y1")},s={x:+e.attr("x2"),y:+e.attr("y2")};var b=a.x-s.x,x=a.y-s.y;if(u=(l=Math.atan2(x,b))+Math.PI,v&&y&&v+y>Math.sqrt(b*b+x*x))return void N();if(v){if(v*v>b*b+x*x)return void N();var _=v*Math.cos(l),w=v*Math.sin(l);s.x+=_,s.y+=w,e.attr({x2:s.x,y2:s.y})}if(y){if(y*y>b*b+x*x)return void N();var k=y*Math.cos(l),M=y*Math.sin(l);a.x-=k,a.y-=M,e.attr({x1:a.x,y1:a.y})}}else if("path"===c.nodeName){var T=c.getTotalLength(),S="";if(T<v+y)return void N();var E=c.getPointAtLength(0),A=c.getPointAtLength(.1);l=Math.atan2(E.y-A.y,E.x-A.x),a=c.getPointAtLength(Math.min(y,T)),S="0px,"+y+"px,";var O=c.getPointAtLength(T),C=c.getPointAtLength(T-.1);u=Math.atan2(O.y-C.y,O.x-C.x),s=c.getPointAtLength(Math.max(0,T-v)),S+=T-(S?y+v:v)+"px,"+T+"px",e.style("stroke-dasharray",S)}function N(){e.style("stroke-dasharray","0px,100px")}function D(t,o,a,s){t.path&&(t.noRotate&&(a=0),r.select(c.parentNode).append("path").attr({class:e.attr("class"),d:t.path,transform:"translate("+o.x+","+o.y+")"+(a?"rotate("+180*a/Math.PI+")":"")+"scale("+s+")"}).style({fill:i.rgb(n.arrowcolor),"stroke-width":0}))}m&&D(d,a,l,p),g&&D(f,s,u,h)}},{"../color":377,"./arrow_paths":361,d3:82}],370:[function(e,t,n){"use strict";var r=e("./draw"),i=e("./click");t.exports={moduleType:"component",name:"annotations",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("annotations"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":553,"./attributes":362,"./calc_autorange":363,"./click":364,"./convert_coords":366,"./defaults":367,"./draw":368}],371:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../plot_api/edit_types").overrideAll,o=e("../../plot_api/plot_template").templatedArray;t.exports=i(o("annotation",{visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":526,"../../plot_api/plot_template":533,"../annotations/attributes":362}],372:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes");function o(e,t){var n=t.fullSceneLayout.domain,o=t.fullLayout._size,a={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},r.extendFlat(e._xa,a),i.setConvert(e._xa),e._xa._offset=o.l+n.x[0]*o.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*o.w*(n.x[1]-n.x[0])},e._ya={},r.extendFlat(e._ya,a),i.setConvert(e._ya),e._ya._offset=o.t+(1-n.y[1])*o.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*o.h*(n.y[1]-n.y[0])}}t.exports=function(e){for(var t=e.fullSceneLayout.annotations,n=0;n<t.length;n++)o(t[n],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},{"../../lib":497,"../../plots/cartesian/axes":543}],373:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("../annotations/common_defaults"),s=e("./attributes");function l(e,t,n,o){function l(n,i){return r.coerce(e,t,s,n,i)}function u(e){var r=e+"axis",o={_fullLayout:{}};return o._fullLayout[r]=n[r],i.coercePosition(t,o,l,e,e,.5)}l("visible")&&(a(e,t,o.fullLayout,l),u("x"),u("y"),u("z"),r.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",l("xanchor"),l("yanchor"),l("xshift"),l("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",l("ax",-10),l("ay",-30),r.noneOrAll(e,t,["ax","ay"])))}t.exports=function(e,t,n){o(e,t,{name:"annotations",handleItemDefaults:l,fullLayout:n.fullLayout})}},{"../../lib":497,"../../plots/array_container_defaults":539,"../../plots/cartesian/axes":543,"../annotations/common_defaults":365,"./attributes":371}],374:[function(e,t,n){"use strict";var r=e("../annotations/draw").drawRaw,i=e("../../plots/gl3d/project"),o=["x","y","z"];t.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,a=t.annotations,s=0;s<a.length;s++){for(var l=a[s],u=!1,c=0;c<3;c++){var f=o[c],d=l[f],h=t[f+"axis"].r2fraction(d);if(h<0||h>1){u=!0;break}}u?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+s+'"]').remove():(l._pdata=i(e.glplot.cameraParams,[t.xaxis.r2l(l.x)*n[0],t.yaxis.r2l(l.y)*n[1],t.zaxis.r2l(l.z)*n[2]]),r(e.graphDiv,l,s,e.id,l._xa,l._ya))}}},{"../../plots/gl3d/project":581,"../annotations/draw":368}],375:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib");t.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),includeBasePlot:function(e,t){var n=r.subplotsRegistry.gl3d;if(n)for(var o=n.attrRegex,a=Object.keys(e),s=0;s<a.length;s++){var l=a[s];o.test(l)&&(e[l].annotations||[]).length&&(i.pushUnique(t._basePlotModules,n),i.pushUnique(t._subplots.gl3d,l))}},convert:e("./convert"),draw:e("./draw")}},{"../../lib":497,"../../registry":595,"./attributes":371,"./convert":372,"./defaults":373,"./draw":374}],376:[function(e,t,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],377:[function(e,t,n){"use strict";var r=e("tinycolor2"),i=e("fast-isnumeric"),o=t.exports={},a=e("./attributes");o.defaults=a.defaults;var s=o.defaultLine=a.defaultLine;o.lightLine=a.lightLine;var l=o.background=a.background;function u(e){if(i(e)||"string"!=typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),o="a"===t.charAt(3)&&4===r.length;if(!o&&3!==r.length)return e;for(var a=0;a<r.length;a++){if(!r[a].length)return e;if(r[a]=Number(r[a]),!(r[a]>=0))return e;if(3===a)r[a]>1&&(r[a]=1);else if(r[a]>=1)return e}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return o?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}o.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},o.rgb=function(e){return o.tinyRGB(r(e))},o.opacity=function(e){return e?r(e).getAlpha():0},o.addOpacity=function(e,t){var n=r(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},o.combine=function(e,t){var n=r(e).toRgb();if(1===n.a)return r(e).toRgbString();var i=r(t||l).toRgb(),o=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},a={r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a};return r(a).toRgbString()},o.contrast=function(e,t,n){var i=r(e);return 1!==i.getAlpha()&&(i=r(o.combine(e,l))),(i.isDark()?t?i.lighten(t):l:n?i.darken(n):s).toString()},o.stroke=function(e,t){var n=r(t);e.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(e,t){var n=r(t);e.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(e){if(e&&"object"==typeof e){var t,n,r,i,a=Object.keys(e);for(t=0;t<a.length;t++)if(i=e[r=a[t]],"color"===r.substr(r.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=u(i[n]);else e[r]=u(i);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=u(i[n][1]));else if(Array.isArray(i)){var s=i[0];if(!Array.isArray(s)&&s&&"object"==typeof s)for(n=0;n<i.length;n++)o.clean(i[n])}else i&&"object"==typeof i&&o.clean(i)}}},{"./attributes":376,"fast-isnumeric":91,tinycolor2:343}],378:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/layout_attributes"),i=e("../../plots/font_attributes"),o=e("../../lib/extend").extendFlat,a=e("../../plot_api/edit_types").overrideAll;t.exports=a({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:o({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:i({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,showexponent:r.showexponent,title:{text:{valType:"string"},font:i({}),side:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},_deprecated:{title:{valType:"string"},titlefont:i({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":491,"../../plot_api/edit_types":526,"../../plots/cartesian/layout_attributes":555,"../../plots/font_attributes":569}],379:[function(e,t,n){"use strict";t.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],380:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("../../plots/cartesian/tick_value_defaults"),a=e("../../plots/cartesian/tick_mark_defaults"),s=e("../../plots/cartesian/tick_label_defaults"),l=e("./attributes");t.exports=function(e,t,n){var u=i.newContainer(t,"colorbar"),c=e.colorbar||{};function f(e,t){return r.coerce(c,u,l,e,t)}var d=f("thicknessmode");f("thickness","fraction"===d?30/(n.width-n.margin.l-n.margin.r):30);var h=f("lenmode");f("len","fraction"===h?1:n.height-n.margin.t-n.margin.b),f("x"),f("xanchor"),f("xpad"),f("y"),f("yanchor"),f("ypad"),r.noneOrAll(c,u,["x","y"]),f("outlinecolor"),f("outlinewidth"),f("bordercolor"),f("borderwidth"),f("bgcolor"),o(c,u,f,"linear");var p={outerTicks:!1,font:n.font};s(c,u,f,"linear",p),a(c,u,f,"linear",p),f("title.text",n._dfltTitle.colorbar),r.coerceFont(f,"title.font",n.font),f("title.side")}},{"../../lib":497,"../../plot_api/plot_template":533,"../../plots/cartesian/tick_label_defaults":562,"../../plots/cartesian/tick_mark_defaults":563,"../../plots/cartesian/tick_value_defaults":564,"./attributes":378}],381:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../plots/cartesian/axes"),l=e("../dragelement"),u=e("../../lib"),c=e("../../lib/extend").extendFlat,f=e("../../lib/setcursor"),d=e("../drawing"),h=e("../color"),p=e("../titles"),m=e("../../lib/svg_text_utils"),g=e("../colorscale/helpers").flipScale,v=e("../../plots/cartesian/axis_defaults"),y=e("../../plots/cartesian/position_defaults"),b=e("../../plots/cartesian/layout_attributes"),x=e("../../constants/alignment"),_=x.LINE_SPACING,w=x.FROM_TL,k=x.FROM_BR,M=e("./constants").cn;t.exports={draw:function(e){var t=e._fullLayout._infolayer.selectAll("g."+M.colorbar).data(function(e){var t,n,r,i,o=e._fullLayout,a=e.calcdata,s=[];function l(e){return c(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function u(){"function"==typeof i.calc?i.calc(e,r,t):(t._fillgradient=n.reversescale?g(n.colorscale):n.colorscale,t._zrange=[n[i.min],n[i.max]])}for(var f=0;f<a.length;f++){var d=a[f],h=(r=d[0].trace)._module.colorbar;if(!0===r.visible&&h)for(var p=Array.isArray(h),m=p?h:[h],v=0;v<m.length;v++){var y=(i=m[v]).container;(n=y?r[y]:r)&&n.showscale&&((t=l(n.colorbar))._id="cb"+r.uid+(p&&y?"-"+y:""),t._traceIndex=r.index,t._propPrefix=(y?y+".":"")+"colorbar.",t._meta=r._meta,u(),s.push(t))}}for(var b in o._colorAxes)if((n=o[b]).showscale){var x=o._colorAxes[b];(t=l(n.colorbar))._id="cb"+b,t._propPrefix=b+".colorbar.",t._meta=o._meta,i={min:"cmin",max:"cmax"},"heatmap"!==x[0]&&(r=x[1],i.calc=r._module.colorbar.calc),u(),s.push(t)}return s}(e),(function(e){return e._id}));t.enter().append("g").attr("class",(function(e){return e._id})).classed(M.colorbar,!0),t.each((function(t){var n=r.select(this);u.ensureSingle(n,"rect",M.cbbg),u.ensureSingle(n,"g",M.cbfills),u.ensureSingle(n,"g",M.cblines),u.ensureSingle(n,"g",M.cbaxis,(function(e){e.classed(M.crisp,!0)})),u.ensureSingle(n,"g",M.cbtitleunshift,(function(e){e.append("g").classed(M.cbtitle,!0)})),u.ensureSingle(n,"rect",M.cboutline);var g=function(e,t,n){var a=n._fullLayout,l=a._size,f=t._fillcolor,g=t._line,x=t.title,T=x.side,S=t._zrange||r.extent(("function"==typeof f?f:g.color).domain()),E="function"==typeof g.color?g.color:function(){return g.color},A="function"==typeof f?f:function(){return f},O=t._levels,C=function(e,t,n){var r,i,o=t._levels,a=[],s=[],l=o.end+o.size/100,u=o.size,c=1.001*n[0]-.001*n[1],f=1.001*n[1]-.001*n[0];for(i=0;i<1e5&&(r=o.start+i*u,!(u>0?r>=l:r<=l));i++)r>c&&r<f&&a.push(r);if(t._fillgradient)s=[0];else if("function"==typeof t._fillcolor){var d=t._filllevels;if(d)for(l=d.end+d.size/100,u=d.size,i=0;i<1e5&&(r=d.start+i*u,!(u>0?r>=l:r<=l));i++)r>n[0]&&r<n[1]&&s.push(r);else(s=a.map((function(e){return e-o.size/2}))).push(s[s.length-1]+o.size)}else t._fillcolor&&"string"==typeof t._fillcolor&&(s=[0]);return o.size<0&&(a.reverse(),s.reverse()),{line:a,fill:s}}(0,t,S),N=C.fill,D=C.line,P=Math.round(t.thickness*("fraction"===t.thicknessmode?l.w:1)),R=P/l.w,L=Math.round(t.len*("fraction"===t.lenmode?l.h:1)),I=L/l.h,j=t.xpad/l.w,z=(t.borderwidth+t.outlinewidth)/2,F=t.ypad/l.h,B=Math.round(t.x*l.w+t.xpad),U=t.x-R*({middle:.5,right:1}[t.xanchor]||0),H=t.y+I*(({top:-.5,bottom:.5}[t.yanchor]||0)-.5),q=Math.round(l.h*(1-H)),V=q-L;t._lenFrac=I,t._thickFrac=R,t._xLeftFrac=U,t._yBottomFrac=H;var W=t._axis=function(e,t,n){var r=e._fullLayout,i={type:"linear",range:n,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:!0,anchor:"free",side:"right",position:1},o={type:"linear",_id:"y"+t._id},a={letter:"y",font:r.font,noHover:!0,noTickson:!0,calendar:r.calendar};function s(e,t){return u.coerce(i,o,b,e,t)}return v(i,o,s,a,r),y(i,o,s,a),o}(n,t,S);if(W.position=t.x+j+R,-1!==["top","bottom"].indexOf(T)&&(W.title.side=T,W.titlex=t.x+j,W.titley=H+("top"===x.side?I-F:F)),g.color&&"auto"===t.tickmode){W.tickmode="linear",W.tick0=O.start;var Y=O.size,G=u.constrain((q-V)/50,4,15)+1,X=(S[1]-S[0])/((t.nticks||G)*Y);if(X>1){var $=Math.pow(10,Math.floor(Math.log(X)/Math.LN10));Y*=$*u.roundUp(X/$,[2,5,10]),(Math.abs(O.start)/O.size+1e-6)%1<2e-6&&(W.tick0=0)}W.dtick=Y}W.domain=[H+F,H+I-F],W.setScale(),e.attr("transform","translate("+Math.round(l.l)+","+Math.round(l.t)+")");var Z,K=e.select("."+M.cbtitleunshift).attr("transform","translate(-"+Math.round(l.l)+",-"+Math.round(l.t)+")"),J=e.select("."+M.cbaxis),Q=0;function ee(r,i){var o={propContainer:W,propName:t._propPrefix+"title",traceIndex:t._traceIndex,_meta:t._meta,placeholder:a._dfltTitle.colorbar,containerGroup:e.select("."+M.cbtitle)},s="h"===r.charAt(0)?r.substr(1):"h"+r;e.selectAll("."+s+",."+s+"-math-group").remove(),p.draw(n,r,c(o,i||{}))}return u.syncOrAsync([o.previousPromises,function(){if(-1!==["top","bottom"].indexOf(T)){var e,n=l.l+(t.x+j)*l.w,r=W.title.font.size;e="top"===T?(1-(H+I-F))*l.h+l.t+3+.75*r:(1-(H+F))*l.h+l.t-3-.25*r,ee(W._id+"title",{attributes:{x:n,y:e,"text-anchor":"start"}})}},function(){if(-1!==["top","bottom"].indexOf(T)){var o=e.select("."+M.cbtitle),a=o.select("text"),c=[-t.outlinewidth/2,t.outlinewidth/2],f=o.select(".h"+W._id+"title-math-group").node(),h=15.6;if(a.node()&&(h=parseInt(a.node().style.fontSize,10)*_),f?(Q=d.bBox(f).height)>h&&(c[1]-=(Q-h)/2):a.node()&&!a.classed(M.jsPlaceholder)&&(Q=d.bBox(a.node()).height),Q){if(Q+=5,"top"===T)W.domain[1]-=Q/l.h,c[1]*=-1;else{W.domain[0]+=Q/l.h;var p=m.lineCount(a);c[1]+=(1-p)*h}o.attr("transform","translate("+c+")"),W.setScale()}}e.selectAll("."+M.cbfills+",."+M.cblines).attr("transform","translate(0,"+Math.round(l.h*(1-W.domain[1]))+")"),J.attr("transform","translate(0,"+Math.round(-l.t)+")");var v=e.select("."+M.cbfills).selectAll("rect."+M.cbfill).data(N);v.enter().append("rect").classed(M.cbfill,!0).style("stroke","none"),v.exit().remove();var y=S.map(W.c2p).map(Math.round).sort((function(e,t){return e-t}));v.each((function(e,o){var a=[0===o?S[0]:(N[o]+N[o-1])/2,o===N.length-1?S[1]:(N[o]+N[o+1])/2].map(W.c2p).map(Math.round);a[1]=u.constrain(a[1]+(a[1]>a[0])?1:-1,y[0],y[1]);var s=r.select(this).attr({x:B,width:Math.max(P,2),y:r.min(a),height:Math.max(r.max(a)-r.min(a),2)});if(t._fillgradient)d.gradient(s,n,t._id,"vertical",t._fillgradient,"fill");else{var l=A(e).replace("e-","");s.attr("fill",i(l).toHexString())}}));var b=e.select("."+M.cblines).selectAll("path."+M.cbline).data(g.color&&g.width?D:[]);b.enter().append("path").classed(M.cbline,!0),b.exit().remove(),b.each((function(e){r.select(this).attr("d","M"+B+","+(Math.round(W.c2p(e))+g.width/2%1)+"h"+P).call(d.lineGroupStyle,g.width,E(e),g.dash)})),J.selectAll("g."+W._id+"tick,path").remove();var x=B+P+(t.outlinewidth||0)/2-("outside"===t.ticks?1:0),w=s.calcTicks(W),k=s.makeTransFn(W),O=s.getTickSigns(W)[2];return s.drawTicks(n,W,{vals:"inside"===W.ticks?s.clipEnds(W,w):w,layer:J,path:s.makeTickPath(W,x,O),transFn:k}),s.drawLabels(n,W,{vals:w,layer:J,transFn:k,labelFns:s.makeLabelFns(W,x)})},function(){if(-1===["top","bottom"].indexOf(T)){var e=W.title.font.size,t=W._offset+W._length/2,i=l.l+(W.position||0)*l.w+("right"===W.side?10+e*(W.showticklabels?1:.5):-10-e*(W.showticklabels?.5:0));ee("h"+W._id+"title",{avoid:{selection:r.select(n).selectAll("g."+W._id+"tick"),side:T,offsetLeft:l.l,offsetTop:0,maxShift:a.width},attributes:{x:i,y:t,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}},o.previousPromises,function(){var r=P+t.outlinewidth/2+d.bBox(J.node()).width;if((Z=K.select("text")).node()&&!Z.classed(M.jsPlaceholder)){var i,a=K.select(".h"+W._id+"title-math-group").node();i=a&&-1!==["top","bottom"].indexOf(T)?d.bBox(a).width:d.bBox(K.node()).right-B-l.l,r=Math.max(r,i)}var s=2*t.xpad+r+t.borderwidth+t.outlinewidth/2,u=q-V;e.select("."+M.cbbg).attr({x:B-t.xpad-(t.borderwidth+t.outlinewidth)/2,y:V-z,width:Math.max(s,2),height:Math.max(u+2*z,2)}).call(h.fill,t.bgcolor).call(h.stroke,t.bordercolor).style("stroke-width",t.borderwidth),e.selectAll("."+M.cboutline).attr({x:B,y:V+t.ypad+("top"===T?Q:0),width:Math.max(P,2),height:Math.max(u-2*t.ypad-Q,2)}).call(h.stroke,t.outlinecolor).style({fill:"none","stroke-width":t.outlinewidth});var c=({center:.5,right:1}[t.xanchor]||0)*s;e.attr("transform","translate("+(l.l-c)+","+l.t+")");var f={},p=w[t.yanchor],m=k[t.yanchor];"pixels"===t.lenmode?(f.y=t.y,f.t=u*p,f.b=u*m):(f.t=f.b=0,f.yt=t.y+t.len*p,f.yb=t.y-t.len*m);var g=w[t.xanchor],v=k[t.xanchor];if("pixels"===t.thicknessmode)f.x=t.x,f.l=s*g,f.r=s*v;else{var y=s-P;f.l=y*g,f.r=y*v,f.xl=t.x-t.thickness*g,f.xr=t.x+t.thickness*v}o.autoMargin(n,t._id,f)}],n)}(n,t,e);g&&g.then&&(e._promises||[]).push(g),e._context.edits.colorbarPosition&&function(e,t,n){var r,i,o,s=n._fullLayout._size;l.init({element:e.node(),gd:n,prepFn:function(){r=e.attr("transform"),f(e)},moveFn:function(n,a){e.attr("transform",r+" translate("+n+","+a+")"),i=l.align(t._xLeftFrac+n/s.w,t._thickFrac,0,1,t.xanchor),o=l.align(t._yBottomFrac-a/s.h,t._lenFrac,0,1,t.yanchor);var u=l.getCursor(i,o,t.xanchor,t.yanchor);f(e,u)},doneFn:function(){if(f(e),void 0!==i&&void 0!==o){var r={};r[t._propPrefix+"x"]=i,r[t._propPrefix+"y"]=o,void 0!==t._traceIndex?a.call("_guiRestyle",n,r,t._traceIndex):a.call("_guiRelayout",n,r)}}})}(n,t,e)})),t.exit().each((function(t){o.autoMargin(e,t._id)})).remove(),t.order()}}},{"../../constants/alignment":471,"../../lib":497,"../../lib/extend":491,"../../lib/setcursor":516,"../../lib/svg_text_utils":520,"../../plots/cartesian/axes":543,"../../plots/cartesian/axis_defaults":545,"../../plots/cartesian/layout_attributes":555,"../../plots/cartesian/position_defaults":558,"../../plots/plots":586,"../../registry":595,"../color":377,"../colorscale/helpers":388,"../dragelement":395,"../drawing":398,"../titles":464,"./constants":379,d3:82,tinycolor2:343}],382:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e){return r.isPlainObject(e.colorbar)}},{"../../lib":497}],383:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"colorbar",attributes:e("./attributes"),supplyDefaults:e("./defaults"),draw:e("./draw").draw,hasColorbar:e("./has_colorbar")}},{"./attributes":378,"./defaults":380,"./draw":381,"./has_colorbar":382}],384:[function(e,t,n){"use strict";var r=e("../colorbar/attributes"),i=e("../../lib/regex").counter,o=e("./scales.js").scales;function a(e){return"`"+e+"`"}Object.keys(o),t.exports=function(e,t){e=e||"";var n,s=(t=t||{}).cLetter||"c",l=("onlyIfNumerical"in t?t.onlyIfNumerical:Boolean(e),"noScale"in t?t.noScale:"marker.line"===e),u="showScaleDflt"in t?t.showScaleDflt:"z"===s,c="string"==typeof t.colorscaleDflt?o[t.colorscaleDflt]:null,f=t.editTypeOverride||"",d=e?e+".":"";"colorAttr"in t?(n=t.colorAttr,t.colorAttr):a(d+(n={z:"z",c:"color"}[s]));var h=s+"auto",p=s+"min",m=s+"max",g=s+"mid",v=(a(d+h),a(d+p),a(d+m),{});v[p]=v[m]=void 0;var y={};y[h]=!1;var b={};return"color"===n&&(b.color={valType:"color",arrayOk:!0,editType:f||"style"},t.anim&&(b.color.anim=!0)),b[h]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},b[p]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:y},b[m]={valType:"number",dflt:null,editType:f||"plot",impliedEdits:y},b[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},b.colorscale={valType:"colorscale",editType:"calc",dflt:c,impliedEdits:{autocolorscale:!1}},b.autocolorscale={valType:"boolean",dflt:!1!==t.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},b.reversescale={valType:"boolean",dflt:!1,editType:"plot"},l||(b.showscale={valType:"boolean",dflt:u,editType:"calc"},b.colorbar=r),t.noColorAxis||(b.coloraxis={valType:"subplotid",regex:i("coloraxis"),dflt:null,editType:"calc"}),b}},{"../../lib/regex":512,"../colorbar/attributes":378,"./scales.js":392}],385:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("./helpers").extractOpts;t.exports=function(e,t,n){var a,s=e._fullLayout,l=n.vals,u=n.containerStr,c=u?i.nestedProperty(t,u).get():t,f=o(c),d=!1!==f.auto,h=f.min,p=f.max,m=f.mid,g=function(){return i.aggNums(Math.min,null,l)},v=function(){return i.aggNums(Math.max,null,l)};void 0===h?h=g():d&&(h=c._colorAx&&r(h)?Math.min(h,g()):g()),void 0===p?p=v():d&&(p=c._colorAx&&r(p)?Math.max(p,v()):v()),d&&void 0!==m&&(p-m>m-h?h=m-(p-m):p-m<m-h&&(p=m+(m-h))),h===p&&(h-=.5,p+=.5),f._sync("min",h),f._sync("max",p),f.autocolorscale&&(a=h*p<0?s.colorscale.diverging:h>=0?s.colorscale.sequential:s.colorscale.sequentialminus,f._sync("colorscale",a))}},{"../../lib":497,"./helpers":388,"fast-isnumeric":91}],386:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./helpers").hasColorscale,o=e("./helpers").extractOpts;t.exports=function(e,t){function n(e,t){var n=e["_"+t];void 0!==n&&(e[t]=n)}function a(e,i){var a=i.container?r.nestedProperty(e,i.container).get():e;if(a)if(a.coloraxis)a._colorAx=t[a.coloraxis];else{var s=o(a),l=s.auto;(l||void 0===s.min)&&n(a,i.min),(l||void 0===s.max)&&n(a,i.max),s.autocolorscale&&n(a,"colorscale")}}for(var s=0;s<e.length;s++){var l=e[s],u=l._module.colorbar;if(u)if(Array.isArray(u))for(var c=0;c<u.length;c++)a(l,u[c]);else a(l,u);i(l,"marker.line")&&a(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in t._colorAxes)a(t[f],{min:"cmin",max:"cmax"})}},{"../../lib":497,"./helpers":388}],387:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../colorbar/has_colorbar"),a=e("../colorbar/defaults"),s=e("./scales").isValid,l=e("../../registry").traceIs;function u(e,t){var n=t.slice(0,t.length-1);return t?i.nestedProperty(e,n).get()||{}:e}t.exports=function e(t,n,c,f,d){var h=d.prefix,p=d.cLetter,m="_module"in n,g=u(t,h),v=u(n,h),y=u(n._template||{},h)||{},b=function(){return delete t.coloraxis,delete n.coloraxis,e(t,n,c,f,d)};if(m){var x=c._colorAxes||{},_=f(h+"coloraxis");if(_){var w=l(n,"contour")&&i.nestedProperty(n,"contours.coloring").get()||"heatmap",k=x[_];return void(k?(k[2].push(b),k[0]!==w&&(k[0]=!1,i.warn(["Ignoring coloraxis:",_,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[_]=[w,n,[b]])}}var M=g[p+"min"],T=g[p+"max"],S=r(M)&&r(T)&&M<T;f(h+p+"auto",!S)?f(h+p+"mid"):(f(h+p+"min"),f(h+p+"max"));var E,A,O=g.colorscale,C=y.colorscale;void 0!==O&&(E=!s(O)),void 0!==C&&(E=!s(C)),f(h+"autocolorscale",E),f(h+"colorscale"),f(h+"reversescale"),"marker.line."!==h&&(h&&m&&(A=o(g)),f(h+"showscale",A)&&a(g,v,c))}},{"../../lib":497,"../../registry":595,"../colorbar/defaults":380,"../colorbar/has_colorbar":382,"./scales":392,"fast-isnumeric":91}],388:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),o=e("fast-isnumeric"),a=e("../../lib"),s=e("../color"),l=e("./scales").isValid,u=["showscale","autocolorscale","colorscale","reversescale","colorbar"],c=["min","max","mid","auto"];function f(e){var t,n,r,i=e._colorAx,o=i||e,a={};for(n=0;n<u.length;n++)a[r=u[n]]=o[r];if(i)for(t="c",n=0;n<c.length;n++)a[r=c[n]]=o["c"+r];else{var s;for(n=0;n<c.length;n++)(s="c"+(r=c[n]))in o?a[r]=o[s]:(s="z"+r)in o&&(a[r]=o[s]);t=s.charAt(0)}return a._sync=function(e,n){var r=-1!==c.indexOf(e)?t+e:e;o[r]=o["_"+r]=n},a}function d(e){for(var t=f(e),n=t.min,r=t.max,i=t.reversescale?h(t.colorscale):t.colorscale,o=i.length,a=new Array(o),s=new Array(o),l=0;l<o;l++){var u=i[l];a[l]=n+u[0]*(r-n),s[l]=u[1]}return{domain:a,range:s}}function h(e){for(var t=e.length,n=new Array(t),r=t-1,i=0;r>=0;r--,i++){var o=e[r];n[i]=[1-o[0],o[1]]}return n}function p(e,t){t=t||{};for(var n=e.domain,a=e.range,l=a.length,u=new Array(l),c=0;c<l;c++){var f=i(a[c]).toRgb();u[c]=[f.r,f.g,f.b,f.a]}var d,h=r.scale.linear().domain(n).range(u).clamp(!0),p=t.noNumericCheck,g=t.returnArray;return(d=p&&g?h:p?function(e){return m(h(e))}:g?function(e){return o(e)?h(e):i(e).isValid()?e:s.defaultLine}:function(e){return o(e)?m(h(e)):i(e).isValid()?e:s.defaultLine}).domain=h.domain,d.range=function(){return a},d}function m(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return i(t).toRgbString()}t.exports={hasColorscale:function(e,t,n){var r=t?a.nestedProperty(e,t).get()||{}:e,i=r[n||"color"],s=!1;if(a.isArrayOrTypedArray(i))for(var u=0;u<i.length;u++)if(o(i[u])){s=!0;break}return a.isPlainObject(r)&&(s||!0===r.showscale||o(r.cmin)&&o(r.cmax)||l(r.colorscale)||a.isPlainObject(r.colorbar))},extractOpts:f,extractScale:d,flipScale:h,makeColorScaleFunc:p,makeColorScaleFuncFromTrace:function(e,t){return p(d(e),t)}}},{"../../lib":497,"../color":377,"./scales":392,d3:82,"fast-isnumeric":91,tinycolor2:343}],389:[function(e,t,n){"use strict";var r=e("./scales"),i=e("./helpers");t.exports={moduleType:"component",name:"colorscale",attributes:e("./attributes"),layoutAttributes:e("./layout_attributes"),supplyLayoutDefaults:e("./layout_defaults"),handleDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc"),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:i.hasColorscale,extractOpts:i.extractOpts,extractScale:i.extractScale,flipScale:i.flipScale,makeColorScaleFunc:i.makeColorScaleFunc,makeColorScaleFuncFromTrace:i.makeColorScaleFuncFromTrace}},{"./attributes":384,"./calc":385,"./cross_trace_defaults":386,"./defaults":387,"./helpers":388,"./layout_attributes":390,"./layout_defaults":391,"./scales":392}],390:[function(e,t,n){"use strict";var r=e("../../lib/extend").extendFlat,i=e("./attributes"),o=e("./scales").scales;t.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:o.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:o.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:o.RdBu,editType:"calc"}},coloraxis:r({_isSubplotObj:!0,editType:"calc"},i("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":491,"./attributes":384,"./scales":392}],391:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("./layout_attributes"),a=e("./defaults");t.exports=function(e,t){function n(n,i){return r.coerce(e,t,o,n,i)}n("colorscale.sequential"),n("colorscale.sequentialminus"),n("colorscale.diverging");var s,l,u=t._colorAxes;function c(e,t){return r.coerce(s,l,o.coloraxis,e,t)}for(var f in u){var d=u[f];if(d[0])s=e[f]||{},(l=i.newContainer(t,f,"coloraxis"))._name=f,a(s,l,t,c,{prefix:"",cLetter:"c"});else{for(var h=0;h<d[2].length;h++)d[2][h]();delete t._colorAxes[f]}}}},{"../../lib":497,"../../plot_api/plot_template":533,"./defaults":387,"./layout_attributes":390}],392:[function(e,t,n){"use strict";var r=e("tinycolor2"),i={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},o=i.RdBu;function a(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!=+e[0][0]||1!=+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var i=e[n];if(2!==i.length||+i[0]<t||!r(i[1]).isValid())return!1;t=+i[0]}return!0}t.exports={scales:i,defaultScale:o,get:function(e,t){if(t||(t=o),!e)return t;function n(){try{e=i[e]||JSON.parse(e)}catch(n){e=t}}return"string"==typeof e&&(n(),"string"==typeof e&&n()),a(e)?e:t},isValid:function(e){return void 0!==i[e]||a(e)}}},{tinycolor2:343}],393:[function(e,t,n){"use strict";t.exports=function(e,t,n,r,i){var o=(e-n)/(r-n),a=o+t/(r-n),s=(o+a)/2;return"left"===i||"bottom"===i?o:"center"===i||"middle"===i?s:"right"===i||"top"===i?a:o<2/3-s?o:a>4/3-s?a:s}},{}],394:[function(e,t,n){"use strict";var r=e("../../lib"),i=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];t.exports=function(e,t,n,o){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===o?0:"middle"===o?1:"top"===o?2:r.constrain(Math.floor(3*t),0,2),i[t][e]}},{"../../lib":497}],395:[function(e,t,n){"use strict";var r=e("mouse-event-offset"),i=e("has-hover"),o=e("has-passive-events"),a=e("../../lib").removeElement,s=e("../../plots/cartesian/constants"),l=t.exports={};l.align=e("./align"),l.getCursor=e("./cursor");var u=e("./unhover");function c(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function f(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}l.unhover=u.wrapped,l.unhoverRaw=u.raw,l.init=function(e){var t,n,r,u,d,h,p,m,g=e.gd,v=1,y=g._context.doubleClickDelay,b=e.element;g._mouseDownTime||(g._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=_,o?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=_,b.addEventListener("touchstart",_,{passive:!1})):b.ontouchstart=_;var x=e.clampFn||function(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]};function _(o){g._dragged=!1,g._dragging=!0;var a=f(o);t=a[0],n=a[1],p=o.target,h=o,m=2===o.buttons||o.ctrlKey,"undefined"==typeof o.clientX&&"undefined"==typeof o.clientY&&(o.clientX=t,o.clientY=n),(r=(new Date).getTime())-g._mouseDownTime<y?v+=1:(v=1,g._mouseDownTime=r),e.prepFn&&e.prepFn(o,t,n),i&&!m?(d=c()).style.cursor=window.getComputedStyle(b).cursor:i||(d=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",k),document.addEventListener("touchend",k),!1!==e.dragmode&&(o.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("touchmove",w,{passive:!1}))}function w(r){r.preventDefault();var i=f(r),o=e.minDrag||s.MINDRAG,a=x(i[0]-t,i[1]-n,o),u=a[0],c=a[1];(u||c)&&(g._dragged=!0,l.unhover(g)),g._dragged&&e.moveFn&&!m&&(g._dragdata={element:b,dx:u,dy:c},e.moveFn(u,c))}function k(t){if(delete g._dragdata,!1!==e.dragmode&&(t.preventDefault(),document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",w)),document.removeEventListener("mouseup",k),document.removeEventListener("touchend",k),i?a(d):u&&(d.documentElement.style.cursor=u,u=null),g._dragging){if(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>y&&(v=Math.max(v-1,1)),g._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(v,h),!m){var n;try{n=new MouseEvent("click",t)}catch(e){var r=f(t);(n=document.createEvent("MouseEvents")).initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,r[0],r[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}p.dispatchEvent(n)}g._dragging=!1,g._dragged=!1}else g._dragged=!1}},l.coverSlip=c},{"../../lib":497,"../../plots/cartesian/constants":549,"./align":393,"./cursor":394,"./unhover":396,"has-hover":252,"has-passive-events":253,"mouse-event-offset":273}],396:[function(e,t,n){"use strict";var r=e("../../lib/events"),i=e("../../lib/throttle"),o=e("../../lib/dom").getGraphDiv,a=e("../fx/constants"),s=t.exports={};s.wrapped=function(e,t,n){(e=o(e))._fullLayout&&i.clear(e._fullLayout._uid+a.HOVERID),s.raw(e,t,n)},s.raw=function(e,t){var n=e._fullLayout,i=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&i&&e.emit("plotly_unhover",{event:t,points:i}))}},{"../../lib/dom":489,"../../lib/events":490,"../../lib/throttle":521,"../fx/constants":410}],397:[function(e,t,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},{}],398:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("tinycolor2"),a=e("../../registry"),s=e("../color"),l=e("../colorscale"),u=e("../../lib"),c=e("../../lib/svg_text_utils"),f=e("../../constants/xmlns_namespaces"),d=e("../../constants/alignment").LINE_SPACING,h=e("../../constants/interactions").DESELECTDIM,p=e("../../traces/scatter/subtypes"),m=e("../../traces/scatter/make_bubble_size_func"),g=t.exports={},v=e("../fx/helpers").appendArrayPointValue;g.font=function(e,t,n,r){u.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(s.fill,r)},g.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},g.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},g.setRect=function(e,t,n,r,i){e.call(g.setPosition,t,n).call(g.setSize,r,i)},g.translatePoint=function(e,t,n,r){var o=n.c2p(e.x),a=r.c2p(e.y);return!!(i(o)&&i(a)&&t.node())&&("text"===t.node().nodeName?t.attr("x",o).attr("y",a):t.attr("transform","translate("+o+","+a+")"),!0)},g.translatePoints=function(e,t,n){e.each((function(e){var i=r.select(this);g.translatePoint(e,i,t,n)}))},g.hideOutsideRangePoint=function(e,t,n,r,i,o){t.attr("display",n.isPtWithinRange(e,i)&&r.isPtWithinRange(e,o)?null:"none")},g.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,i=t.yaxis;e.each((function(t){var o=t[0].trace,s=o.xcalendar,l=o.ycalendar,u=a.traceIs(o,"bar-like")?".bartext":".point,.textpoint";e.selectAll(u).each((function(e){g.hideOutsideRangePoint(e,r.select(this),n,i,s,l)}))}))}},g.crispRound=function(e,t,n){return t&&i(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},g.singleLineStyle=function(e,t,n,r,i){t.style("fill","none");var o=(((e||[])[0]||{}).trace||{}).line||{},a=n||o.width||0,l=i||o.dash||"";s.stroke(t,r||o.color),g.dashLine(t,l,a)},g.lineGroupStyle=function(e,t,n,i){e.style("fill","none").each((function(e){var o=(((e||[])[0]||{}).trace||{}).line||{},a=t||o.width||0,l=i||o.dash||"";r.select(this).call(s.stroke,n||o.color).call(g.dashLine,l,a)}))},g.dashLine=function(e,t,n){n=+n||0,t=g.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},g.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},g.singleFillStyle=function(e){var t=(((r.select(e.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;t&&e.call(s.fill,t)},g.fillGroupStyle=function(e){e.style("stroke-width",0).each((function(e){var t=r.select(this);e[0].trace&&t.call(s.fill,e[0].trace.fillcolor)}))};var y=e("./symbol_defs");g.symbolNames=[],g.symbolFuncs=[],g.symbolNeedLines={},g.symbolNoDot={},g.symbolNoFill={},g.symbolList=[],Object.keys(y).forEach((function(e){var t=y[e];g.symbolList=g.symbolList.concat([t.n,e,t.n+100,e+"-open"]),g.symbolNames[t.n]=e,g.symbolFuncs[t.n]=t.f,t.needLine&&(g.symbolNeedLines[t.n]=!0),t.noDot?g.symbolNoDot[t.n]=!0:g.symbolList=g.symbolList.concat([t.n+200,e+"-dot",t.n+300,e+"-open-dot"]),t.noFill&&(g.symbolNoFill[t.n]=!0)}));var b=g.symbolNames.length,x="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";function _(e,t){var n=e%100;return g.symbolFuncs[n](t)+(e>=200?x:"")}g.symbolNumber=function(e){if("string"==typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),(e=g.symbolNames.indexOf(e))>=0&&(e+=t)}return e%100>=b||e>=400?0:Math.floor(Math.max(e,0))};var w={x1:1,x2:0,y1:0,y2:0},k={x1:0,x2:0,y1:1,y2:0},M=r.format("~.1f"),T={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:w},horizontalreversed:{node:"linearGradient",attrs:w,reversed:!0},vertical:{node:"linearGradient",attrs:k},verticalreversed:{node:"linearGradient",attrs:k,reversed:!0}};g.gradient=function(e,t,n,i,a,l){for(var c=a.length,f=T[i],d=new Array(c),h=0;h<c;h++)f.reversed?d[c-1-h]=[M(100*(1-a[h][0])),a[h][1]]:d[h]=[M(100*a[h][0]),a[h][1]];var p="g"+t._fullLayout._uid+"-"+n,m=t._fullLayout._defs.select(".gradients").selectAll("#"+p).data([i+d.join(";")],u.identity);m.exit().remove(),m.enter().append(f.node).each((function(){var e=r.select(this);f.attrs&&e.attr(f.attrs),e.attr("id",p);var t=e.selectAll("stop").data(d);t.exit().remove(),t.enter().append("stop"),t.each((function(e){var t=o(e[1]);r.select(this).attr({offset:e[0]+"%","stop-color":s.tinyRGB(t),"stop-opacity":t.getAlpha()})}))})),e.style(l,L(p,t)).style(l+"-opacity",null)},g.initGradients=function(e){u.ensureSingle(e._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove()},g.pointStyle=function(e,t,n){if(e.size()){var i=g.makePointStyleFns(t);e.each((function(e){g.singlePointStyle(e,r.select(this),t,i,n)}))}},g.singlePointStyle=function(e,t,n,r,i){var o=n.marker,a=o.line;if(t.style("opacity",r.selectedOpacityFn?r.selectedOpacityFn(e):void 0===e.mo?o.opacity:e.mo),r.ms2mrc){var l;l="various"===e.ms||"various"===o.size?3:r.ms2mrc(e.ms),e.mrc=l,r.selectedSizeFn&&(l=e.mrc=r.selectedSizeFn(e));var c=g.symbolNumber(e.mx||o.symbol)||0;e.om=c%200>=100,t.attr("d",_(c,l))}var f,d,h,p=!1;if(e.so)h=a.outlierwidth,d=a.outliercolor,f=o.outliercolor;else{var m=(a||{}).width;h=(e.mlw+1||m+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,d="mlc"in e?e.mlcc=r.lineScale(e.mlc):u.isArrayOrTypedArray(a.color)?s.defaultLine:a.color,u.isArrayOrTypedArray(o.color)&&(f=s.defaultLine,p=!0),f="mc"in e?e.mcc=r.markerScale(e.mc):o.color||"rgba(0,0,0,0)",r.selectedColorFn&&(f=r.selectedColorFn(e))}if(e.om)t.call(s.stroke,f).style({"stroke-width":(h||1)+"px",fill:"none"});else{t.style("stroke-width",(e.isBlank?0:h)+"px");var v=o.gradient,y=e.mgt;if(y?p=!0:y=v&&v.type,Array.isArray(y)&&(y=y[0],T[y]||(y=0)),y&&"none"!==y){var b=e.mgc;b?p=!0:b=v.color;var x=n.uid;p&&(x+="-"+e.i),g.gradient(t,i,x,y,[[0,b],[1,f]],"fill")}else s.fill(t,f);h&&s.stroke(t,d)}},g.makePointStyleFns=function(e){var t={},n=e.marker;return t.markerScale=g.tryColorscale(n,""),t.lineScale=g.tryColorscale(n,"line"),a.traceIs(e,"symbols")&&(t.ms2mrc=p.isBubble(e)?m(e):function(){return(n.size||6)/2}),e.selectedpoints&&u.extendFlat(t,g.makeSelectedPointStyleFns(e)),t},g.makeSelectedPointStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.marker||{},o=n.marker||{},s=r.marker||{},l=i.opacity,c=o.opacity,f=s.opacity,d=void 0!==c,p=void 0!==f;(u.isArrayOrTypedArray(l)||d||p)&&(t.selectedOpacityFn=function(e){var t=void 0===e.mo?i.opacity:e.mo;return e.selected?d?c:t:p?f:h*t});var m=i.color,g=o.color,v=s.color;(g||v)&&(t.selectedColorFn=function(e){var t=e.mcc||m;return e.selected?g||t:v||t});var y=i.size,b=o.size,x=s.size,_=void 0!==b,w=void 0!==x;return a.traceIs(e,"symbols")&&(_||w)&&(t.selectedSizeFn=function(e){var t=e.mrc||y/2;return e.selected?_?b/2:t:w?x/2:t}),t},g.makeSelectedTextStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.textfont||{},o=n.textfont||{},a=r.textfont||{},l=i.color,u=o.color,c=a.color;return t.selectedTextColorFn=function(e){var t=e.tc||l;return e.selected?u||t:c||(u?t:s.addOpacity(t,h))},t},g.selectedPointStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=g.makeSelectedPointStyleFns(t),i=t.marker||{},o=[];n.selectedOpacityFn&&o.push((function(e,t){e.style("opacity",n.selectedOpacityFn(t))})),n.selectedColorFn&&o.push((function(e,t){s.fill(e,n.selectedColorFn(t))})),n.selectedSizeFn&&o.push((function(e,t){var r=t.mx||i.symbol||0,o=n.selectedSizeFn(t);e.attr("d",_(g.symbolNumber(r),o)),t.mrc2=o})),o.length&&e.each((function(e){for(var t=r.select(this),n=0;n<o.length;n++)o[n](t,e)}))}},g.tryColorscale=function(e,t){var n=t?u.nestedProperty(e,t).get():e;if(n){var r=n.color;if((n.colorscale||n._colorAx)&&u.isArrayOrTypedArray(r))return l.makeColorScaleFuncFromTrace(n)}return u.identity};var S={start:1,end:-1,middle:0,bottom:1,top:-1};function E(e,t,n,i){var o=r.select(e.node().parentNode),a=-1!==t.indexOf("top")?"top":-1!==t.indexOf("bottom")?"bottom":"middle",s=-1!==t.indexOf("left")?"end":-1!==t.indexOf("right")?"start":"middle",l=i?i/.8+1:0,u=(c.lineCount(e)-1)*d+1,f=S[s]*l,h=.75*n+S[a]*l+(S[a]-1)*u*n/2;e.attr("text-anchor",s),o.attr("transform","translate("+f+","+h+")")}function A(e,t){var n=e.ts||t.textfont.size;return i(n)&&n>0?n:0}g.textPointStyle=function(e,t,n,i){if(e.size()){var o;if(t.selectedpoints){var a=g.makeSelectedTextStyleFns(t);o=a.selectedTextColorFn}var s=t.texttemplate;i&&(s=!1),e.each((function(e){var i=r.select(this),a=u.extractOption(e,t,s?"txt":"tx",s?"texttemplate":"text");if(a||0===a){if(s){var l={};v(l,t,e.i),a=u.texttemplateString(a,{},n._fullLayout._d3locale,l,e,t._meta||{})}var f=e.tp||t.textposition,d=A(e,t),h=o?o(e):e.tc||t.textfont.color;i.call(g.font,e.tf||t.textfont.family,d,h).text(a).call(c.convertToTspans,n).call(E,f,d,e.mrc)}else i.remove()}))}},g.selectedTextStyle=function(e,t){if(e.size()&&t.selectedpoints){var n=g.makeSelectedTextStyleFns(t);e.each((function(e){var i=r.select(this),o=n.selectedTextColorFn(e),a=e.tp||t.textposition,l=A(e,t);s.fill(i,o),E(i,a,l,e.mrc2||e.mrc)}))}};var O=.5;function C(e,t,n,i){var o=e[0]-t[0],a=e[1]-t[1],s=n[0]-t[0],l=n[1]-t[1],u=Math.pow(o*o+a*a,O/2),c=Math.pow(s*s+l*l,O/2),f=(c*c*o-u*u*s)*i,d=(c*c*a-u*u*l)*i,h=3*c*(u+c),p=3*u*(u+c);return[[r.round(t[0]+(h&&f/h),2),r.round(t[1]+(h&&d/h),2)],[r.round(t[0]-(p&&f/p),2),r.round(t[1]-(p&&d/p),2)]]}g.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],i=[];for(n=1;n<e.length-1;n++)i.push(C(e[n-1],e[n],e[n+1],t));for(r+="Q"+i[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+e[n];return r+"Q"+i[e.length-3][1]+" "+e[e.length-1]},g.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],i=e.length-1,o=[C(e[i],e[0],e[1],t)];for(n=1;n<i;n++)o.push(C(e[n-1],e[n],e[n+1],t));for(o.push(C(e[i-1],e[i],e[0],t)),n=1;n<=i;n++)r+="C"+o[n-1][1]+" "+o[n][0]+" "+e[n];return r+"C"+o[i][1]+" "+o[0][0]+" "+e[0]+"Z"};var N={hv:function(e,t){return"H"+r.round(t[0],2)+"V"+r.round(t[1],2)},vh:function(e,t){return"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},hvh:function(e,t){return"H"+r.round((e[0]+t[0])/2,2)+"V"+r.round(t[1],2)+"H"+r.round(t[0],2)},vhv:function(e,t){return"V"+r.round((e[1]+t[1])/2,2)+"H"+r.round(t[0],2)+"V"+r.round(t[1],2)}},D=function(e,t){return"L"+r.round(t[0],2)+","+r.round(t[1],2)};g.steps=function(e){var t=N[e]||D;return function(e){for(var n="M"+r.round(e[0][0],2)+","+r.round(e[0][1],2),i=1;i<e.length;i++)n+=t(e[i-1],e[i]);return n}},g.makeTester=function(){var e=u.ensureSingleById(r.select("body"),"svg","js-plotly-tester",(function(e){e.attr(f.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),t=u.ensureSingle(e,"path","js-reference-point",(function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));g.tester=e,g.testref=t},g.savedBBoxes={};var P=0;function R(e){var t=e.getAttribute("data-unformatted");if(null!==t)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}function L(e,t){if(!e)return null;var n=t._context;return"url('"+(n._exportedPlot?"":n._baseUrl||"")+"#"+e+"')"}g.bBox=function(e,t,n){var i,o,a;if(n||(n=R(e)),n){if(i=g.savedBBoxes[n])return u.extendFlat({},i)}else if(1===e.childNodes.length){var s=e.childNodes[0];if(n=R(s)){var l=+s.getAttribute("x")||0,f=+s.getAttribute("y")||0,d=s.getAttribute("transform");if(!d){var h=g.bBox(s,!1,n);return l&&(h.left+=l,h.right+=l),f&&(h.top+=f,h.bottom+=f),h}if(n+="~"+l+"~"+f+"~"+d,i=g.savedBBoxes[n])return u.extendFlat({},i)}}t?o=e:(a=g.tester.node(),o=e.cloneNode(!0),a.appendChild(o)),r.select(o).attr("transform",null).call(c.positionText,0,0);var p=o.getBoundingClientRect(),m=g.testref.node().getBoundingClientRect();t||a.removeChild(o);var v={height:p.height,width:p.width,left:p.left-m.left,top:p.top-m.top,right:p.right-m.left,bottom:p.bottom-m.top};return P>=1e4&&(g.savedBBoxes={},P=0),n&&(g.savedBBoxes[n]=v),P++,u.extendFlat({},v)},g.setClipUrl=function(e,t,n){e.attr("clip-path",L(t,n))},g.getTranslate=function(e){var t=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+t[0]||0,y:+t[1]||0}},g.setTranslate=function(e,t,n){var r=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[r]("transform")||"";return t=t||0,n=n||0,o=o.replace(/(\btranslate\(.*?\);?)/,"").trim(),o=(o+=" translate("+t+", "+n+")").trim(),e[i]("transform",o),o},g.getScale=function(e){var t=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,(function(e,t,n){return[t,n].join(" ")})).split(" ");return{x:+t[0]||1,y:+t[1]||1}},g.setScale=function(e,t,n){var r=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[r]("transform")||"";return t=t||1,n=n||1,o=o.replace(/(\bscale\(.*?\);?)/,"").trim(),o=(o+=" scale("+t+", "+n+")").trim(),e[i]("transform",o),o};var I=/\s*sc.*/;g.setPointGroupScale=function(e,t,n){if(t=t||1,n=n||1,e){var r=1===t&&1===n?"":" scale("+t+","+n+")";e.each((function(){var e=(this.getAttribute("transform")||"").replace(I,"");e=(e+=r).trim(),this.setAttribute("transform",e)}))}};var j=/translate\([^)]*\)\s*$/;g.setTextPointsScale=function(e,t,n){e&&e.each((function(){var e,i=r.select(this),o=i.select("text");if(o.node()){var a=parseFloat(o.attr("x")||0),s=parseFloat(o.attr("y")||0),l=(i.attr("transform")||"").match(j);e=1===t&&1===n?[]:["translate("+a+","+s+")","scale("+t+","+n+")","translate("+-a+","+-s+")"],l&&e.push(l),i.attr("transform",e.join(" "))}}))}},{"../../constants/alignment":471,"../../constants/interactions":475,"../../constants/xmlns_namespaces":477,"../../lib":497,"../../lib/svg_text_utils":520,"../../registry":595,"../../traces/scatter/make_bubble_size_func":640,"../../traces/scatter/subtypes":647,"../color":377,"../colorscale":389,"../fx/helpers":412,"./symbol_defs":399,d3:82,"fast-isnumeric":91,tinycolor2:343}],399:[function(e,t,n){"use strict";var r=e("d3");t.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,i="l"+t+",-"+t,o="l-"+t+",-"+t,a="l-"+t+","+t;return"M0,"+t+n+i+o+i+o+a+o+a+n+a+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+","+r.round(e/2,2)+"H"+t+"L0,-"+r.round(e,2)+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+",-"+r.round(e/2,2)+"H"+t+"L0,"+r.round(e,2)+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M"+r.round(e/2,2)+",-"+t+"V"+t+"L-"+r.round(e,2)+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+r.round(e/2,2)+",-"+t+"V"+t+"L"+r.round(e,2)+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),i=r.round(-e,2),o=r.round(-.309*e,2);return"M"+t+","+o+"L"+n+","+r.round(.809*e,2)+"H-"+n+"L-"+t+","+o+"L0,"+i+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M"+i+",-"+n+"V"+n+"L0,"+t+"L-"+i+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),i=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+i+"H"+n+"L"+t+",0L"+n+",-"+i+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),i=r.round(.951*t,2),o=r.round(.363*t,2),a=r.round(.588*t,2),s=r.round(-t,2),l=r.round(-.309*t,2),u=r.round(.118*t,2),c=r.round(.809*t,2);return"M"+n+","+l+"H"+i+"L"+o+","+u+"L"+a+","+c+"L0,"+r.round(.382*t,2)+"L-"+a+","+c+"L-"+o+","+u+"L-"+i+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),i=r.round(.76*e,2);return"M-"+i+",0l-"+n+",-"+t+"h"+i+"l"+n+",-"+t+"l"+n+","+t+"h"+i+"l-"+n+","+t+"l"+n+","+t+"h-"+i+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+i+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),o=r.round(4*e,2),a="A "+o+","+o+" 0 0 1 ";return"M-"+t+","+n+a+t+","+n+a+"0,-"+i+a+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),i=r.round(1.6*e,2),o=r.round(4*e,2),a="A "+o+","+o+" 0 0 1 ";return"M"+t+",-"+n+a+"-"+t+",-"+n+a+"0,"+i+a+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+i+"-"+t+","+t+i+t+","+t+i+t+",-"+t+i+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),i="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+i+"0,"+t+i+t+",0"+i+"0,-"+t+i+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+","+i+"L0,0M"+t+","+i+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+t+",-"+i+"L0,0M"+t+",-"+i+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M"+i+","+t+"L0,0M"+i+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),i=r.round(.8*e,2);return"M-"+i+","+t+"L0,0M-"+i+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0,noFill:!0}}},{d3:82}],400:[function(e,t,n){"use strict";t.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],401:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),o=e("../../plots/cartesian/axes"),a=e("../../lib"),s=e("./compute_error");function l(e,t,n,i){var l=t["error_"+i]||{},u=[];if(l.visible&&-1!==["linear","log"].indexOf(n.type)){for(var c=s(l),f=0;f<e.length;f++){var d=e[f],h=d.i;if(void 0===h)h=f;else if(null===h)continue;var p=d[i];if(r(n.c2l(p))){var m=c(p,h);if(r(m[0])&&r(m[1])){var g=d[i+"s"]=p-m[0],v=d[i+"h"]=p+m[1];u.push(g,v)}}}var y=n._id,b=t._extremes[y],x=o.findExtremes(n,u,a.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(x.min),b.max=b.max.concat(x.max)}}t.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var r=t[n],a=r[0].trace;if(!0===a.visible&&i.traceIs(a,"errorBarsOK")){var s=o.getFromId(e,a.xaxis),u=o.getFromId(e,a.yaxis);l(r,a,s,"x"),l(r,a,u,"y")}}}},{"../../lib":497,"../../plots/cartesian/axes":543,"../../registry":595,"./compute_error":402,"fast-isnumeric":91}],402:[function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}t.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var i=e.array||[];if(n)return function(e,t){var n=+i[t];return[n,n]};var o=e.arrayminus||[];return function(e,t){var n=+i[t],r=+o[t];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var a=r(t,e.value),s=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=a(e);return[t,t]}:function(e){return[s(e),a(e)]}}},{}],403:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../registry"),o=e("../../lib"),a=e("../../plot_api/plot_template"),s=e("./attributes");t.exports=function(e,t,n,l){var u="error_"+l.axis,c=a.newContainer(t,u),f=e[u]||{};function d(e,t){return o.coerce(f,c,s,e,t)}if(!1!==d("visible",void 0!==f.array||void 0!==f.value||"sqrt"===f.type)){var h=d("type","array"in f?"data":"percent"),p=!0;"sqrt"!==h&&(p=d("symmetric",!(("data"===h?"arrayminus":"valueminus")in f))),"data"===h?(d("array"),d("traceref"),p||(d("arrayminus"),d("tracerefminus"))):"percent"!==h&&"constant"!==h||(d("value"),p||d("valueminus"));var m="copy_"+l.inherit+"style";l.inherit&&(t["error_"+l.inherit]||{}).visible&&d(m,!(f.color||r(f.thickness)||r(f.width))),l.inherit&&c[m]||(d("color",n),d("thickness"),d("width",i.traceIs(t,"gl3d")?0:4))}}},{"../../lib":497,"../../plot_api/plot_template":533,"../../registry":595,"./attributes":400,"fast-isnumeric":91}],404:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/edit_types").overrideAll,o=e("./attributes"),a={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var s={error_x:r.extendFlat({},o),error_y:r.extendFlat({},o),error_z:r.extendFlat({},o)};delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,t.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:i(s,"calc","nested"),scattergl:i(a,"calc","nested")}},supplyDefaults:e("./defaults"),calc:e("./calc"),makeComputeError:e("./compute_error"),plot:e("./plot"),style:e("./style"),hoverInfo:function(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}}},{"../../lib":497,"../../plot_api/edit_types":526,"./attributes":400,"./calc":401,"./compute_error":402,"./defaults":403,"./plot":405,"./style":406}],405:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../drawing"),a=e("../../traces/scatter/subtypes");t.exports=function(e,t,n,s){var l=n.xaxis,u=n.yaxis,c=s&&s.duration>0;t.each((function(t){var f,d=t[0].trace,h=d.error_x||{},p=d.error_y||{};d.ids&&(f=function(e){return e.id});var m=a.hasMarkers(d)&&d.marker.maxdisplayed>0;p.visible||h.visible||(t=[]);var g=r.select(this).selectAll("g.errorbar").data(t,f);if(g.exit().remove(),t.length){h.visible||g.selectAll("path.xerror").remove(),p.visible||g.selectAll("path.yerror").remove(),g.style("opacity",1);var v=g.enter().append("g").classed("errorbar",!0);c&&v.style("opacity",0).transition().duration(s.duration).style("opacity",1),o.setClipUrl(g,n.layerClipId,e),g.each((function(e){var t=r.select(this),n=function(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),i(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}(e,l,u);if(!m||e.vis){var o,a=t.select("path.yerror");if(p.visible&&i(n.x)&&i(n.yh)&&i(n.ys)){var f=p.width;o="M"+(n.x-f)+","+n.yh+"h"+2*f+"m-"+f+",0V"+n.ys,n.noYS||(o+="m-"+f+",0h"+2*f),a.size()?c&&(a=a.transition().duration(s.duration).ease(s.easing)):a=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),a.attr("d",o)}else a.remove();var d=t.select("path.xerror");if(h.visible&&i(n.y)&&i(n.xh)&&i(n.xs)){var g=(h.copy_ystyle?p:h).width;o="M"+n.xh+","+(n.y-g)+"v"+2*g+"m0,-"+g+"H"+n.xs,n.noXS||(o+="m0,-"+g+"v"+2*g),d.size()?c&&(d=d.transition().duration(s.duration).ease(s.easing)):d=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),d.attr("d",o)}else d.remove()}}))}}))}},{"../../traces/scatter/subtypes":647,"../drawing":398,d3:82,"fast-isnumeric":91}],406:[function(e,t,n){"use strict";var r=e("d3"),i=e("../color");t.exports=function(e){e.each((function(e){var t=e[0].trace,n=t.error_y||{},o=t.error_x||{},a=r.select(this);a.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(i.stroke,n.color),o.copy_ystyle&&(o=n),a.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(i.stroke,o.color)}))}},{"../color":377,d3:82}],407:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("./layout_attributes").hoverlabel,o=e("../../lib/extend").extendFlat;t.exports={hoverlabel:{bgcolor:o({},i.bgcolor,{arrayOk:!0}),bordercolor:o({},i.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:"none"}),align:o({},i.align,{arrayOk:!0}),namelength:o({},i.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":491,"../../plots/font_attributes":569,"./layout_attributes":416}],408:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");function o(e,t,n,i){i=i||r.identity,Array.isArray(e)&&(t[0][n]=i(e))}t.exports=function(e){var t=e.calcdata,n=e._fullLayout;function a(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var s=0;s<t.length;s++){var l=t[s],u=l[0].trace;if(!i.traceIs(u,"pie-like")){var c=i.traceIs(u,"2dMap")?o:r.fillArray;c(u.hoverinfo,l,"hi",a(u)),u.hovertemplate&&c(u.hovertemplate,l,"ht"),u.hoverlabel&&(c(u.hoverlabel.bgcolor,l,"hbg"),c(u.hoverlabel.bordercolor,l,"hbc"),c(u.hoverlabel.font.size,l,"hts"),c(u.hoverlabel.font.color,l,"htc"),c(u.hoverlabel.font.family,l,"htf"),c(u.hoverlabel.namelength,l,"hnl"),c(u.hoverlabel.align,l,"hta"))}}}},{"../../lib":497,"../../registry":595}],409:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./hover").hover;t.exports=function(e,t,n){var o=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);function a(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==n&&i(e,t,n,!0),e._hoverdata&&t&&t.target&&(o&&o.then?o.then(a):a(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},{"../../registry":595,"./hover":413}],410:[function(e,t,n){"use strict";t.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],411:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),o=e("./hoverlabel_defaults");t.exports=function(e,t,n,a){var s=r.extendFlat({},a.hoverlabel);t.hovertemplate&&(s.namelength=-1),o(e,t,(function(n,o){return r.coerce(e,t,i,n,o)}),s)}},{"../../lib":497,"./attributes":407,"./hoverlabel_defaults":414}],412:[function(e,t,n){"use strict";var r=e("../../lib");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.isTraceInSubplots=function(e,t){if("splom"===e.type){for(var r=e.xaxes||[],i=e.yaxes||[],o=0;o<r.length;o++)for(var a=0;a<i.length;a++)if(-1!==t.indexOf(r[o]+i[a]))return!0;return!1}return-1!==t.indexOf(n.getSubplot(e))},n.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},n.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},n.getDistanceFunction=function(e,t,r,i){return"closest"===e?i||n.quadrature(t,r):"x"===e?t:r},n.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var i=t(e[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},n.inbox=function(e,t,n){return e*t<0||0===e?n:1/0},n.quadrature=function(e,t){return function(n){var r=e(n),i=t(n);return Math.sqrt(r*r+i*i)}},n.makeEventData=function(e,t,r){var i="index"in e?e.index:e.pointNumber,o={data:t._input,fullData:t,curveNumber:t.index,pointNumber:i};if(t._indexToPoints){var a=t._indexToPoints[i];1===a.length?o.pointIndex=a[0]:o.pointIndices=a}else o.pointIndex=i;return t._module.eventData?o=t._module.eventData(o,e,t,r,i):("xVal"in e?o.x=e.xVal:"x"in e&&(o.x=e.x),"yVal"in e?o.y=e.yVal:"y"in e&&(o.y=e.y),e.xa&&(o.xaxis=e.xa),e.ya&&(o.yaxis=e.ya),void 0!==e.zLabelVal&&(o.z=e.zLabelVal)),n.appendArrayPointValue(o,t,i),o},n.appendArrayPointValue=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],u=o(l);if(void 0===e[u]){var c=a(r.nestedProperty(t,l).get(),n);void 0!==c&&(e[u]=c)}}},n.appendArrayMultiPointValues=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var l=i[s],u=o(l);if(void 0===e[u]){for(var c=r.nestedProperty(t,l).get(),f=new Array(n.length),d=0;d<n.length;d++)f[d]=a(c,n[d]);e[u]=f}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(e){return i[e]||e}function a(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}},{"../../lib":497}],413:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("tinycolor2"),a=e("../../lib"),s=e("../../lib/events"),l=e("../../lib/svg_text_utils"),u=e("../../lib/override_cursor"),c=e("../drawing"),f=e("../color"),d=e("../dragelement"),h=e("../../plots/cartesian/axes"),p=e("../../registry"),m=e("./helpers"),g=e("./constants"),v=g.YANGLE,y=Math.PI*v/180,b=1/Math.sin(y),x=Math.cos(y),_=Math.sin(y),w=g.HOVERARROWSIZE,k=g.HOVERTEXTPAD;n.hover=function(e,t,n,o){e=a.getGraphDiv(e),a.throttle(e._fullLayout._uid+g.HOVERID,g.HOVERMINTIME,(function(){!function(e,t,n,o){n||(n="xy");var l=Array.isArray(n)?n:[n],c=e._fullLayout,h=c._plots||[],g=h[n],v=c._has("cartesian");if(g){var y=g.overlays.map((function(e){return e.id}));l=l.concat(y)}for(var x=l.length,_=new Array(x),w=new Array(x),k=!1,M=0;M<x;M++){var C=l[M];if(h[C])k=!0,_[M]=h[C].xaxis,w[M]=h[C].yaxis;else{if(!c[C]||!c[C]._subplot)return void a.warn("Unrecognized subplot: "+C);var N=c[C]._subplot;_[M]=N.xaxis,w[M]=N.yaxis}}var D=t.hovermode||c.hovermode;if(D&&!k&&(D="closest"),-1===["x","y","closest"].indexOf(D)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return d.unhoverRaw(e,t);var P,R,L,I,j,z,F,B,U,H,q,V,W,Y=-1===c.hoverdistance?1/0:c.hoverdistance,G=-1===c.spikedistance?1/0:c.spikedistance,X=[],$=[],Z={hLinePoint:null,vLinePoint:null},K=!1;if(Array.isArray(t))for(D="array",L=0;L<t.length;L++)(j=e.calcdata[t[L].curveNumber||0])&&(z=j[0].trace,"skip"!==j[0].trace.hoverinfo&&($.push(j),"h"===z.orientation&&(K=!0)));else{for(I=0;I<e.calcdata.length;I++)"skip"!==(z=(j=e.calcdata[I])[0].trace).hoverinfo&&m.isTraceInSubplots(z,l)&&($.push(j),"h"===z.orientation&&(K=!0));var J,Q;if(t.target){if(!1===s.triggerHandler(e,"plotly_beforehover",t))return;var ee=t.target.getBoundingClientRect();if(J=t.clientX-ee.left,Q=t.clientY-ee.top,J<0||J>_[0]._length||Q<0||Q>w[0]._length)return d.unhoverRaw(e,t)}else J="xpx"in t?t.xpx:_[0]._length/2,Q="ypx"in t?t.ypx:w[0]._length/2;if(t.pointerX=J+_[0]._offset,t.pointerY=Q+w[0]._offset,P="xval"in t?m.flat(l,t.xval):m.p2c(_,J),R="yval"in t?m.flat(l,t.yval):m.p2c(w,Q),!i(P[0])||!i(R[0]))return a.warn("Fx.hover failed",t,e),d.unhoverRaw(e,t)}var te=1/0;for(I=0;I<$.length;I++)if((j=$[I])&&j[0]&&j[0].trace&&!0===(z=j[0].trace).visible&&0!==z._length&&-1===["carpet","contourcarpet"].indexOf(z._module.name)){if("splom"===z.type?F=l[B=0]:(F=m.getSubplot(z),B=l.indexOf(F)),U=D,V={cd:j,trace:z,xa:_[B],ya:w[B],maxHoverDistance:Y,maxSpikeDistance:G,index:!1,distance:Math.min(te,Y),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:f.defaultLine,name:z.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},c[F]&&(V.subplot=c[F]._subplot),c._splomScenes&&c._splomScenes[z.uid]&&(V.scene=c._splomScenes[z.uid]),W=X.length,"array"===U){var ne=t[I];"pointNumber"in ne?(V.index=ne.pointNumber,U="closest"):(U="","xval"in ne&&(H=ne.xval,U="x"),"yval"in ne&&(q=ne.yval,U=U?"closest":"y"))}else H=P[B],q=R[B];if(0!==Y)if(z._module&&z._module.hoverPoints){var re=z._module.hoverPoints(V,H,q,U,c._hoverlayer);if(re)for(var ie,oe=0;oe<re.length;oe++)ie=re[oe],i(ie.x0)&&i(ie.y0)&&X.push(E(ie,D))}else a.log("Unrecognized trace type in hover:",z);if("closest"===D&&X.length>W&&(X.splice(0,W),te=X[0].distance),v&&0!==G&&0===X.length){V.distance=G,V.index=!1;var ae=z._module.hoverPoints(V,H,q,"closest",c._hoverlayer);if(ae&&(ae=ae.filter((function(e){return e.spikeDistance<=G}))),ae&&ae.length){var se,le=ae.filter((function(e){return e.xa.showspikes}));if(le.length){var ue=le[0];i(ue.x0)&&i(ue.y0)&&(se=he(ue),(!Z.vLinePoint||Z.vLinePoint.spikeDistance>se.spikeDistance)&&(Z.vLinePoint=se))}var ce=ae.filter((function(e){return e.ya.showspikes}));if(ce.length){var fe=ce[0];i(fe.x0)&&i(fe.y0)&&(se=he(fe),(!Z.hLinePoint||Z.hLinePoint.spikeDistance>se.spikeDistance)&&(Z.hLinePoint=se))}}}}function de(e,t){for(var n,r=null,i=1/0,o=0;o<e.length;o++)(n=e[o].spikeDistance)<i&&n<=t&&(r=e[o],i=n);return r}function he(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}var pe={fullLayout:c,container:c._hoverlayer,outerContainer:c._paperdiv,event:t},me=e._spikepoints,ge={vLinePoint:Z.vLinePoint,hLinePoint:Z.hLinePoint};if(e._spikepoints=ge,v&&0!==G&&0!==X.length){var ve=de(X.filter((function(e){return e.ya.showspikes})),G);Z.hLinePoint=he(ve);var ye=de(X.filter((function(e){return e.xa.showspikes})),G);Z.vLinePoint=he(ye)}if(0===X.length){var be=d.unhoverRaw(e,t);return!v||null===Z.hLinePoint&&null===Z.vLinePoint||O(me)&&A(e,Z,pe),be}v&&O(me)&&A(e,Z,pe),X.sort((function(e,t){return e.distance-t.distance}));var xe=e._hoverdata,_e=[];for(L=0;L<X.length;L++){var we=X[L],ke=m.makeEventData(we,we.trace,we.cd);if(!1!==we.hovertemplate){var Me=!1;we.cd[we.index]&&we.cd[we.index].ht&&(Me=we.cd[we.index].ht),we.hovertemplate=Me||we.trace.hovertemplate||!1}we.eventData=[ke],_e.push(ke)}e._hoverdata=_e;var Te="y"===D&&($.length>1||X.length>1)||"closest"===D&&K&&X.length>1,Se=T(X,{hovermode:D,rotateLabels:Te,bgColor:f.combine(c.plot_bgcolor||f.background,c.paper_bgcolor),container:c._hoverlayer,outerContainer:c._paperdiv,commonLabelOpts:c.hoverlabel,hoverdistance:c.hoverdistance},e);if(function(e,t,n){var r,i,o,a,s,l,u,c=0,f=1,d=e.size(),h=new Array(d),p=0;function m(e){var t=e[0],n=e[e.length-1];if(i=t.pmin-t.pos-t.dp+t.size,o=n.pos+n.dp+n.size-t.pmax,i>.01){for(s=e.length-1;s>=0;s--)e[s].dp+=i;r=!1}if(!(o<.01)){if(i<-.01){for(s=e.length-1;s>=0;s--)e[s].dp-=o;r=!1}if(r){var u=0;for(a=0;a<e.length;a++)(l=e[a]).pos+l.dp+l.size>t.pmax&&u++;for(a=e.length-1;a>=0&&!(u<=0);a--)(l=e[a]).pos>t.pmax-1&&(l.del=!0,u--);for(a=0;a<e.length&&!(u<=0);a++)if((l=e[a]).pos<t.pmin+1)for(l.del=!0,u--,o=2*l.size,s=e.length-1;s>=0;s--)e[s].dp-=o;for(a=e.length-1;a>=0&&!(u<=0);a--)(l=e[a]).pos+l.dp+l.size>t.pmax&&(l.del=!0,u--)}}}for(e.each((function(e){var r=e[t],i="x"===r._id.charAt(0),o=r.range;0===p&&o&&o[0]>o[1]!==i&&(f=-1),h[p++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(i?b:1)/2,pmin:0,pmax:i?n.width:n.height}]})),h.sort((function(e,t){return e[0].posref-t[0].posref||f*(t[0].traceIndex-e[0].traceIndex)}));!r&&c<=d;){for(c++,r=!0,a=0;a<h.length-1;){var g=h[a],v=h[a+1],y=g[g.length-1],x=v[0];if((i=y.pos+y.dp+y.size-x.pos-x.dp+x.size)>.01&&y.pmin===x.pmin&&y.pmax===x.pmax){for(s=v.length-1;s>=0;s--)v[s].dp+=i;for(g.push.apply(g,v),h.splice(a+1,1),u=0,s=g.length-1;s>=0;s--)u+=g[s].dp;for(o=u/g.length,s=g.length-1;s>=0;s--)g[s].dp-=o;r=!1}else a++}h.forEach(m)}for(a=h.length-1;a>=0;a--){var _=h[a];for(s=_.length-1;s>=0;s--){var w=_[s],k=w.datum;k.offset=w.dp,k.del=w.del}}}(Se,Te?"xa":"ya",c),S(Se,Te),t.target&&t.target.tagName){var Ee=p.getComponentMethod("annotations","hasClickToShow")(e,_e);u(r.select(t.target),Ee?"pointer":"")}t.target&&!o&&function(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],o=e._hoverdata[r];if(i.curveNumber!==o.curveNumber||String(i.pointNumber)!==String(o.pointNumber)||String(i.pointNumbers)!==String(o.pointNumbers))return!0}return!1}(e,0,xe)&&(xe&&e.emit("plotly_unhover",{event:t,points:xe}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:_,yaxes:w,xvals:P,yvals:R}))}(e,t,n,o)}))},n.loneHover=function(e,t){var n=!0;Array.isArray(e)||(n=!1,e=[e]);var i=e.map((function(e){return{color:e.color||f.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}})),o=r.select(t.container),a=t.outerContainer?r.select(t.outerContainer):o,s={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||f.background,container:o,outerContainer:a},l=T(i,s,t.gd),u=0,c=0;return l.sort((function(e,t){return e.y0-t.y0})).each((function(e,n){var r=e.y0-e.by/2;e.offset=r-5<u?u-r+5:0,u=r+e.by+e.offset,n===t.anchorIndex&&(c=e.offset)})).each((function(e){e.offset-=c})),S(l,s.rotateLabels),n?l:l.node()};var M=/<extra>([\s\S]*)<\/extra>/;function T(e,t,n){var i=n._fullLayout,o=t.hovermode,s=t.rotateLabels,u=t.bgColor,d=t.container,h=t.outerContainer,p=t.commonLabelOpts||{},m=t.fontFamily||g.HOVERFONT,y=t.fontSize||g.HOVERFONTSIZE,b=e[0],x=b.xa,_=b.ya,T="y"===o?"yLabel":"xLabel",S=b[T],E=(String(S)||"").split(" ")[0],A=h.node().getBoundingClientRect(),O=A.top,N=A.width,D=A.height,P=void 0!==S&&b.distance<=t.hoverdistance&&("x"===o||"y"===o);if(P){var R,L,I=!0;for(R=0;R<e.length;R++)if(I&&void 0===e[R].zLabel&&(I=!1),L=e[R].hoverinfo||e[R].trace.hoverinfo){var j=Array.isArray(L)?L:L.split("+");if(-1===j.indexOf("all")&&-1===j.indexOf(o)){P=!1;break}}I&&(P=!1)}var z=d.selectAll("g.axistext").data(P?[0]:[]);z.enter().append("g").classed("axistext",!0),z.exit().remove(),z.each((function(){var t=r.select(this),i=a.ensureSingle(t,"path","",(function(e){e.style({"stroke-width":"1px"})})),s=a.ensureSingle(t,"text","",(function(e){e.attr("data-notex",1)})),u=p.bgcolor||f.defaultLine,d=p.bordercolor||f.contrast(u),h=f.contrast(u);i.style({fill:u,stroke:d}),s.text(S).call(c.font,p.font.family||m,p.font.size||y,p.font.color||h).call(l.positionText,0,0).call(l.convertToTspans,n),t.attr("transform","");var g=s.node().getBoundingClientRect();if("x"===o){s.attr("text-anchor","middle").call(l.positionText,0,"top"===x.side?O-g.bottom-w-k:O-g.top+w+k);var v="top"===x.side?"-":"";i.attr("d","M0,0L"+w+","+v+w+"H"+(k+g.width/2)+"v"+v+(2*k+g.height)+"H-"+(k+g.width/2)+"V"+v+w+"H-"+w+"Z"),t.attr("transform","translate("+(x._offset+(b.x0+b.x1)/2)+","+(_._offset+("top"===x.side?0:_._length))+")")}else{s.attr("text-anchor","right"===_.side?"start":"end").call(l.positionText,("right"===_.side?1:-1)*(k+w),O-g.top-g.height/2);var M="right"===_.side?"":"-";i.attr("d","M0,0L"+M+w+","+w+"V"+(k+g.height/2)+"h"+M+(2*k+g.width)+"V-"+(k+g.height/2)+"H"+M+w+"V-"+w+"Z"),t.attr("transform","translate("+(x._offset+("right"===_.side?x._length:0))+","+(_._offset+(b.y0+b.y1)/2)+")")}e=e.filter((function(e){return void 0!==e.zLabelVal||(e[T]||"").split(" ")[0]===E}))}));var F=d.selectAll("g.hovertext").data(e,(function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}));return F.enter().append("g").classed("hovertext",!0).each((function(){var e=r.select(this);e.append("rect").call(f.fill,f.addOpacity(u,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(c.font,m,y)})),F.exit().remove(),F.each((function(e){var t=r.select(this).attr("transform",""),d="",h="",p=e.bgcolor||e.color,g=f.combine(f.opacity(p)?p:f.defaultLine,u),b=f.combine(f.opacity(e.color)?e.color:f.defaultLine,u),x=e.borderColor||f.contrast(g);void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=a.templateString(e.name,e.trace._meta)),d=C(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(h+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(h+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(h+=(h?"z: ":"")+e.zLabel)):P&&e[o+"Label"]===S?h=e[("x"===o?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(h=e.yLabel):h=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(h+=(h?"<br>":"")+e.text),void 0!==e.extraText&&(h+=(h?"<br>":"")+e.extraText),""!==h||e.hovertemplate||(""===d&&t.remove(),h=d);var _=i._d3locale,T=e.hovertemplate||!1,E=e.hovertemplateLabels||e,A=e.eventData[0]||{};T&&(h=(h=a.hovertemplateString(T,E,_,A,e.trace._meta)).replace(M,(function(t,n){return d=C(n,e.nameLength),""})));var R=t.select("text.nums").call(c.font,e.fontFamily||m,e.fontSize||y,e.fontColor||x).text(h).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,n),L=t.select("text.name"),I=0,j=0;if(d&&d!==h){L.call(c.font,e.fontFamily||m,e.fontSize||y,b).text(d).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,n);var z=L.node().getBoundingClientRect();I=z.width+2*k,j=z.height+2*k}else L.remove(),t.select("rect").remove();t.select("path").style({fill:g,stroke:x});var F,B,U=R.node().getBoundingClientRect(),H=e.xa._offset+(e.x0+e.x1)/2,q=e.ya._offset+(e.y0+e.y1)/2,V=Math.abs(e.x1-e.x0),W=Math.abs(e.y1-e.y0),Y=U.width+w+k+I;if(e.ty0=O-U.top,e.bx=U.width+2*k,e.by=Math.max(U.height+2*k,j),e.anchor="start",e.txwidth=U.width,e.tx2width=I,e.offset=0,s)e.pos=H,F=q+W/2+Y<=D,B=q-W/2-Y>=0,"top"!==e.idealAlign&&F||!B?F?(q+=W/2,e.anchor="start"):e.anchor="middle":(q-=W/2,e.anchor="end");else if(e.pos=q,F=H+V/2+Y<=N,B=H-V/2-Y>=0,"left"!==e.idealAlign&&F||!B)if(F)H+=V/2,e.anchor="start";else{e.anchor="middle";var G=Y/2,X=H+G-N,$=H-G;X>0&&(H-=X),$<0&&(H+=-$)}else H-=V/2,e.anchor="end";R.attr("text-anchor",e.anchor),I&&L.attr("text-anchor",e.anchor),t.attr("transform","translate("+H+","+q+")"+(s?"rotate("+v+")":""))})),F}function S(e,t){e.each((function(e){var n=r.select(this);if(e.del)return n.remove();var i=n.select("text.nums"),o=e.anchor,a="end"===o?-1:1,s={start:1,end:-1,middle:0}[o],u=s*(w+k),f=u+s*(e.txwidth+k),d=0,h=e.offset;"middle"===o&&(u-=e.tx2width/2,f+=e.txwidth/2+k),t&&(h*=-_,d=e.offset*x),n.select("path").attr("d","middle"===o?"M-"+(e.bx/2+e.tx2width/2)+","+(h-e.by/2)+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(a*w+d)+","+(w+h)+"v"+(e.by/2-w)+"h"+a*e.bx+"v-"+e.by+"H"+(a*w+d)+"V"+(h-w)+"Z");var p=u+d,m=h+e.ty0-e.by/2+k,g=e.textAlign||"auto";"auto"!==g&&("left"===g&&"start"!==o?(i.attr("text-anchor","start"),p="middle"===o?-e.bx/2-e.tx2width/2+k:-e.bx-k):"right"===g&&"end"!==o&&(i.attr("text-anchor","end"),p="middle"===o?e.bx/2-e.tx2width/2-k:e.bx+k)),i.call(l.positionText,p,m),e.tx2width&&(n.select("text.name").call(l.positionText,f+s*k+d,h+e.ty0-e.by/2+k),n.select("rect").call(c.setRect,f+(s-1)*e.tx2width/2+d,h-e.by/2-1,e.tx2width,e.by+2))}))}function E(e,t){var n=e.index,r=e.trace||{},o=e.cd[0],s=e.cd[n]||{};function l(e){return e||i(e)&&0===e}var u=Array.isArray(n)?function(e,t){var i=a.castOption(o,n,e);return l(i)?i:a.extractOption({},r,"",t)}:function(e,t){return a.extractOption(s,r,e,t)};function c(t,n,r){var i=u(n,r);l(i)&&(e[t]=i)}if(c("hoverinfo","hi","hoverinfo"),c("bgcolor","hbg","hoverlabel.bgcolor"),c("borderColor","hbc","hoverlabel.bordercolor"),c("fontFamily","htf","hoverlabel.font.family"),c("fontSize","hts","hoverlabel.font.size"),c("fontColor","htc","hoverlabel.font.color"),c("nameLength","hnl","hoverlabel.namelength"),c("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===r.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=a.constrain(e.x0,0,e.xa._length),e.x1=a.constrain(e.x1,0,e.xa._length),e.y0=a.constrain(e.y0,0,e.ya._length),e.y1=a.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:h.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:h.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var f=h.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+f+" / -"+h.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xb1 "+f,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var d=h.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+d+" / -"+h.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xb1 "+d,"y"===t&&(e.distance+=1)}var p=e.hoverinfo||e.trace.hoverinfo;return p&&"all"!==p&&(-1===(p=Array.isArray(p)?p:p.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===p.indexOf("y")&&(e.yLabel=void 0),-1===p.indexOf("z")&&(e.zLabel=void 0),-1===p.indexOf("text")&&(e.text=void 0),-1===p.indexOf("name")&&(e.name=void 0)),e}function A(e,t,n){var r,i,a=n.container,s=n.fullLayout,l=s._size,u=n.event,d=!!t.hLinePoint,p=!!t.vLinePoint;if(a.selectAll(".spikeline").remove(),p||d){var m=f.combine(s.plot_bgcolor,s.paper_bgcolor);if(d){var g,v,y=t.hLinePoint;r=y&&y.xa,"cursor"===(i=y&&y.ya).spikesnap?(g=u.pointerX,v=u.pointerY):(g=r._offset+y.x,v=i._offset+y.y);var b,x,_=o.readability(y.color,m)<1.5?f.contrast(m):y.color,w=i.spikemode,k=i.spikethickness,M=i.spikecolor||_,T=h.getPxPosition(e,i);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(b=T,x=g),-1!==w.indexOf("across")){var S=i._counterDomainMin,E=i._counterDomainMax;"free"===i.anchor&&(S=Math.min(S,i.position),E=Math.max(E,i.position)),b=l.l+S*l.w,x=l.l+E*l.w}a.insert("line",":first-child").attr({x1:b,x2:x,y1:v,y2:v,"stroke-width":k,stroke:M,"stroke-dasharray":c.dashStyle(i.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:b,x2:x,y1:v,y2:v,"stroke-width":k+2,stroke:m}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:T+("right"!==i.side?k:-k),cy:v,r:k,fill:M}).classed("spikeline",!0)}if(p){var A,O,C=t.vLinePoint;r=C&&C.xa,i=C&&C.ya,"cursor"===r.spikesnap?(A=u.pointerX,O=u.pointerY):(A=r._offset+C.x,O=i._offset+C.y);var N,D,P=o.readability(C.color,m)<1.5?f.contrast(m):C.color,R=r.spikemode,L=r.spikethickness,I=r.spikecolor||P,j=h.getPxPosition(e,r);if(-1!==R.indexOf("toaxis")||-1!==R.indexOf("across")){if(-1!==R.indexOf("toaxis")&&(N=j,D=O),-1!==R.indexOf("across")){var z=r._counterDomainMin,F=r._counterDomainMax;"free"===r.anchor&&(z=Math.min(z,r.position),F=Math.max(F,r.position)),N=l.t+(1-F)*l.h,D=l.t+(1-z)*l.h}a.insert("line",":first-child").attr({x1:A,x2:A,y1:N,y2:D,"stroke-width":L,stroke:I,"stroke-dasharray":c.dashStyle(r.spikedash,L)}).classed("spikeline",!0).classed("crisp",!0),a.insert("line",":first-child").attr({x1:A,x2:A,y1:N,y2:D,"stroke-width":L+2,stroke:m}).classed("spikeline",!0).classed("crisp",!0)}-1!==R.indexOf("marker")&&a.insert("circle",":first-child").attr({cx:A,cy:j-("top"!==r.side?L:-L),r:L,fill:I}).classed("spikeline",!0)}}}function O(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}function C(e,t){return l.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}},{"../../lib":497,"../../lib/events":490,"../../lib/override_cursor":508,"../../lib/svg_text_utils":520,"../../plots/cartesian/axes":543,"../../registry":595,"../color":377,"../dragelement":395,"../drawing":398,"./constants":410,"./helpers":412,d3:82,"fast-isnumeric":91,tinycolor2:343}],414:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,i){n("hoverlabel.bgcolor",(i=i||{}).bgcolor),n("hoverlabel.bordercolor",i.bordercolor),n("hoverlabel.namelength",i.namelength),r.coerceFont(n,"hoverlabel.font",i.font),n("hoverlabel.align",i.align)}},{"../../lib":497}],415:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),o=e("../dragelement"),a=e("./helpers"),s=e("./layout_attributes"),l=e("./hover");t.exports={moduleType:"component",name:"fx",constants:e("./constants"),schema:{layout:s},attributes:e("./attributes"),layoutAttributes:s,supplyLayoutGlobalDefaults:e("./layout_global_defaults"),supplyDefaults:e("./defaults"),supplyLayoutDefaults:e("./layout_defaults"),calc:e("./calc"),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(e,t,n){return i.castOption(e,t,"hoverlabel."+n)},castHoverinfo:function(e,t,n){return i.castOption(e,n,"hoverinfo",(function(n){return i.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)}))},hover:l.hover,unhover:o.unhover,loneHover:l.loneHover,loneUnhover:function(e){var t=i.isD3Selection(e)?e:r.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e("./click")}},{"../../lib":497,"../dragelement":395,"./attributes":407,"./calc":408,"./click":409,"./constants":410,"./defaults":411,"./helpers":412,"./hover":413,"./layout_attributes":416,"./layout_defaults":417,"./layout_global_defaults":418,d3:82}],416:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../plots/font_attributes")({editType:"none"});i.family.dflt=r.HOVERFONT,i.size.dflt=r.HOVERFONTSIZE,t.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1],editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:20,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":569,"./constants":410}],417:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t,n){function o(n,o){return r.coerce(e,t,i,n,o)}var a,s=o("clickmode");"select"===o("dragmode")&&o("selectdirection"),t._has("cartesian")?s.indexOf("select")>-1?a="closest":(t._isHoriz=function(e,t){for(var n=t._scatterStackOpts||{},r=0;r<e.length;r++){var i=e[r],o=(n[i.xaxis+i.yaxis]||{})[i.stackgroup]||{};if("h"!==i.orientation&&"h"!==o.orientation)return!1}return!0}(n,t),a=t._isHoriz?"y":"x"):a="closest",o("hovermode",a)&&(o("hoverdistance"),o("spikedistance"));var l=t._has("mapbox"),u=t._has("geo"),c=t._basePlotModules.length;"zoom"===t.dragmode&&((l||u)&&1===c||l&&u&&2===c)&&(t.dragmode="pan")}},{"../../lib":497,"./layout_attributes":416}],418:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./hoverlabel_defaults"),o=e("./layout_attributes");t.exports=function(e,t){i(e,t,(function(n,i){return r.coerce(e,t,o,n,i)}))}},{"../../lib":497,"./hoverlabel_defaults":414,"./layout_attributes":416}],419:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../lib/regex").counter,o=e("../../plots/domain").attributes,a=e("../../plots/cartesian/constants").idRegex,s=e("../../plot_api/plot_template"),l={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[i("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:o({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function u(e,t,n){var r=t[n+"axes"],i=Object.keys((e._splomAxes||{})[n]||{});return Array.isArray(r)?r:i.length?i:void 0}function c(e,t,n,r,i,o){var a=t(e+"gap",n),s=t("domain."+e);t(e+"side",r);for(var l=new Array(i),u=s[0],c=(s[1]-u)/(i-a),f=c*(1-a),d=0;d<i;d++){var h=u+c*d;l[o?i-1-d:d]=[h,h+f]}return l}function f(e,t,n,r,i){var o,a=new Array(n);function s(e,n){-1!==t.indexOf(n)&&void 0===r[n]?(a[e]=n,r[n]=e):a[e]=""}if(Array.isArray(e))for(o=0;o<n;o++)s(o,e[o]);else for(s(0,i),o=1;o<n;o++)s(o,i+(o+1));return a}t.exports={moduleType:"component",name:"grid",schema:{layout:{grid:l}},layoutAttributes:l,sizeDefaults:function(e,t){var n=e.grid||{},i=u(t,n,"x"),o=u(t,n,"y");if(e.grid||i||o){var a,f,d=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),h=Array.isArray(i),p=Array.isArray(o),m=h&&i!==n.xaxes&&p&&o!==n.yaxes;d?(a=n.subplots.length,f=n.subplots[0].length):(p&&(a=o.length),h&&(f=i.length));var g=s.newContainer(t,"grid"),v=M("rows",a),y=M("columns",f);if(v*y>1){d||h||p||"independent"===M("pattern")&&(d=!0),g._hasSubplotGrid=d;var b,x,_="top to bottom"===M("roworder"),w=d?.2:.1,k=d?.3:.1;m&&t._splomGridDflt&&(b=t._splomGridDflt.xside,x=t._splomGridDflt.yside),g._domains={x:c("x",M,w,b,y),y:c("y",M,k,x,v,_)}}else delete t.grid}function M(e,t){return r.coerce(n,g,l,e,t)}},contentDefaults:function(e,t){var n=t.grid;if(n&&n._domains){var r,i,o,a,s,l,c,d=e.grid||{},h=t._subplots,p=n._hasSubplotGrid,m=n.rows,g=n.columns,v="independent"===n.pattern,y=n._axisMap={};if(p){var b=d.subplots||[];l=n.subplots=new Array(m);var x=1;for(r=0;r<m;r++){var _=l[r]=new Array(g),w=b[r]||[];for(i=0;i<g;i++)if(v?(s=1===x?"xy":"x"+x+"y"+x,x++):s=w[i],_[i]="",-1!==h.cartesian.indexOf(s)){if(c=s.indexOf("y"),o=s.slice(0,c),a=s.slice(c),void 0!==y[o]&&y[o]!==i||void 0!==y[a]&&y[a]!==r)continue;_[i]=s,y[o]=i,y[a]=r}}}else{var k=u(t,d,"x"),M=u(t,d,"y");n.xaxes=f(k,h.xaxis,g,y,"x"),n.yaxes=f(M,h.yaxis,m,y,"y")}var T=n._anchors={},S="top to bottom"===n.roworder;for(var E in y){var A,O,C,N=E.charAt(0),D=n[N+"side"];if(D.length<8)T[E]="free";else if("x"===N){if("t"===D.charAt(0)===S?(A=0,O=1,C=m):(A=m-1,O=-1,C=-1),p){var P=y[E];for(r=A;r!==C;r+=O)if((s=l[r][P])&&(c=s.indexOf("y"),s.slice(0,c)===E)){T[E]=s.slice(c);break}}else for(r=A;r!==C;r+=O)if(a=n.yaxes[r],-1!==h.cartesian.indexOf(E+a)){T[E]=a;break}}else if("l"===D.charAt(0)?(A=0,O=1,C=g):(A=g-1,O=-1,C=-1),p){var R=y[E];for(r=A;r!==C;r+=O)if((s=l[R][r])&&(c=s.indexOf("y"),s.slice(c)===E)){T[E]=s.slice(0,c);break}}else for(r=A;r!==C;r+=O)if(o=n.xaxes[r],-1!==h.cartesian.indexOf(o+E)){T[E]=o;break}}}}}},{"../../lib":497,"../../lib/regex":512,"../../plot_api/plot_template":533,"../../plots/cartesian/constants":549,"../../plots/domain":568}],420:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/constants"),i=e("../../plot_api/plot_template").templatedArray;t.exports=i("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../plot_api/plot_template":533,"../../plots/cartesian/constants":549}],421:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib/to_log_range");t.exports=function(e,t,n,o){t=t||{};var a="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(a||s)for(var l,u,c=e._fullLayout.images,f=t._id.charAt(0),d=0;d<c.length;d++)if(u="images["+d+"].",(l=c[d])[f+"ref"]===t._id){var h=l[f],p=l["size"+f],m=null,g=null;if(a){m=i(h,t.range);var v=p/Math.pow(10,m)/2;g=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else g=(m=Math.pow(10,h))*(Math.pow(10,p/2)-Math.pow(10,-p/2));r(m)?r(g)||(g=null):(m=null,g=null),o(u+f,m),o(u+"size"+f,g)}}},{"../../lib/to_log_range":522,"fast-isnumeric":91}],422:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("./attributes");function s(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}var s=o("source");if(!o("visible",!!s))return t;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var l={_fullLayout:n},u=["x","y"],c=0;c<2;c++){var f=u[c],d=i.coerceRef(e,t,l,f,"paper");"paper"!==d&&i.getFromId(l,d)._imgIndices.push(t._index),i.coercePosition(t,l,o,d,f,0)}return t}t.exports=function(e,t){o(e,t,{name:"images",handleItemDefaults:s})}},{"../../lib":497,"../../plots/array_container_defaults":539,"../../plots/cartesian/axes":543,"./attributes":420}],423:[function(e,t,n){"use strict";var r=e("d3"),i=e("../drawing"),o=e("../../plots/cartesian/axes"),a=e("../../constants/xmlns_namespaces");t.exports=function(e){var t,n,s=e._fullLayout,l=[],u={},c=[];for(n=0;n<s.images.length;n++){var f=s.images[n];if(f.visible)if("below"===f.layer&&"paper"!==f.xref&&"paper"!==f.yref){t=f.xref+f.yref;var d=s._plots[t];if(!d){c.push(f);continue}d.mainplot&&(t=d.mainplot.id),u[t]||(u[t]=[]),u[t].push(f)}else"above"===f.layer?l.push(f):c.push(f)}var h={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}};function p(t){var n=r.select(this);if(this._imgSrc!==t.source)if(n.attr("xmlns",a.svg),t.source&&"data:"===t.source.slice(0,5))n.attr("xlink:href",t.source),this._imgSrc=t.source;else{var i=new Promise(function(e){var r=new Image;function i(){n.remove(),e()}this.img=r,r.setAttribute("crossOrigin","anonymous"),r.onerror=i,r.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var r=t.toDataURL("image/png");n.attr("xlink:href",r),e()},n.on("error",i),r.src=t.source,this._imgSrc=t.source}.bind(this));e._promises.push(i)}}function m(t){var n=r.select(this),a=o.getFromId(e,t.xref),l=o.getFromId(e,t.yref),u=s._size,c=a?Math.abs(a.l2p(t.sizex)-a.l2p(0)):t.sizex*u.w,f=l?Math.abs(l.l2p(t.sizey)-l.l2p(0)):t.sizey*u.h,d=c*h.x[t.xanchor].offset,p=f*h.y[t.yanchor].offset,m=h.x[t.xanchor].sizing+h.y[t.yanchor].sizing,g=(a?a.r2p(t.x)+a._offset:t.x*u.w+u.l)+d,v=(l?l.r2p(t.y)+l._offset:u.h-t.y*u.h+u.t)+p;switch(t.sizing){case"fill":m+=" slice";break;case"stretch":m="none"}n.attr({x:g,y:v,width:c,height:f,preserveAspectRatio:m,opacity:t.opacity});var y=(a?a._id:"")+(l?l._id:"");i.setClipUrl(n,y?"clip"+s._uid+y:null,e)}var g=s._imageLowerLayer.selectAll("image").data(c),v=s._imageUpperLayer.selectAll("image").data(l);g.enter().append("image"),v.enter().append("image"),g.exit().remove(),v.exit().remove(),g.each((function(e){p.bind(this)(e),m.bind(this)(e)})),v.each((function(e){p.bind(this)(e),m.bind(this)(e)}));var y=Object.keys(s._plots);for(n=0;n<y.length;n++){t=y[n];var b=s._plots[t];if(b.imagelayer){var x=b.imagelayer.selectAll("image").data(u[t]||[]);x.enter().append("image"),x.exit().remove(),x.each((function(e){p.bind(this)(e),m.bind(this)(e)}))}}}},{"../../constants/xmlns_namespaces":477,"../../plots/cartesian/axes":543,"../drawing":398,d3:82}],424:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"images",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("images"),draw:e("./draw"),convertCoords:e("./convert_coords")}},{"../../plots/cartesian/include_components":553,"./attributes":420,"./convert_coords":421,"./defaults":422,"./draw":423}],425:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes");t.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":569,"../color/attributes":376}],426:[function(e,t,n){"use strict";t.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},textGap:40,itemGap:5}},{}],427:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../plot_api/plot_template"),a=e("./attributes"),s=e("../../plots/layout_attributes"),l=e("./helpers");t.exports=function(e,t,n){for(var u=e.legend||{},c=0,f=!1,d="normal",h=0;h<n.length;h++){var p=n[h];p.visible&&((p.showlegend||p._dfltShowLegend)&&(c++,p.showlegend&&(f=!0,(r.traceIs(p,"pie-like")||!0===p._input.showlegend)&&c++)),(r.traceIs(p,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(p.fill))&&(d=l.isGrouped({traceorder:d})?"grouped+reversed":"reversed"),void 0!==p.legendgroup&&""!==p.legendgroup&&(d=l.isReversed({traceorder:d})?"reversed+grouped":"grouped"))}var m=i.coerce(e,t,s,"showlegend",f&&c>1);if(!1!==m||u.uirevision){var g,v,y,b=o.newContainer(t,"legend");x("uirevision",t.uirevision),!1!==m&&(x("bgcolor",t.paper_bgcolor),x("bordercolor"),x("borderwidth"),i.coerceFont(x,"font",t.font),"h"===x("orientation")?(g=0,r.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(v=1.1,y="bottom"):(v=-.1,y="top")):(g=1.02,v=1,y="auto"),x("traceorder",d),l.isGrouped(t.legend)&&x("tracegroupgap"),x("itemsizing"),x("itemclick"),x("itemdoubleclick"),x("x",g),x("xanchor"),x("y",v),x("yanchor",y),x("valign"),i.noneOrAll(u,b,["x","y"]))}function x(e,t){return i.coerce(u,b,a,e,t)}}},{"../../lib":497,"../../plot_api/plot_template":533,"../../plots/layout_attributes":584,"../../registry":595,"./attributes":425,"./helpers":431}],428:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../lib"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib/events"),l=e("../dragelement"),u=e("../drawing"),c=e("../color"),f=e("../../lib/svg_text_utils"),d=e("./handle_click"),h=e("./constants"),p=e("../../constants/alignment"),m=p.LINE_SPACING,g=p.FROM_TL,v=p.FROM_BR,y=e("./get_legend_data"),b=e("./style"),x=e("./helpers");function _(e,t,n,r,i){var o=n.data()[0][0].trace,l={event:i,node:n.node(),curveNumber:o.index,expandedIndex:o._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};o._group&&(l.group=o._group),a.traceIs(o,"pie-like")&&(l.label=n.datum()[0].label),!1!==s.triggerHandler(e,"plotly_legendclick",l)&&(1===r?t._clickTimeout=setTimeout((function(){d(n,e,r)}),e._context.doubleClickDelay):2===r&&(t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,!1!==s.triggerHandler(e,"plotly_legenddoubleclick",l)&&d(n,e,r)))}function w(e,t){var n=e.data()[0][0],r=t._fullLayout,o=r.legend,s=n.trace,l=a.traceIs(s,"pie-like"),c=s.index,d=t._context.edits.legendText&&!l,p=o._maxNameLength,g=l?n.label:s.name;s._meta&&(g=i.templateString(g,s._meta));var v=i.ensureSingle(e,"text","legendtext");function y(n){f.convertToTspans(n,t,(function(){!function(e,t){var n=e.data()[0][0];if(n.trace.showlegend){var r,i,o=e.select("g[class*=math-group]"),a=o.node(),s=t._fullLayout.legend.font.size*m;if(a){var l=u.bBox(a);r=l.height,i=l.width,u.setTranslate(o,0,r/4)}else{var c=e.select(".legendtext"),d=f.lineCount(c),p=c.node();r=s*d,i=p?u.bBox(p).width:0;var g=s*(.3+(1-d)/2);f.positionText(c,h.textGap,g)}n.lineHeight=s,n.height=Math.max(r,16)+3,n.width=i}else e.remove()}(e,t)}))}v.attr("text-anchor","start").classed("user-select-none",!0).call(u.font,r.legend.font).text(d?k(g,p):g),f.positionText(v,h.textGap,0),d?v.call(f.makeEditable,{gd:t,text:g}).call(y).on("edit",(function(e){this.text(k(e,p)).call(y);var r=n.trace._fullInput||{},o={};if(a.hasTransform(r,"groupby")){var s=a.getTransformIndices(r,"groupby"),l=s[s.length-1],u=i.keyedContainer(r,"transforms["+l+"].styles","target","value.name");u.set(n.trace._group,e),o=u.constructUpdate()}else o.name=e;return a.call("_guiRestyle",t,o,c)})):y(v)}function k(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;for(var r=n-(e=e||"").length;r>0;r--)e+=" ";return e}function M(e,t){var n,o=t._context.doubleClickDelay,a=1,s=i.ensureSingle(e,"rect","legendtoggle",(function(e){e.style("cursor","pointer").attr("pointer-events","all").call(c.fill,"rgba(0,0,0,0)")}));s.on("mousedown",(function(){(n=(new Date).getTime())-t._legendMouseDownTime<o?a+=1:(a=1,t._legendMouseDownTime=n)})),s.on("mouseup",(function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>o&&(a=Math.max(a-1,1)),_(t,n,e,a,r.event)}}))}function T(e){return i.isRightAnchor(e)?"right":i.isCenterAnchor(e)?"center":"left"}function S(e){return i.isBottomAnchor(e)?"bottom":i.isMiddleAnchor(e)?"middle":"top"}t.exports=function(e){var t=e._fullLayout,n="legend"+t._uid;if(t._infolayer&&e.calcdata){e._legendMouseDownTime||(e._legendMouseDownTime=0);var s=t.legend,f=t.showlegend&&y(e.calcdata,s),d=t.hiddenlabels||[];if(!t.showlegend||!f.length)return t._infolayer.selectAll(".legend").remove(),t._topdefs.select("#"+n).remove(),o.autoMargin(e,"legend");var p=i.ensureSingle(t._infolayer,"g","legend",(function(e){e.attr("pointer-events","all")})),m=i.ensureSingleById(t._topdefs,"clipPath",n,(function(e){e.append("rect")})),k=i.ensureSingle(p,"rect","bg",(function(e){e.attr("shape-rendering","crispEdges")}));k.call(c.stroke,s.bordercolor).call(c.fill,s.bgcolor).style("stroke-width",s.borderwidth+"px");var E=i.ensureSingle(p,"g","scrollbox"),A=i.ensureSingle(p,"rect","scrollbar",(function(e){e.attr(h.scrollBarEnterAttrs).call(c.fill,h.scrollBarColor)})),O=E.selectAll("g.groups").data(f);O.enter().append("g").attr("class","groups"),O.exit().remove();var C=O.selectAll("g.traces").data(i.identity);C.enter().append("g").attr("class","traces"),C.exit().remove(),C.style("opacity",(function(e){var t=e[0].trace;return a.traceIs(t,"pie-like")?-1!==d.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1})).each((function(){r.select(this).call(w,e)})).call(b,e).each((function(){r.select(this).call(M,e)})),i.syncOrAsync([o.previousPromises,function(){return function(e,t,n){var i=e._fullLayout,o=i.legend,a=i._size,s=x.isVertical(o),l=x.isGrouped(o),c=o.borderwidth,f=2*c,d=h.textGap,p=h.itemGap,m=2*(c+p),g=S(o),v=o.y<0||0===o.y&&"top"===g,y=o.y>1||1===o.y&&"bottom"===g;o._maxHeight=Math.max(v||y?i.height/2:a.h,30);var b=0;if(o._width=0,o._height=0,s)n.each((function(e){var t=e[0].height;u.setTranslate(this,c,p+c+o._height+t/2),o._height+=t,o._width=Math.max(o._width,e[0].width)})),b=d+o._width,o._width+=p+d+f,o._height+=m,l&&(t.each((function(e,t){u.setTranslate(this,0,t*o.tracegroupgap)})),o._height+=(o._lgroupsLength-1)*o.tracegroupgap);else{var _=T(o),w=o.x<0||0===o.x&&"right"===_,k=o.x>1||1===o.x&&"left"===_,M=y||v,E=i.width/2;o._maxWidth=Math.max(w?M&&"left"===_?a.l+a.w:E:k?M&&"right"===_?a.r+a.w:E:a.w,2*d);var A=0,O=0;n.each((function(e){var t=e[0].width+d;A=Math.max(A,t),O+=t})),b=null;var C=0;if(l){var N=0,D=0,P=0;t.each((function(){var e=0,t=0;r.select(this).selectAll("g.traces").each((function(n){var r=n[0].height;u.setTranslate(this,0,p+c+r/2+t),t+=r,e=Math.max(e,d+n[0].width)})),N=Math.max(N,t);var n=e+p;n+c+D>o._maxWidth&&(C=Math.max(C,D),D=0,P+=N+o.tracegroupgap,N=t),u.setTranslate(this,D,P),D+=n})),o._width=Math.max(C,D)+c,o._height=P+N+m}else{var R=n.size(),L=O+f+(R-1)*p<o._maxWidth,I=0,j=0,z=0,F=0;n.each((function(e){var t=e[0].height,n=d+e[0].width,r=(L?n:A)+p;r+c+j>o._maxWidth&&(C=Math.max(C,F),j=0,z+=I,o._height+=I,I=0),u.setTranslate(this,c+j,p+c+t/2+z),F=j+n+p,j+=r,I=Math.max(I,t)})),L?(o._width=j+f,o._height=I+m):(o._width=Math.max(C,F)+f,o._height+=I+m)}}o._width=Math.ceil(o._width),o._height=Math.ceil(o._height),o._effHeight=Math.min(o._height,o._maxHeight);var B=e._context.edits,U=B.legendText||B.legendPosition;n.each((function(e){var t=r.select(this).select(".legendtoggle"),n=e[0].height,i=U?d:b||d+e[0].width;s||(i+=p/2),u.setRect(t,0,-n/2,i,n)}))}(e,O,C)},function(){if(!function(e){var t=e._fullLayout.legend,n=T(t),r=S(t);return o.autoMargin(e,"legend",{x:t.x,y:t.y,l:t._width*g[n],r:t._width*v[n],b:t._effHeight*v[r],t:t._effHeight*g[r]})}(e)){var c,f,d,y,b=t._size,x=s.borderwidth,w=b.l+b.w*s.x-g[T(s)]*s._width,M=b.t+b.h*(1-s.y)-g[S(s)]*s._effHeight;if(t.margin.autoexpand){var O=w,C=M;w=i.constrain(w,0,t.width-s._width),M=i.constrain(M,0,t.height-s._effHeight),w!==O&&i.log("Constrain legend.x to make legend fit inside graph"),M!==C&&i.log("Constrain legend.y to make legend fit inside graph")}if(u.setTranslate(p,w,M),A.on(".drag",null),p.on("wheel",null),s._height<=s._maxHeight||e._context.staticPlot)k.attr({width:s._width-x,height:s._effHeight-x,x:x/2,y:x/2}),u.setTranslate(E,0,0),m.select("rect").attr({width:s._width-2*x,height:s._effHeight-2*x,x:x,y:x}),u.setClipUrl(E,n,e),u.setRect(A,0,0,0,0),delete s._scrollY;else{var N,D,P,R=Math.max(h.scrollBarMinHeight,s._effHeight*s._effHeight/s._height),L=s._effHeight-R-2*h.scrollBarMargin,I=s._height-s._effHeight,j=L/I,z=Math.min(s._scrollY||0,I);k.attr({width:s._width-2*x+h.scrollBarWidth+h.scrollBarMargin,height:s._effHeight-x,x:x/2,y:x/2}),m.select("rect").attr({width:s._width-2*x+h.scrollBarWidth+h.scrollBarMargin,height:s._effHeight-2*x,x:x,y:x+z}),u.setClipUrl(E,n,e),U(z,R,j),p.on("wheel",(function(){U(z=i.constrain(s._scrollY+r.event.deltaY/L*I,0,I),R,j),0!==z&&z!==I&&r.event.preventDefault()}));var F=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;N="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,P=z})).on("drag",(function(){var e=r.event.sourceEvent;2===e.buttons||e.ctrlKey||(D="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,U(z=function(e,t,n){var r=(n-t)/j+e;return i.constrain(r,0,I)}(P,N,D),R,j))}));A.call(F);var B=r.behavior.drag().on("dragstart",(function(){var e=r.event.sourceEvent;"touchstart"===e.type&&(N=e.changedTouches[0].clientY,P=z)})).on("drag",(function(){var e=r.event.sourceEvent;"touchmove"===e.type&&(D=e.changedTouches[0].clientY,U(z=function(e,t,n){var r=(t-n)/j+e;return i.constrain(r,0,I)}(P,N,D),R,j))}));E.call(B)}e._context.edits.legendPosition&&(p.classed("cursor-move",!0),l.init({element:p.node(),gd:e,prepFn:function(){var e=u.getTranslate(p);d=e.x,y=e.y},moveFn:function(e,t){var n=d+e,r=y+t;u.setTranslate(p,n,r),c=l.align(n,0,b.l,b.l+b.w,s.xanchor),f=l.align(r,0,b.t+b.h,b.t,s.yanchor)},doneFn:function(){void 0!==c&&void 0!==f&&a.call("_guiRelayout",e,{"legend.x":c,"legend.y":f})},clickFn:function(n,r){var i=t._infolayer.selectAll("g.traces").filter((function(){var e=this.getBoundingClientRect();return r.clientX>=e.left&&r.clientX<=e.right&&r.clientY>=e.top&&r.clientY<=e.bottom}));i.size()>0&&_(e,p,i,n,r)}}))}function U(t,n,r){s._scrollY=e._fullLayout.legend._scrollY=t,u.setTranslate(E,0,-t),u.setRect(A,s._width,h.scrollBarMargin+t*r,h.scrollBarWidth,n),m.select("rect").attr("y",x+t)}}],e)}}},{"../../constants/alignment":471,"../../lib":497,"../../lib/events":490,"../../lib/svg_text_utils":520,"../../plots/plots":586,"../../registry":595,"../color":377,"../dragelement":395,"../drawing":398,"./constants":426,"./get_legend_data":429,"./handle_click":430,"./helpers":431,"./style":433,d3:82}],429:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./helpers");t.exports=function(e,t){var n,o,a={},s=[],l=!1,u={},c=0,f=0;function d(e,n){if(""!==e&&i.isGrouped(t))-1===s.indexOf(e)?(s.push(e),l=!0,a[e]=[[n]]):a[e].push([n]);else{var r="~~i"+c;s.push(r),a[r]=[[n]],c++}}for(n=0;n<e.length;n++){var h=e[n],p=h[0],m=p.trace,g=m.legendgroup;if(m.visible&&m.showlegend)if(r.traceIs(m,"pie-like"))for(u[g]||(u[g]={}),o=0;o<h.length;o++){var v=h[o].label;u[g][v]||(d(g,{label:v,color:h[o].color,i:h[o].i,trace:m,pts:h[o].pts}),u[g][v]=!0,f=Math.max(f,(v||"").length))}else d(g,p),f=Math.max(f,(m.name||"").length)}if(!s.length)return[];var y,b,x=s.length;if(l&&i.isGrouped(t))for(b=new Array(x),n=0;n<x;n++)y=a[s[n]],b[n]=i.isReversed(t)?y.reverse():y;else{for(b=[new Array(x)],n=0;n<x;n++)y=a[s[n]][0],b[0][i.isReversed(t)?x-n-1:n]=y;x=1}return t._lgroupsLength=x,t._maxNameLength=f,b}},{"../../registry":595,"./helpers":431}],430:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=!0;t.exports=function(e,t,n){var a=t._fullLayout;if(!t._dragged&&!t._editing){var s,l=a.legend.itemclick,u=a.legend.itemdoubleclick;if(1===n&&"toggle"===l&&"toggleothers"===u&&o&&t.data&&t._context.showTips?(r.notifier(r._(t,"Double-click on legend to isolate one trace"),"long"),o=!1):o=!1,1===n?s=l:2===n&&(s=u),s){var c,f,d,h,p,m=a.hiddenlabels?a.hiddenlabels.slice():[],g=e.data()[0][0],v=t._fullData,y=g.trace,b=y.legendgroup,x={},_=[],w=[],k=[];if(i.traceIs(y,"pie-like")){var M=g.label,T=m.indexOf(M);"toggle"===s?-1===T?m.push(M):m.splice(T,1):"toggleothers"===s&&(m=[],t.calcdata[0].forEach((function(e){M!==e.label&&m.push(e.label)})),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===m.length&&-1===T&&(m=[])),i.call("_guiRelayout",t,"hiddenlabels",m)}else{var S,E=b&&b.length,A=[];if(E)for(c=0;c<v.length;c++)(S=v[c]).visible&&S.legendgroup===b&&A.push(c);if("toggle"===s){var O;switch(y.visible){case!0:O="legendonly";break;case!1:O=!1;break;case"legendonly":O=!0}if(E)for(c=0;c<v.length;c++)!1!==v[c].visible&&v[c].legendgroup===b&&I(v[c],O);else I(y,O)}else if("toggleothers"===s){var C,N,D=!0;for(c=0;c<v.length;c++)if(v[c]!==y&&!(C=E&&v[c].legendgroup===b)&&!0===v[c].visible&&!i.traceIs(v[c],"notLegendIsolatable")){D=!1;break}for(c=0;c<v.length;c++)if(!1!==v[c].visible&&!i.traceIs(v[c],"notLegendIsolatable"))switch(y.visible){case"legendonly":I(v[c],!0);break;case!0:N=!!D||"legendonly",C=v[c]===y||E&&v[c].legendgroup===b,I(v[c],!!C||N)}}for(c=0;c<w.length;c++)if(d=w[c]){var P=d.constructUpdate(),R=Object.keys(P);for(f=0;f<R.length;f++)h=R[f],(x[h]=x[h]||[])[k[c]]=P[h]}for(p=Object.keys(x),c=0;c<p.length;c++)for(h=p[c],f=0;f<_.length;f++)x[h].hasOwnProperty(f)||(x[h][f]=void 0);i.call("_guiRestyle",t,x,_)}}}function L(e,t,n){var r=_.indexOf(e),i=x[t];return i||(i=x[t]=[]),-1===_.indexOf(e)&&(_.push(e),r=_.length-1),i[r]=n,r}function I(e,t){var n=e._fullInput;if(i.hasTransform(n,"groupby")){var o=w[n.index];if(!o){var a=i.getTransformIndices(n,"groupby"),s=a[a.length-1];o=r.keyedContainer(n,"transforms["+s+"].styles","target","value.visible"),w[n.index]=o}var l=o.get(e._group);void 0===l&&(l=!0),!1!==l&&o.set(e._group,t),k[n.index]=L(n.index,"visible",!1!==n.visible)}else{var u=!1!==n.visible&&t;L(n.index,"visible",u)}}}},{"../../lib":497,"../../registry":595}],431:[function(e,t,n){"use strict";n.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},n.isVertical=function(e){return"h"!==e.orientation},n.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},{}],432:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"legend",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw"),style:e("./style")}},{"./attributes":425,"./defaults":427,"./draw":428,"./style":433}],433:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../lib"),a=e("../drawing"),s=e("../color"),l=e("../../traces/scatter/subtypes"),u=e("../../traces/pie/style_one"),c=e("../../traces/pie/helpers").castOption,f=2,d=5;t.exports=function(e,t){var n=t._fullLayout.legend,h="constant"===n.itemsizing;function p(e,t,n,r){var i;if(e+1)i=e;else{if(!(t&&t.width>0))return 0;i=t.width}return h?r:Math.min(i,n)}function m(e,t,n){var o=e[0].trace,a=o.marker||{},l=a.line||{},u=n?o.type===n&&o.visible:i.traceIs(o,"bar"),c=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(u?[e]:[]);c.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.each((function(e){var t=r.select(this),n=e[0],i=p(n.mlw,a.line,d,f);t.style("stroke-width",i+"px").call(s.fill,n.mc||a.color),i&&s.stroke(t,n.mlc||l.color)}))}function g(e,t,n){var a=e[0],s=a.trace,l=n?s.type===n&&s.visible:i.traceIs(s,n),h=r.select(t).select("g.legendpoints").selectAll("path.legend"+n).data(l?[e]:[]);if(h.enter().append("path").classed("legend"+n,!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),h.exit().remove(),h.size()){var m=(s.marker||{}).line,g=p(c(m.width,a.pts),m,d,f),v=o.minExtend(s,{marker:{line:{width:g}}});v.marker.line.color=m.color;var y=o.minExtend(a,{trace:v});u(h,y,v)}}e.each((function(e){var t=r.select(this),i=o.ensureSingle(t,"g","layers");i.style("opacity",e[0].trace.opacity);var a=n.valign,s=e[0].lineHeight,l=e[0].height;if("middle"!==a&&s&&l){var u={top:1,bottom:-1}[a]*(.5*(s-l+3));i.attr("transform","translate(0,"+u+")")}else i.attr("transform",null);i.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),i.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var c=i.selectAll("g.legendsymbols").data([e]);c.enter().append("g").classed("legendsymbols",!0),c.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)})).each((function(e){var t=e[0].trace,n=[];"waterfall"===t.type&&t.visible&&(n=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var i=r.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(n);i.enter().append("path").classed("legendwaterfall",!0).attr("transform","translate(20,0)").style("stroke-miterlimit",1),i.exit().remove(),i.each((function(e){var n=r.select(this),i=t[e[0]].marker,o=p(void 0,i.line,d,f);n.attr("d",e[1]).style("stroke-width",o+"px").call(s.fill,i.color),o&&n.call(s.stroke,i.line.color)}))})).each((function(e){m(e,this,"funnel")})).each((function(e){m(e,this)})).each((function(e){var n=e[0].trace,l=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(i.traceIs(n,"box-violin")&&n.visible?[e]:[]);l.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),l.exit().remove(),l.each((function(){var e=r.select(this);if("all"!==n.boxpoints&&"all"!==n.points||0!==s.opacity(n.fillcolor)||0!==s.opacity((n.line||{}).color)){var i=p(void 0,n.line,d,f);e.style("stroke-width",i+"px").call(s.fill,n.fillcolor),i&&s.stroke(e,n.line.color)}else{var u=o.minExtend(n,{marker:{size:h?12:o.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});l.call(a.pointStyle,u,t)}}))})).each((function(e){g(e,this,"funnelarea")})).each((function(e){g(e,this,"pie")})).each((function(e){var n,i,s=e[0],u=s.trace,c=u.visible&&u.fill&&"none"!==u.fill,f=l.hasLines(u),d=u.contours,h=!1,m=!1;if(d){var g=d.coloring;"lines"===g?h=!0:f="none"===g||"heatmap"===g||d.showlines,"constraint"===d.type?c="="!==d._operation:"fill"!==g&&"heatmap"!==g||(m=!0)}var v=l.hasMarkers(u)||l.hasText(u)||!c&&!m?"M5,0":f||h?"M5,-2":"M5,-3",y=r.select(this),b=y.select(".legendfill").selectAll("path").data(c||m?[e]:[]);if(b.enter().append("path").classed("js-fill",!0),b.exit().remove(),b.attr("d",v+"h30v6h-30z").call(c?a.fillGroupStyle:function(e){if(e.size()){var n="legendfill-"+u.uid;a.gradient(e,t,n,"horizontalreversed",u.colorscale,"fill")}}),f||h){var x=p(void 0,u.line,10,5);i=o.minExtend(u,{line:{width:x}}),n=[o.minExtend(s,{trace:i})]}var _=y.select(".legendlines").selectAll("path").data(f||h?[n]:[]);_.enter().append("path").classed("js-line",!0),_.exit().remove(),_.attr("d",v+(h?"l30,0.0001":"h30")).call(f?a.lineGroupStyle:function(e){if(e.size()){var n="legendline-"+u.uid;a.lineGroupStyle(e),a.gradient(e,t,n,"horizontalreversed",u.colorscale,"stroke")}})})).each((function(e){var n,i,s=e[0],u=s.trace,c=l.hasMarkers(u),d=l.hasText(u),p=l.hasLines(u);function m(e,t,n,r){var i=o.nestedProperty(u,e).get(),a=o.isArrayOrTypedArray(i)&&t?t(i):i;if(h&&a&&void 0!==r&&(a=r),n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function g(e){return e[0]}if(c||d||p){var v={},y={};if(c){v.mc=m("marker.color",g),v.mx=m("marker.symbol",g),v.mo=m("marker.opacity",o.mean,[.2,1]),v.mlc=m("marker.line.color",g),v.mlw=m("marker.line.width",o.mean,[0,5],f),y.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var b=m("marker.size",o.mean,[2,16],12);v.ms=b,y.marker.size=b}p&&(y.line={width:m("line.width",g,[0,10],5)}),d&&(v.tx="Aa",v.tp=m("textposition",g),v.ts=10,v.tc=m("textfont.color",g),v.tf=m("textfont.family",g)),n=[o.minExtend(s,v)],(i=o.minExtend(u,y)).selectedpoints=null}var x=r.select(this).select("g.legendpoints"),_=x.selectAll("path.scatterpts").data(c?n:[]);_.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform","translate(20,0)"),_.exit().remove(),_.call(a.pointStyle,i,t),c&&(n[0].mrc=3);var w=x.selectAll("g.pointtext").data(d?n:[]);w.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),w.exit().remove(),w.selectAll("text").call(a.textPointStyle,i,t,!0)})).each((function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendcandle").data("candlestick"===t.type&&t.visible?[e,e]:[]);n.enter().append("path").classed("legendcandle",!0).attr("d",(function(e,t){return t?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),o=t[n?"increasing":"decreasing"],a=p(void 0,o.line,d,f);i.style("stroke-width",a+"px").call(s.fill,o.fillcolor),a&&s.stroke(i,o.line.color)}))})).each((function(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendohlc").data("ohlc"===t.type&&t.visible?[e,e]:[]);n.enter().append("path").classed("legendohlc",!0).attr("d",(function(e,t){return t?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform","translate(20,0)").style("stroke-miterlimit",1),n.exit().remove(),n.each((function(e,n){var i=r.select(this),o=t[n?"increasing":"decreasing"],l=p(void 0,o.line,d,f);i.style("fill","none").call(a.dashLine,o.line.dash,l),l&&s.stroke(i,o.line.color)}))}))}},{"../../lib":497,"../../registry":595,"../../traces/pie/helpers":621,"../../traces/pie/style_one":622,"../../traces/scatter/subtypes":647,"../color":377,"../drawing":398,d3:82}],434:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../plots/plots"),o=e("../../plots/cartesian/axis_ids"),a=e("../../lib"),s=e("../../fonts/ploticon"),l=a._,u=t.exports={};function c(e,t){var n,i,a=t.currentTarget,s=a.getAttribute("data-attr"),l=a.getAttribute("data-val")||!0,u=e._fullLayout,c={},f=o.list(e,null,!0),d=u._cartesianSpikesEnabled;if("zoom"===s){var h,p="in"===l?.5:2,m=(1+p)/2,g=(1-p)/2;for(i=0;i<f.length;i++)if(!(n=f[i]).fixedrange)if(h=n._name,"auto"===l)c[h+".autorange"]=!0;else if("reset"===l){if(void 0===n._rangeInitial)c[h+".autorange"]=!0;else{var v=n._rangeInitial.slice();c[h+".range[0]"]=v[0],c[h+".range[1]"]=v[1]}void 0!==n._showSpikeInitial&&(c[h+".showspikes"]=n._showSpikeInitial,"on"!==d||n._showSpikeInitial||(d="off"))}else{var y=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[m*y[0]+g*y[1],m*y[1]+g*y[0]];c[h+".range[0]"]=n.l2r(b[0]),c[h+".range[1]"]=n.l2r(b[1])}}else"hovermode"!==s||"x"!==l&&"y"!==l||(l=u._isHoriz?"y":"x",a.setAttribute("data-val",l)),c[s]=l;u._cartesianSpikesEnabled=d,r.call("_guiRelayout",e,c)}function f(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=e._fullLayout._subplots.gl3d,s={},l=i.split("."),u=0;u<a.length;u++)s[a[u]+"."+l[1]]=o;var c="pan"===o?o:"zoom";s.dragmode=c,r.call("_guiRelayout",e,s)}function d(e,t){for(var n=t.currentTarget.getAttribute("data-attr"),i=e._fullLayout,o=i._subplots.gl3d||[],a={},s=0;s<o.length;s++){var l=o[s],u=l+".camera",c=i[l]._scene;"resetLastSave"===n?(a[u+".up"]=c.viewInitial.up,a[u+".eye"]=c.viewInitial.eye,a[u+".center"]=c.viewInitial.center):"resetDefault"===n&&(a[u+".up"]=null,a[u+".eye"]=null,a[u+".center"]=null)}r.call("_guiRelayout",e,a)}function h(e,t){var n=t.currentTarget,r=n._previousVal,i=e._fullLayout,o=i._subplots.gl3d||[],a=["xaxis","yaxis","zaxis"],s={},l={};if(r)l=r,n._previousVal=null;else{for(var u=0;u<o.length;u++){var c=o[u],f=i[c],d=c+".hovermode";s[d]=f.hovermode,l[d]=!1;for(var h=0;h<3;h++){var p=a[h],m=c+"."+p+".showspikes";l[m]=!1,s[m]=f[p].showspikes}}n._previousVal=s}return l}function p(e,t){for(var n=t.currentTarget,i=n.getAttribute("data-attr"),o=n.getAttribute("data-val")||!0,a=e._fullLayout,s=a._subplots.geo,l=0;l<s.length;l++){var u=s[l],c=a[u];if("zoom"===i){var f=c.projection.scale,d="in"===o?2*f:.5*f;r.call("_guiRelayout",e,u+".projection.scale",d)}else"reset"===i&&v(e,"geo")}}function m(e){var t=e._fullLayout;return!t.hovermode&&(t._has("cartesian")?t._isHoriz?"y":"x":"closest")}function g(e){var t=m(e);r.call("_guiRelayout",e,"hovermode",t)}function v(e,t){for(var n=e._fullLayout,i=n._subplots[t]||[],o={},a=0;a<i.length;a++)for(var s=i[a],l=n[s]._subplot.viewInitial,u=Object.keys(l),c=0;c<u.length;c++){var f=u[c];o[s+"."+f]=l[f]}r.call("_guiRelayout",e,o)}u.toImage={name:"toImage",title:function(e){var t=(e._context.toImageButtonOptions||{}).format||"png";return l(e,"png"===t?"Download plot as a png":"Download plot")},icon:s.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||"png"};a.notifier(l(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==n.format&&a.isIE()&&(a.notifier(l(e,"IE only supports svg.  Changing format to svg."),"long"),n.format="svg"),["filename","width","height","scale"].forEach((function(e){e in t&&(n[e]=t[e])})),r.call("downloadImage",e,n).then((function(t){a.notifier(l(e,"Snapshot succeeded")+" - "+t,"long")})).catch((function(){a.notifier(l(e,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},u.sendDataToCloud={name:"sendDataToCloud",title:function(e){return l(e,"Edit in Chart Studio")},icon:s.disk,click:function(e){i.sendDataToCloud(e)}},u.editInChartStudio={name:"editInChartStudio",title:function(e){return l(e,"Edit in Chart Studio")},icon:s.pencil,click:function(e){i.sendDataToCloud(e)}},u.zoom2d={name:"zoom2d",title:function(e){return l(e,"Zoom")},attr:"dragmode",val:"zoom",icon:s.zoombox,click:c},u.pan2d={name:"pan2d",title:function(e){return l(e,"Pan")},attr:"dragmode",val:"pan",icon:s.pan,click:c},u.select2d={name:"select2d",title:function(e){return l(e,"Box Select")},attr:"dragmode",val:"select",icon:s.selectbox,click:c},u.lasso2d={name:"lasso2d",title:function(e){return l(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:s.lasso,click:c},u.zoomIn2d={name:"zoomIn2d",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:c},u.zoomOut2d={name:"zoomOut2d",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:c},u.autoScale2d={name:"autoScale2d",title:function(e){return l(e,"Autoscale")},attr:"zoom",val:"auto",icon:s.autoscale,click:c},u.resetScale2d={name:"resetScale2d",title:function(e){return l(e,"Reset axes")},attr:"zoom",val:"reset",icon:s.home,click:c},u.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return l(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:c},u.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return l(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:s.tooltip_compare,gravity:"ne",click:c},u.zoom3d={name:"zoom3d",title:function(e){return l(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:s.zoombox,click:f},u.pan3d={name:"pan3d",title:function(e){return l(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:s.pan,click:f},u.orbitRotation={name:"orbitRotation",title:function(e){return l(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:s["3d_rotate"],click:f},u.tableRotation={name:"tableRotation",title:function(e){return l(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:s["z-axis"],click:f},u.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return l(e,"Reset camera to default")},attr:"resetDefault",icon:s.home,click:d},u.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return l(e,"Reset camera to last save")},attr:"resetLastSave",icon:s.movie,click:d},u.hoverClosest3d={name:"hoverClosest3d",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:function(e,t){var n=h(e,t);r.call("_guiRelayout",e,n)}},u.zoomInGeo={name:"zoomInGeo",title:function(e){return l(e,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:p},u.zoomOutGeo={name:"zoomOutGeo",title:function(e){return l(e,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:p},u.resetGeo={name:"resetGeo",title:function(e){return l(e,"Reset")},attr:"reset",val:null,icon:s.autoscale,click:p},u.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:g},u.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:g},u.hoverClosestPie={name:"hoverClosestPie",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:g},u.resetViewSankey={name:"resetSankeyGroup",title:function(e){return l(e,"Reset view")},icon:s.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<e._fullData.length;n++){var i=e._fullData[n]._viewInitial;t["node.groups"].push(i.node.groups.slice()),t["node.x"].push(i.node.x.slice()),t["node.y"].push(i.node.y.slice())}r.call("restyle",e,t)}},u.toggleHover={name:"toggleHover",title:function(e){return l(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:function(e,t){var n=h(e,t);n.hovermode=m(e),r.call("_guiRelayout",e,n)}},u.resetViews={name:"resetViews",title:function(e){return l(e,"Reset views")},icon:s.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),c(e,t),n.setAttribute("data-attr","resetLastSave"),d(e,t),v(e,"geo"),v(e,"mapbox")}},u.toggleSpikelines={name:"toggleSpikelines",title:function(e){return l(e,"Toggle Spike Lines")},icon:s.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout,n=t._cartesianSpikesEnabled;t._cartesianSpikesEnabled="on"===n?"off":"on",r.call("_guiRelayout",e,function(e){for(var t="on"===e._fullLayout._cartesianSpikesEnabled,n=o.list(e,null,!0),r={},i=0;i<n.length;i++){var a=n[i];r[a._name+".showspikes"]=!!t||a._showSpikeInitial}return r}(e))}},u.resetViewMapbox={name:"resetViewMapbox",title:function(e){return l(e,"Reset view")},attr:"reset",icon:s.home,click:function(e){v(e,"mapbox")}}},{"../../fonts/ploticon":480,"../../lib":497,"../../plots/cartesian/axis_ids":546,"../../plots/plots":586,"../../registry":595}],435:[function(e,t,n){"use strict";n.manage=e("./manage")},{"./manage":436}],436:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../traces/scatter/subtypes"),o=e("../../registry"),a=e("./modebar"),s=e("./buttons");t.exports=function(e){var t=e._fullLayout,n=e._context,l=t._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var u,c=n.modeBarButtons;u=Array.isArray(c)&&c.length?function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var i=n[r];if("string"==typeof i){if(void 0===s[i])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=s[i]}}return e}(c):!n.displayModeBar&&n.watermark?[]:function(e){var t=e._fullLayout,n=e._fullData,a=e._context,l=a.modeBarButtonsToRemove,u=a.modeBarButtonsToAdd,c=t._has("cartesian"),f=t._has("gl3d"),d=t._has("geo"),h=t._has("pie"),p=t._has("funnelarea"),m=t._has("gl2d"),g=t._has("ternary"),v=t._has("mapbox"),y=t._has("polar"),b=t._has("sankey"),x=function(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}(t),_=[];function w(e){if(e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n];-1===l.indexOf(r)&&t.push(s[r])}_.push(t)}}var k=["toImage"];a.showEditInChartStudio?k.push("editInChartStudio"):a.showSendToCloud&&k.push("sendDataToCloud"),w(k);var M=[],T=[],S=[],E=[];return(c||m||h||p||g)+d+f+v+y>1?(T=["toggleHover"],S=["resetViews"]):d?(M=["zoomInGeo","zoomOutGeo"],T=["hoverClosestGeo"],S=["resetGeo"]):f?(T=["hoverClosest3d"],S=["resetCameraDefault3d","resetCameraLastSave3d"]):v?(T=["toggleHover"],S=["resetViewMapbox"]):m?T=["hoverClosestGl2d"]:h?T=["hoverClosestPie"]:b?(T=["hoverClosestCartesian","hoverCompareCartesian"],S=["resetViewSankey"]):T=["toggleHover"],c&&(T=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),function(e){for(var t=0;t<e.length;t++)if(!o.traceIs(e[t],"noHover"))return!1;return!0}(n)&&(T=[]),!c&&!m||x||(M=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==S[0]&&(S=["resetScale2d"])),f?E=["zoom3d","pan3d","orbitRotation","tableRotation"]:(c||m)&&!x||g?E=["zoom2d","pan2d"]:v||d?E=["pan2d"]:y&&(E=["zoom2d"]),function(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(o.traceIs(r,"scatter-like")?(i.hasMarkers(r)||i.hasText(r))&&(t=!0):o.traceIs(r,"box-violin")&&"all"!==r.boxpoints&&"all"!==r.points||(t=!0))}return t}(n)&&E.push("select2d","lasso2d"),w(E),w(M.concat(S)),w(T),function(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}(_,u)}(e),l?l.update(e,u):t._modeBar=a(e,u)}else l&&(l.destroy(),delete t._modeBar)}},{"../../plots/cartesian/axis_ids":546,"../../registry":595,"../../traces/scatter/subtypes":647,"./buttons":434,"./modebar":437}],437:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../../lib"),a=e("../../fonts/ploticon"),s=new DOMParser;function l(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var u=l.prototype;u.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i="modebar-"+r._uid;this.element.setAttribute("id",i),this._uid=i,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",t=t.reverse());var a=r.modebar,s="hover"===n.displayModeBar?".js-plotly-plot .plotly:hover ":"";o.deleteRelatedStyleRule(i),o.addRelatedStyleRule(i,s+"#"+i+" .modebar-group","background-color: "+a.bgcolor),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn .icon path","fill: "+a.color),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn:hover .icon path","fill: "+a.activecolor),o.addRelatedStyleRule(i,"#"+i+" .modebar-btn.active .icon path","fill: "+a.activecolor);var l=!this.hasButtons(t),u=this.hasLogo!==n.displaylogo,c=this.locale!==n.locale;if(this.locale=n.locale,(l||u||c)&&(this.removeAllButtons(),this.updateButtons(t),n.watermark||n.displaylogo)){var f=this.getLogo();n.watermark&&(f.className=f.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(f,this.element.childNodes[0]):this.element.appendChild(f),this.hasLogo=!0}this.updateActiveButton()},u.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(e){var n=t.createGroup();e.forEach((function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var i=t.createButton(e);t.buttonElements.push(i),n.appendChild(i)})),t.element.appendChild(n)}))},u.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},u.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var i=e.title;void 0===i?i=e.name:"function"==typeof i&&(i=i(this.graphInfo)),(i||0===i)&&n.setAttribute("data-title",i),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var o=e.val;if(void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),n.setAttribute("data-val",o)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");n.addEventListener("click",(function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)})),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&r.select(n).classed("active",!0);var s=e.icon;return"function"==typeof s?n.appendChild(s()):n.appendChild(this.createIcon(s||a.question)),n.setAttribute("data-gravity",e.gravity||"n"),n},u.createIcon=function(e){var t,n=i(e.height)?Number(e.height):e.ascent-e.descent,r="http://www.w3.org/2000/svg";if(e.path){(t=document.createElementNS(r,"svg")).setAttribute("viewBox",[0,0,e.width,n].join(" ")),t.setAttribute("class","icon");var o=document.createElementNS(r,"path");o.setAttribute("d",e.path),e.transform?o.setAttribute("transform",e.transform):void 0!==e.ascent&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),t.appendChild(o)}return e.svg&&(t=s.parseFromString(e.svg,"application/xml").childNodes[0]),t.setAttribute("height","1em"),t.setAttribute("width","1em"),t},u.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach((function(e){var i=e.getAttribute("data-val")||!0,a=e.getAttribute("data-attr"),s="true"===e.getAttribute("data-toggle"),l=r.select(e);if(s)a===n&&l.classed("active",!l.classed("active"));else{var u=null===a?a:o.nestedProperty(t,a).get();l.classed("active",u===i)}}))},u.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},u.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plot.ly/",t.target="_blank",t.setAttribute("data-title",o._(this.graphInfo,"Produced with Plotly")),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(a.newplotlylogo)),e.appendChild(t),e},u.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},u.destroy=function(){o.removeElement(this.container.querySelector(".modebar")),o.deleteRelatedStyleRule(this._uid)},t.exports=function(e,t){var n=e._fullLayout,i=new l({graphInfo:e,container:n._modebardiv.node(),buttons:t});return n._privateplot&&r.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}},{"../../fonts/ploticon":480,"../../lib":497,d3:82,"fast-isnumeric":91}],438:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),o=(0,e("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});t.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:i.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":533,"../../plots/font_attributes":569,"../color/attributes":376}],439:[function(e,t,n){"use strict";t.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],440:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../color"),o=e("../../plot_api/plot_template"),a=e("../../plots/array_container_defaults"),s=e("./attributes"),l=e("./constants");function u(e,t,n,i){var o=i.calendar;function a(n,i){return r.coerce(e,t,s.buttons,n,i)}if(a("visible")){var l=a("step");"all"!==l&&(!o||"gregorian"===o||"month"!==l&&"year"!==l?a("stepmode"):t.stepmode="backward",a("count")),a("label")}}t.exports=function(e,t,n,c,f){var d=e.rangeselector||{},h=o.newContainer(t,"rangeselector");function p(e,t){return r.coerce(d,h,s,e,t)}if(p("visible",a(d,h,{name:"buttons",handleItemDefaults:u,calendar:f}).length>0)){var m=function(e,t,n){for(var r=n.filter((function(n){return t[n].anchor===e._id})),i=0,o=0;o<r.length;o++){var a=t[r[o]].domain;a&&(i=Math.max(a[1],i))}return[e.domain[0],i+l.yPad]}(t,n,c);p("x",m[0]),p("y",m[1]),r.noneOrAll(e,t,["x","y"]),p("xanchor"),p("yanchor"),r.coerceFont(p,"font",n.font);var g=p("bgcolor");p("activecolor",i.contrast(g,l.lightAmount,l.darkAmount)),p("bordercolor"),p("borderwidth")}}},{"../../lib":497,"../../plot_api/plot_template":533,"../../plots/array_container_defaults":539,"../color":377,"./attributes":438,"./constants":439}],441:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../plots/plots"),a=e("../color"),s=e("../drawing"),l=e("../../lib"),u=e("../../lib/svg_text_utils"),c=e("../../plots/cartesian/axis_ids"),f=e("../../constants/alignment"),d=f.LINE_SPACING,h=f.FROM_TL,p=f.FROM_BR,m=e("./constants"),g=e("./get_update_object");function v(e){return e._id}function y(e,t,n){var r=l.ensureSingle(e,"rect","selector-rect",(function(e){e.attr("shape-rendering","crispEdges")}));r.attr({rx:m.rx,ry:m.ry}),r.call(a.stroke,t.bordercolor).call(a.fill,function(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}(t,n)).style("stroke-width",t.borderwidth+"px")}function b(e,t,n,r){l.ensureSingle(e,"text","selector-text",(function(e){e.classed("user-select-none",!0).attr("text-anchor","middle")})).call(s.font,t.font).text(function(e,t){return e.label?t?l.templateString(e.label,t):e.label:"all"===e.step?"all":e.count+e.step.charAt(0)}(n,r._fullLayout._meta)).call((function(e){u.convertToTspans(e,r)}))}t.exports=function(e){var t=e._fullLayout._infolayer.selectAll(".rangeselector").data(function(e){for(var t=c.list(e,"x",!0),n=[],r=0;r<t.length;r++){var i=t[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}(e),v);t.enter().append("g").classed("rangeselector",!0),t.exit().remove(),t.style({cursor:"pointer","pointer-events":"all"}),t.each((function(t){var n=r.select(this),a=t,c=a.rangeselector,f=n.selectAll("g.button").data(l.filterVisible(c.buttons));f.enter().append("g").classed("button",!0),f.exit().remove(),f.each((function(t){var n=r.select(this),o=g(a,t);t._isActive=function(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}(a,t,o),n.call(y,c,t),n.call(b,c,t,e),n.on("click",(function(){e._dragged||i.call("_guiRelayout",e,o)})),n.on("mouseover",(function(){t._isHovered=!0,n.call(y,c,t)})),n.on("mouseout",(function(){t._isHovered=!1,n.call(y,c,t)}))})),function(e,t,n,i,a){var c=0,f=0,g=n.borderwidth;t.each((function(){var e=r.select(this).select(".selector-text"),t=n.font.size*d,i=Math.max(t*u.lineCount(e),16)+3;f=Math.max(f,i)})),t.each((function(){var e=r.select(this),t=e.select(".selector-rect"),i=e.select(".selector-text"),o=i.node()&&s.bBox(i.node()).width,a=n.font.size*d,l=u.lineCount(i),h=Math.max(o+10,m.minButtonWidth);e.attr("transform","translate("+(g+c)+","+g+")"),t.attr({x:0,y:0,width:h,height:f}),u.positionText(i,h/2,f/2-(l-1)*a/2+3),c+=h+5}));var v=e._fullLayout._size,y=v.l+v.w*n.x,b=v.t+v.h*(1-n.y),x="left";l.isRightAnchor(n)&&(y-=c,x="right"),l.isCenterAnchor(n)&&(y-=c/2,x="center");var _="top";l.isBottomAnchor(n)&&(b-=f,_="bottom"),l.isMiddleAnchor(n)&&(b-=f/2,_="middle"),c=Math.ceil(c),f=Math.ceil(f),y=Math.round(y),b=Math.round(b),o.autoMargin(e,i+"-range-selector",{x:n.x,y:n.y,l:c*h[x],r:c*p[x],b:f*p[_],t:f*h[_]}),a.attr("transform","translate("+y+","+b+")")}(e,f,c,a._name,n)}))}},{"../../constants/alignment":471,"../../lib":497,"../../lib/svg_text_utils":520,"../../plots/cartesian/axis_ids":546,"../../plots/plots":586,"../../registry":595,"../color":377,"../drawing":398,"./constants":439,"./get_update_object":442,d3:82}],442:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e,t){var n=e._name,i={};if("all"===t.step)i[n+".autorange"]=!0;else{var o=function(e,t){var n,i=e.range,o=new Date(e.r2l(i[1])),a=t.step,s=t.count;switch(t.stepmode){case"backward":n=e.l2r(+r.time[a].utc.offset(o,-s));break;case"todate":var l=r.time[a].utc.offset(o,-s);n=e.l2r(+r.time[a].utc.ceil(l))}return[n,i[1]]}(e,t);i[n+".range[0]"]=o[0],i[n+".range[1]"]=o[1]}return i}},{d3:82}],443:[function(e,t,n){"use strict";t.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e("./attributes")}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":438,"./defaults":440,"./draw":441}],444:[function(e,t,n){"use strict";var r=e("../color/attributes");t.exports={bgcolor:{valType:"color",dflt:r.background,editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":376}],445:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids").list,i=e("../../plots/cartesian/autorange").getAutoRange,o=e("./constants");t.exports=function(e){for(var t=r(e,"x",!0),n=0;n<t.length;n++){var a=t[n],s=a[o.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=i(e,a))}}},{"../../plots/cartesian/autorange":542,"../../plots/cartesian/axis_ids":546,"./constants":446}],446:[function(e,t,n){"use strict";t.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],447:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plot_api/plot_template"),o=e("../../plots/cartesian/axis_ids"),a=e("./attributes"),s=e("./oppaxis_attributes");t.exports=function(e,t,n){var l=e[n],u=t[n];if(l.rangeslider||t._requestRangeslider[u._id]){r.isPlainObject(l.rangeslider)||(l.rangeslider={});var c,f,d=l.rangeslider,h=i.newContainer(u,"rangeslider");if(_("visible")){_("bgcolor",t.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!u.isValidRange(d.range)),_("range");var p=t._subplots;if(p)for(var m=p.cartesian.filter((function(e){return e.substr(0,e.indexOf("y"))===o.name2id(n)})).map((function(e){return e.substr(e.indexOf("y"),e.length)})),g=r.simpleMap(m,o.id2name),v=0;v<g.length;v++){var y=g[v];c=d[y]||{},f=i.newContainer(h,y,"yaxis");var b,x=t[y];c.range&&x.isValidRange(c.range)&&(b="fixed"),"match"!==w("rangemode",b)&&w("range",x.range.slice())}h._input=d}}function _(e,t){return r.coerce(d,h,a,e,t)}function w(e,t){return r.coerce(c,f,s,e,t)}}},{"../../lib":497,"../../plot_api/plot_template":533,"../../plots/cartesian/axis_ids":546,"./attributes":444,"./oppaxis_attributes":451}],448:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../plots/plots"),a=e("../../lib"),s=e("../drawing"),l=e("../color"),u=e("../titles"),c=e("../../plots/cartesian"),f=e("../../plots/cartesian/axis_ids"),d=e("../dragelement"),h=e("../../lib/setcursor"),p=e("./constants");function m(e,t,n,r){var i=a.ensureSingle(e,"rect",p.bgClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),o=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,l=-r._offsetShift,u=s.crispRound(t,r.borderwidth);i.attr({width:r._width+o,height:r._height+o,transform:"translate("+l+","+l+")",fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":u})}function g(e,t,n,r){var i=t._fullLayout;a.ensureSingleById(i._topdefs,"clipPath",r._clipId,(function(e){e.append("rect").attr({x:0,y:0})})).select("rect").attr({width:r._width,height:r._height})}function v(e,t,n,i){var l,u=t.calcdata,d=e.selectAll("g."+p.rangePlotClassName).data(n._subplotsWith,a.identity);d.enter().append("g").attr("class",(function(e){return p.rangePlotClassName+" "+e})).call(s.setClipUrl,i._clipId,t),d.order(),d.exit().remove(),d.each((function(e,a){var s=r.select(this),d=0===a,h=f.getFromId(t,e,"y"),p=h._name,m=i[p],g={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:i.range.slice(),calendar:n.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};g.layout[p]={type:h.type,domain:[0,1],range:"match"!==m.rangemode?m.range.slice():h.range.slice(),calendar:h.calendar},o.supplyDefaults(g);var v=g._fullLayout.xaxis,y=g._fullLayout[p];v.clearCalc(),v.setScale(),y.clearCalc(),y.setScale();var b={id:e,plotgroup:s,xaxis:v,yaxis:y,isRangePlot:!0};d?l=b:(b.mainplot="xy",b.mainplotinfo=l),c.rangePlot(t,b,function(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i[0].trace;o.xaxis+o.yaxis===t&&n.push(i)}return n}(u,e))}))}function y(e,t,n,r,i){a.ensureSingle(e,"rect",p.maskMinClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(l.fill,p.maskColor),a.ensureSingle(e,"rect",p.maskMaxClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(l.fill,p.maskColor),"match"!==i.rangemode&&(a.ensureSingle(e,"rect",p.maskMinOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).call(l.fill,p.maskOppAxisColor),a.ensureSingle(e,"rect",p.maskMaxOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).style("border-top",p.maskOppBorder).call(l.fill,p.maskOppAxisColor))}function b(e,t,n,r){t._context.staticPlot||a.ensureSingle(e,"rect",p.slideBoxClassName,(function(e){e.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:r._height,fill:p.slideBoxFill})}function x(e,t,n,r){var i=a.ensureSingle(e,"g",p.grabberMinClassName),o=a.ensureSingle(e,"g",p.grabberMaxClassName),s={x:0,width:p.handleWidth,rx:p.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},u={y:Math.round(r._height/4),height:Math.round(r._height/2)};if(a.ensureSingle(i,"rect",p.handleMinClassName,(function(e){e.attr(s)})).attr(u),a.ensureSingle(o,"rect",p.handleMaxClassName,(function(e){e.attr(s)})).attr(u),!t._context.staticPlot){var c={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:p.grabAreaCursor};a.ensureSingle(i,"rect",p.grabAreaMinClassName,(function(e){e.attr(c)})).attr("height",r._height),a.ensureSingle(o,"rect",p.grabAreaMaxClassName,(function(e){e.attr(c)})).attr("height",r._height)}}t.exports=function(e){for(var t=e._fullLayout,n=t._rangeSliderData,o=0;o<n.length;o++){var s=n[o][p.name];s._clipId=s._id+"-"+t._uid}var l=t._infolayer.selectAll("g."+p.containerClassName).data(n,(function(e){return e._name}));l.exit().each((function(e){var n=e[p.name];t._topdefs.select("#"+n._clipId).remove()})).remove(),0!==n.length&&(l.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),l.each((function(n){var o=r.select(this),s=n[p.name],l=t[f.id2name(n.anchor)],c=s[f.id2name(n.anchor)];if(s.range){var _,w=a.simpleMap(s.range,n.r2l),k=a.simpleMap(n.range,n.r2l);_=k[0]<k[1]?[Math.min(w[0],k[0]),Math.max(w[1],k[1])]:[Math.max(w[0],k[0]),Math.min(w[1],k[1])],s.range=s._input.range=a.simpleMap(_,n.l2r)}n.cleanRange("rangeslider.range");var M=t._size,T=n.domain;s._width=M.w*(T[1]-T[0]);var S=Math.round(M.l+M.w*T[0]),E=Math.round(M.t+M.h*(1-n._counterDomainMin)+("bottom"===n.side?n._depth:0)+s._offsetShift+p.extraPad);o.attr("transform","translate("+S+","+E+")");var A=n.r2l(s.range[0]),O=n.r2l(s.range[1]),C=O-A;if(s.p2d=function(e){return e/s._width*C+A},s.d2p=function(e){return(e-A)/C*s._width},s._rl=[A,O],"match"!==c.rangemode){var N=l.r2l(c.range[0]),D=l.r2l(c.range[1])-N;s.d2pOppAxis=function(e){return(e-N)/D*s._height}}o.call(m,e,n,s).call(g,e,n,s).call(v,e,n,s).call(y,e,n,s,c).call(b,e,n,s).call(x,e,n,s),function(e,t,n,o){var s=e.select("rect."+p.slideBoxClassName).node(),l=e.select("rect."+p.grabAreaMinClassName).node(),u=e.select("rect."+p.grabAreaMaxClassName).node();e.on("mousedown",(function(){var c=r.event,f=c.target,p=c.clientX,m=p-e.node().getBoundingClientRect().left,g=o.d2p(n._rl[0]),v=o.d2p(n._rl[1]),y=d.coverSlip();function b(e){var c,d,b,x=+e.clientX-p;switch(f){case s:b="ew-resize",c=g+x,d=v+x;break;case l:b="col-resize",c=g+x,d=v;break;case u:b="col-resize",c=g,d=v+x;break;default:b="ew-resize",c=m,d=m+x}if(d<c){var _=d;d=c,c=_}o._pixelMin=c,o._pixelMax=d,h(r.select(y),b),function(e,t,n,r){function o(e){return n.l2r(a.constrain(e,r._rl[0],r._rl[1]))}var s=o(r.p2d(r._pixelMin)),l=o(r.p2d(r._pixelMax));window.requestAnimationFrame((function(){i.call("_guiRelayout",t,n._name+".range",[s,l])}))}(0,t,n,o)}y.addEventListener("mousemove",b),y.addEventListener("mouseup",(function e(){y.removeEventListener("mousemove",b),y.removeEventListener("mouseup",e),a.removeElement(y)}))}))}(o,e,n,s),function(e,t,n,r,i,o){var s=p.handleWidth/2;function l(e){return a.constrain(e,0,r._width)}function u(e){return a.constrain(e,0,r._height)}function c(e){return a.constrain(e,-s,r._width+s)}var f=l(r.d2p(n._rl[0])),d=l(r.d2p(n._rl[1]));if(e.select("rect."+p.slideBoxClassName).attr("x",f).attr("width",d-f),e.select("rect."+p.maskMinClassName).attr("width",f),e.select("rect."+p.maskMaxClassName).attr("x",d).attr("width",r._width-d),"match"!==o.rangemode){var h=r._height-u(r.d2pOppAxis(i._rl[1])),m=r._height-u(r.d2pOppAxis(i._rl[0]));e.select("rect."+p.maskMinOppAxisClassName).attr("x",f).attr("height",h).attr("width",d-f),e.select("rect."+p.maskMaxOppAxisClassName).attr("x",f).attr("y",m).attr("height",r._height-m).attr("width",d-f),e.select("rect."+p.slideBoxClassName).attr("y",h).attr("height",m-h)}var g=Math.round(c(f-s))-.5,v=Math.round(c(d-s))+.5;e.select("g."+p.grabberMinClassName).attr("transform","translate("+g+",0.5)"),e.select("g."+p.grabberMaxClassName).attr("transform","translate("+v+",0.5)")}(o,0,n,s,l,c),"bottom"===n.side&&u.draw(e,n._id+"title",{propContainer:n,propName:n._name+".title",placeholder:t._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:E+s._height+s._offsetShift+10+1.5*n.title.font.size,"text-anchor":"middle"}})})))}},{"../../lib":497,"../../lib/setcursor":516,"../../plots/cartesian":554,"../../plots/cartesian/axis_ids":546,"../../plots/plots":586,"../../registry":595,"../color":377,"../dragelement":395,"../drawing":398,"../titles":464,"./constants":446,d3:82}],449:[function(e,t,n){"use strict";var r=e("../../plots/cartesian/axis_ids"),i=e("../../lib/svg_text_utils"),o=e("./constants"),a=e("../../constants/alignment").LINE_SPACING,s=o.name;function l(e){var t=e&&e[s];return t&&t.visible}n.isVisible=l,n.makeData=function(e){var t=r.list({_fullLayout:e},"x",!0),n=e.margin,i=[];if(!e._has("gl2d"))for(var o=0;o<t.length;o++){var a=t[o];if(l(a)){i.push(a);var u=a[s];u._id=s+a._id,u._height=(e.height-n.b-n.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}e._rangeSliderData=i},n.autoMarginOpts=function(e,t){var n=e._fullLayout,r=t[s],l=t._id.charAt(0),u=0,c=0;return"bottom"===t.side&&(u=t._depth,t.title.text!==n._dfltTitle[l]&&(c=1.5*t.title.font.size+10+r._offsetShift,c+=(t.title.text.match(i.BR_TAG_ALL)||[]).length*t.title.font.size*a)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+u+Math.max(n.margin.b,c),pad:o.extraPad+2*r._offsetShift}}},{"../../constants/alignment":471,"../../lib/svg_text_utils":520,"../../plots/cartesian/axis_ids":546,"./constants":446}],450:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),o=e("./oppaxis_attributes"),a=e("./helpers");t.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},i,{yaxis:o})}}},layoutAttributes:e("./attributes"),handleDefaults:e("./defaults"),calcAutorange:e("./calc_autorange"),draw:e("./draw"),isVisible:a.isVisible,makeData:a.makeData,autoMarginOpts:a.autoMarginOpts}},{"../../lib":497,"./attributes":444,"./calc_autorange":445,"./defaults":447,"./draw":448,"./helpers":449,"./oppaxis_attributes":451}],451:[function(e,t,n){"use strict";t.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],452:[function(e,t,n){"use strict";var r=e("../annotations/attributes"),i=e("../../traces/scatter/attributes").line,o=e("../drawing/attributes").dash,a=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray;t.exports=s("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:a({},r.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:a({},r.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:a({},i.color,{editType:"arraydraw"}),width:a({},i.width,{editType:"calc+arraydraw"}),dash:a({},o,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},editType:"arraydraw"})},{"../../lib/extend":491,"../../plot_api/plot_template":533,"../../traces/scatter/attributes":624,"../annotations/attributes":362,"../drawing/attributes":397}],453:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("./constants"),a=e("./helpers");function s(e){return u(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function l(e){return u(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function u(e,t,n,i,s,l){var u=e/2,c=l;if("pixel"===t){var f=s?a.extractPathCoords(s,l?o.paramIsY:o.paramIsX):[n,i],d=r.aggNums(Math.max,null,f),h=r.aggNums(Math.min,null,f),p=h<0?Math.abs(h)+u:u,m=d>0?d+u:u;return{ppad:u,ppadplus:c?p:m,ppadminus:c?m:p}}return{ppad:u}}function c(e,t,n,r,i){var s="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==t)return[s(t),s(n)];if(r){var l,u,c,f,d=1/0,h=-1/0,p=r.match(o.segmentRE);for("date"===e.type&&(s=a.decodeDate(s)),l=0;l<p.length;l++)void 0!==(u=i[p[l].charAt(0)].drawn)&&(!(c=p[l].substr(1).match(o.paramRE))||c.length<u||((f=s(c[u]))<d&&(d=f),f>h&&(h=f)));return h>=d?[d,h]:void 0}}t.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var a=0;a<n.length;a++){var u,f,d=n[a];if(d._extremes={},"paper"!==d.xref){var h="pixel"===d.xsizemode?d.xanchor:d.x0,p="pixel"===d.xsizemode?d.xanchor:d.x1;(f=c(u=i.getFromId(e,d.xref),h,p,d.path,o.paramIsX))&&(d._extremes[u._id]=i.findExtremes(u,f,s(d)))}if("paper"!==d.yref){var m="pixel"===d.ysizemode?d.yanchor:d.y0,g="pixel"===d.ysizemode?d.yanchor:d.y1;(f=c(u=i.getFromId(e,d.yref),m,g,d.path,o.paramIsY))&&(d._extremes[u._id]=i.findExtremes(u,f,l(d)))}}}},{"../../lib":497,"../../plots/cartesian/axes":543,"./constants":454,"./helpers":457}],454:[function(e,t,n){"use strict";t.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],455:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/cartesian/axes"),o=e("../../plots/array_container_defaults"),a=e("./attributes"),s=e("./helpers");function l(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}if(o("visible")){o("layer"),o("opacity"),o("fillcolor"),o("line.color"),o("line.width"),o("line.dash");for(var l=o("type",e.path?"path":"rect"),u=o("xsizemode"),c=o("ysizemode"),f=["x","y"],d=0;d<2;d++){var h,p,m,g=f[d],v=g+"anchor",y="x"===g?u:c,b={_fullLayout:n},x=i.coerceRef(e,t,b,g,"","paper");if("paper"!==x?((h=i.getFromId(b,x))._shapeIndices.push(t._index),m=s.rangeToShapePosition(h),p=s.shapePositionToRange(h)):p=m=r.identity,"path"!==l){var _=g+"0",w=g+"1",k=e[_],M=e[w];e[_]=p(e[_],!0),e[w]=p(e[w],!0),"pixel"===y?(o(_,0),o(w,10)):(i.coercePosition(t,b,o,x,_,.25),i.coercePosition(t,b,o,x,w,.75)),t[_]=m(t[_]),t[w]=m(t[w]),e[_]=k,e[w]=M}if("pixel"===y){var T=e[v];e[v]=p(e[v],!0),i.coercePosition(t,b,o,x,v,.25),t[v]=m(t[v]),e[v]=T}}"path"===l?o("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"])}}t.exports=function(e,t){o(e,t,{name:"shapes",handleItemDefaults:l})}},{"../../lib":497,"../../plots/array_container_defaults":539,"../../plots/cartesian/axes":543,"./attributes":452,"./helpers":457}],456:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../plots/cartesian/axes"),a=e("../color"),s=e("../drawing"),l=e("../../plot_api/plot_template").arrayEditor,u=e("../dragelement"),c=e("../../lib/setcursor"),f=e("./constants"),d=e("./helpers");function h(e,t){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+t+'"]').remove();var n=e._fullLayout.shapes[t]||{};if(n._input&&!1!==n.visible)if("below"!==n.layer)v(e._fullLayout._shapeUpperLayer);else if("paper"===n.xref||"paper"===n.yref)v(e._fullLayout._shapeLowerLayer);else{var h=e._fullLayout._plots[n.xref+n.yref];v(h?(h.mainplotinfo||h).shapelayer:e._fullLayout._shapeLowerLayer)}function v(h){var v={"data-index":t,"fill-rule":"evenodd",d:m(e,n)},y=n.line.width?n.line.color:"rgba(0,0,0,0)",b=h.append("path").attr(v).style("opacity",n.opacity).call(a.stroke,y).call(a.fill,n.fillcolor).call(s.dashLine,n.line.dash,n.line.width);p(b,e,n),e._context.edits.shapePosition&&function(e,t,n,a,h){var v,y,b,x,_,w,k,M,T,S,E,A,O,C,N,D,P=10,R=10,L="pixel"===n.xsizemode,I="pixel"===n.ysizemode,j="line"===n.type,z="path"===n.type,F=l(e.layout,"shapes",n),B=F.modifyItem,U=o.getFromId(e,n.xref),H=o.getFromId(e,n.yref),q=d.getDataToPixel(e,U),V=d.getDataToPixel(e,H,!0),W=d.getPixelToData(e,U),Y=d.getPixelToData(e,H,!0),G=j?function(){var e=Math.max(n.line.width,10),r=h.append("g").attr("data-index",a);r.append("path").attr("d",t.attr("d")).style({cursor:"move","stroke-width":e,"stroke-opacity":"0"});var i={"fill-opacity":"0"},o=e/2>10?e/2:10;return r.append("circle").attr({"data-line-point":"start-point",cx:L?q(n.xanchor)+n.x0:q(n.x0),cy:I?V(n.yanchor)-n.y0:V(n.y0),r:o}).style(i).classed("cursor-grab",!0),r.append("circle").attr({"data-line-point":"end-point",cx:L?q(n.xanchor)+n.x1:q(n.x1),cy:I?V(n.yanchor)-n.y1:V(n.y1),r:o}).style(i).classed("cursor-grab",!0),r}():t,X={element:G.node(),gd:e,prepFn:function(r){L&&(_=q(n.xanchor)),I&&(w=V(n.yanchor)),"path"===n.type?N=n.path:(v=L?n.x0:q(n.x0),y=I?n.y0:V(n.y0),b=L?n.x1:q(n.x1),x=I?n.y1:V(n.y1)),v<b?(T=v,O="x0",S=b,C="x1"):(T=b,O="x1",S=v,C="x0"),!I&&y<x||I&&y>x?(k=y,E="y0",M=x,A="y1"):(k=x,E="y1",M=y,A="y0"),$(r),J(h,n),function(e,t,n){var r=t.xref,i=t.yref,a=o.getFromId(n,r),l=o.getFromId(n,i),u="";"paper"===r||a.autorange||(u+=r),"paper"===i||l.autorange||(u+=i),s.setClipUrl(e,u?"clip"+n._fullLayout._uid+u:null,n)}(t,n,e),X.moveFn="move"===D?Z:K},doneFn:function(){c(t),Q(h),p(t,e,n),r.call("_guiRelayout",e,F.getUpdateObj())},clickFn:function(){Q(h)}};function $(e){if(j)D="path"===e.target.tagName?"move":"start-point"===e.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var n=X.element.getBoundingClientRect(),r=n.right-n.left,i=n.bottom-n.top,o=e.clientX-n.left,a=e.clientY-n.top,s=!z&&r>P&&i>R&&!e.shiftKey?u.getCursor(o/r,1-a/i):"move";c(t,s),D=s.split("-")[0]}}function Z(r,i){if("path"===n.type){var o=function(e){return e},a=o,s=o;L?B("xanchor",n.xanchor=W(_+r)):(a=function(e){return W(q(e)+r)},U&&"date"===U.type&&(a=d.encodeDate(a))),I?B("yanchor",n.yanchor=Y(w+i)):(s=function(e){return Y(V(e)+i)},H&&"date"===H.type&&(s=d.encodeDate(s))),B("path",n.path=g(N,a,s))}else L?B("xanchor",n.xanchor=W(_+r)):(B("x0",n.x0=W(v+r)),B("x1",n.x1=W(b+r))),I?B("yanchor",n.yanchor=Y(w+i)):(B("y0",n.y0=Y(y+i)),B("y1",n.y1=Y(x+i)));t.attr("d",m(e,n)),J(h,n)}function K(r,i){if(z){var o=function(e){return e},a=o,s=o;L?B("xanchor",n.xanchor=W(_+r)):(a=function(e){return W(q(e)+r)},U&&"date"===U.type&&(a=d.encodeDate(a))),I?B("yanchor",n.yanchor=Y(w+i)):(s=function(e){return Y(V(e)+i)},H&&"date"===H.type&&(s=d.encodeDate(s))),B("path",n.path=g(N,a,s))}else if(j){if("resize-over-start-point"===D){var l=v+r,u=I?y-i:y+i;B("x0",n.x0=L?l:W(l)),B("y0",n.y0=I?u:Y(u))}else if("resize-over-end-point"===D){var c=b+r,f=I?x-i:x+i;B("x1",n.x1=L?c:W(c)),B("y1",n.y1=I?f:Y(f))}}else{var p=~D.indexOf("n")?k+i:k,F=~D.indexOf("s")?M+i:M,G=~D.indexOf("w")?T+r:T,X=~D.indexOf("e")?S+r:S;~D.indexOf("n")&&I&&(p=k-i),~D.indexOf("s")&&I&&(F=M-i),(!I&&F-p>R||I&&p-F>R)&&(B(E,n[E]=I?p:Y(p)),B(A,n[A]=I?F:Y(F))),X-G>P&&(B(O,n[O]=L?G:W(G)),B(C,n[C]=L?X:W(X)))}t.attr("d",m(e,n)),J(h,n)}function J(e,t){(L||I)&&function(){var n="path"!==t.type,r=e.selectAll(".visual-cue").data([0]);r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var o=q(L?t.xanchor:i.midRange(n?[t.x0,t.x1]:d.extractPathCoords(t.path,f.paramIsX))),a=V(I?t.yanchor:i.midRange(n?[t.y0,t.y1]:d.extractPathCoords(t.path,f.paramIsY)));if(o=d.roundPositionForSharpStrokeRendering(o,1),a=d.roundPositionForSharpStrokeRendering(a,1),L&&I){var s="M"+(o-1-1)+","+(a-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",s)}else if(L){var l="M"+(o-1-1)+","+(a-9-1)+"v18 h2 v-18 Z";r.attr("d",l)}else{var u="M"+(o-9-1)+","+(a-1-1)+"h18 v2 h-18 Z";r.attr("d",u)}}()}function Q(e){e.selectAll(".visual-cue").remove()}u.init(X),G.node().onmousemove=$}(e,b,n,t,h)}}function p(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,"");s.setClipUrl(e,r?"clip"+t._fullLayout._uid+r:null,t)}function m(e,t){var n,r,a,s,l,u,c,h,p=t.type,m=o.getFromId(e,t.xref),g=o.getFromId(e,t.yref),v=e._fullLayout._size;if(m?(n=d.shapePositionToRange(m),r=function(e){return m._offset+m.r2p(n(e,!0))}):r=function(e){return v.l+v.w*e},g?(a=d.shapePositionToRange(g),s=function(e){return g._offset+g.r2p(a(e,!0))}):s=function(e){return v.t+v.h*(1-e)},"path"===p)return m&&"date"===m.type&&(r=d.decodeDate(r)),g&&"date"===g.type&&(s=d.decodeDate(s)),function(e,t,n){var r=e.path,o=e.xsizemode,a=e.ysizemode,s=e.xanchor,l=e.yanchor;return r.replace(f.segmentRE,(function(e){var r=0,u=e.charAt(0),c=f.paramIsX[u],d=f.paramIsY[u],h=f.numParams[u],p=e.substr(1).replace(f.paramRE,(function(e){return c[r]?e="pixel"===o?t(s)+Number(e):t(e):d[r]&&(e="pixel"===a?n(l)-Number(e):n(e)),++r>h&&(e="X"),e}));return r>h&&(p=p.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+e)),u+p}))}(t,r,s);if("pixel"===t.xsizemode){var y=r(t.xanchor);l=y+t.x0,u=y+t.x1}else l=r(t.x0),u=r(t.x1);if("pixel"===t.ysizemode){var b=s(t.yanchor);c=b-t.y0,h=b-t.y1}else c=s(t.y0),h=s(t.y1);if("line"===p)return"M"+l+","+c+"L"+u+","+h;if("rect"===p)return"M"+l+","+c+"H"+u+"V"+h+"H"+l+"Z";var x=(l+u)/2,_=(c+h)/2,w=Math.abs(x-l),k=Math.abs(_-c),M="A"+w+","+k,T=x+w+","+_;return"M"+T+M+" 0 1,1 "+x+","+(_-k)+M+" 0 0,1 "+T+"Z"}function g(e,t,n){return e.replace(f.segmentRE,(function(e){var r=0,i=e.charAt(0),o=f.paramIsX[i],a=f.paramIsY[i],s=f.numParams[i];return i+e.substr(1).replace(f.paramRE,(function(e){return r>=s?e:(o[r]?e=t(e):a[r]&&(e=n(e)),r++,e)}))}))}t.exports={draw:function(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._plots){var r=t._plots[n].shapelayer;r&&r.selectAll("path").remove()}for(var i=0;i<t.shapes.length;i++)t.shapes[i].visible&&h(e,i)},drawOne:h}},{"../../lib":497,"../../lib/setcursor":516,"../../plot_api/plot_template":533,"../../plots/cartesian/axes":543,"../../registry":595,"../color":377,"../dragelement":395,"../drawing":398,"./constants":454,"./helpers":457}],457:[function(e,t,n){"use strict";var r=e("./constants"),i=e("../../lib");n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},n.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},n.extractPathCoords=function(e,t){var n=[];return e.match(r.segmentRE).forEach((function(e){var o=t[e.charAt(0)].drawn;if(void 0!==o){var a=e.substr(1).match(r.paramRE);!a||a.length<o||n.push(i.cleanNumber(a[o]))}})),n},n.getDataToPixel=function(e,t,r){var i,o=e._fullLayout._size;if(t){var a=n.shapePositionToRange(t);i=function(e){return t._offset+t.r2p(a(e,!0))},"date"===t.type&&(i=n.decodeDate(i))}else i=r?function(e){return o.t+o.h*(1-e)}:function(e){return o.l+o.w*e};return i},n.getPixelToData=function(e,t,r){var i,o=e._fullLayout._size;if(t){var a=n.rangeToShapePosition(t);i=function(e){return a(t.p2r(e-t._offset))}}else i=r?function(e){return 1-(e-o.t)/o.h}:function(e){return(e-o.l)/o.w};return i},n.roundPositionForSharpStrokeRendering=function(e,t){var n=1===Math.round(t%2),r=Math.round(e);return n?r+.5:r}},{"../../lib":497,"./constants":454}],458:[function(e,t,n){"use strict";var r=e("./draw");t.exports={moduleType:"component",name:"shapes",layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),includeBasePlot:e("../../plots/cartesian/include_components")("shapes"),calcAutorange:e("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"../../plots/cartesian/include_components":553,"./attributes":452,"./calc_autorange":453,"./defaults":455,"./draw":456}],459:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../../plots/pad_attributes"),o=e("../../lib/extend").extendDeepAll,a=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/animation_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=e("./constants"),c=l("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});t.exports=a(l("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:o(i({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:u.gripBgActiveColor},bgcolor:{valType:"color",dflt:u.railBgColor},bordercolor:{valType:"color",dflt:u.railBorderColor},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth},ticklen:{valType:"number",min:0,dflt:u.tickLength},tickcolor:{valType:"color",dflt:u.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":491,"../../plot_api/edit_types":526,"../../plot_api/plot_template":533,"../../plots/animation_attributes":538,"../../plots/font_attributes":569,"../../plots/pad_attributes":585,"./constants":460}],460:[function(e,t,n){"use strict";t.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],461:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),o=e("./attributes"),a=e("./constants").name,s=o.steps;function l(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}for(var s=i(e,t,{name:"steps",handleItemDefaults:u}),l=0,c=0;c<s.length;c++)s[c].visible&&l++;if(l<2?t.visible=!1:a("visible")){t._stepCount=l;var f=t._visibleSteps=r.filterVisible(s);(s[a("active")]||{}).visible||(t.active=f[0]._index),a("x"),a("y"),r.noneOrAll(e,t,["x","y"]),a("xanchor"),a("yanchor"),a("len"),a("lenmode"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font),a("currentvalue.visible")&&(a("currentvalue.xanchor"),a("currentvalue.prefix"),a("currentvalue.suffix"),a("currentvalue.offset"),r.coerceFont(a,"currentvalue.font",t.font)),a("transition.duration"),a("transition.easing"),a("bgcolor"),a("activebgcolor"),a("bordercolor"),a("borderwidth"),a("ticklen"),a("tickwidth"),a("tickcolor"),a("minorticklen")}}function u(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}if("skip"===e.method||Array.isArray(e.args)?n("visible"):t.visible=!1){n("method"),n("args");var i=n("label","step-"+t._index);n("value",i),n("execute")}}t.exports=function(e,t){i(e,t,{name:a,handleItemDefaults:l})}},{"../../lib":497,"../../plots/array_container_defaults":539,"./attributes":459,"./constants":460}],462:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../plots/plots"),o=e("../color"),a=e("../drawing"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../plot_api/plot_template").arrayEditor,c=e("./constants"),f=e("../../constants/alignment"),d=f.LINE_SPACING,h=f.FROM_TL,p=f.FROM_BR;function m(e){return c.autoMarginIdRoot+e._index}function g(e){return e._index}function v(e,t){var n=a.tester.selectAll("g."+c.labelGroupClass).data(t._visibleSteps);n.enter().append("g").classed(c.labelGroupClass,!0);var o=0,u=0;n.each((function(e){var n=x(r.select(this),{step:e},t).node();if(n){var i=a.bBox(n);u=Math.max(u,i.height),o=Math.max(o,i.width)}})),n.remove();var f=t._dims={};f.inputAreaWidth=Math.max(c.railWidth,c.gripHeight);var d=e._fullLayout._size;f.lx=d.l+d.w*t.x,f.ly=d.t+d.h*(1-t.y),"fraction"===t.lenmode?f.outerLength=Math.round(d.w*t.len):f.outerLength=t.len,f.inputAreaStart=0,f.inputAreaLength=Math.round(f.outerLength-t.pad.l-t.pad.r);var g=(f.inputAreaLength-2*c.stepInset)/(t._stepCount-1),v=o+c.labelPadding;if(f.labelStride=Math.max(1,Math.ceil(v/g)),f.labelHeight=u,f.currentValueMaxWidth=0,f.currentValueHeight=0,f.currentValueTotalHeight=0,f.currentValueMaxLines=1,t.currentvalue.visible){var b=a.tester.append("g");n.each((function(e){var n=y(b,t,e.label),r=n.node()&&a.bBox(n.node())||{width:0,height:0},i=l.lineCount(n);f.currentValueMaxWidth=Math.max(f.currentValueMaxWidth,Math.ceil(r.width)),f.currentValueHeight=Math.max(f.currentValueHeight,Math.ceil(r.height)),f.currentValueMaxLines=Math.max(f.currentValueMaxLines,i)})),f.currentValueTotalHeight=f.currentValueHeight+t.currentvalue.offset,b.remove()}f.height=f.currentValueTotalHeight+c.tickOffset+t.ticklen+c.labelOffset+f.labelHeight+t.pad.t+t.pad.b;var _="left";s.isRightAnchor(t)&&(f.lx-=f.outerLength,_="right"),s.isCenterAnchor(t)&&(f.lx-=f.outerLength/2,_="center");var w="top";s.isBottomAnchor(t)&&(f.ly-=f.height,w="bottom"),s.isMiddleAnchor(t)&&(f.ly-=f.height/2,w="middle"),f.outerLength=Math.ceil(f.outerLength),f.height=Math.ceil(f.height),f.lx=Math.round(f.lx),f.ly=Math.round(f.ly);var k={y:t.y,b:f.height*p[w],t:f.height*h[w]};"fraction"===t.lenmode?(k.l=0,k.xl=t.x-t.len*h[_],k.r=0,k.xr=t.x+t.len*p[_]):(k.x=t.x,k.l=f.outerLength*h[_],k.r=f.outerLength*p[_]),i.autoMargin(e,m(t),k)}function y(e,t,n){if(t.currentvalue.visible){var r,i,o=t._dims;switch(t.currentvalue.xanchor){case"right":r=o.inputAreaLength-c.currentValueInset-o.currentValueMaxWidth,i="left";break;case"center":r=.5*o.inputAreaLength,i="middle";break;default:r=c.currentValueInset,i="left"}var u=s.ensureSingle(e,"text",c.labelClass,(function(e){e.classed("user-select-none",!0).attr({"text-anchor":i,"data-notex":1})})),f=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof n)f+=n;else{var h=t.steps[t.active].label,p=t._gd._fullLayout._meta;p&&(h=s.templateString(h,p)),f+=h}t.currentvalue.suffix&&(f+=t.currentvalue.suffix),u.call(a.font,t.currentvalue.font).text(f).call(l.convertToTspans,t._gd);var m=l.lineCount(u),g=(o.currentValueMaxLines+1-m)*t.currentvalue.font.size*d;return l.positionText(u,r,g),u}}function b(e,t,n){s.ensureSingle(e,"rect",c.gripRectClass,(function(r){r.call(M,t,e,n).style("pointer-events","all")})).attr({width:c.gripWidth,height:c.gripHeight,rx:c.gripRadius,ry:c.gripRadius}).call(o.stroke,n.bordercolor).call(o.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function x(e,t,n){var r=s.ensureSingle(e,"text",c.labelClass,(function(e){e.classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1})})),i=t.step.label,o=n._gd._fullLayout._meta;return o&&(i=s.templateString(i,o)),r.call(a.font,n.font).text(i).call(l.convertToTspans,n._gd),r}function _(e,t){var n=s.ensureSingle(e,"g",c.labelsClass),i=t._dims,o=n.selectAll("g."+c.labelGroupClass).data(i.labelSteps);o.enter().append("g").classed(c.labelGroupClass,!0),o.exit().remove(),o.each((function(e){var n=r.select(this);n.call(x,e,t),a.setTranslate(n,E(t,e.fraction),c.tickOffset+t.ticklen+t.font.size*d+c.labelOffset+i.currentValueTotalHeight)}))}function w(e,t,n,r,i){var o=Math.round(r*(n._stepCount-1)),a=n._visibleSteps[o]._index;a!==n.active&&k(e,t,n,a,!0,i)}function k(e,t,n,r,o,a){var s=n.active;n.active=r,u(e.layout,c.name,n).applyUpdate("active",r);var l=n.steps[n.active];t.call(S,n,a),t.call(y,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:o,previousActive:s}),l&&l.method&&o&&(t._nextMethod?(t._nextMethod.step=l,t._nextMethod.doCallback=o,t._nextMethod.doTransition=a):(t._nextMethod={step:l,doCallback:o,doTransition:a},t._nextMethodRaf=window.requestAnimationFrame((function(){var n=t._nextMethod.step;n.method&&(n.execute&&i.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)}))))}function M(e,t,n){var i=n.node(),a=r.select(t);function s(){return n.data()[0]}e.on("mousedown",(function(){var e=s();t.emit("plotly_sliderstart",{slider:e});var l=n.select("."+c.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),l.call(o.fill,e.activebgcolor);var u=A(e,r.mouse(i)[0]);w(t,n,e,u,!0),e._dragging=!0,a.on("mousemove",(function(){var e=s(),o=A(e,r.mouse(i)[0]);w(t,n,e,o,!1)})),a.on("mouseup",(function(){var e=s();e._dragging=!1,l.call(o.fill,e.bgcolor),a.on("mouseup",null),a.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})}))}))}function T(e,t){var n=e.selectAll("rect."+c.tickRectClass).data(t._visibleSteps),i=t._dims;n.enter().append("rect").classed(c.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each((function(e,n){var s=n%i.labelStride==0,l=r.select(this);l.attr({height:s?t.ticklen:t.minorticklen}).call(o.fill,t.tickcolor),a.setTranslate(l,E(t,n/(t._stepCount-1))-.5*t.tickwidth,(s?c.tickOffset:c.minorTickOffset)+i.currentValueTotalHeight)}))}function S(e,t,n){for(var r=e.select("rect."+c.gripRectClass),i=0,o=0;o<t._stepCount;o++)if(t._visibleSteps[o]._index===t.active){i=o;break}var a=E(t,i/(t._stepCount-1));if(!t._invokingCommand){var s=r;n&&t.transition.duration>0&&(s=s.transition().duration(t.transition.duration).ease(t.transition.easing)),s.attr("transform","translate("+(a-.5*c.gripWidth)+","+t._dims.currentValueTotalHeight+")")}}function E(e,t){var n=e._dims;return n.inputAreaStart+c.stepInset+(n.inputAreaLength-2*c.stepInset)*Math.min(1,Math.max(0,t))}function A(e,t){var n=e._dims;return Math.min(1,Math.max(0,(t-c.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*c.stepInset-2*n.inputAreaStart)))}function O(e,t,n){var r=n._dims,i=s.ensureSingle(e,"rect",c.railTouchRectClass,(function(r){r.call(M,t,e,n).style("pointer-events","all")}));i.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,c.tickOffset+n.ticklen+r.labelHeight)}).call(o.fill,n.bgcolor).attr("opacity",0),a.setTranslate(i,0,r.currentValueTotalHeight)}function C(e,t){var n=t._dims,r=n.inputAreaLength-2*c.railInset,i=s.ensureSingle(e,"rect",c.railRectClass);i.attr({width:r,height:c.railWidth,rx:c.railRadius,ry:c.railRadius,"shape-rendering":"crispEdges"}).call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),a.setTranslate(i,c.railInset,.5*(n.inputAreaWidth-c.railWidth)+n.currentValueTotalHeight)}t.exports=function(e){var t=e._fullLayout,n=function(e,t){for(var n=e[c.name],r=[],i=0;i<n.length;i++){var o=n[i];o.visible&&(o._gd=t,r.push(o))}return r}(t,e),o=t._infolayer.selectAll("g."+c.containerClassName).data(n.length>0?[0]:[]);function s(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),i.autoMargin(e,m(t))}if(o.enter().append("g").classed(c.containerClassName,!0).style("cursor","ew-resize"),o.exit().each((function(){r.select(this).selectAll("g."+c.groupClassName).each(s)})).remove(),0!==n.length){var l=o.selectAll("g."+c.groupClassName).data(n,g);l.enter().append("g").classed(c.groupClassName,!0),l.exit().each(s).remove();for(var u=0;u<n.length;u++){var f=n[u];v(e,f)}l.each((function(t){var n=r.select(this);!function(e){var t=e._dims;t.labelSteps=[];for(var n=e._stepCount,r=0;r<n;r+=t.labelStride)t.labelSteps.push({fraction:r/(n-1),step:e._visibleSteps[r]})}(t),i.manageCommandObserver(e,t,t._visibleSteps,(function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||k(e,n,r,t.index,!1,!0))})),function(e,t,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),t.call(y,n).call(C,n).call(_,n).call(T,n).call(O,e,n).call(b,e,n);var r=n._dims;a.setTranslate(t,r.lx+n.pad.l,r.ly+n.pad.t),t.call(S,n,!1),t.call(y,n)}(e,r.select(this),t)}))}}},{"../../constants/alignment":471,"../../lib":497,"../../lib/svg_text_utils":520,"../../plot_api/plot_template":533,"../../plots/plots":586,"../color":377,"../drawing":398,"./constants":460,d3:82}],463:[function(e,t,n){"use strict";var r=e("./constants");t.exports={moduleType:"component",name:r.name,layoutAttributes:e("./attributes"),supplyLayoutDefaults:e("./defaults"),draw:e("./draw")}},{"./attributes":459,"./constants":460,"./defaults":461,"./draw":462}],464:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib"),l=e("../drawing"),u=e("../color"),c=e("../../lib/svg_text_utils"),f=e("../../constants/interactions");t.exports={draw:function(e,t,n){var h,p=n.propContainer,m=n.propName,g=n.placeholder,v=n.traceIndex,y=n.avoid||{},b=n.attributes,x=n.transform,_=n.containerGroup,w=e._fullLayout,k=1,M=!1,T=p.title,S=(T&&T.text?T.text:"").trim(),E=T&&T.font?T.font:{},A=E.family,O=E.size,C=E.color;"title.text"===m?h="titleText":-1!==m.indexOf("axis")?h="axisTitleText":m.indexOf(!0)&&(h="colorbarTitleText");var N=e._context.edits[h];""===S?k=0:S.replace(d," % ")===g.replace(d," % ")&&(k=.2,M=!0,N||(S="")),n._meta?S=s.templateString(S,n._meta):w._meta&&(S=s.templateString(S,w._meta));var D=S||N;_||(_=s.ensureSingle(w._infolayer,"g","g-"+t));var P=_.selectAll("text").data(D?[0]:[]);if(P.enter().append("text"),P.text(S).attr("class",t),P.exit().remove(),!D)return _;function R(e){s.syncOrAsync([L,I],e)}function L(t){var n;return x?(n="",x.rotate&&(n+="rotate("+[x.rotate,b.x,b.y]+")"),x.offset&&(n+="translate(0, "+x.offset+")")):n=null,t.attr("transform",n),t.style({"font-family":A,"font-size":r.round(O,2)+"px",fill:u.rgb(C),opacity:k*u.opacity(C),"font-weight":o.fontWeight}).attr(b).call(c.convertToTspans,e),o.previousPromises(e)}function I(e){var t=r.select(e.node().parentNode);if(y&&y.selection&&y.side&&S){t.attr("transform",null);var n=0,o={left:"right",right:"left",top:"bottom",bottom:"top"}[y.side],a=-1!==["left","top"].indexOf(y.side)?-1:1,u=i(y.pad)?y.pad:2,c=l.bBox(t.node()),f={left:0,top:0,right:w.width,bottom:w.height},d=y.maxShift||(f[y.side]-c[y.side])*("left"===y.side||"top"===y.side?-1:1);if(d<0)n=d;else{var h=y.offsetLeft||0,p=y.offsetTop||0;c.left-=h,c.right-=h,c.top-=p,c.bottom-=p,y.selection.each((function(){var e=l.bBox(this);s.bBoxIntersect(c,e,u)&&(n=Math.max(n,a*(e[y.side]-c[o])+u))})),n=Math.min(d,n)}if(n>0||d<0){var m={left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[y.side];t.attr("transform","translate("+m+")")}}}return P.call(R),N&&(S?P.on(".opacity",null):(k=0,M=!0,P.text(g).on("mouseover.opacity",(function(){r.select(this).transition().duration(f.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){r.select(this).transition().duration(f.HIDE_PLACEHOLDER).style("opacity",0)}))),P.call(c.makeEditable,{gd:e}).on("edit",(function(t){void 0!==v?a.call("_guiRestyle",e,m,t,v):a.call("_guiRelayout",e,m,t)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(R)})).on("input",(function(e){this.text(e||" ").call(c.positionText,b.x,b.y)}))),P.classed("js-placeholder",M),_}};var d=/ [XY][0-9]* /},{"../../constants/interactions":475,"../../lib":497,"../../lib/svg_text_utils":520,"../../plots/plots":586,"../../registry":595,"../color":377,"../drawing":398,d3:82,"fast-isnumeric":91}],465:[function(e,t,n){"use strict";var r=e("../../plots/font_attributes"),i=e("../color/attributes"),o=e("../../lib/extend").extendFlat,a=e("../../plot_api/edit_types").overrideAll,s=e("../../plots/pad_attributes"),l=e("../../plot_api/plot_template").templatedArray,u=l("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});t.exports=a(l("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:u,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:o(s({editType:"arraydraw"}),{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:i.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":491,"../../plot_api/edit_types":526,"../../plot_api/plot_template":533,"../../plots/font_attributes":569,"../../plots/pad_attributes":585,"../color/attributes":376}],466:[function(e,t,n){"use strict";t.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],467:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../plots/array_container_defaults"),o=e("./attributes"),a=e("./constants").name,s=o.buttons;function l(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}a("visible",i(e,t,{name:"buttons",handleItemDefaults:u}).length>0)&&(a("active"),a("direction"),a("type"),a("showactive"),a("x"),a("y"),r.noneOrAll(e,t,["x","y"]),a("xanchor"),a("yanchor"),a("pad.t"),a("pad.r"),a("pad.b"),a("pad.l"),r.coerceFont(a,"font",n.font),a("bgcolor",n.paper_bgcolor),a("bordercolor"),a("borderwidth"))}function u(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}n("visible","skip"===e.method||Array.isArray(e.args))&&(n("method"),n("args"),n("label"),n("execute"))}t.exports=function(e,t){i(e,t,{name:a,handleItemDefaults:l})}},{"../../lib":497,"../../plots/array_container_defaults":539,"./attributes":465,"./constants":466}],468:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../plots/plots"),o=e("../color"),a=e("../drawing"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../plot_api/plot_template").arrayEditor,c=e("../../constants/alignment").LINE_SPACING,f=e("./constants"),d=e("./scrollbox");function h(e){return e._index}function p(e,t){return+e.attr(f.menuIndexAttrName)===t._index}function m(e,t,n,r,i,o,a,s){t.active=a,u(e.layout,f.name,t).applyUpdate("active",a),"buttons"===t.type?v(e,r,null,null,t):"dropdown"===t.type&&(i.attr(f.menuIndexAttrName,"-1"),g(e,r,i,o,t),s||v(e,r,i,o,t))}function g(e,t,n,r,i){var o=s.ensureSingle(t,"g",f.headerClassName,(function(e){e.style("pointer-events","all")})),l=i._dims,u=i.active,c=i.buttons[u]||f.blankHeaderOpts,d={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},h={width:l.headerWidth,height:l.headerHeight};o.call(y,i,c,e).call(S,i,d,h),s.ensureSingle(t,"text",f.headerArrowClassName,(function(e){e.classed("user-select-none",!0).attr("text-anchor","end").call(a.font,i.font).text(f.arrowSymbol[i.direction])})).attr({x:l.headerWidth-f.arrowOffsetX+i.pad.l,y:l.headerHeight/2+f.textOffsetY+i.pad.t}),o.on("click",(function(){n.call(E,String(p(n,i)?-1:i._index)),v(e,t,n,r,i)})),o.on("mouseover",(function(){o.call(w)})),o.on("mouseout",(function(){o.call(k,i)})),a.setTranslate(t,l.lx,l.ly)}function v(e,t,n,o,a){n||(n=t).attr("pointer-events","all");var l=function(e){return-1==+e.attr(f.menuIndexAttrName)}(n)&&"buttons"!==a.type?[]:a.buttons,u="dropdown"===a.type?f.dropdownButtonClassName:f.buttonClassName,c=n.selectAll("g."+u).data(s.filterVisible(l)),d=c.enter().append("g").classed(u,!0),h=c.exit();"dropdown"===a.type?(d.attr("opacity","0").transition().attr("opacity","1"),h.transition().attr("opacity","0").remove()):h.remove();var p=0,g=0,v=a._dims,b=-1!==["up","down"].indexOf(a.direction);"dropdown"===a.type&&(b?g=v.headerHeight+f.gapButtonHeader:p=v.headerWidth+f.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(g=-f.gapButtonHeader+f.gapButton-v.openHeight),"dropdown"===a.type&&"left"===a.direction&&(p=-f.gapButtonHeader+f.gapButton-v.openWidth);var x={x:v.lx+p+a.pad.l,y:v.ly+g+a.pad.t,yPad:f.gapButton,xPad:f.gapButton,index:0},M={l:x.x+a.borderwidth,t:x.y+a.borderwidth};c.each((function(s,l){var u=r.select(this);u.call(y,a,s,e).call(S,a,x),u.on("click",(function(){r.event.defaultPrevented||(m(e,a,0,t,n,o,l),s.execute&&i.executeAPICommand(e,s.method,s.args),e.emit("plotly_buttonclicked",{menu:a,button:s,active:a.active}))})),u.on("mouseover",(function(){u.call(w)})),u.on("mouseout",(function(){u.call(k,a),c.call(_,a)}))})),c.call(_,a),b?(M.w=Math.max(v.openWidth,v.headerWidth),M.h=x.y-M.t):(M.w=x.x-M.l,M.h=Math.max(v.openHeight,v.headerHeight)),M.direction=a.direction,o&&(c.size()?function(e,t,n,r,i,o){var a,s,l,u=i.direction,c="up"===u||"down"===u,d=i._dims,h=i.active;if(c)for(s=0,l=0;l<h;l++)s+=d.heights[l]+f.gapButton;else for(a=0,l=0;l<h;l++)a+=d.widths[l]+f.gapButton;r.enable(o,a,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,o,a,M):function(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",(function(){t=!1,n||e.disable()})),n&&e.vbar.transition().attr("opacity","0").each("end",(function(){n=!1,t||e.disable()}))}(o))}function y(e,t,n,r){e.call(b,t).call(x,t,n,r)}function b(e,t){s.ensureSingle(e,"rect",f.itemRectClassName,(function(e){e.attr({rx:f.rx,ry:f.ry,"shape-rendering":"crispEdges"})})).call(o.stroke,t.bordercolor).call(o.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function x(e,t,n,r){var i=s.ensureSingle(e,"text",f.itemTextClassName,(function(e){e.classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1})})),o=n.label,u=r._fullLayout._meta;u&&(o=s.templateString(o,u)),i.call(a.font,t.font).text(o).call(l.convertToTspans,r)}function _(e,t){var n=t.active;e.each((function(e,i){var a=r.select(this);i===n&&t.showactive&&a.select("rect."+f.itemRectClassName).call(o.fill,f.activeColor)}))}function w(e){e.select("rect."+f.itemRectClassName).call(o.fill,f.hoverColor)}function k(e,t){e.select("rect."+f.itemRectClassName).call(o.fill,t.bgcolor)}function M(e,t){var n=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},o=a.tester.selectAll("g."+f.dropdownButtonClassName).data(s.filterVisible(t.buttons));o.enter().append("g").classed(f.dropdownButtonClassName,!0);var u=-1!==["up","down"].indexOf(t.direction);o.each((function(i,o){var s=r.select(this);s.call(y,t,i,e);var d=s.select("."+f.itemTextClassName),h=d.node()&&a.bBox(d.node()).width,p=Math.max(h+f.textPadX,f.minWidth),m=t.font.size*c,g=l.lineCount(d),v=Math.max(m*g,f.minHeight)+f.textOffsetY;v=Math.ceil(v),p=Math.ceil(p),n.widths[o]=p,n.heights[o]=v,n.height1=Math.max(n.height1,v),n.width1=Math.max(n.width1,p),u?(n.totalWidth=Math.max(n.totalWidth,p),n.openWidth=n.totalWidth,n.totalHeight+=v+f.gapButton,n.openHeight+=v+f.gapButton):(n.totalWidth+=p+f.gapButton,n.openWidth+=p+f.gapButton,n.totalHeight=Math.max(n.totalHeight,v),n.openHeight=n.totalHeight)})),u?n.totalHeight-=f.gapButton:n.totalWidth-=f.gapButton,n.headerWidth=n.width1+f.arrowPadX,n.headerHeight=n.height1,"dropdown"===t.type&&(u?(n.width1+=f.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=f.arrowPadX),o.remove();var d=n.totalWidth+t.pad.l+t.pad.r,h=n.totalHeight+t.pad.t+t.pad.b,p=e._fullLayout._size;n.lx=p.l+p.w*t.x,n.ly=p.t+p.h*(1-t.y);var m="left";s.isRightAnchor(t)&&(n.lx-=d,m="right"),s.isCenterAnchor(t)&&(n.lx-=d/2,m="center");var g="top";s.isBottomAnchor(t)&&(n.ly-=h,g="bottom"),s.isMiddleAnchor(t)&&(n.ly-=h/2,g="middle"),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),i.autoMargin(e,T(t),{x:t.x,y:t.y,l:d*({right:1,center:.5}[m]||0),r:d*({left:1,center:.5}[m]||0),b:h*({top:1,middle:.5}[g]||0),t:h*({bottom:1,middle:.5}[g]||0)})}function T(e){return f.autoMarginIdRoot+e._index}function S(e,t,n,r){r=r||{};var i=e.select("."+f.itemRectClassName),o=e.select("."+f.itemTextClassName),s=t.borderwidth,u=n.index,d=t._dims;a.setTranslate(e,s+n.x,s+n.y);var h=-1!==["up","down"].indexOf(t.direction),p=r.height||(h?d.heights[u]:d.height1);i.attr({x:0,y:0,width:r.width||(h?d.width1:d.widths[u]),height:p});var m=t.font.size*c,g=(l.lineCount(o)-1)*m/2;l.positionText(o,f.textOffsetX,p/2-g+f.textOffsetY),h?n.y+=d.heights[u]+n.yPad:n.x+=d.widths[u]+n.xPad,n.index++}function E(e,t){e.attr(f.menuIndexAttrName,t||"-1").selectAll("g."+f.dropdownButtonClassName).remove()}t.exports=function(e){var t=e._fullLayout,n=s.filterVisible(t[f.name]);function o(t){i.autoMargin(e,T(t))}var a=t._menulayer.selectAll("g."+f.containerClassName).data(n.length>0?[0]:[]);if(a.enter().append("g").classed(f.containerClassName,!0).style("cursor","pointer"),a.exit().each((function(){r.select(this).selectAll("g."+f.headerGroupClassName).each(o)})).remove(),0!==n.length){var l=a.selectAll("g."+f.headerGroupClassName).data(n,h);l.enter().append("g").classed(f.headerGroupClassName,!0);for(var u=s.ensureSingle(a,"g",f.dropdownButtonGroupClassName,(function(e){e.style("pointer-events","all")})),c=0;c<n.length;c++){var y=n[c];M(e,y)}var b="updatemenus"+t._uid,x=new d(e,u,b);l.enter().size()&&(u.node().parentNode.appendChild(u.node()),u.call(E)),l.exit().each((function(e){u.call(E),o(e)})).remove(),l.each((function(t){var n=r.select(this),o="dropdown"===t.type?u:null;i.manageCommandObserver(e,t,t.buttons,(function(r){m(e,t,t.buttons[r.index],n,o,x,r.index,!0)})),"dropdown"===t.type?(g(e,n,u,x,t),p(u,t)&&v(e,n,u,x,t)):v(e,n,null,null,t)}))}}},{"../../constants/alignment":471,"../../lib":497,"../../lib/svg_text_utils":520,"../../plot_api/plot_template":533,"../../plots/plots":586,"../color":377,"../drawing":398,"./constants":466,"./scrollbox":470,d3:82}],469:[function(e,t,n){arguments[4][463][0].apply(n,arguments)},{"./attributes":465,"./constants":466,"./defaults":467,"./draw":468,dup:463}],470:[function(e,t,n){"use strict";t.exports=s;var r=e("d3"),i=e("../color"),o=e("../drawing"),a=e("../../lib");function s(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor="#808BA4",s.prototype.enable=function(e,t,n){var a=this.gd._fullLayout,l=a.width,u=a.height;this.position=e;var c,f,d,h,p=this.position.l,m=this.position.w,g=this.position.t,v=this.position.h,y=this.position.direction,b="down"===y,x="left"===y,_="up"===y,w=m,k=v;b||x||"right"===y||_||(this.position.direction="down",b=!0),b||_?(f=(c=p)+w,b?(d=g,k=(h=Math.min(d+k,u))-d):k=(h=g+k)-(d=Math.max(h-k,0))):(h=(d=g)+k,x?w=(f=p+w)-(c=Math.max(f-w,0)):(c=p,w=(f=Math.min(c+w,l))-c)),this._box={l:c,t:d,w:w,h:k};var M=m>w,T=s.barLength+2*s.barPad,S=s.barWidth+2*s.barPad,E=p,A=g+v;A+S>u&&(A=u-S);var O=this.container.selectAll("rect.scrollbar-horizontal").data(M?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,s.barColor),M?(this.hbar=O.attr({rx:s.barRadius,ry:s.barRadius,x:E,y:A,width:T,height:S}),this._hbarXMin=E+T/2,this._hbarTranslateMax=w-T):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var C=v>k,N=s.barWidth+2*s.barPad,D=s.barLength+2*s.barPad,P=p+m,R=g;P+N>l&&(P=l-N);var L=this.container.selectAll("rect.scrollbar-vertical").data(C?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,s.barColor),C?(this.vbar=L.attr({rx:s.barRadius,ry:s.barRadius,x:P,y:R,width:N,height:D}),this._vbarYMin=R+D/2,this._vbarTranslateMax=k-D):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var I=this.id,j=c-.5,z=C?f+N+.5:f+.5,F=d-.5,B=M?h+S+.5:h+.5,U=a._topdefs.selectAll("#"+I).data(M||C?[0]:[]);if(U.exit().remove(),U.enter().append("clipPath").attr("id",I).append("rect"),M||C?(this._clipRect=U.select("rect").attr({x:Math.floor(j),y:Math.floor(F),width:Math.ceil(z)-Math.floor(j),height:Math.ceil(B)-Math.floor(F)}),this.container.call(o.setClipUrl,I,this.gd),this.bg.attr({x:p,y:g,width:m,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),M||C){var H=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(H);var q=r.behavior.drag().on("dragstart",(function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));M&&this.hbar.on(".drag",null).call(q),C&&this.vbar.on(".drag",null).call(q)}this.setTranslate(t,n)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=r.event.dx),this.vbar&&(t-=r.event.dy),this.setTranslate(e,t)},s.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=r.event.deltaY),this.vbar&&(t+=r.event.deltaY),this.setTranslate(e,t)},s.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,i=n+this._hbarTranslateMax;e=(a.constrain(r.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var o=t+this._vbarYMin,s=o+this._vbarTranslateMax;t=(a.constrain(r.event.y,o,s)-o)/(s-o)*(this.position.h-this._box.h)}this.setTranslate(e,t)},s.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=a.constrain(e||0,0,n),t=a.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(o.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var i=e/n;this.hbar.call(o.setTranslate,e+i*this._hbarTranslateMax,t)}if(this.vbar){var s=t/r;this.vbar.call(o.setTranslate,e,t+s*this._vbarTranslateMax)}}},{"../../lib":497,"../color":377,"../drawing":398,d3:82}],471:[function(e,t,n){"use strict";t.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],472:[function(e,t,n){"use strict";t.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Time-Formatting.md#format"}},{}],473:[function(e,t,n){"use strict";t.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},{}],474:[function(e,t,n){"use strict";t.exports={circle:"\u25cf","circle-open":"\u25cb",square:"\u25a0","square-open":"\u25a1",diamond:"\u25c6","diamond-open":"\u25c7",cross:"+",x:"\u274c"}},{}],475:[function(e,t,n){"use strict";t.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],476:[function(e,t,n){"use strict";t.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],477:[function(e,t,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],478:[function(e,t,n){"use strict";n.version="1.50.1",e("es6-promise").polyfill(),e("../build/plotcss"),e("./fonts/mathjax_config")();for(var r=e("./registry"),i=n.register=r.register,o=e("./plot_api"),a=Object.keys(o),s=0;s<a.length;s++){var l=a[s];"_"!==l.charAt(0)&&(n[l]=o[l]),i({moduleType:"apiMethod",name:l,fn:o[l]})}i(e("./traces/scatter")),i([e("./components/fx"),e("./components/legend"),e("./components/annotations"),e("./components/annotations3d"),e("./components/shapes"),e("./components/images"),e("./components/updatemenus"),e("./components/sliders"),e("./components/rangeslider"),e("./components/rangeselector"),e("./components/grid"),e("./components/errorbars"),e("./components/colorscale"),e("./components/colorbar")]),i([e("./locale-en"),e("./locale-en-us")]),n.Icons=e("./fonts/ploticon"),n.Plots=e("./plots/plots"),n.Fx=e("./components/fx"),n.Snapshot=e("./snapshot"),n.PlotSchema=e("./plot_api/plot_schema"),n.Queue=e("./lib/queue"),n.d3=e("d3")},{"../build/plotcss":1,"./components/annotations":370,"./components/annotations3d":375,"./components/colorbar":383,"./components/colorscale":389,"./components/errorbars":404,"./components/fx":415,"./components/grid":419,"./components/images":424,"./components/legend":432,"./components/rangeselector":443,"./components/rangeslider":450,"./components/shapes":458,"./components/sliders":463,"./components/updatemenus":469,"./fonts/mathjax_config":479,"./fonts/ploticon":480,"./lib/queue":511,"./locale-en":524,"./locale-en-us":523,"./plot_api":528,"./plot_api/plot_schema":532,"./plots/plots":586,"./registry":595,"./snapshot":600,"./traces/scatter":635,d3:82,"es6-promise":89}],479:[function(e,t,n){"use strict";t.exports=function(){"undefined"!=typeof MathJax&&"local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured())}},{}],480:[function(e,t,n){"use strict";t.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #119dff;} .cls-2 {fill: #25fefd;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],481:[function(e,t,n){"use strict";n.isLeftAnchor=function(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=1/3},n.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isTopAnchor=function(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=2/3},n.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3},n.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3}},{}],482:[function(e,t,n){"use strict";var r=e("./mod"),i=r.mod,o=r.modHalf,a=Math.PI,s=2*a;function l(e){return Math.abs(e[1]-e[0])>s-1e-14}function u(e,t){return o(t-e,s)}function c(e,t){if(l(t))return!0;var n,r;t[0]<t[1]?(n=t[0],r=t[1]):(n=t[1],r=t[0]),(n=i(n,s))>(r=i(r,s))&&(r+=s);var o=i(e,s),a=o+s;return o>=n&&o<=r||a>=n&&a<=r}function f(e,t,n,r,i,o,u){i=i||0,o=o||0;var c,f,d,h,p,m=l([n,r]);function g(e,t){return[e*Math.cos(t)+i,o-e*Math.sin(t)]}m?(c=0,f=a,d=s):n<r?(c=n,d=r):(c=r,d=n),e<t?(h=e,p=t):(h=t,p=e);var v,y=Math.abs(d-c)<=a?0:1;function b(e,t,n){return"A"+[e,e]+" "+[0,y,n]+" "+g(e,t)}return m?v=null===h?"M"+g(p,c)+b(p,f,0)+b(p,d,0)+"Z":"M"+g(h,c)+b(h,f,0)+b(h,d,0)+"ZM"+g(p,c)+b(p,f,1)+b(p,d,1)+"Z":null===h?(v="M"+g(p,c)+b(p,d,0),u&&(v+="L0,0Z")):v="M"+g(h,c)+"L"+g(p,c)+b(p,d,0)+"L"+g(h,d)+b(h,c,1)+"Z",v}t.exports={deg2rad:function(e){return e/180*a},rad2deg:function(e){return e/a*180},angleDelta:u,angleDist:function(e,t){return Math.abs(u(e,t))},isFullCircle:l,isAngleInsideSector:c,isPtInsideSector:function(e,t,n,r){return!!c(t,r)&&(n[0]<n[1]?(i=n[0],o=n[1]):(i=n[1],o=n[0]),e>=i&&e<=o);var i,o},pathArc:function(e,t,n,r,i){return f(null,e,t,n,r,i,0)},pathSector:function(e,t,n,r,i){return f(null,e,t,n,r,i,1)},pathAnnulus:function(e,t,n,r,i,o){return f(e,t,n,r,i,o,1)}}},{"./mod":504}],483:[function(e,t,n){"use strict";var r=Array.isArray,i="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},o="undefined"==typeof DataView?function(){}:DataView;function a(e){return i.isView(e)&&!(e instanceof o)}function s(e){return r(e)||a(e)}function l(e,t,n){if(s(e)){if(s(e[0])){for(var r=n,i=0;i<e.length;i++)r=t(r,e[i].length);return r}return e.length}return 0}n.isTypedArray=a,n.isArrayOrTypedArray=s,n.isArray1D=function(e){return!s(e[0])},n.ensureArray=function(e,t){return r(e)||(e=[]),e.length=t,e},n.concat=function(){var e,t,n,i,o,a,s,l,u=[],c=!0,f=0;for(n=0;n<arguments.length;n++)(a=(i=arguments[n]).length)&&(t?u.push(i):(t=i,o=a),r(i)?e=!1:(c=!1,f?e!==i.constructor&&(e=!1):e=i.constructor),f+=a);if(!f)return[];if(!u.length)return t;if(c)return t.concat.apply(t,u);if(e){for((s=new e(f)).set(t),n=0;n<u.length;n++)i=u[n],s.set(i,o),o+=i.length;return s}for(s=new Array(f),l=0;l<t.length;l++)s[l]=t[l];for(n=0;n<u.length;n++){for(i=u[n],l=0;l<i.length;l++)s[o+l]=i[l];o+=l}return s},n.maxRowLength=function(e){return l(e,Math.max,0)},n.minRowLength=function(e){return l(e,Math.min,1/0)}},{}],484:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../constants/numerical").BADNUM,o=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;t.exports=function(e){return"string"==typeof e&&(e=e.replace(o,"")),r(e)?Number(e):i}},{"../constants/numerical":476,"fast-isnumeric":91}],485:[function(e,t,n){"use strict";t.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each((function(e){e.regl&&e.regl.clear({color:!0,depth:!0})}))}},{}],486:[function(e,t,n){"use strict";t.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},{}],487:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),o=e("../plots/attributes"),a=e("../components/colorscale/scales"),s=e("../constants/interactions").DESELECTDIM,l=e("./nested_property"),u=e("./regex").counter,c=e("./mod").modHalf,f=e("./array").isArrayOrTypedArray;function d(e,t){var r=n.valObjectMeta[t.valType];if(t.arrayOk&&f(e))return!0;if(r.validateFunction)return r.validateFunction(e,t);var i={},o=i,a={set:function(e){o=e}};return r.coerceFunction(e,a,i,t),o!==i}n.valObjectMeta={data_array:{coerceFunction:function(e,t,n){f(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{coerceFunction:function(e,t,n,i){!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},integer:{coerceFunction:function(e,t,n,i){e%1||!r(e)||void 0!==i.min&&e<i.min||void 0!==i.max&&e>i.max?t.set(n):t.set(+e)}},string:{coerceFunction:function(e,t,n,r){if("string"!=typeof e){var i="number"==typeof e;!0!==r.strict&&i?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{coerceFunction:function(e,t,n){i(e).isValid()?t.set(e):t.set(n)}},colorlist:{coerceFunction:function(e,t,n){Array.isArray(e)&&e.length&&e.every((function(e){return i(e).isValid()}))?t.set(e):t.set(n)}},colorscale:{coerceFunction:function(e,t,n){t.set(a.get(e,n))}},angle:{coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?t.set(c(+e,360)):t.set(n)}},subplotid:{coerceFunction:function(e,t,n,r){var i=r.regex||u(n);"string"==typeof e&&i.test(e)?t.set(e):t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n||"string"==typeof e&&!!u(n).test(e)}},flaglist:{coerceFunction:function(e,t,n,r){if("string"==typeof e)if(-1===(r.extras||[]).indexOf(e)){for(var i=e.split("+"),o=0;o<i.length;){var a=i[o];-1===r.flags.indexOf(a)||i.indexOf(a)<o?i.splice(o,1):o++}i.length?t.set(i.join("+")):t.set(n)}else t.set(e);else t.set(n)}},any:{coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{coerceFunction:function(e,t,r,i){function o(e,t,r){var i,o={set:function(e){i=e}};return void 0===r&&(r=t.dflt),n.valObjectMeta[t.valType].coerceFunction(e,o,r,t),i}var a=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var s,l,u,c,f,d,h=i.items,p=[],m=Array.isArray(h),g=m&&a&&Array.isArray(h[0]),v=a&&m&&!g,y=m&&!v?h.length:e.length;if(r=Array.isArray(r)?r:[],a)for(s=0;s<y;s++)for(p[s]=[],u=Array.isArray(e[s])?e[s]:[],f=v?h.length:m?h[s].length:u.length,l=0;l<f;l++)c=v?h[l]:m?h[s][l]:h,void 0!==(d=o(u[l],c,(r[s]||[])[l]))&&(p[s][l]=d);else for(s=0;s<y;s++)void 0!==(d=o(e[s],m?h[s]:h,r[s]))&&(p[s]=d);t.set(p)}else t.set(r)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var n=t.items,r=Array.isArray(n),i=2===t.dimensions;if(!t.freeLength&&e.length!==n.length)return!1;for(var o=0;o<e.length;o++)if(i){if(!Array.isArray(e[o])||!t.freeLength&&e[o].length!==n[o].length)return!1;for(var a=0;a<e[o].length;a++)if(!d(e[o][a],r?n[o][a]:n))return!1}else if(!d(e[o],r?n[o]:n))return!1;return!0}}},n.coerce=function(e,t,r,i,o){var a=l(r,i).get(),s=l(e,i),u=l(t,i),c=s.get(),h=t._template;if(void 0===c&&h&&(c=l(h,i).get(),h=0),void 0===o&&(o=a.dflt),a.arrayOk&&f(c))return u.set(c),c;var p=n.valObjectMeta[a.valType].coerceFunction;p(c,u,o,a);var m=u.get();return h&&m===o&&!d(c,a)&&(p(c=l(h,i).get(),u,o,a),m=u.get()),m},n.coerce2=function(e,t,r,i,o){var a=l(e,i),s=n.coerce(e,t,r,i,o);return null!=a.get()&&s},n.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},n.coerceHoverinfo=function(e,t,r){var i,a=t._module.attributes,s=a.hoverinfo?a:o,l=s.hoverinfo;if(1===r._dataLength){var u="all"===l.dflt?l.flags.slice():l.dflt.split("+");u.splice(u.indexOf("name"),1),i=u.join("+")}return n.coerce(e,t,s,"hoverinfo",i)},n.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var n,r,i=e.marker.opacity;void 0!==i&&(f(i)||e.selected||e.unselected||(n=i,r=s*i),t("selected.marker.opacity",n),t("unselected.marker.opacity",r))}},n.validate=d},{"../components/colorscale/scales":392,"../constants/interactions":475,"../plots/attributes":540,"./array":483,"./mod":504,"./nested_property":505,"./regex":512,"fast-isnumeric":91,tinycolor2:343}],488:[function(e,t,n){"use strict";var r,i,o=e("d3"),a=e("fast-isnumeric"),s=e("./loggers"),l=e("./mod").mod,u=e("../constants/numerical"),c=u.BADNUM,f=u.ONEDAY,d=u.ONEHOUR,h=u.ONEMIN,p=u.ONESEC,m=u.EPOCHJD,g=e("../registry"),v=o.time.format.utc,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,x=(new Date).getFullYear()-70;function _(e){return e&&g.componentsRegistry.calendars&&"string"==typeof e&&"gregorian"!==e}function w(e,t){return String(e+Math.pow(10,t)).substr(1)}n.dateTick0=function(e,t){return _(e)?t?g.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:g.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"},n.dfltRange=function(e){return _(e)?g.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getTime},n.dateTime2ms=function(e,t){if(n.isJSDate(e)){var o=e.getTimezoneOffset()*h,a=(e.getUTCMinutes()-e.getMinutes())*h+(e.getUTCSeconds()-e.getSeconds())*p+(e.getUTCMilliseconds()-e.getMilliseconds());if(a){var s=3*h;o=o-s/2+l(a-o+s/2,s)}return(e=Number(e)-o)>=r&&e<=i?e:c}if("string"!=typeof e&&"number"!=typeof e)return c;e=String(e);var u=_(t),v=e.charAt(0);!u||"G"!==v&&"g"!==v||(e=e.substr(1),t="");var w=u&&"chinese"===t.substr(0,7),k=e.match(w?b:y);if(!k)return c;var M=k[1],T=k[3]||"1",S=Number(k[5]||1),E=Number(k[7]||0),A=Number(k[9]||0),O=Number(k[11]||0);if(u){if(2===M.length)return c;var C;M=Number(M);try{var N=g.getComponentMethod("calendars","getCal")(t);if(w){var D="i"===T.charAt(T.length-1);T=parseInt(T,10),C=N.newDate(M,N.toMonthIndex(M,T,D),S)}else C=N.newDate(M,Number(T),S)}catch(e){return c}return C?(C.toJD()-m)*f+E*d+A*h+O*p:c}M=2===M.length?(Number(M)+2e3-x)%100+x:Number(M),T-=1;var P=new Date(Date.UTC(2e3,T,S,E,A));return P.setUTCFullYear(M),P.getUTCMonth()!==T?c:P.getUTCDate()!==S?c:P.getTime()+O*p},r=n.MIN_MS=n.dateTime2ms("-9999"),i=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,t){return n.dateTime2ms(e,t)!==c};var k=90*f,M=3*d,T=5*h;function S(e,t,n,r,i){if((t||n||r||i)&&(e+=" "+w(t,2)+":"+w(n,2),(r||i)&&(e+=":"+w(r,2),i))){for(var o=4;i%10==0;)o-=1,i/=10;e+="."+w(i,o)}return e}n.ms2DateTime=function(e,t,n){if("number"!=typeof e||!(e>=r&&e<=i))return c;t||(t=0);var o,a,s,u,y,b,x=Math.floor(10*l(e+.05,1)),w=Math.round(e-x/10);if(_(n)){var E=Math.floor(w/f)+m,A=Math.floor(l(e,f));try{o=g.getComponentMethod("calendars","getCal")(n).fromJD(E).formatDate("yyyy-mm-dd")}catch(e){o=v("G%Y-%m-%d")(new Date(w))}if("-"===o.charAt(0))for(;o.length<11;)o="-0"+o.substr(1);else for(;o.length<10;)o="0"+o;a=t<k?Math.floor(A/d):0,s=t<k?Math.floor(A%d/h):0,u=t<M?Math.floor(A%h/p):0,y=t<T?A%p*10+x:0}else b=new Date(w),o=v("%Y-%m-%d")(b),a=t<k?b.getUTCHours():0,s=t<k?b.getUTCMinutes():0,u=t<M?b.getUTCSeconds():0,y=t<T?10*b.getUTCMilliseconds()+x:0;return S(o,a,s,u,y)},n.ms2DateTimeLocal=function(e){if(!(e>=r+f&&e<=i-f))return c;var t=Math.floor(10*l(e+.05,1)),n=new Date(Math.round(e-t/10));return S(o.time.format("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+t)},n.cleanDate=function(e,t,r){if(e===c)return t;if(n.isJSDate(e)||"number"==typeof e&&isFinite(e)){if(_(r))return s.error("JS Dates and milliseconds are incompatible with world calendars",e),t;if(!(e=n.ms2DateTimeLocal(+e))&&void 0!==t)return t}else if(!n.isDateTime(e,r))return s.error("unrecognized date",e),t;return e};var E=/%\d?f/g;function A(e,t,n,r){e=e.replace(E,(function(e){var n=Math.min(+e.charAt(1)||6,6);return(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"}));var i=new Date(Math.floor(t+.05));if(_(r))try{e=g.getComponentMethod("calendars","worldCalFmt")(e,t,r)}catch(e){return"Invalid"}return n(e)(i)}var O=[59,59.9,59.99,59.999,59.9999];n.formatDate=function(e,t,n,r,i,o){if(i=_(i)&&i,!t)if("y"===n)t=o.year;else if("m"===n)t=o.month;else{if("d"!==n)return function(e,t){var n=l(e+.05,f),r=w(Math.floor(n/d),2)+":"+w(l(Math.floor(n/h),60),2);if("M"!==t){a(t)||(t=0);var i=(100+Math.min(l(e/p,60),O[t])).toFixed(t).substr(1);t>0&&(i=i.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+i}return r}(e,n)+"\n"+A(o.dayMonthYear,e,r,i);t=o.dayMonth+"\n"+o.year}return A(t,e,r,i)};var C=3*f;n.incrementMonth=function(e,t,n){n=_(n)&&n;var r=l(e,f);if(e=Math.round(e-r),n)try{var i=Math.round(e/f)+m,o=g.getComponentMethod("calendars","getCal")(n),a=o.fromJD(i);return t%12?o.add(a,t,"m"):o.add(a,t/12,"y"),(a.toJD()-m)*f+r}catch(t){s.error("invalid ms "+e+" in calendar "+n)}var u=new Date(e+C);return u.setUTCMonth(u.getUTCMonth()+t)+r-C},n.findExactDates=function(e,t){for(var n,r,i=0,o=0,s=0,l=0,u=_(t)&&g.getComponentMethod("calendars","getCal")(t),c=0;c<e.length;c++)if(r=e[c],a(r)){if(!(r%f))if(u)try{1===(n=u.fromJD(r/f+m)).day()?1===n.month()?i++:o++:s++}catch(e){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?i++:o++:s++}else l++;s+=o+=i;var d=e.length-l;return{exactYears:i/d,exactMonths:o/d,exactDays:s/d}}},{"../constants/numerical":476,"../registry":595,"./loggers":501,"./mod":504,d3:82,"fast-isnumeric":91}],489:[function(e,t,n){"use strict";var r=e("d3"),i=e("./loggers");function o(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function a(e,t,n){var r="plotly.js-style-"+e,o=document.getElementById(r);o||((o=document.createElement("style")).setAttribute("id",r),o.appendChild(document.createTextNode("")),document.head.appendChild(o));var a=o.sheet;a.insertRule?a.insertRule(t+"{"+n+"}",0):a.addRule?a.addRule(t,n,0):i.warn("addStyleRule failed")}t.exports={getGraphDiv:function(e){var t;if("string"==typeof e){if(null===(t=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null==e)throw new Error("DOM element provided is null or undefined");return e},isPlotDiv:function(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},removeElement:o,addStyleRule:function(e,t){a("global",e,t)},addRelatedStyleRule:a,deleteRelatedStyleRule:function(e){var t="plotly.js-style-"+e,n=document.getElementById(t);n&&o(n)}}},{"./loggers":501,d3:82}],490:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,i){"undefined"!=typeof jQuery&&jQuery(e).trigger(r,i),t.emit(r,i),n.emit(r,i)},e},triggerHandler:function(e,t,n){var r,i;"undefined"!=typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var o=e._ev;if(!o)return r;var a,s=o._events[t];if(!s)return r;function l(e){return e.listener?(o.removeListener(t,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(o,[n]))):e.apply(o,[n])}for(s=Array.isArray(s)?s:[s],a=0;a<s.length-1;a++)l(s[a]);return i=l(s[a]),void 0!==r?r:i},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};t.exports=i},{events:48}],491:[function(e,t,n){"use strict";var r=e("./is_plain_object.js"),i=Array.isArray;function o(e,t,n,a){var s,l,u,c,f,d,h=e[0],p=e.length;if(2===p&&i(h)&&i(e[1])&&0===h.length){if(function(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"==typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}(e[1],h))return h;h.splice(0,h.length)}for(var m=1;m<p;m++)for(l in s=e[m])u=h[l],c=s[l],a&&i(c)?h[l]=c:t&&c&&(r(c)||(f=i(c)))?(f?(f=!1,d=u&&i(u)?u:[]):d=u&&r(u)?u:{},h[l]=o([d,c],t,n,a)):("undefined"!=typeof c||n)&&(h[l]=c);return h}n.extendFlat=function(){return o(arguments,!1,!1,!1)},n.extendDeep=function(){return o(arguments,!0,!1,!1)},n.extendDeepAll=function(){return o(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)}},{"./is_plain_object.js":498}],492:[function(e,t,n){"use strict";t.exports=function(e){for(var t={},n=[],r=0,i=0;i<e.length;i++){var o=e[i];1!==t[o]&&(t[o]=1,n[r++]=o)}return n}},{}],493:[function(e,t,n){"use strict";function r(e){return!0===e.visible}function i(e){var t=e[0].trace;return!0===t.visible&&0!==t._length}t.exports=function(e){for(var t,n=(t=e,Array.isArray(t)&&Array.isArray(t[0])&&t[0][0]&&t[0][0].trace?i:r),o=[],a=0;a<e.length;a++){var s=e[a];n(s)&&o.push(s)}return o}},{}],494:[function(e,t,n){"use strict";var r,i,o,a=e("./mod").mod;function s(e,t,n,r,i,o,a,s){var l=n-e,u=i-e,c=a-i,f=r-t,d=o-t,h=s-o,p=l*h-c*f;if(0===p)return null;var m=(u*h-c*d)/p,g=(u*f-l*d)/p;return g<0||g>1||m<0||m>1?null:{x:e+l*m,y:t+f*m}}function l(e,t,n,r,i){var o=r*e+i*t;if(o<0)return r*r+i*i;if(o>n){var a=r-e,s=i-t;return a*a+s*s}var l=r*t-i*e;return l*l/n}n.segmentsIntersect=s,n.segmentDistance=function(e,t,n,r,i,o,a,u){if(s(e,t,n,r,i,o,a,u))return 0;var c=n-e,f=r-t,d=a-i,h=u-o,p=c*c+f*f,m=d*d+h*h,g=Math.min(l(c,f,p,i-e,o-t),l(c,f,p,a-e,u-t),l(d,h,m,e-i,t-o),l(d,h,m,n-i,r-o));return Math.sqrt(g)},n.getTextLocation=function(e,t,n,s){if(e===i&&s===o||(r={},i=e,o=s),r[n])return r[n];var l=e.getPointAtLength(a(n-s/2,t)),u=e.getPointAtLength(a(n+s/2,t)),c=Math.atan((u.y-l.y)/(u.x-l.x)),f=e.getPointAtLength(a(n,t)),d={x:(4*f.x+l.x+u.x)/6,y:(4*f.y+l.y+u.y)/6,theta:c};return r[n]=d,d},n.clearLocationCache=function(){i=null},n.getVisibleSegment=function(e,t,n){var r,i,o=t.left,a=t.right,s=t.top,l=t.bottom,u=0,c=e.getTotalLength(),f=c;function d(t){var n=e.getPointAtLength(t);0===t?r=n:t===c&&(i=n);var u=n.x<o?o-n.x:n.x>a?n.x-a:0,f=n.y<s?s-n.y:n.y>l?n.y-l:0;return Math.sqrt(u*u+f*f)}for(var h=d(u);h;){if((u+=h+n)>f)return;h=d(u)}for(h=d(f);h;){if(u>(f-=h+n))return;h=d(f)}return{min:u,max:f,len:f-u,total:c,isClosed:0===u&&f===c&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},n.findPointOnPath=function(e,t,n,r){for(var i,o,a,s=(r=r||{}).pathLength||e.getTotalLength(),l=r.tolerance||.001,u=r.iterationLimit||30,c=e.getPointAtLength(0)[n]>e.getPointAtLength(s)[n]?-1:1,f=0,d=0,h=s;f<u;){if(i=(d+h)/2,a=(o=e.getPointAtLength(i))[n]-t,Math.abs(a)<l)return o;c*a>0?h=i:d=i,f++}return o}},{"./mod":504}],495:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("tinycolor2"),o=e("color-normalize"),a=e("../components/colorscale"),s=e("../components/color/attributes").defaultLine,l=e("./array").isArrayOrTypedArray,u=o(s),c=1;function f(e,t){var n=e;return n[3]*=t,n}function d(e){if(r(e))return u;var t=o(e);return t.length?t:u}function h(e){return r(e)?e:c}t.exports={formatColor:function(e,t,n){var r,i,s,p,m,g=e.color,v=l(g),y=l(t),b=a.extractOpts(e),x=[];if(r=void 0!==b.colorscale?a.makeColorScaleFuncFromTrace(e):d,i=v?function(e,t){return void 0===e[t]?u:o(r(e[t]))}:d,s=y?function(e,t){return void 0===e[t]?c:h(e[t])}:h,v||y)for(var _=0;_<n;_++)p=i(g,_),m=s(t,_),x[_]=f(p,m);else x=f(o(g),t);return x},parseColorScale:function(e,t){void 0===t&&(t=1);var n=a.extractOpts(e);return(n.reversescale?a.flipScale(n.colorscale):n.colorscale).map((function(e){var n=e[0],r=i(e[1]).toRgb();return{index:n,rgb:[r.r,r.g,r.b,t]}}))}}},{"../components/color/attributes":376,"../components/colorscale":389,"./array":483,"color-normalize":63,"fast-isnumeric":91,tinycolor2:343}],496:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],497:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../constants/numerical"),a=o.FP_SAFE,s=o.BADNUM,l=t.exports={};l.nestedProperty=e("./nested_property"),l.keyedContainer=e("./keyed_container"),l.relativeAttr=e("./relative_attr"),l.isPlainObject=e("./is_plain_object"),l.toLogRange=e("./to_log_range"),l.relinkPrivateKeys=e("./relink_private");var u=e("./array");l.isTypedArray=u.isTypedArray,l.isArrayOrTypedArray=u.isArrayOrTypedArray,l.isArray1D=u.isArray1D,l.ensureArray=u.ensureArray,l.concat=u.concat,l.maxRowLength=u.maxRowLength,l.minRowLength=u.minRowLength;var c=e("./mod");l.mod=c.mod,l.modHalf=c.modHalf;var f=e("./coerce");l.valObjectMeta=f.valObjectMeta,l.coerce=f.coerce,l.coerce2=f.coerce2,l.coerceFont=f.coerceFont,l.coerceHoverinfo=f.coerceHoverinfo,l.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,l.validate=f.validate;var d=e("./dates");l.dateTime2ms=d.dateTime2ms,l.isDateTime=d.isDateTime,l.ms2DateTime=d.ms2DateTime,l.ms2DateTimeLocal=d.ms2DateTimeLocal,l.cleanDate=d.cleanDate,l.isJSDate=d.isJSDate,l.formatDate=d.formatDate,l.incrementMonth=d.incrementMonth,l.dateTick0=d.dateTick0,l.dfltRange=d.dfltRange,l.findExactDates=d.findExactDates,l.MIN_MS=d.MIN_MS,l.MAX_MS=d.MAX_MS;var h=e("./search");l.findBin=h.findBin,l.sorterAsc=h.sorterAsc,l.sorterDes=h.sorterDes,l.distinctVals=h.distinctVals,l.roundUp=h.roundUp,l.sort=h.sort,l.findIndexOfMin=h.findIndexOfMin;var p=e("./stats");l.aggNums=p.aggNums,l.len=p.len,l.mean=p.mean,l.median=p.median,l.midRange=p.midRange,l.variance=p.variance,l.stdev=p.stdev,l.interp=p.interp;var m=e("./matrix");l.init2dArray=m.init2dArray,l.transposeRagged=m.transposeRagged,l.dot=m.dot,l.translationMatrix=m.translationMatrix,l.rotationMatrix=m.rotationMatrix,l.rotationXYMatrix=m.rotationXYMatrix,l.apply2DTransform=m.apply2DTransform,l.apply2DTransform2=m.apply2DTransform2;var g=e("./angles");l.deg2rad=g.deg2rad,l.rad2deg=g.rad2deg,l.angleDelta=g.angleDelta,l.angleDist=g.angleDist,l.isFullCircle=g.isFullCircle,l.isAngleInsideSector=g.isAngleInsideSector,l.isPtInsideSector=g.isPtInsideSector,l.pathArc=g.pathArc,l.pathSector=g.pathSector,l.pathAnnulus=g.pathAnnulus;var v=e("./anchor_utils");l.isLeftAnchor=v.isLeftAnchor,l.isCenterAnchor=v.isCenterAnchor,l.isRightAnchor=v.isRightAnchor,l.isTopAnchor=v.isTopAnchor,l.isMiddleAnchor=v.isMiddleAnchor,l.isBottomAnchor=v.isBottomAnchor;var y=e("./geometry2d");l.segmentsIntersect=y.segmentsIntersect,l.segmentDistance=y.segmentDistance,l.getTextLocation=y.getTextLocation,l.clearLocationCache=y.clearLocationCache,l.getVisibleSegment=y.getVisibleSegment,l.findPointOnPath=y.findPointOnPath;var b=e("./extend");l.extendFlat=b.extendFlat,l.extendDeep=b.extendDeep,l.extendDeepAll=b.extendDeepAll,l.extendDeepNoArrays=b.extendDeepNoArrays;var x=e("./loggers");l.log=x.log,l.warn=x.warn,l.error=x.error;var _=e("./regex");l.counterRegex=_.counter;var w=e("./throttle");l.throttle=w.throttle,l.throttleDone=w.done,l.clearThrottle=w.clear;var k=e("./dom");function M(e){var t={};for(var n in e)for(var r=e[n],i=0;i<r.length;i++)t[r[i]]=+n;return t}l.getGraphDiv=k.getGraphDiv,l.isPlotDiv=k.isPlotDiv,l.removeElement=k.removeElement,l.addStyleRule=k.addStyleRule,l.addRelatedStyleRule=k.addRelatedStyleRule,l.deleteRelatedStyleRule=k.deleteRelatedStyleRule,l.clearResponsive=e("./clear_responsive"),l.makeTraceGroups=e("./make_trace_groups"),l._=e("./localize"),l.notifier=e("./notifier"),l.filterUnique=e("./filter_unique"),l.filterVisible=e("./filter_visible"),l.pushUnique=e("./push_unique"),l.cleanNumber=e("./clean_number"),l.ensureNumber=function(e){return i(e)?(e=Number(e))<-a||e>a?s:i(e)?Number(e):s:s},l.isIndex=function(e,t){return!(void 0!==t&&e>=t)&&i(e)&&e>=0&&e%1==0},l.noop=e("./noop"),l.identity=e("./identity"),l.repeat=function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},l.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var i=0;i<t.length;i++){var o=t[i],a=l.nestedProperty(e,o.replace("?",n)),s=l.nestedProperty(e,o.replace("?",r)),u=a.get();a.set(s.get()),s.set(u)}},l.raiseToTop=function(e){e.parentNode.appendChild(e)},l.cancelTransition=function(e){return e.transition().duration(0)},l.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},l.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},l.simpleMap=function(e,t,n,r){for(var i=e.length,o=new Array(i),a=0;a<i;a++)o[a]=t(e[a],n,r);return o},l.randstr=function e(t,n,r,i){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var o,a,s=Math.log(Math.pow(2,n))/Math.log(r),u="";for(o=2;s===1/0;o*=2)s=Math.log(Math.pow(2,n/o))/Math.log(r)*o;var c=s-Math.floor(s);for(o=0;o<Math.floor(s);o++)u=Math.floor(Math.random()*r).toString(r)+u;c&&(a=Math.pow(r,c),u=Math.floor(Math.random()*a).toString(r)+u);var f=parseInt(u,r);return t&&t[u]||f!==1/0&&f>=Math.pow(2,n)?i>10?(l.warn("randstr failed uniqueness"),u):e(t,n,r,(i||0)+1):u},l.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={optionList:[],_newoption:function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)}};return n["_"+t]=e,n},l.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,i,o,a=e.length,s=2*a,l=2*t-1,u=new Array(l),c=new Array(a);for(n=0;n<l;n++)u[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<a;n++){for(o=0,r=0;r<l;r++)(i=n+r+1-t)<-a?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=a&&(i=s-1-i),o+=e[i]*u[r];c[n]=o}return c},l.syncOrAsync=function(e,t,n){var r;function i(){return l.syncOrAsync(e,t,n)}for(;e.length;)if((r=(0,e.splice(0,1)[0])(t))&&r.then)return r.then(i).then(void 0,l.promiseError);return n&&n(t)},l.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},l.noneOrAll=function(e,t,n){if(e){var r,i=!1,o=!0;for(r=0;r<n.length;r++)null!=e[n[r]]?i=!0:o=!1;if(i&&!o)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},l.mergeArray=function(e,t,n,r){var i="function"==typeof r;if(l.isArrayOrTypedArray(e))for(var o=Math.min(e.length,t.length),a=0;a<o;a++){var s=e[a];t[a][n]=i?r(s):s}},l.mergeArrayCastPositive=function(e,t,n){return l.mergeArray(e,t,n,(function(e){var t=+e;return isFinite(t)&&t>0?t:0}))},l.fillArray=function(e,t,n,r){if(r=r||l.identity,l.isArrayOrTypedArray(e))for(var i=0;i<t.length;i++)t[i][n]=r(e[i])},l.castOption=function(e,t,n,r){r=r||l.identity;var i=l.nestedProperty(e,n).get();return l.isArrayOrTypedArray(i)?Array.isArray(t)&&l.isArrayOrTypedArray(i[t[0]])?r(i[t[0]][t[1]]):r(i[t]):i},l.extractOption=function(e,t,n,r){if(n in e)return e[n];var i=l.nestedProperty(t,r).get();return Array.isArray(i)?void 0:i},l.tagSelected=function(e,t,n){var r,i,o=t.selectedpoints,a=t._indexToPoints;a&&(r=M(a));for(var s=0;s<o.length;s++){var u=o[s];if(l.isIndex(u)){var c=r?r[u]:u,f=n?n[c]:c;void 0!==(i=f)&&i<e.length&&(e[f].selected=1)}}},l.selIndices2selPoints=function(e){var t=e.selectedpoints,n=e._indexToPoints;if(n){for(var r=M(n),i=[],o=0;o<t.length;o++){var a=t[o];if(l.isIndex(a)){var s=r[a];l.isIndex(s)&&i.push(s)}}return i}return t},l.getTargetArray=function(e,t){var n=t.target;if("string"==typeof n&&n){var r=l.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},l.minExtend=function(e,t){var n={};"object"!=typeof t&&(t={});var r,i,o,a=Object.keys(e);for(r=0;r<a.length;r++)o=e[i=a[r]],"_"!==i.charAt(0)&&"function"!=typeof o&&("module"===i?n[i]=o:Array.isArray(o)?n[i]="colorscale"===i?o.slice():o.slice(0,3):l.isTypedArray(o)?n[i]=o.subarray(0,3):n[i]=o&&"object"==typeof o?l.minExtend(e[i],t[i]):o);for(a=Object.keys(t),r=0;r<a.length;r++)"object"==typeof(o=t[i=a[r]])&&i in n&&"object"==typeof n[i]||(n[i]=o);return n},l.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},l.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},l.isIE=function(){return"undefined"!=typeof window.navigator.msSaveBlob};var T=/MSIE [1-9]\./;l.isIE9orBelow=function(){return l.isIE()&&T.test(window.navigator.userAgent)};var S=/Version\/[\d\.]+.*Safari/;l.isSafari=function(){return S.test(window.navigator.userAgent)},l.isD3Selection=function(e){return e&&"function"==typeof e.classed},l.ensureSingle=function(e,t,n,r){var i=e.select(t+(n?"."+n:""));if(i.size())return i;var o=e.append(t);return n&&o.classed(n,!0),r&&o.call(r),o},l.ensureSingleById=function(e,t,n,r){var i=e.select(t+"#"+n);if(i.size())return i;var o=e.append(t).attr("id",n);return r&&o.call(r),o},l.objectFromPath=function(e,t){for(var n,r=e.split("."),i=n={},o=0;o<r.length;o++){var a=r[o],s=null,l=r[o].match(/(.*)\[([0-9]+)\]/);l?(a=l[1],s=l[2],n=n[a]=[],o===r.length-1?n[s]=t:n[s]={},n=n[s]):(o===r.length-1?n[a]=t:n[a]={},n=n[a])}return i};var E=/^([^\[\.]+)\.(.+)?/,A=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;l.expandObjectPaths=function(e){var t,n,r,i,o,a,s;if("object"==typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(E))?(i=e[n],r=t[1],delete e[n],e[r]=l.extendDeepNoArrays(e[r]||{},l.objectFromPath(n,l.expandObjectPaths(i))[r])):(t=n.match(A))?(i=e[n],r=t[1],o=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(s=t[4],a=e[r][o]=e[r][o]||{},l.extendDeepNoArrays(a,l.objectFromPath(s,l.expandObjectPaths(i)))):e[r][o]=l.expandObjectPaths(i)):e[n]=l.expandObjectPaths(e[n]));return e},l.numSeparate=function(e,t,n){if(n||(n=!1),"string"!=typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"==typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,i=t.charAt(0),o=t.charAt(1),a=e.split("."),s=a[0],l=a.length>1?i+a[1]:"";if(o&&(a.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+o+"$2");return s+l},l.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var O=/^\w*$/;l.templateString=function(e,t){var n={};return e.replace(l.TEMPLATE_STRING_REGEX,(function(e,r){return O.test(r)?t[r]||"":(n[r]=n[r]||l.nestedProperty(t,r).get,n[r]()||"")}))};var C={max:10,count:0,name:"hovertemplate"};l.hovertemplateString=function(){return P.apply(C,arguments)};var N={max:10,count:0,name:"texttemplate"};l.texttemplateString=function(){return P.apply(N,arguments)};var D=/^[:|\|]/;function P(e,t,n){var i=this,o=arguments;t||(t={});var a={};return e.replace(l.TEMPLATE_STRING_REGEX,(function(e,s,u){var c,f,d,h;for(d=3;d<o.length;d++)if(c=o[d]){if(c.hasOwnProperty(s)){f=c[s];break}if(O.test(s)||(f=a[s]||l.nestedProperty(c,s).get())&&(a[s]=f),void 0!==f)break}if(void 0===f&&i)return i.count<i.max&&(l.warn("Variable '"+s+"' in "+i.name+" could not be found!"),f=e),i.count===i.max&&l.warn("Too many "+i.name+" warnings - additional warnings will be suppressed"),i.count++,e;if(u){if(":"===u[0]&&(f=(h=n?n.numberFormat:r.format)(u.replace(D,""))(f)),"|"===u[0]){h=n?n.timeFormat.utc:r.time.format.utc;var p=l.dateTime2ms(f);f=l.formatDate(p,u.replace(D,""),!1,h)}}else t.hasOwnProperty(s+"Label")&&(f=t[s+"Label"]);return f}))}l.subplotSort=function(e,t){for(var n=Math.min(e.length,t.length)+1,r=0,i=0,o=0;o<n;o++){var a=e.charCodeAt(o)||0,s=t.charCodeAt(o)||0,l=a>=48&&a<=57,u=s>=48&&s<=57;if(l&&(r=10*r+a-48),u&&(i=10*i+s-48),!l||!u){if(r!==i)return r-i;if(a!==s)return a-s}}return i-r};var R=2e9;l.seedPseudoRandom=function(){R=2e9},l.pseudoRandom=function(){var e=R;return R=(69069*R+1)%4294967296,Math.abs(R-e)<429496729?l.pseudoRandom():R/4294967296},l.fillText=function(e,t,n){var r=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},i=l.extractOption(e,t,"htx","hovertext");if(l.isValidTextValue(i))return r(i);var o=l.extractOption(e,t,"tx","text");return l.isValidTextValue(o)?r(o):void 0},l.isValidTextValue=function(e){return e||0===e},l.formatPercent=function(e,t){t=t||0;for(var n=(Math.round(100*e*Math.pow(10,t))*Math.pow(.1,t)).toFixed(t)+"%",r=0;r<t;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},l.isHidden=function(e){var t=window.getComputedStyle(e).display;return!t||"none"===t},l.getTextTransform=function(e){var t,n=e.textX,r=e.textY,i=e.targetX,o=e.targetY,a=e.scale,s=e.rotate;return a<1?t="scale("+a+") ":(a=1,t=""),"translate("+(i-a*n)+" "+(o-a*r)+")"+t+(s?"rotate("+s+" "+n+" "+r+") ":"")}},{"../constants/numerical":476,"./anchor_utils":481,"./angles":482,"./array":483,"./clean_number":484,"./clear_responsive":486,"./coerce":487,"./dates":488,"./dom":489,"./extend":491,"./filter_unique":492,"./filter_visible":493,"./geometry2d":494,"./identity":496,"./is_plain_object":498,"./keyed_container":499,"./localize":500,"./loggers":501,"./make_trace_groups":502,"./matrix":503,"./mod":504,"./nested_property":505,"./noop":506,"./notifier":507,"./push_unique":510,"./regex":512,"./relative_attr":513,"./relink_private":514,"./search":515,"./stats":518,"./throttle":521,"./to_log_range":522,d3:82,"fast-isnumeric":91}],498:[function(e,t,n){"use strict";t.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},{}],499:[function(e,t,n){"use strict";var r=e("./nested_property"),i=/^\w*$/;t.exports=function(e,t,n,o){var a,s,l;n=n||"name",o=o||"value";var u={};t&&t.length?(l=r(e,t),s=l.get()):s=e,t=t||"";var c={};if(s)for(a=0;a<s.length;a++)c[s[a][n]]=a;var f=i.test(o),d={set:function(e,t){var i=null===t?4:0;if(!s){if(!l||4===i)return;s=[],l.set(s)}var a=c[e];if(void 0===a){if(4===i)return;i|=3,a=s.length,c[e]=a}else t!==(f?s[a][o]:r(s[a],o).get())&&(i|=2);var h=s[a]=s[a]||{};return h[n]=e,f?h[o]=t:r(h,o).set(t),null!==t&&(i&=-5),u[a]=u[a]|i,d},get:function(e){if(s){var t=c[e];return void 0===t?void 0:f?s[t][o]:r(s[t],o).get()}},rename:function(e,t){var r=c[e];return void 0===r?d:(u[r]=1|u[r],c[t]=r,delete c[e],s[r][n]=t,d)},remove:function(e){var t=c[e];if(void 0===t)return d;var i=s[t];if(Object.keys(i).length>2)return u[t]=2|u[t],d.set(e,null);if(f){for(a=t;a<s.length;a++)u[a]=3|u[a];for(a=t;a<s.length;a++)c[s[a][n]]--;s.splice(t,1),delete c[e]}else r(i,o).set(null),u[t]=6|u[t];return d},constructUpdate:function(){for(var e,i,a={},l=Object.keys(u),c=0;c<l.length;c++)i=l[c],e=t+"["+i+"]",s[i]?(1&u[i]&&(a[e+"."+n]=s[i][n]),2&u[i]&&(a[e+"."+o]=f?4&u[i]?null:s[i][o]:4&u[i]?null:r(s[i],o).get())):a[e]=null;return a}};return d}},{"./nested_property":505}],500:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e,t){for(var n=e._context.locale,i=0;i<2;i++){for(var o=e._context.locales,a=0;a<2;a++){var s=(o[n]||{}).dictionary;if(s){var l=s[t];if(l)return l}o=r.localeRegistry}var u=n.split("-")[0];if(u===n)break;n=u}return t}},{"../registry":595}],501:[function(e,t,n){"use strict";var r=e("../plot_api/plot_config").dfltConfig,i=t.exports={};function o(e,t){if(e&&e.apply)try{return void e.apply(console,t)}catch(e){}for(var n=0;n<t.length;n++)try{e(t[n])}catch(e){console.log(t[n])}}i.log=function(){if(r.logging>1){for(var e=["LOG:"],t=0;t<arguments.length;t++)e.push(arguments[t]);o(console.trace||console.log,e)}},i.warn=function(){if(r.logging>0){for(var e=["WARN:"],t=0;t<arguments.length;t++)e.push(arguments[t]);o(console.trace||console.log,e)}},i.error=function(){if(r.logging>0){for(var e=["ERROR:"],t=0;t<arguments.length;t++)e.push(arguments[t]);o(console.error,e)}}},{"../plot_api/plot_config":531}],502:[function(e,t,n){"use strict";var r=e("d3");t.exports=function(e,t,n){var i=e.selectAll("g."+n.replace(/\s/g,".")).data(t,(function(e){return e[0].trace.uid}));i.exit().remove(),i.enter().append("g").attr("class",n),i.order();var o=e.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each((function(e){e[0][o]=r.select(this)})),i}},{d3:82}],503:[function(e,t,n){"use strict";n.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},n.transposeRagged=function(e){var t,n,r=0,i=e.length;for(t=0;t<i;t++)r=Math.max(r,e[t].length);var o=new Array(r);for(t=0;t<r;t++)for(o[t]=new Array(i),n=0;n<i;n++)o[t][n]=e[n][t];return o},n.dot=function(e,t){if(!e.length||!t.length||e.length!==t.length)return null;var r,i,o=e.length;if(e[0].length)for(r=new Array(o),i=0;i<o;i++)r[i]=n.dot(e[i],t);else if(t[0].length){var a=n.transposeRagged(t);for(r=new Array(a.length),i=0;i<a.length;i++)r[i]=n.dot(e,a[i])}else for(r=0,i=0;i<o;i++)r+=e[i]*t[i];return r},n.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},n.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},n.rotationXYMatrix=function(e,t,r){return n.dot(n.dot(n.translationMatrix(t,r),n.rotationMatrix(e)),n.translationMatrix(-t,-r))},n.apply2DTransform=function(e){return function(){var t=arguments;3===t.length&&(t=t[0]);var r=1===arguments.length?t[0]:[t[0],t[1]];return n.dot(e,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var t=n.apply2DTransform(e);return function(e){return t(e.slice(0,2)).concat(t(e.slice(2,4)))}}},{}],504:[function(e,t,n){"use strict";t.exports={mod:function(e,t){var n=e%t;return n<0?n+t:n},modHalf:function(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}}},{}],505:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;t.exports=function(e,t){if(r(t))t=String(t);else if("string"!=typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,o,a,l=0,u=t.split(".");l<u.length;){if(n=String(u[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])u[l]=n[1];else{if(0!==l)throw"bad property string";u.splice(0,1)}for(o=n[2].substr(1,n[2].length-2).split("]["),a=0;a<o.length;a++)l++,u.splice(l,0,Number(o[a]))}l++}return"object"!=typeof e?function(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}(e,t,u):{set:s(e,u,t),get:function e(t,n){return function(){var r,o,a,s,l,u=t;for(s=0;s<n.length-1;s++){if(-1===(r=n[s])){for(o=!0,a=[],l=0;l<u.length;l++)a[l]=e(u[l],n.slice(s+1))(),a[l]!==a[0]&&(o=!1);return o?a[0]:a}if("number"==typeof r&&!i(u))return;if("object"!=typeof(u=u[r])||null===u)return}if("object"==typeof u&&null!==u&&null!==(a=u[n[s]]))return a}}(e,u),astr:t,parts:u,obj:e}};var o=/(^|\.)args\[/;function a(e,t){return void 0===e||null===e&&!t.match(o)}function s(e,t,n){return function(r){var o,s,f=e,d="",h=[[e,d]],p=a(r,n);for(s=0;s<t.length-1;s++){if("number"==typeof(o=t[s])&&!i(f))throw"array index but container is not an array";if(-1===o){if(p=!u(f,t.slice(s+1),r,n))break;return}if(!c(f,o,t[s+1],p))break;if("object"!=typeof(f=f[o])||null===f)throw"container is not an object";d=l(d,o),h.push([f,d])}if(p){if(s===t.length-1&&(delete f[t[s]],Array.isArray(f)&&+t[s]==f.length-1))for(;f.length&&void 0===f[f.length-1];)f.pop()}else f[t[s]]=r}}function l(e,t){var n=t;return r(t)?n="["+t+"]":e&&(n="."+t),e+n}function u(e,t,n,r){var o,l=i(n),u=!0,f=n,d=r.replace("-1",0),h=!l&&a(n,d),p=t[0];for(o=0;o<e.length;o++)d=r.replace("-1",o),l&&(h=a(f=n[o%n.length],d)),h&&(u=!1),c(e,o,p,h)&&s(e[o],t,r.replace("-1",o))(f);return u}function c(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"==typeof n?[]:{}}return!0}},{"./array":483,"fast-isnumeric":91}],506:[function(e,t,n){"use strict";t.exports=function(){}},{}],507:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=[];t.exports=function(e,t){if(-1===o.indexOf(e)){o.push(e);var n=1e3;i(t)?n=t:"long"===t&&(n=3e3);var a=r.select("body").selectAll(".plotly-notifier").data([0]);a.enter().append("div").classed("plotly-notifier",!0),a.selectAll(".notifier-note").data(o).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(e){var t=r.select(this);t.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){t.transition().call(s)}));for(var i=t.append("p"),o=e.split(/<br\s*\/?>/g),a=0;a<o.length;a++)a&&i.append("br"),i.append("span").text(o[a]);t.transition().duration(700).style("opacity",1).transition().delay(n).call(s)}))}function s(e){e.duration(700).style("opacity",0).each("end",(function(e){var t=o.indexOf(e);-1!==t&&o.splice(t,1),r.select(this).remove()}))}}},{d3:82,"fast-isnumeric":91}],508:[function(e,t,n){"use strict";var r=e("./setcursor"),i="data-savedcursor";t.exports=function(e,t){var n=e.attr(i);if(t){if(!n){for(var o=(e.attr("class")||"").split(" "),a=0;a<o.length;a++){var s=o[a];0===s.indexOf("cursor-")&&e.attr(i,s.substr(7)).classed(s,!1)}e.attr(i)||e.attr(i,"!!")}r(e,t)}else n&&(e.attr(i,null),"!!"===n?r(e):r(e,n))}},{"./setcursor":516}],509:[function(e,t,n){"use strict";var r=e("./matrix").dot,i=e("../constants/numerical").BADNUM,o=t.exports={};o.tester=function(e){var t,n=e.slice(),r=n[0][0],o=r,a=n[0][1],s=a;for(n.push(n[0]),t=1;t<n.length;t++)r=Math.min(r,n[t][0]),o=Math.max(o,n[t][0]),a=Math.min(a,n[t][1]),s=Math.max(s,n[t][1]);var l,u=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(u=!0,l=function(e){return e[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(u=!0,l=function(e){return e[1]===n[0][1]}));var c=!0,f=n[0];for(t=1;t<n.length;t++)if(f[0]!==n[t][0]||f[1]!==n[t][1]){c=!1;break}return{xmin:r,xmax:o,ymin:a,ymax:s,pts:n,contains:u?function(e,t){var n=e[0],u=e[1];return!(n===i||n<r||n>o||u===i||u<a||u>s||t&&l(e))}:function(e,t){var l=e[0],u=e[1];if(l===i||l<r||l>o||u===i||u<a||u>s)return!1;var c,f,d,h,p,m=n.length,g=n[0][0],v=n[0][1],y=0;for(c=1;c<m;c++)if(f=g,d=v,g=n[c][0],v=n[c][1],!(l<(h=Math.min(f,g))||l>Math.max(f,g)||u>Math.max(d,v)))if(u<Math.min(d,v))l!==h&&y++;else{if(u===(p=g===f?u:d+(l-f)*(v-d)/(g-f)))return 1!==c||!t;u<=p&&l!==h&&y++}return y%2==1},isRect:u,degenerate:c}},o.isSegmentBent=function(e,t,n,i){var o,a,s,l=e[t],u=[e[n][0]-l[0],e[n][1]-l[1]],c=r(u,u),f=Math.sqrt(c),d=[-u[1]/f,u[0]/f];for(o=t+1;o<n;o++)if(a=[e[o][0]-l[0],e[o][1]-l[1]],(s=r(a,u))<0||s>c||Math.abs(r(a,d))>i)return!0;return!1},o.filter=function(e,t){var n=[e[0]],r=0,i=0;function a(a){e.push(a);var s=n.length,l=r;n.splice(i+1);for(var u=l+1;u<e.length;u++)(u===e.length-1||o.isSegmentBent(e,l,u+1,t))&&(n.push(e[u]),n.length<s-2&&(r=u,i=n.length-1),l=u)}return e.length>1&&a(e.pop()),{addPt:a,raw:e,filtered:n}}},{"../constants/numerical":476,"./matrix":503}],510:[function(e,t,n){"use strict";t.exports=function(e,t){if(t instanceof RegExp){for(var n=t.toString(),r=0;r<e.length;r++)if(e[r]instanceof RegExp&&e[r].toString()===n)return e;e.push(t)}else!t&&0!==t||-1!==e.indexOf(t)||e.push(t);return e}},{}],511:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_config").dfltConfig,o={add:function(e,t,n,r,o){var a,s;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(a={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,a),e.undoQueue.index+=1):a=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,a&&(a.undo.calls.unshift(t),a.undo.args.unshift(n),a.redo.calls.push(r),a.redo.args.push(o)),e.undoQueue.queue.length>i.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)o.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function(e){var t,n;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)o.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},plotDo:function(e,t,n){e.autoplay=!0,n=function(e,t){for(var n,i=[],o=0;o<t.length;o++)n=t[o],i[o]=n===e?n:"object"==typeof n?Array.isArray(n)?r.extendDeep([],n):r.extendDeepAll({},n):n;return i}(e,n),t.apply(null,n)}};t.exports=o},{"../lib":497,"../plot_api/plot_config":531}],512:[function(e,t,n){"use strict";n.counter=function(e,t,n,r){var i=(t||"")+(n?"":"$"),o=!1===r?"":"^";return"xy"===e?new RegExp(o+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(o+e+"([2-9]|[1-9][0-9]+)?"+i)}},{}],513:[function(e,t,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,i=/^[^\.\[\]]+$/;t.exports=function(e,t){for(;t;){var n=e.match(r);if(n)e=n[1];else{if(!e.match(i))throw new Error("bad relativeAttr call:"+[e,t]);e=""}if("^"!==t.charAt(0))break;t=t.slice(1)}return e&&"["!==t.charAt(0)?e+"."+t:e+t}},{}],514:[function(e,t,n){"use strict";var r=e("./array").isArrayOrTypedArray,i=e("./is_plain_object");t.exports=function e(t,n){for(var o in n){var a=n[o],s=t[o];if(s!==a)if("_"===o.charAt(0)||"function"==typeof a){if(o in t)continue;t[o]=a}else if(r(a)&&r(s)&&i(a[0])){if("customdata"===o||"ids"===o)continue;for(var l=Math.min(a.length,s.length),u=0;u<l;u++)s[u]!==a[u]&&i(a[u])&&i(s[u])&&e(s[u],a[u])}else i(a)&&i(s)&&(e(s,a),Object.keys(s).length||delete t[o])}}},{"./array":483,"./is_plain_object":498}],515:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./loggers"),o=e("./identity");function a(e,t){return e<t}function s(e,t){return e<=t}function l(e,t){return e>t}function u(e,t){return e>=t}n.findBin=function(e,t,n){if(r(t.start))return n?Math.ceil((e-t.start)/t.size-1e-9)-1:Math.floor((e-t.start)/t.size+1e-9);var o,c,f=0,d=t.length,h=0,p=d>1?(t[d-1]-t[0])/(d-1):1;for(c=p>=0?n?a:s:n?u:l,e+=1e-9*p*(n?-1:1)*(p>=0?1:-1);f<d&&h++<100;)c(t[o=Math.floor((f+d)/2)],e)?f=o+1:d=o;return h>90&&i.log("Long binary search..."),f-1},n.sorterAsc=function(e,t){return e-t},n.sorterDes=function(e,t){return t-e},n.distinctVals=function(e){var t=e.slice();t.sort(n.sorterAsc);for(var r=t.length-1,i=t[r]-t[0]||1,o=i/(r||1)/1e4,a=[t[0]],s=0;s<r;s++)t[s+1]>t[s]+o&&(i=Math.min(i,t[s+1]-t[s]),a.push(t[s+1]));return{vals:a,minDiff:i}},n.roundUp=function(e,t,n){for(var r,i=0,o=t.length-1,a=0,s=n?0:1,l=n?1:0,u=n?Math.ceil:Math.floor;i<o&&a++<100;)t[r=u((i+o)/2)]<=e?i=r+s:o=r-l;return t[i]},n.sort=function(e,t){for(var n=0,r=0,i=1;i<e.length;i++){var o=t(e[i],e[i-1]);if(o<0?n=1:o>0&&(r=1),n&&r)return e.sort(t)}return r?e:e.reverse()},n.findIndexOfMin=function(e,t){t=t||o;for(var n,r=1/0,i=0;i<e.length;i++){var a=t(e[i]);a<r&&(r=a,n=i)}return n}},{"./identity":496,"./loggers":501,"fast-isnumeric":91}],516:[function(e,t,n){"use strict";t.exports=function(e,t){(e.attr("class")||"").split(" ").forEach((function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)})),t&&e.classed("cursor-"+t,!0)}},{}],517:[function(e,t,n){"use strict";var r=e("../components/color"),i=function(){};t.exports=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=i);e.destroy=function(){e.container.parentNode.removeChild(e.container)};var n=document.createElement("div");n.className="no-webgl",n.style.cursor="pointer",n.style.fontSize="24px",n.style.color=r.defaults[0],n.style.position="absolute",n.style.left=n.style.top="0px",n.style.width=n.style.height="100%",n.style["background-color"]=r.lightLine,n.style["z-index"]=30;var o=document.createElement("p");return o.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",o.style.position="relative",o.style.top="50%",o.style.left="50%",o.style.height="30%",o.style.width="50%",o.style.margin="-15% 0 0 -25%",n.appendChild(o),e.container.appendChild(n),e.container.style.background="#FFFFFF",e.container.onclick=function(){window.open("https://get.webgl.org")},!1}},{"../components/color":377}],518:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./array").isArrayOrTypedArray;n.aggNums=function(e,t,o,a){var s,l;if((!a||a>o.length)&&(a=o.length),r(t)||(t=!1),i(o[0])){for(l=new Array(a),s=0;s<a;s++)l[s]=n.aggNums(e,t,o[s]);o=l}for(s=0;s<a;s++)r(t)?r(o[s])&&(t=e(+t,+o[s])):t=o[s];return t},n.len=function(e){return n.aggNums((function(e){return e+1}),0,e)},n.mean=function(e,t){return t||(t=n.len(e)),n.aggNums((function(e,t){return e+t}),0,e)/t},n.midRange=function(e){if(void 0!==e&&0!==e.length)return(n.aggNums(Math.max,null,e)+n.aggNums(Math.min,null,e))/2},n.variance=function(e,t,i){return t||(t=n.len(e)),r(i)||(i=n.mean(e,t)),n.aggNums((function(e,t){return e+Math.pow(t-i,2)}),0,e)/t},n.stdev=function(e,t,r){return Math.sqrt(n.variance(e,t,r))},n.median=function(e){var t=e.slice().sort();return n.interp(t,.5)},n.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},{"./array":483,"fast-isnumeric":91}],519:[function(e,t,n){"use strict";var r=e("color-normalize");t.exports=function(e){return e?r(e):[0,0,0,1]}},{"color-normalize":63}],520:[function(e,t,n){"use strict";var r=e("d3"),i=e("../lib"),o=e("../constants/xmlns_namespaces"),a=e("../constants/alignment").LINE_SPACING;function s(e,t){return e.node().getBoundingClientRect()[t]}var l=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(e,t,S){var E=e.text(),O=!e.attr("data-notex")&&"undefined"!=typeof MathJax&&E.match(l),C=r.select(e.node().parentNode);if(!C.empty()){var N=e.attr("class")?e.attr("class").split(" ")[0]:"text";return N+="-math",C.selectAll("svg."+N).remove(),C.selectAll("g."+N+"-group").remove(),e.style("display",null).attr({"data-unformatted":E,"data-math":"N"}),O?(t&&t._promises||[]).push(new Promise((function(t){e.style("display","none");var n=parseInt(e.node().style.fontSize,10),o={fontSize:n};!function(e,t,n){var o,a,s,l;MathJax.Hub.Queue((function(){return a=i.extendDeepAll({},MathJax.Hub.config),s=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})}),(function(){if("SVG"!==(o=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),(function(){var n="math-output-"+i.randstr({},64);return l=r.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(e.replace(u,"\\lt ").replace(c,"\\gt ")),MathJax.Hub.Typeset(l.node())}),(function(){var t=r.select("body").select("#MathJax_SVG_glyphs");if(l.select(".MathJax_SVG").empty()||!l.select("svg").node())i.log("There was an error in the tex syntax.",e),n();else{var a=l.select("svg").node().getBoundingClientRect();n(l.select(".MathJax_SVG"),t,a)}if(l.remove(),"SVG"!==o)return MathJax.Hub.setRenderer(o)}),(function(){return void 0!==s&&(MathJax.Hub.processSectionDelay=s),MathJax.Hub.Config(a)}))}(O[2],o,(function(r,i,o){C.selectAll("svg."+N).remove(),C.selectAll("g."+N+"-group").remove();var a=r&&r.select("svg");if(!a||!a.node())return D(),void t();var l=C.append("g").classed(N+"-group",!0).attr({"pointer-events":"none","data-unformatted":E,"data-math":"Y"});l.node().appendChild(a.node()),i&&i.node()&&a.node().insertBefore(i.node().cloneNode(!0),a.node().firstChild),a.attr({class:N,height:o.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=e.node().style.fill||"black",c=a.select("g");c.attr({fill:u,stroke:u});var f=s(c,"width"),d=s(c,"height"),h=+e.attr("x")-f*{start:0,middle:.5,end:1}[e.attr("text-anchor")||"start"],p=-(n||s(e,"height"))/4;"y"===N[0]?(l.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+") translate("+[-f/2,p-d/2]+")"}),a.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===N[0]?a.attr({x:e.attr("x"),y:p-d/2}):"a"===N[0]&&0!==N.indexOf("atitle")?a.attr({x:0,y:p}):a.attr({x:h,y:+e.attr("y")+p-d/2}),S&&S.call(e,l),t(l)}))}))):D(),e}function D(){C.empty()||(N=e.attr("class")+"-math",C.select("svg."+N).remove()),e.text("").style("white-space","pre"),function(e,t){t=t.replace(g," ");var n,s=!1,l=[],u=-1;function c(){u++;var t=document.createElementNS(o.svg,"tspan");r.select(t).attr({class:"line",dy:u*a+"em"}),e.appendChild(t),n=t;var i=l;if(l=[{node:t}],i.length>1)for(var s=1;s<i.length;s++)S(i[s])}function S(e){var t,i=e.type,a={};if("a"===i){t="a";var s=e.target,u=e.href,c=e.popup;u&&(a={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":u},c&&(a.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+c+'");return false;'))}else t="tspan";e.style&&(a.style=e.style);var f=document.createElementNS(o.svg,t);if("sup"===i||"sub"===i){E(n,p),n.appendChild(f);var m=document.createElementNS(o.svg,"tspan");E(m,p),r.select(m).attr("dy",h[i]),a.dy=d[i],n.appendChild(f),n.appendChild(m)}else n.appendChild(f);r.select(f).attr(a),n=e.node=f,l.push(e)}function E(e,t){e.appendChild(document.createTextNode(t))}function O(e){if(1!==l.length){var r=l.pop();e!==r.type&&i.log("Start tag <"+r.type+"> doesnt match end tag <"+e+">. Pretending it did match.",t),n=l[l.length-1].node}else i.log("Ignoring unexpected end tag </"+e+">.",t)}b.test(t)?c():(n=e,l=[{node:e}]);for(var C=t.split(v),N=0;N<C.length;N++){var D=C[N],P=D.match(y),R=P&&P[2].toLowerCase(),L=f[R];if("br"===R)c();else if(void 0===L)E(n,A(D));else if(P[1])O(R);else{var I=P[4],j={type:R},z=M(I,x);if(z?(z=z.replace(T,"$1 fill:"),L&&(z+=";"+L)):L&&(z=L),z&&(j.style=z),"a"===R){s=!0;var F=M(I,_);if(F){var B=document.createElement("a");B.href=F,-1!==m.indexOf(B.protocol)&&(j.href=encodeURI(decodeURI(F)),j.target=M(I,w)||"_blank",j.popup=M(I,k))}}S(j)}}return s}(e.node(),E)&&e.style("pointer-events","all"),n.positionText(e),S&&S.call(e)}};var u=/(<|&lt;|&#60;)/g,c=/(>|&gt;|&#62;)/g,f={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},d={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},p="\u200b",m=["http:","https:","mailto:","",void 0,":"],g=n.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,y=/<(\/?)([^ >]*)(\s+(.*))?>/i,b=/<br(\s+.*)?>/i;n.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,_=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,w=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,k=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function M(e,t){if(!e)return null;var n=e.match(t),r=n&&(n[3]||n[4]);return r&&A(r)}var T=/(^|;)\s*color:/;n.plainText=function(e,t){for(var n=void 0!==(t=t||{}).len&&-1!==t.len?t.len:1/0,r=void 0!==t.allowedTags?t.allowedTags:["br"],i="...".length,o=e.split(v),a=[],s="",l=0,u=0;u<o.length;u++){var c=o[u],f=c.match(y),d=f&&f[2].toLowerCase();if(d)-1!==r.indexOf(d)&&(a.push(c),s=d);else{var h=c.length;if(l+h<n)a.push(c),l+=h;else if(l<n){var p=n-l;s&&("br"!==s||p<=i||h<=i)&&a.pop(),n>i?a.push(c.substr(0,p-i)+"..."):a.push(c.substr(0,p));break}s=""}}return a.join("")};var S={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},E=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function A(e){return e.replace(E,(function(e,t){return("#"===t.charAt(0)?function(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var n=String.fromCharCode;return e<=65535?n(e):n(55232+(e>>10),e%1024+56320)}}("x"===t.charAt(1)?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):S[t])||e}))}function O(e,t,n){var r,i,o,a=n.horizontalAlign,s=n.verticalAlign||"top",l=e.node().getBoundingClientRect(),u=t.node().getBoundingClientRect();return i="bottom"===s?function(){return l.bottom-r.height}:"middle"===s?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},o="right"===a?function(){return l.right-r.width}:"center"===a?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:i()-u.top+"px",left:o()-u.left+"px","z-index":1e3}),this}}n.convertEntities=A,n.lineCount=function(e){return e.selectAll("tspan.line").size()||1},n.positionText=function(e,t,n){return e.each((function(){var e=r.select(this);function i(t,n){return void 0===n?null===(n=e.attr(t))&&(e.attr(t,0),n=0):e.attr(t,n),n}var o=i("x",t),a=i("y",n);"text"===this.nodeName&&e.selectAll("tspan.line").attr({x:o,y:a})}))},n.makeEditable=function(e,t){var n=t.gd,i=t.delegate,o=r.dispatch("edit","input","cancel"),a=i||e;if(e.style({"pointer-events":i?"none":"all"}),1!==e.size())throw new Error("boo");function s(){!function(){var i=r.select(n).select(".svg-container"),a=i.append("div"),s=e.node().style,u=parseFloat(s.fontSize||12),c=t.text;void 0===c&&(c=e.attr("data-unformatted")),a.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.fontFamily||"Arial","font-size":u,color:t.fill||s.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-u/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(c).call(O(e,i,t)).on("blur",(function(){n._editing=!1,e.text(this.textContent).style({opacity:1});var t,i=r.select(this).attr("class");(t=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(t).style({opacity:0});var a=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on("mouseup",null),o.edit.call(e,a)})).on("focus",(function(){var e=this;n._editing=!0,r.select(document).on("mouseup",(function(){if(r.event.target===e)return!1;document.activeElement===a.node()&&a.node().blur()}))})).on("keyup",(function(){27===r.event.which?(n._editing=!1,e.style({opacity:1}),r.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),o.cancel.call(e,this.textContent)):(o.input.call(e,this.textContent),r.select(this).call(O(e,i,t)))})).on("keydown",(function(){13===r.event.which&&this.blur()})).call(l)}(),e.style({opacity:0});var i,s=a.attr("class");(i=s?"."+s.split(" ")[0]+"-math-group":"[class*=-math-group]")&&r.select(e.node().parentNode).select(i).style({opacity:0})}function l(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}return t.immediate?s():a.on("click",s),r.rebind(e,o,"on")}},{"../constants/alignment":471,"../constants/xmlns_namespaces":477,"../lib":497,d3:82}],521:[function(e,t,n){"use strict";var r={};function i(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}n.throttle=function(e,t,n){var o=r[e],a=Date.now();if(!o){for(var s in r)r[s].ts<a-6e4&&delete r[s];o=r[e]={ts:0,timer:null}}function l(){n(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}i(o),a>o.ts+t?l():o.timer=setTimeout((function(){l(),o.timer=null}),t)},n.done=function(e){var t=r[e];return t&&t.timer?new Promise((function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}})):Promise.resolve()},n.clear=function(e){if(e)i(r[e]),delete r[e];else for(var t in r)n.clear(t)}},{}],522:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},{"fast-isnumeric":91}],523:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],524:[function(e,t,n){"use strict";t.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],525:[function(e,t,n){"use strict";var r=e("../registry");t.exports=function(e){for(var t,n,i=r.layoutArrayContainers,o=r.layoutArrayRegexes,a=e.split("[")[0],s=0;s<o.length;s++)if((n=e.match(o[s]))&&0===n.index){t=n[0];break}if(t||(t=i[i.indexOf(a)]),!t)return!1;var l=e.substr(t.length);return l?!!(n=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},{"../registry":595}],526:[function(e,t,n){"use strict";var r=e("../lib"),i=r.extendFlat,o=r.isPlainObject,a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},s={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},l=a.flags.slice().concat(["fullReplot"]),u=s.flags.slice().concat("layoutReplot");function c(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function f(e,t,n){var r=i({},e);for(var a in r){var s=r[a];o(s)&&(r[a]=d(s,t,0,a))}return"from-root"===n&&(r.editType=t),r}function d(e,t,n,r){if(e.valType){var o=i({},e);if(o.editType=t,Array.isArray(e.items)){o.items=new Array(e.items.length);for(var a=0;a<e.items.length;a++)o.items[a]=d(e.items[a],t)}return o}return f(e,t,"_"===r.charAt(0)?"nested":"from-root")}t.exports={traces:a,layout:s,traceFlags:function(){return c(l)},layoutFlags:function(){return c(u)},update:function(e,t){var n=t.editType;if(n&&"none"!==n)for(var r=n.split("+"),i=0;i<r.length;i++)e[r[i]]=!0},overrideAll:f}},{"../lib":497}],527:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("gl-mat4/fromQuat"),o=e("../registry"),a=e("../lib"),s=e("../plots/plots"),l=e("../plots/cartesian/axis_ids"),u=e("../components/color"),c=l.cleanId,f=l.getFromTrace,d=o.traceIs;function h(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=c(n,r))}function p(e){function t(t,n){var r=e[t],i=e.title&&e.title[n];r&&!i&&(e.title||(e.title={}),e.title[n]=e[t],delete e[t])}e&&("string"!=typeof e.title&&"number"!=typeof e.title||(e.title={text:e.title}),t("titlefont","font"),t("titleposition","position"),t("titleside","side"),t("titleoffset","offset"))}function m(e){if(!a.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,("string"==typeof t||"number"==typeof t)&&String(t)}function g(e,t,n,r){if(n&&!r)return e;if(r&&!n)return t;if(!e.trim())return t;if(!t.trim())return e;var i,o=Math.min(e.length,t.length);for(i=0;i<o&&e.charAt(i)===t.charAt(i);i++);return e.substr(0,i).trim()}function v(e){var t="middle",n="center";return"string"==typeof e&&(-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right")),t+" "+n}function y(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&a.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){var t,r;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var o=(s.subplotsRegistry.cartesian||{}).attrRegex,l=(s.subplotsRegistry.polar||{}).attrRegex,f=(s.subplotsRegistry.ternary||{}).attrRegex,d=(s.subplotsRegistry.gl3d||{}).attrRegex,m=Object.keys(e);for(t=0;t<m.length;t++){var g=m[t];if(o&&o.test(g)){var v=e[g];v.anchor&&"free"!==v.anchor&&(v.anchor=c(v.anchor)),v.overlaying&&(v.overlaying=c(v.overlaying)),v.type||(v.isdate?v.type="date":v.islog?v.type="log":!1===v.isdate&&!1===v.islog&&(v.type="linear")),"withzero"!==v.autorange&&"tozero"!==v.autorange||(v.autorange=!0,v.rangemode="tozero"),delete v.islog,delete v.isdate,delete v.categories,y(v,"domain")&&delete v.domain,void 0!==v.autotick&&(void 0===v.tickmode&&(v.tickmode=v.autotick?"auto":"linear"),delete v.autotick),p(v)}else if(l&&l.test(g))p(e[g].radialaxis);else if(f&&f.test(g)){var b=e[g];p(b.aaxis),p(b.baxis),p(b.caxis)}else if(d&&d.test(g)){var x=e[g],_=x.cameraposition;if(Array.isArray(_)&&4===_[0].length){var w=_[0],k=_[1],M=_[2],T=i([],w),S=[];for(r=0;r<3;++r)S[r]=k[r]+M*T[2+4*r];x.camera={eye:{x:S[0],y:S[1],z:S[2]},center:{x:k[0],y:k[1],z:k[2]},up:{x:0,y:0,z:1}},delete x.cameraposition}p(x.xaxis),p(x.yaxis),p(x.zaxis)}}var E=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<E;t++){var A=e.annotations[t];a.isPlainObject(A)&&(A.ref&&("paper"===A.ref?(A.xref="paper",A.yref="paper"):"data"===A.ref&&(A.xref="x",A.yref="y"),delete A.ref),h(A,"xref"),h(A,"yref"))}var O=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<O;t++){var C=e.shapes[t];a.isPlainObject(C)&&(h(C,"xref"),h(C,"yref"))}var N=e.legend;return N&&(N.x>3?(N.x=1.02,N.xanchor="left"):N.x<-2&&(N.x=-.02,N.xanchor="right"),N.y>3?(N.y=1.02,N.yanchor="bottom"):N.y<-2&&(N.y=-.02,N.yanchor="top")),p(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),u.clean(e),e.template&&e.template.layout&&n.cleanLayout(e.template.layout),e},n.cleanData=function(e){for(var t=0;t<e.length;t++){var r,i=e[t];if("histogramy"===i.type&&"xbins"in i&&!("ybins"in i)&&(i.ybins=i.xbins,delete i.xbins),i.error_y&&"opacity"in i.error_y){var l=u.defaults,f=i.error_y.color||(d(i,"bar")?u.defaultLine:l[t%l.length]);i.error_y.color=u.addOpacity(u.rgb(f),u.opacity(f)*i.error_y.opacity),delete i.error_y.opacity}if("bardir"in i&&("h"!==i.bardir||!d(i,"bar")&&"histogram"!==i.type.substr(0,9)||(i.orientation="h",n.swapXYData(i)),delete i.bardir),"histogramy"===i.type&&n.swapXYData(i),"histogramx"!==i.type&&"histogramy"!==i.type||(i.type="histogram"),"scl"in i&&!("colorscale"in i)&&(i.colorscale=i.scl,delete i.scl),"reversescl"in i&&!("reversescale"in i)&&(i.reversescale=i.reversescl,delete i.reversescl),i.xaxis&&(i.xaxis=c(i.xaxis,"x")),i.yaxis&&(i.yaxis=c(i.yaxis,"y")),d(i,"gl3d")&&i.scene&&(i.scene=s.subplotsRegistry.gl3d.cleanId(i.scene)),!d(i,"pie-like")&&!d(i,"bar-like"))if(Array.isArray(i.textposition))for(r=0;r<i.textposition.length;r++)i.textposition[r]=v(i.textposition[r]);else i.textposition&&(i.textposition=v(i.textposition));var h=o.getModule(i);if(h&&h.colorbar){var b=h.colorbar.container,x=b?i[b]:i;x&&x.colorscale&&("YIGnBu"===x.colorscale&&(x.colorscale="YlGnBu"),"YIOrRd"===x.colorscale&&(x.colorscale="YlOrRd"))}if("surface"===i.type&&a.isPlainObject(i.contours)){var _=["x","y","z"];for(r=0;r<_.length;r++){var w=i.contours[_[r]];a.isPlainObject(w)&&(w.highlightColor&&(w.highlightcolor=w.highlightColor,delete w.highlightColor),w.highlightWidth&&(w.highlightwidth=w.highlightWidth,delete w.highlightWidth))}}if("candlestick"===i.type||"ohlc"===i.type){var k=!1!==(i.increasing||{}).showlegend,M=!1!==(i.decreasing||{}).showlegend,T=m(i.increasing),S=m(i.decreasing);if(!1!==T&&!1!==S){var E=g(T,S,k,M);E&&(i.name=E)}else!T&&!S||i.name||(i.name=T||S)}if(Array.isArray(i.transforms)){var A=i.transforms;for(r=0;r<A.length;r++){var O=A[r];if(a.isPlainObject(O))switch(O.type){case"filter":O.filtersrc&&(O.target=O.filtersrc,delete O.filtersrc),O.calendar&&(O.valuecalendar||(O.valuecalendar=O.calendar),delete O.calendar);break;case"groupby":if(O.styles=O.styles||O.style,O.styles&&!Array.isArray(O.styles)){var C=O.styles,N=Object.keys(C);O.styles=[];for(var D=0;D<N.length;D++)O.styles.push({target:N[D],value:C[N[D]]})}}}}y(i,"line")&&delete i.line,"marker"in i&&(y(i.marker,"line")&&delete i.marker.line,y(i,"marker")&&delete i.marker),u.clean(i),i.autobinx&&(delete i.autobinx,delete i.xbins),i.autobiny&&(delete i.autobiny,delete i.ybins),p(i),i.colorbar&&p(i.colorbar),i.marker&&i.marker.colorbar&&p(i.marker.colorbar),i.line&&i.line.colorbar&&p(i.line.colorbar),i.aaxis&&p(i.aaxis),i.baxis&&p(i.baxis)}},n.swapXYData=function(e){var t;if(a.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);a.swapAttrs(e,["error_?.copy_ystyle"]),r&&a.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var i=e.hoverinfo.split("+");for(t=0;t<i.length;t++)"x"===i[t]?i[t]="y":"y"===i[t]&&(i[t]="x");e.hoverinfo=i.join("+")}},n.coerceTraceIndices=function(e,t){if(r(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map((function(e,t){return t}));if(Array.isArray(t)){for(var n=[],i=0;i<t.length;i++)a.isIndex(t[i],e.data.length)?n.push(t[i]):a.warn("trace index (",t[i],") is not a number or is out of bounds");return n}return t},n.manageArrayContainers=function(e,t,n){var i=e.obj,o=e.parts,s=o.length,l=o[s-1],u=r(l);if(u&&null===t){var c=o.slice(0,s-1).join(".");a.nestedProperty(i,c).get().splice(l,1)}else u&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(e){var t=e.search(b);if(t>0)return e.substr(0,t)}n.hasParent=function(e,t){for(var n=x(t);n;){if(n in e)return!0;n=x(n)}return!1};var _=["x","y","z"];n.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var i=e._fullData[r],o=0;o<3;o++){var s=f(e,i,_[o]);if(s&&"log"!==s.type){var l=s._name,u=s._id.substr(1);if("scene"===u.substr(0,5)){if(void 0!==n[u])continue;l=u+"."+l}var c=l+".type";void 0===n[l]&&void 0===n[c]&&a.nestedProperty(e.layout,c).set(null)}}}},{"../components/color":377,"../lib":497,"../plots/cartesian/axis_ids":546,"../plots/plots":586,"../registry":595,"fast-isnumeric":91,"gl-mat4/fromQuat":122}],528:[function(e,t,n){"use strict";var r=e("./plot_api");n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n._guiRestyle=r._guiRestyle,n._guiRelayout=r._guiRelayout,n._guiUpdate=r._guiUpdate,n._storeDirectGUIEdit=r._storeDirectGUIEdit,n.react=r.react,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.setPlotConfig=r.setPlotConfig,n.toImage=e("./to_image"),n.validate=e("./validate"),n.downloadImage=e("../snapshot/download");var i=e("./template_api");n.makeTemplate=i.makeTemplate,n.validateTemplate=i.validateTemplate},{"../snapshot/download":597,"./plot_api":530,"./template_api":535,"./to_image":536,"./validate":537}],529:[function(e,t,n){"use strict";var r=e("../lib/is_plain_object"),i=e("../lib/noop"),o=e("../lib/loggers"),a=e("../lib/search").sorterAsc,s=e("../registry");n.containerArrayMatch=e("./container_array_match");var l=n.isAddVal=function(e){return"add"===e||r(e)},u=n.isRemoveVal=function(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function(e,t,n,r,c){var f=t.astr,d=s.getComponentMethod(f,"supplyLayoutDefaults"),h=s.getComponentMethod(f,"draw"),p=s.getComponentMethod(f,"drawOne"),m=r.replot||r.recalc||d===i||h===i,g=e.layout,v=e._fullLayout;if(n[""]){Object.keys(n).length>1&&o.warn("Full array edits are incompatible with other edits",f);var y=n[""][""];if(u(y))t.set(null);else{if(!Array.isArray(y))return o.warn("Unrecognized full array edit value",f,y),!0;t.set(y)}return!m&&(d(g,v),h(e),!0)}var b,x,_,w,k,M,T,S,E=Object.keys(n).map(Number).sort(a),A=t.get(),O=A||[],C=c(v,f).get(),N=[],D=-1,P=O.length;for(b=0;b<E.length;b++)if(w=n[_=E[b]],k=Object.keys(w),M=w[""],T=l(M),_<0||_>O.length-(T?0:1))o.warn("index out of range",f,_);else if(void 0!==M)k.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",f,_),u(M)?N.push(_):T?("add"===M&&(M={}),O.splice(_,0,M),C&&C.splice(_,0,{})):o.warn("Unrecognized full object edit value",f,_,M),-1===D&&(D=_);else for(x=0;x<k.length;x++)S=f+"["+_+"].",c(O[_],k[x],S).set(w[k[x]]);for(b=N.length-1;b>=0;b--)O.splice(N[b],1),C&&C.splice(N[b],1);if(O.length?A||t.set(O):t.set(null),m)return!1;if(d(g,v),p!==i){var R;if(-1===D)R=E;else{for(P=Math.max(O.length,P),R=[],b=0;b<E.length&&!((_=E[b])>=D);b++)R.push(_);for(b=D;b<P;b++)R.push(b)}for(b=0;b<R.length;b++)p(e,R[b])}else h(e);return!0}},{"../lib/is_plain_object":498,"../lib/loggers":501,"../lib/noop":506,"../lib/search":515,"../registry":595,"./container_array_match":525}],530:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("has-hover"),a=e("../lib"),s=a.nestedProperty,l=e("../lib/events"),u=e("../lib/queue"),c=e("../registry"),f=e("./plot_schema"),d=e("../plots/plots"),h=e("../plots/polar/legacy"),p=e("../plots/cartesian/axes"),m=e("../components/drawing"),g=e("../components/color"),v=e("../plots/cartesian/graph_interact").initInteractions,y=e("../constants/xmlns_namespaces"),b=e("../lib/svg_text_utils"),x=e("../plots/cartesian/select").clearSelect,_=e("./plot_config").dfltConfig,w=e("./manage_arrays"),k=e("./helpers"),M=e("./subroutines"),T=e("./edit_types"),S=e("../plots/cartesian/constants").AX_NAME_PATTERN,E=0;function A(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function O(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){a.error(e)}}function C(e,t){O(e,g.combine(t,"white"))}function N(e,t){if(!e._context){e._context=a.extendDeep({},_);var n=r.select("base");e._context._baseUrl=n.size()&&n.attr("href")?window.location.href.split("#")[0]:""}var i,s,l,u=e._context;if(t){for(s=Object.keys(t),i=0;i<s.length;i++)"editable"!==(l=s[i])&&"edits"!==l&&l in u&&("setBackground"===l&&"opaque"===t[l]?u[l]=C:u[l]=t[l]);t.plot3dPixelRatio&&!u.plotGlPixelRatio&&(u.plotGlPixelRatio=u.plot3dPixelRatio);var c=t.editable;if(void 0!==c)for(u.editable=c,s=Object.keys(u.edits),i=0;i<s.length;i++)u.edits[s[i]]=c;if(t.edits)for(s=Object.keys(t.edits),i=0;i<s.length;i++)(l=s[i])in u.edits&&(u.edits[l]=t.edits[l]);u._exportedPlot=t._exportedPlot}u.staticPlot&&(u.editable=!1,u.edits={},u.autosizable=!1,u.scrollZoom=!1,u.doubleClick=!1,u.showTips=!1,u.showLink=!1,u.displayModeBar=!1),"hover"!==u.displayModeBar||o||(u.displayModeBar=!0),"transparent"!==u.setBackground&&"function"==typeof u.setBackground||(u.setBackground=O),u._hasZeroHeight=u._hasZeroHeight||0===e.clientHeight,u._hasZeroWidth=u._hasZeroWidth||0===e.clientWidth;var f=u.scrollZoom,d=u._scrollZoom={};if(!0===f)d.cartesian=1,d.gl3d=1,d.geo=1,d.mapbox=1;else if("string"==typeof f){var h=f.split("+");for(i=0;i<h.length;i++)d[h[i]]=1}else!1!==f&&(d.gl3d=1,d.geo=1,d.mapbox=1)}function D(e,t){var n,r,i=t+1,o=[];for(n=0;n<e.length;n++)(r=e[n])<0?o.push(i+r):o.push(r);return o}function P(e,t,n){var r,i;for(r=0;r<t.length;r++){if((i=t[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=e.data.length||i<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(i,r+1)>-1||i>=0&&t.indexOf(-e.data.length+i)>-1||i<0&&t.indexOf(e.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function R(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"==typeof t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),P(e,t,"currentIndices"),"undefined"==typeof n||Array.isArray(n)||(n=[n]),"undefined"!=typeof n&&P(e,n,"newIndices"),"undefined"!=typeof n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function L(e,t,n,r,o){!function(e,t,n,r){var i=a.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(t))throw new Error("update must be a key:value object");if("undefined"==typeof n)throw new Error("indices must be an integer or array of integers");for(var o in P(e,n,"indices"),t){if(!Array.isArray(t[o])||t[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(i&&(!(o in r)||!Array.isArray(r[o])||r[o].length!==t[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,t,n,r);for(var l=function(e,t,n,r){var o,l,u,c,f,d=a.isPlainObject(r),h=[];for(var p in Array.isArray(n)||(n=[n]),n=D(n,e.data.length-1),t)for(var m=0;m<n.length;m++){if(o=e.data[n[m]],l=(u=s(o,p)).get(),c=t[p][m],!a.isArrayOrTypedArray(c))throw new Error("attribute: "+p+" index: "+m+" must be an array");if(!a.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+p);if(l.constructor!==c.constructor)throw new Error("cannot extend array with an array of a different type: "+p);f=d?r[p][m]:r,i(f)||(f=-1),h.push({prop:u,target:l,insert:c,maxp:Math.floor(f)})}return h}(e,t,n,r),u={},c={},f=0;f<l.length;f++){var d=l[f].prop,h=l[f].maxp,p=o(l[f].target,l[f].insert,h);d.set(p[0]),Array.isArray(u[d.astr])||(u[d.astr]=[]),u[d.astr].push(p[1]),Array.isArray(c[d.astr])||(c[d.astr]=[]),c[d.astr].push(l[f].target.length)}return{update:u,maxPoints:c}}function I(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}function j(e,t,r,i){e=a.getGraphDiv(e),k.clearPromiseQueue(e);var o={};if("string"==typeof t)o[t]=r;else{if(!a.isPlainObject(t))return a.warn("Restyle fail.",t,r,i),Promise.reject();o=a.extendFlat({},t),void 0===i&&(i=r)}Object.keys(o).length&&(e.changed=!0);var s=k.coerceTraceIndices(e,i),l=U(e,o,s),c=l.flags;c.calc&&(e.calcdata=void 0),c.clearAxisTypes&&k.clearAxisTypes(e,s,{});var f=[];c.fullReplot?f.push(n.plot):(f.push(d.previousPromises),d.supplyDefaults(e),c.markerSize&&(d.doCalcdata(e),W(f)),c.style&&f.push(M.doTraceStyle),c.colorbars&&f.push(M.doColorBars),f.push(A)),f.push(d.rehover,d.redrag),u.add(e,j,[e,l.undoit,l.traces],j,[e,l.redoit,l.traces]);var h=a.syncOrAsync(f,e);return h&&h.then||(h=Promise.resolve()),h.then((function(){return e.emit("plotly_restyle",l.eventData),e}))}function z(e){return void 0===e?null:e}function F(e,t){return t?function(t,n,r){var i=s(t,n),o=i.set;return i.set=function(t){B((r||"")+n,i.get(),t,e),o(t)},i}:s}function B(e,t,n,r){if(Array.isArray(t)||Array.isArray(n))for(var i=Array.isArray(t)?t:[],o=Array.isArray(n)?n:[],s=Math.max(i.length,o.length),l=0;l<s;l++)B(e+"["+l+"]",i[l],o[l],r);else if(a.isPlainObject(t)||a.isPlainObject(n)){var u=a.isPlainObject(t)?t:{},c=a.isPlainObject(n)?n:{},f=a.extendFlat({},u,c);for(var d in f)B(e+"."+d,u[d],c[d],r)}else void 0===r[e]&&(r[e]=z(t))}function U(e,t,n){var r,i=e._fullLayout,o=e._fullData,l=e.data,u=i._guiEditing,h=F(i._preGUI,u),m=a.extendDeepAll({},t);H(t);var g,v=T.traceFlags(),y={},b={};function x(){return n.map((function(){}))}function _(e){var t=p.id2name(e);-1===g.indexOf(t)&&g.push(t)}function w(e){return"LAYOUT"+e+".autorange"}function M(e){return"LAYOUT"+e+".range"}function S(e){for(var t=e;t<o.length;t++)if(o[t]._input===l[e])return o[t]}function E(r,o,a){if(Array.isArray(r))r.forEach((function(e){E(e,o,a)}));else if(!(r in t||k.hasParent(t,r))){var s;if("LAYOUT"===r.substr(0,6))s=h(e.layout,r.replace("LAYOUT",""));else{var c=n[a];s=F(i._tracePreGUI[S(c)._fullInput.uid],u)(l[c],r)}r in b||(b[r]=x()),void 0===b[r][a]&&(b[r][a]=z(s.get())),void 0!==o&&s.set(o)}}function A(e){return function(t){return o[t][e]}}function O(e){return function(t,r){return!1===t?o[n[r]][e]:null}}for(var C in t){if(k.hasParent(t,C))throw new Error("cannot set "+C+" and a parent attribute simultaneously");var N,D,P,R,L,I,j=t[C];if("autobinx"!==C&&"autobiny"!==C||(C=C.charAt(C.length-1)+"bins",j=Array.isArray(j)?j.map(O(C)):!1===j?n.map(A(C)):null),y[C]=j,"LAYOUT"!==C.substr(0,6)){for(b[C]=x(),r=0;r<n.length;r++)if(N=l[n[r]],D=S(n[r]),R=(P=F(i._tracePreGUI[D._fullInput.uid],u)(N,C)).get(),void 0!==(L=Array.isArray(j)?j[r%j.length]:j)){var B=P.parts[P.parts.length-1],U=C.substr(0,C.length-B.length-1),q=U?U+".":"",V=U?s(D,U).get():D;if((I=f.getTraceValObject(D,P.parts))&&I.impliedEdits&&null!==L)for(var W in I.impliedEdits)E(a.relativeAttr(C,W),I.impliedEdits[W],r);else if("thicknessmode"!==B&&"lenmode"!==B||R===L||"fraction"!==L&&"pixels"!==L||!V){if("type"===C&&("pie"===L!=("pie"===R)||"funnelarea"===L!=("funnelarea"===R))){var Y="x",G="y";"bar"!==L&&"bar"!==R||"h"!==N.orientation||(Y="y",G="x"),a.swapAttrs(N,["?","?src"],"labels",Y),a.swapAttrs(N,["d?","?0"],"label",Y),a.swapAttrs(N,["?","?src"],"values",G),"pie"===R||"funnelarea"===R?(s(N,"marker.color").set(s(N,"marker.colors").get()),i._pielayer.selectAll("g.trace").remove()):c.traceIs(N,"cartesian")&&s(N,"marker.colors").set(s(N,"marker.color").get())}}else{var X=i._size,$=V.orient,Z="top"===$||"bottom"===$;if("thicknessmode"===B){var K=Z?X.h:X.w;E(q+"thickness",V.thickness*("fraction"===L?1/K:K),r)}else{var J=Z?X.w:X.h;E(q+"len",V.len*("fraction"===L?1/J:J),r)}}if(b[C][r]=z(R),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(C)){if("orientation"===C){P.set(L);var Q=N.x&&!N.y?"h":"v";if((P.get()||Q)===D.orientation)continue}else"orientationaxes"===C&&(N.orientation={v:"h",h:"v"}[D.orientation]);k.swapXYData(N),v.calc=v.clearAxisTypes=!0}else-1!==d.dataArrayContainers.indexOf(P.parts[0])?(k.manageArrayContainers(P,L,b),v.calc=!0):(I?I.arrayOk&&!c.traceIs(D,"regl")&&(a.isArrayOrTypedArray(L)||a.isArrayOrTypedArray(R))?v.calc=!0:T.update(v,I):v.calc=!0,P.set(L))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(C)&&p.swap(e,n),"orientationaxes"===C){var ee=s(e.layout,"hovermode");"x"===ee.get()?ee.set("y"):"y"===ee.get()&&ee.set("x")}if(-1!==["orientation","type"].indexOf(C)){for(g=[],r=0;r<n.length;r++){var te=l[n[r]];c.traceIs(te,"cartesian")&&(_(te.xaxis||"x"),_(te.yaxis||"y"))}E(g.map(w),!0,0),E(g.map(M),[0,1],0)}}else P=h(e.layout,C.replace("LAYOUT","")),b[C]=[z(P.get())],P.set(Array.isArray(j)?j[0]:j),v.calc=!0}return(v.calc||v.plot)&&(v.fullReplot=!0),{flags:v,undoit:b,redoit:y,traces:n,eventData:a.extendDeepNoArrays([],[m,n])}}function H(e){var t,n,r,i=a.counterRegex("axis",".title",!1,!1),o=/colorbar\.title$/,s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r=e[n],"title"!==n&&!i.test(n)&&!o.test(n)||"string"!=typeof r&&"number"!=typeof r?n.indexOf("titlefont")>-1?l(n,n.replace("titlefont","title.font")):n.indexOf("titleposition")>-1?l(n,n.replace("titleposition","title.position")):n.indexOf("titleside")>-1?l(n,n.replace("titleside","title.side")):n.indexOf("titleoffset")>-1&&l(n,n.replace("titleoffset","title.offset")):l(n,n.replace("title","title.text"));function l(t,n){e[n]=e[t],delete e[t]}}function q(e,t,n){if(e=a.getGraphDiv(e),k.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var r={};if("string"==typeof t)r[t]=n;else{if(!a.isPlainObject(t))return a.warn("Relayout fail.",t,n),Promise.reject();r=a.extendFlat({},t)}Object.keys(r).length&&(e.changed=!0);var i=$(e,r),o=i.flags;o.calc&&(e.calcdata=void 0);var s=[d.previousPromises];o.layoutReplot?s.push(M.layoutReplot):Object.keys(r).length&&(V(e,o,i)||d.supplyDefaults(e),o.legend&&s.push(M.doLegend),o.layoutstyle&&s.push(M.layoutStyles),o.axrange&&W(s,i.rangesAltered),o.ticks&&s.push(M.doTicksRelayout),o.modebar&&s.push(M.doModeBar),o.camera&&s.push(M.doCamera),o.colorbars&&s.push(M.doColorBars),s.push(A)),s.push(d.rehover,d.redrag),u.add(e,q,[e,i.undoit],q,[e,i.redoit]);var l=a.syncOrAsync(s,e);return l&&l.then||(l=Promise.resolve(e)),l.then((function(){return e.emit("plotly_relayout",i.eventData),e}))}function V(e,t,n){var r=e._fullLayout;if(!t.axrange)return!1;for(var i in t)if("axrange"!==i&&t[i])return!1;for(var o in n.rangesAltered){var a=p.id2name(o),s=e.layout[a],l=r[a];if(l.autorange=s.autorange,l.range=s.range.slice(),l.cleanRange(),l._matchGroup)for(var u in l._matchGroup)if(u!==o){var c=r[p.id2name(u)];c.autorange=l.autorange,c.range=l.range.slice(),c._input.range=l.range.slice()}}return!0}function W(e,t){var n=t?function(e){var n=[],r=!0;for(var i in t){var o=p.getFromId(e,i);if(n.push(i),o._matchGroup)for(var a in o._matchGroup)t[a]||n.push(a);o.automargin&&(r=!1)}return p.draw(e,n,{skipTitle:r})}:function(e){return p.draw(e,"redraw")};e.push(x,M.doAutoRangeAndConstraints,n,M.drawData,M.finalDraw)}var Y=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,G=/^[xyz]axis[0-9]*\.autorange$/,X=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function $(e,t){var n,r,i,o=e.layout,l=e._fullLayout,u=l._guiEditing,d=F(l._preGUI,u),h=Object.keys(t),m=p.list(e),g=a.extendDeepAll({},t),v={};for(H(t),h=Object.keys(t),r=0;r<h.length;r++)if(0===h[r].indexOf("allaxes")){for(i=0;i<m.length;i++){var y=m[i]._id.substr(1),b=-1!==y.indexOf("scene")?y+".":"",x=h[r].replace("allaxes",b+m[i]._name);t[x]||(t[x]=t[h[r]])}delete t[h[r]]}var _=T.layoutFlags(),M={},E={};function A(e,n){if(Array.isArray(e))e.forEach((function(e){A(e,n)}));else if(!(e in t||k.hasParent(t,e))){var r=d(o,e);e in E||(E[e]=z(r.get())),void 0!==n&&r.set(n)}}var O,C={};function N(e){var t=p.name2id(e.split(".")[0]);return C[t]=1,t}for(var D in t){if(k.hasParent(t,D))throw new Error("cannot set "+D+" and a parent attribute simultaneously");for(var P=d(o,D),R=t[D],L=P.parts.length-1;L>0&&"string"!=typeof P.parts[L];)L--;var I=P.parts[L],j=P.parts[L-1]+"."+I,B=P.parts.slice(0,L).join("."),U=s(e.layout,B).get(),q=s(l,B).get(),V=P.get();if(void 0!==R){M[D]=R,E[D]="reverse"===I?R:z(V);var W=f.getLayoutValObject(l,P.parts);if(W&&W.impliedEdits&&null!==R)for(var $ in W.impliedEdits)A(a.relativeAttr(D,$),W.impliedEdits[$]);if(-1!==["width","height"].indexOf(D))if(R){A("autosize",null);var K="height"===D?"width":"height";A(K,l[K])}else l[D]=e._initialAutoSize[D];else if("autosize"===D)A("width",R?null:l.width),A("height",R?null:l.height);else if(j.match(Y))N(j),s(l,B+"._inputRange").set(null);else if(j.match(G)){N(j),s(l,B+"._inputRange").set(null);var J=s(l,B).get();J._inputDomain&&(J._input.domain=J._inputDomain.slice())}else j.match(X)&&s(l,B+"._inputDomain").set(null);if("type"===I){var Q=U,ee="linear"===q.type&&"log"===R,te="log"===q.type&&"linear"===R;if(ee||te){if(Q&&Q.range)if(q.autorange)ee&&(Q.range=Q.range[1]>Q.range[0]?[1,2]:[2,1]);else{var ne=Q.range[0],re=Q.range[1];ee?(ne<=0&&re<=0&&A(B+".autorange",!0),ne<=0?ne=re/1e6:re<=0&&(re=ne/1e6),A(B+".range[0]",Math.log(ne)/Math.LN10),A(B+".range[1]",Math.log(re)/Math.LN10)):(A(B+".range[0]",Math.pow(10,ne)),A(B+".range[1]",Math.pow(10,re)))}else A(B+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[P.parts[0]]&&"radialaxis"===P.parts[1]&&delete l[P.parts[0]]._subplot.viewInitial["radialaxis.range"],c.getComponentMethod("annotations","convertCoords")(e,q,R,A),c.getComponentMethod("images","convertCoords")(e,q,R,A)}else A(B+".autorange",!0),A(B+".range",null);s(l,B+"._inputRange").set(null)}else if(I.match(S)){var ie=s(l,D).get(),oe=(R||{}).type;oe&&"-"!==oe||(oe="linear"),c.getComponentMethod("annotations","convertCoords")(e,ie,oe,A),c.getComponentMethod("images","convertCoords")(e,ie,oe,A)}var ae=w.containerArrayMatch(D);if(ae){n=ae.array,r=ae.index;var se=ae.property,le=W||{editType:"calc"};""!==r&&""===se&&(w.isAddVal(R)?E[D]=null:w.isRemoveVal(R)?E[D]=(s(o,n).get()||[])[r]:a.warn("unrecognized full object value",t)),T.update(_,le),v[n]||(v[n]={});var ue=v[n][r];ue||(ue=v[n][r]={}),ue[se]=R,delete t[D]}else"reverse"===I?(U.range?U.range.reverse():(A(B+".autorange",!0),U.range=[1,0]),q.autorange?_.calc=!0:_.plot=!0):(l._has("scatter-like")&&l._has("regl")&&"dragmode"===D&&("lasso"===R||"select"===R)&&"lasso"!==V&&"select"!==V?_.plot=!0:l._has("gl2d")?_.plot=!0:W?T.update(_,W):_.calc=!0,P.set(R))}}for(n in v)w.applyContainerArrayChanges(e,d(o,n),v[n],_,d)||(_.plot=!0);var ce=l._axisConstraintGroups||[];for(O in C)for(r=0;r<ce.length;r++){var fe=ce[r];if(fe[O])for(var de in _.calc=!0,fe)C[de]||(p.getFromId(e,de)._constraintShrinkable=!0)}return(Z(e)||t.height||t.width)&&(_.plot=!0),(_.plot||_.calc)&&(_.layoutReplot=!0),{flags:_,rangesAltered:C,undoit:E,redoit:M,eventData:g}}function Z(e){var t=e._fullLayout,n=t.width,r=t.height;return e.layout.autosize&&d.plotAutoSize(e,e.layout,t),t.width!==n||t.height!==r}function K(e,t,r,i){if(e=a.getGraphDiv(e),k.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);a.isPlainObject(t)||(t={}),a.isPlainObject(r)||(r={}),Object.keys(t).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var o=k.coerceTraceIndices(e,i),s=U(e,a.extendFlat({},t),o),l=s.flags,c=$(e,a.extendFlat({},r)),f=c.flags;(l.calc||f.calc)&&(e.calcdata=void 0),l.clearAxisTypes&&k.clearAxisTypes(e,o,r);var h=[];f.layoutReplot?h.push(M.layoutReplot):l.fullReplot?h.push(n.plot):(h.push(d.previousPromises),V(e,f,c)||d.supplyDefaults(e),l.style&&h.push(M.doTraceStyle),(l.colorbars||f.colorbars)&&h.push(M.doColorBars),f.legend&&h.push(M.doLegend),f.layoutstyle&&h.push(M.layoutStyles),f.axrange&&W(h,c.rangesAltered),f.ticks&&h.push(M.doTicksRelayout),f.modebar&&h.push(M.doModeBar),f.camera&&h.push(M.doCamera),h.push(A)),h.push(d.rehover,d.redrag),u.add(e,K,[e,s.undoit,c.undoit,s.traces],K,[e,s.redoit,c.redoit,s.traces]);var p=a.syncOrAsync(h,e);return p&&p.then||(p=Promise.resolve(e)),p.then((function(){return e.emit("plotly_update",{data:s.eventData,layout:c.eventData}),e}))}function J(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var Q=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ee=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function te(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=e.match(r.pattern);if(i)return{head:i[1],attr:r.attr}}}function ne(e,t){var n=s(t,e).get();if(void 0!==n)return n;var r=e.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(n=s(t,r.join(".")+".uirevision").get()))return n;return t.uirevision}function re(e,t){for(var n=0;n<t.length;n++)if(t[n]._fullInput.uid===e)return n;return-1}function ie(e,t,n){for(var r=0;r<t.length;r++)if(t[r].uid===e)return r;return!t[n]||t[n].uid?-1:n}function oe(e,t){var n=a.isPlainObject(e),r=Array.isArray(e);return n||r?(n&&a.isPlainObject(t)||r&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function ae(e,t,n,r){var i,o,l,u=r.getValObject,c=r.flags,f=r.immutable,d=r.inArray,h=r.arrayIndex;function p(){var e=i.editType;d&&-1!==e.indexOf("arraydraw")?a.pushUnique(c.arrays[d],h):(T.update(c,i),"none"!==e&&c.nChanges++,r.transition&&i.anim&&c.nChangesAnim++,(Y.test(l)||G.test(l))&&(c.rangesAltered[n[0]]=1),X.test(l)&&s(t,"_inputDomain").set(null),"datarevision"===o&&(c.newDataRevision=1))}function m(e){return"data_array"===e.valType||e.arrayOk}for(o in e){if(c.calc&&!r.transition)return;var g=e[o],v=t[o],y=n.concat(o);if(l=y.join("."),"_"!==o.charAt(0)&&"function"!=typeof g&&g!==v){if(("tick0"===o||"dtick"===o)&&"geo"!==n[0]){var b=t.tickmode;if("auto"===b||"array"===b||!b)continue}if(("range"!==o||!t.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==t.type)&&(i=u(y))&&(!i._compareAsJSON||JSON.stringify(g)!==JSON.stringify(v))){var x,_=i.valType,w=m(i),k=Array.isArray(g),M=Array.isArray(v);if(k&&M){var S="_input_"+o,E=e[S],A=t[S];if(Array.isArray(E)&&E===A)continue}if(void 0===v)w&&k?c.calc=!0:p();else if(i._isLinkedToArray){var O=[],C=!1;d||(c.arrays[o]=O);var N=Math.min(g.length,v.length),D=Math.max(g.length,v.length);if(N!==D){if("arraydraw"!==i.editType){p();continue}C=!0}for(x=0;x<N;x++)ae(g[x],v[x],y.concat(x),a.extendFlat({inArray:o,arrayIndex:x},r));if(C)for(x=N;x<D;x++)O.push(x)}else!_&&a.isPlainObject(g)?ae(g,v,y,r):w?k&&M?(f&&(c.calc=!0),(f||r.newDataRevision)&&p()):k!==M?c.calc=!0:p():k&&M&&g.length===v.length&&String(g)===String(v)||p()}}}for(o in t)if(!(o in e||"_"===o.charAt(0)||"function"==typeof t[o])){if(m(i=u(n.concat(o)))&&Array.isArray(t[o]))return void(c.calc=!0);p()}}function se(e){var t=r.select(e),n=e._fullLayout;if(n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([{}]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paperdiv.select(".modebar-container").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),n._modebardiv=n._paperdiv.append("div"),n._hoverpaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var i={};r.selectAll("defs").each((function(){this.id&&(i[this.id.split("-")[1]]=1)})),n._uid=a.randstr(i)}n._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var o=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=o.append("g").classed("imagelayer",!0),n._shapeLowerLayer=o.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._polarlayer=n._paper.append("g").classed("polarlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0),n._funnelarealayer=n._paper.append("g").classed("funnelarealayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._treemaplayer=n._paper.append("g").classed("treemaplayer",!0),n._sunburstlayer=n._paper.append("g").classed("sunburstlayer",!0),n._indicatorlayer=n._toppaper.append("g").classed("indicatorlayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0);var s=n._toppaper.append("g").classed("layer-above",!0);n._imageUpperLayer=s.append("g").classed("imagelayer",!0),n._shapeUpperLayer=s.append("g").classed("shapelayer",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._menulayer=n._toppaper.append("g").classed("menulayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._hoverpaper.append("g").classed("hoverlayer",!0),n._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}n.animate=function(e,t,n){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var r=e._transitionData;r._frameQueue||(r._frameQueue=[]);var i=(n=d.supplyAnimationDefaults(n)).transition,o=n.frame;function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function l(e){return Array.isArray(o)?e>=o.length?o[0]:o[e]:o}function u(e,t){var n=0;return function(){if(e&&++n===t)return e()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise((function(o,c){function f(){e.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null,function t(){r._animationRaf=window.requestAnimationFrame(t),Date.now()-r._lastFrameAt>r._timeToNext&&function(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var t=r._currentFrame=r._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=t.frameOpts.duration,d.transition(e,t.frame.data,t.frame.layout,k.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then((function(){t.onComplete&&t.onComplete()})),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else e.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}()}()}var h,p,m=0;function g(e){return Array.isArray(i)?m>=i.length?e.transitionOpts=i[m]:e.transitionOpts=i[0]:e.transitionOpts=i,m++,e}var v=[],y=null==t,b=Array.isArray(t);if(y||b||!a.isPlainObject(t)){if(y||-1!==["string","number"].indexOf(typeof t))for(h=0;h<r._frames.length;h++)(p=r._frames[h])&&(y||String(p.group)===String(t))&&v.push({type:"byname",name:String(p.name),data:g({name:p.name})});else if(b)for(h=0;h<t.length;h++){var x=t[h];-1!==["number","string"].indexOf(typeof x)?(x=String(x),v.push({type:"byname",name:x,data:g({name:x})})):a.isPlainObject(x)&&v.push({type:"object",data:g(a.extendFlat({},x))})}}else v.push({type:"object",data:g(a.extendFlat({},t))});for(h=0;h<v.length;h++)if("byname"===(p=v[h]).type&&!r._frameHash[p.data.name])return a.warn('animate failure: frame not found: "'+p.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&v.reverse();var _=e._fullLayout._currentFrame;if(_&&n.fromcurrent){var w=-1;for(h=0;h<v.length;h++)if("byname"===(p=v[h]).type&&p.name===_){w=h;break}if(w>0&&w<v.length-1){var M=[];for(h=0;h<v.length;h++)p=v[h],("byname"!==v[h].type||h>w)&&M.push(p);v=M}}v.length>0?function(t){if(0!==t.length){for(var i=0;i<t.length;i++){var a;a="byname"===t[i].type?d.computeFrame(e,t[i].name):t[i].data;var h=l(i),p=s(i);p.duration=Math.min(p.duration,h.duration);var m={frame:a,name:t[i].name,frameOpts:h,transitionOpts:p};i===t.length-1&&(m.onComplete=u(o,2),m.onInterrupt=c),r._frameQueue.push(m)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||f()}}(v):(e.emit("plotly_animated"),o())}))},n.addFrames=function(e,t,n){if(e=a.getGraphDiv(e),null==t)return Promise.resolve();if(!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var r,i,o,s,l=e._transitionData._frames,c=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var f=l.length+2*t.length,h=[],p={};for(r=t.length-1;r>=0;r--)if(a.isPlainObject(t[r])){var m=t[r].name,g=(c[m]||p[m]||{}).name,v=t[r].name,y=c[g]||p[g];g&&v&&"number"==typeof v&&y&&E<5&&(E++,a.warn('addFrames: overwriting frame "'+(c[g]||p[g]).name+'" with a frame whose name of type "number" also equates to "'+g+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===E&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[m]={name:m},h.push({frame:d.supplyFrameDefaults(t[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:f+r})}h.sort((function(e,t){return e.index>t.index?-1:e.index<t.index?1:0}));var b=[],x=[],_=l.length;for(r=h.length-1;r>=0;r--){if("number"==typeof(i=h[r].frame).name&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;c[i.name="frame "+e._transitionData._counter++];);if(c[i.name]){for(o=0;o<l.length&&(l[o]||{}).name!==i.name;o++);b.push({type:"replace",index:o,value:i}),x.unshift({type:"replace",index:o,value:l[o]})}else s=Math.max(0,Math.min(h[r].index,_)),b.push({type:"insert",index:s,value:i}),x.unshift({type:"delete",index:s}),_++}var w=d.modifyFrames,k=d.modifyFrames,M=[e,x],T=[e,b];return u&&u.add(e,w,M,k,T),d.modifyFrames(e,b)},n.deleteFrames=function(e,t){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,i=e._transitionData._frames,o=[],s=[];if(!t)for(t=[],n=0;n<i.length;n++)t.push(n);for((t=t.slice()).sort(),n=t.length-1;n>=0;n--)r=t[n],o.push({type:"delete",index:r}),s.unshift({type:"insert",index:r,value:i[r]});var l=d.modifyFrames,c=d.modifyFrames,f=[e,s],h=[e,o];return u&&u.add(e,l,f,c,h),d.modifyFrames(e,o)},n.addTraces=function e(t,r,i){t=a.getGraphDiv(t);var o,s,l=[],c=n.deleteTraces,f=e,d=[t,l],h=[t,r];for(function(e,t,n){var r,i;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if("undefined"==typeof t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!=typeof(i=t[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if("undefined"==typeof n||Array.isArray(n)||(n=[n]),"undefined"!=typeof n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(t,r,i),Array.isArray(r)||(r=[r]),r=r.map((function(e){return a.extendFlat({},e)})),k.cleanData(r),o=0;o<r.length;o++)t.data.push(r[o]);for(o=0;o<r.length;o++)l.push(-r.length+o);if("undefined"==typeof i)return s=n.redraw(t),u.add(t,c,d,f,h),s;Array.isArray(i)||(i=[i]);try{R(t,l,i)}catch(e){throw t.data.splice(t.data.length-r.length,r.length),e}return u.startSequence(t),u.add(t,c,d,f,h),s=n.moveTraces(t,l,i),u.stopSequence(t),s},n.deleteTraces=function e(t,r){t=a.getGraphDiv(t);var i,o,s=[],l=n.addTraces,c=e,f=[t,s,r],d=[t,r];if("undefined"==typeof r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),P(t,r,"indices"),(r=D(r,t.data.length-1)).sort(a.sorterDes),i=0;i<r.length;i+=1)o=t.data.splice(r[i],1)[0],s.push(o);var h=n.redraw(t);return u.add(t,l,f,c,d),h},n.extendTraces=function e(t,r,i,o){var s=L(t=a.getGraphDiv(t),r,i,o,(function(e,t,n){var r,i;if(a.isTypedArray(e))if(n<0){var o=new e.constructor(0),s=I(e,t);n<0?(r=s,i=o):(r=o,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(l)),i.set(e),i.set(t.subarray(0,l),e.length)}else{var u=n-t.length,c=e.length-u;r.set(e.subarray(c)),r.set(t,u),i.set(e.subarray(0,c))}else r=e.concat(t),i=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,i]})),l=n.redraw(t),c=[t,s.update,i,s.maxPoints];return u.add(t,n.prependTraces,c,e,arguments),l},n.moveTraces=function e(t,r,i){var o,s=[],l=[],c=e,f=e,d=[t=a.getGraphDiv(t),i,r],h=[t,r,i];if(R(t,r,i),r=Array.isArray(r)?r:[r],"undefined"==typeof i)for(i=[],o=0;o<r.length;o++)i.push(-r.length+o);for(i=Array.isArray(i)?i:[i],r=D(r,t.data.length-1),i=D(i,t.data.length-1),o=0;o<t.data.length;o++)-1===r.indexOf(o)&&s.push(t.data[o]);for(o=0;o<r.length;o++)l.push({newIndex:i[o],trace:t.data[r[o]]});for(l.sort((function(e,t){return e.newIndex-t.newIndex})),o=0;o<l.length;o+=1)s.splice(l[o].newIndex,0,l[o].trace);t.data=s;var p=n.redraw(t);return u.add(t,c,d,f,h),p},n.prependTraces=function e(t,r,i,o){var s=L(t=a.getGraphDiv(t),r,i,o,(function(e,t,n){var r,i;if(a.isTypedArray(e))if(n<=0){var o=new e.constructor(0),s=I(t,e);n<0?(r=s,i=o):(r=o,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var l=t.length-n;r.set(t.subarray(0,l)),i.set(t.subarray(l)),i.set(e,l)}else{var u=n-t.length;r.set(t),r.set(e.subarray(0,u),t.length),i.set(e.subarray(u))}else r=t.concat(e),i=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,i]})),l=n.redraw(t),c=[t,s.update,i,s.maxPoints];return u.add(t,n.extendTraces,c,e,arguments),l},n.newPlot=function(e,t,r,i){return e=a.getGraphDiv(e),d.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),d.purge(e),n.plot(e,t,r,i)},n.plot=function(e,t,i,o){var s;if(e=a.getGraphDiv(e),l.init(e),a.isPlainObject(t)){var u=t;t=u.data,i=u.layout,o=u.config,s=u.frames}if(!1===l.triggerHandler(e,"plotly_beforeplot",[t,i,o]))return Promise.reject();t||i||a.isPlotDiv(e)||a.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),N(e,o),i||(i={}),r.select(e).classed("js-plotly-plot",!0),m.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var f=0===(e.data||[]).length&&Array.isArray(t);Array.isArray(t)&&(k.cleanData(t),f?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!f||(e.layout=k.cleanLayout(i)),d.supplyDefaults(e);var g=e._fullLayout,y=g._has("cartesian");if(!g._has("polar")&&t&&t[0]&&t[0].r)return a.log("Legacy polar charts are deprecated!"),function(e,t,n){var i=r.select(e).selectAll(".plot-container").data([0]);i.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=i.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),t&&(e.data=t),n&&(e.layout=n),h.manager.fillLayout(e),o.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=h.manager.framework(e),e.framework({data:e.data,layout:e.layout},o.node()),e.framework.setUndoPoint();var s=e.framework.svg(),l=1,u=e._fullLayout.title?e._fullLayout.title.text:"";""!==u&&u||(l=0);var c=function(){this.call(b.convertToTspans,e)},f=s.select(".title-group text").call(c);if(e._context.edits.titleText){var p=a._(e,"Click to enter Plot title");u&&u!==p||(l=.2,f.attr({"data-unformatted":p}).text(p).style({opacity:l}).on("mouseover.opacity",(function(){r.select(this).transition().duration(100).style("opacity",1)})).on("mouseout.opacity",(function(){r.select(this).transition().duration(1e3).style("opacity",0)}))),f.call((function t(){this.call(b.makeEditable,{gd:e}).on("edit",(function(n){e.framework({layout:{title:{text:n}}}),this.text(n).call(c),this.call(t)})).on("cancel",(function(){var e=this.attr("data-unformatted");this.text(e).call(c)}))}))}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),d.addLinks(e),Promise.resolve()}(e,t,i);g._replotting=!0,f&&se(e),e.framework!==se&&(e.framework=se,se(e)),m.initGradients(e),f&&p.saveShowSpikeInitial(e);var x=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;x&&d.doCalcdata(e);for(var _=0;_<e.calcdata.length;_++)e.calcdata[_][0].trace=e._fullData[_];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){a.isHidden(e)||d.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):a.clearResponsive(e);var w=a.extendFlat({},g._size),T=0;function S(){return d.clearAutoMarginIds(e),M.drawMarginPushers(e),p.allowAutoMargin(e),d.doAutoMargin(e),d.previousPromises(e)}function E(){e._transitioning||(M.doAutoRangeAndConstraints(e),f&&p.saveRangeInitial(e),c.getComponentMethod("rangeslider","calcAutorange")(e))}var O=[d.previousPromises,function(){if(s)return n.addFrames(e,s)},function t(){for(var n=g._basePlotModules,r=0;r<n.length;r++)n[r].drawFramework&&n[r].drawFramework(e);if(!g._glcanvas&&g._has("gl")&&(g._glcanvas=g._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(e){return e.key})),g._glcanvas.enter().append("canvas").attr("class",(function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),g._glcanvas){g._glcanvas.attr("width",g.width).attr("height",g.height);var i=g._glcanvas.data()[0].regl;if(i&&(Math.floor(g.width)!==i._gl.drawingBufferWidth||Math.floor(g.height)!==i._gl.drawingBufferHeight)){var o="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!T)return a.log(o+" Clearing graph and plotting again."),d.cleanPlot([],{},e._fullData,g),d.supplyDefaults(e),g=e._fullLayout,d.doCalcdata(e),T++,t();a.error(o)}}return"h"===g.modebar.orientation?g._modebardiv.style("height",null).style("width","100%"):g._modebardiv.style("width",null).style("height",g.height+"px"),d.previousPromises(e)},S,function(){if(d.didMarginChange(w,g._size))return a.syncOrAsync([S,M.layoutStyles],e)}];y&&O.push((function(){if(x)return a.syncOrAsync([c.getComponentMethod("shapes","calcAutorange"),c.getComponentMethod("annotations","calcAutorange"),E],e);E()})),O.push(M.layoutStyles),y&&O.push((function(){return p.draw(e,f?"":"redraw")})),O.push(M.drawData,M.finalDraw,v,d.addLinks,d.rehover,d.redrag,d.doAutoMargin,d.previousPromises);var C=a.syncOrAsync(O,e);return C&&C.then||(C=Promise.resolve()),C.then((function(){return A(e),e}))},n.purge=function(e){var t=(e=a.getGraphDiv(e))._fullLayout||{},n=e._fullData||[];return d.cleanPlot([],{},n,t),d.purge(e),l.purge(e),t._container&&t._container.remove(),delete e._context,e},n.react=function(e,t,r,i){var o,l;e=a.getGraphDiv(e),k.clearPromiseQueue(e);var u=e._fullData,h=e._fullLayout;if(a.isPlotDiv(e)&&u&&h){if(a.isPlainObject(t)){var p=t;t=p.data,r=p.layout,i=p.config,o=p.frames}var m=!1;if(i){var g=a.extendDeep({},e._context);e._context=void 0,N(e,i),m=function e(t,n){var r;for(r in t)if("_"!==r.charAt(0)){var i=t[r],o=n[r];if(i!==o)if(a.isPlainObject(i)&&a.isPlainObject(o)){if(e(i,o))return!0}else{if(!Array.isArray(i)||!Array.isArray(o))return!0;if(i.length!==o.length)return!0;for(var s=0;s<i.length;s++)if(i[s]!==o[s]){if(!a.isPlainObject(i[s])||!a.isPlainObject(o[s]))return!0;if(e(i[s],o[s]))return!0}}}}(g,e._context)}e.data=t||[],k.cleanData(e.data),e.layout=r||{},k.cleanLayout(e.layout),function(e,t,n,r){var i,o,l,u,c,f,d,h,p=r._preGUI,m=[],g={};for(i in p){if(c=te(i,Q)){if(o=c.attr||c.head+".uirevision",(u=(l=s(r,o).get())&&ne(o,t))&&u===l&&(null===(f=p[i])&&(f=void 0),oe(h=(d=s(t,i)).get(),f))){void 0===h&&"autorange"===i.substr(i.length-9)&&m.push(i.substr(0,i.length-10)),d.set(z(s(r,i).get()));continue}}else a.warn("unrecognized GUI edit: "+i);delete p[i],"range["===i.substr(i.length-8,6)&&(g[i.substr(0,i.length-9)]=1)}for(var v=0;v<m.length;v++){var y=m[v];if(g[y]){var b=s(t,y).get();b&&delete b.autorange}}var x=r._tracePreGUI;for(var _ in x){var w,k=x[_],M=null;for(i in k){if(!M){var T=re(_,n);if(T<0){delete x[_];break}var S=ie(_,e,(w=n[T]._fullInput).index);if(S<0){delete x[_];break}M=e[S]}if(c=te(i,ee)){if(c.attr?u=(l=s(r,c.attr).get())&&ne(c.attr,t):(l=w.uirevision,void 0===(u=M.uirevision)&&(u=t.uirevision)),u&&u===l&&(null===(f=k[i])&&(f=void 0),oe(h=(d=s(M,i)).get(),f))){d.set(z(s(w,i).get()));continue}}else a.warn("unrecognized GUI edit: "+i+" in trace uid "+_);delete k[i]}}}(e.data,e.layout,u,h),d.supplyDefaults(e,{skipUpdateCalc:!0});var v=e._fullData,y=e._fullLayout,b=void 0===y.datarevision,x=y.transition,_=function(e,t,n,r,i){var o=T.layoutFlags();return o.arrays={},o.rangesAltered={},o.nChanges=0,o.nChangesAnim=0,ae(t,n,[],{getValObject:function(e){return f.getLayoutValObject(n,e)},flags:o,immutable:r,transition:i,gd:e}),(o.plot||o.calc)&&(o.layoutReplot=!0),i&&o.nChanges&&o.nChangesAnim&&(o.anim=o.nChanges===o.nChangesAnim?"all":"some"),o}(e,h,y,b,x),w=_.newDataRevision,S=function(e,t,n,r,i,o){var a=t.length===n.length;if(!i&&!a)return{fullReplot:!0,calc:!0};var s,l,u=T.traceFlags();u.arrays={},u.nChanges=0,u.nChangesAnim=0;var c={getValObject:function(e){var t=f.getTraceValObject(l,e);return!l._module.animatable&&t.anim&&(t.anim=!1),t},flags:u,immutable:r,transition:i,newDataRevision:o,gd:e},h={};for(s=0;s<t.length;s++)if(n[s]){if(l=n[s]._fullInput,d.hasMakesDataTransform(l)&&(l=n[s]),h[l.uid])continue;h[l.uid]=1,ae(t[s]._fullInput,l,[],c)}return(u.calc||u.plot)&&(u.fullReplot=!0),i&&u.nChanges&&u.nChangesAnim&&(u.anim=u.nChanges===u.nChangesAnim&&a?"all":"some"),u}(e,u,v,b,x,w);Z(e)&&(_.layoutReplot=!0),S.calc||_.calc?e.calcdata=void 0:d.supplyDefaultsUpdateCalc(e.calcdata,v);var E=[];if(o&&(e._transitionData={},d.createTransitionData(e),E.push((function(){return n.addFrames(e,o)}))),y.transition&&!m&&(S.anim||_.anim))d.doCalcdata(e),M.doAutoRangeAndConstraints(e),E.push((function(){return d.transitionFromReact(e,S,_,h)}));else if(S.fullReplot||_.layoutReplot||m)e._fullLayout._skipDefaults=!0,E.push(n.plot);else{for(var O in _.arrays){var C=_.arrays[O];if(C.length){var D=c.getComponentMethod(O,"drawOne");if(D!==a.noop)for(var P=0;P<C.length;P++)D(e,C[P]);else{var R=c.getComponentMethod(O,"draw");if(R===a.noop)throw new Error("cannot draw components: "+O);R(e)}}}E.push(d.previousPromises),S.style&&E.push(M.doTraceStyle),(S.colorbars||_.colorbars)&&E.push(M.doColorBars),_.legend&&E.push(M.doLegend),_.layoutstyle&&E.push(M.layoutStyles),_.axrange&&W(E),_.ticks&&E.push(M.doTicksRelayout),_.modebar&&E.push(M.doModeBar),_.camera&&E.push(M.doCamera),E.push(A)}E.push(d.rehover,d.redrag),(l=a.syncOrAsync(E,e))&&l.then||(l=Promise.resolve(e))}else l=n.newPlot(e,t,r,i);return l.then((function(){return e.emit("plotly_react",{data:t,layout:r}),e}))},n.redraw=function(e){if(e=a.getGraphDiv(e),!a.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return k.cleanData(e.data),k.cleanLayout(e.layout),e.calcdata=void 0,n.plot(e).then((function(){return e.emit("plotly_redraw"),e}))},n.relayout=q,n.restyle=j,n.setPlotConfig=function(e){return a.extendFlat(_,e)},n.update=K,n._guiRelayout=J(q),n._guiRestyle=J(j),n._guiUpdate=J(K),n._storeDirectGUIEdit=function(e,t,n){for(var r in n)B(r,s(e,r).get(),n[r],t)}},{"../components/color":377,"../components/drawing":398,"../constants/xmlns_namespaces":477,"../lib":497,"../lib/events":490,"../lib/queue":511,"../lib/svg_text_utils":520,"../plots/cartesian/axes":543,"../plots/cartesian/constants":549,"../plots/cartesian/graph_interact":552,"../plots/cartesian/select":560,"../plots/plots":586,"../plots/polar/legacy":589,"../registry":595,"./edit_types":526,"./helpers":527,"./manage_arrays":529,"./plot_config":531,"./plot_schema":532,"./subroutines":534,d3:82,"fast-isnumeric":91,"has-hover":252}],531:[function(e,t,n){"use strict";var r={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:"https://plot.ly"},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"boolean",dflt:1},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},i={};!function e(t,n){for(var r in t){var i=t[r];i.valType?n[r]=i.dflt:(n[r]||(n[r]={}),e(i,n[r]))}}(r,i),t.exports={configAttributes:r,dfltConfig:i}},{}],532:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),o=e("../plots/attributes"),a=e("../plots/layout_attributes"),s=e("../plots/frame_attributes"),l=e("../plots/animation_attributes"),u=e("./plot_config").configAttributes,c=e("../plots/polar/legacy/area_attributes"),f=e("../plots/polar/legacy/axis_attributes"),d=e("./edit_types"),h=i.extendFlat,p=i.extendDeepAll,m=i.isPlainObject,g=i.isArrayOrTypedArray,v=i.nestedProperty,y=i.valObjectMeta,b="_isSubplotObj",x="_isLinkedToArray",_=[b,x,"_arrayAttrRegexps","_deprecated"];function w(e,t,n){if(!e)return!1;if(e._isLinkedToArray)if(k(t[n]))n++;else if(n<t.length)return!1;for(;n<t.length;n++){var r=e[t[n]];if(!m(r))break;if(e=r,n===t.length-1)break;if(e._isLinkedToArray){if(!k(t[++n]))return!1}else if("info_array"===e.valType){var i=t[++n];if(!k(i))return!1;var o=e.items;if(Array.isArray(o)){if(i>=o.length)return!1;if(2===e.dimensions){if(n++,t.length===n)return e;var a=t[n];if(!k(a))return!1;e=o[i][a]}else e=o[i]}else e=o}}return e}function k(e){return e===Math.round(e)&&e>=0}function M(e){return function(e){n.crawl(e,(function(e,t,r){n.isValObject(e)?"data_array"===e.valType?(e.role="data",r[t+"src"]={valType:"string",editType:"none"}):!0===e.arrayOk&&(r[t+"src"]={valType:"string",editType:"none"}):m(e)&&(e.role="object")}))}(e),function(e){n.crawl(e,(function(e,t,n){if(e){var r=e[x];r&&(delete e[x],n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}}))}(e),function(e){!function e(t){for(var n in t)if(m(t[n]))e(t[n]);else if(Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)e(t[n][r]);else t[n]instanceof RegExp&&(t[n]=t[n].toString())}(e)}(e),e}function T(e,t,n){var r=v(e,n),i=p({},t.layoutAttributes);i[b]=!0,r.set(i)}function S(e,t,n){var r=v(e,n);r.set(p(r.get()||{},t))}n.IS_SUBPLOT_OBJ=b,n.IS_LINKED_TO_ARRAY=x,n.DEPRECATED="_deprecated",n.UNDERSCORE_ATTRS=_,n.get=function(){var e={};r.allTypes.concat("area").forEach((function(t){e[t]=function(e){var t,i;"area"===e?(t={attributes:c},i={}):i=(t=r.modules[e]._module).basePlotModule;var a={type:null},s=p({},o),l=p({},t.attributes);n.crawl(l,(function(e,t,n,r,i){v(s,i).set(void 0),void 0===e&&v(l,i).set(void 0)})),p(a,s),r.traceIs(e,"noOpacity")&&delete a.opacity,r.traceIs(e,"showLegend")||(delete a.showlegend,delete a.legendgroup),r.traceIs(e,"noHover")&&(delete a.hoverinfo,delete a.hoverlabel),t.selectPoints||delete a.selectedpoints,p(a,l),i.attributes&&p(a,i.attributes),a.type=e;var u={meta:t.meta||{},categories:t.categories||{},animatable:Boolean(t.animatable),type:e,attributes:M(a)};if(t.layoutAttributes){var f={};p(f,t.layoutAttributes),u.layoutAttributes=M(f)}return t.animatable||n.crawl(u,(function(e){n.isValObject(e)&&"anim"in e&&delete e.anim})),u}(t)}));var t,i={};return Object.keys(r.transformsRegistry).forEach((function(e){i[e]=function(e){var t=r.transformsRegistry[e],n=p({},t.attributes);return Object.keys(r.componentsRegistry).forEach((function(t){var i=r.componentsRegistry[t];i.schema&&i.schema.transforms&&i.schema.transforms[e]&&Object.keys(i.schema.transforms[e]).forEach((function(t){S(n,i.schema.transforms[e][t],t)}))})),{attributes:M(n)}}(e)})),{defs:{valObjects:y,metaKeys:_.concat(["description","role","editType","impliedEdits"]),editType:{traces:d.traces,layout:d.layout},impliedEdits:{}},traces:e,layout:function(){var e,t,n={};for(e in p(n,a),r.subplotsRegistry)if((t=r.subplotsRegistry[e]).layoutAttributes)if(Array.isArray(t.attr))for(var i=0;i<t.attr.length;i++)T(n,t,t.attr[i]);else T(n,t,"subplot"===t.attr?t.name:t.attr);for(e in n=function(e){return h(e,{radialaxis:f.radialaxis,angularaxis:f.angularaxis}),h(e,f.layout),e}(n),r.componentsRegistry){var o=(t=r.componentsRegistry[e]).schema;if(o&&(o.subplots||o.layout)){var s=o.subplots;if(s&&s.xaxis&&!s.yaxis)for(var l in s.xaxis)delete n.yaxis[l]}else"colorscale"===t.name?p(n,t.layoutAttributes):t.layoutAttributes&&S(n,t.layoutAttributes,t.name)}return{layoutAttributes:M(n)}}(),transforms:i,frames:(t={frames:p({},s)},M(t),t.frames),animation:M(l),config:M(u)}},n.crawl=function(e,t,r,i){var o=r||0;i=i||"",Object.keys(e).forEach((function(r){var a=e[r];if(-1===_.indexOf(r)){var s=(i?i+".":"")+r;t(a,r,e,o,s),n.isValObject(a)||m(a)&&"impliedEdits"!==r&&n.crawl(a,t,o+1,s)}}))},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){var t,r,i=[],a=[],s=[];function l(e,n,o,l){a=a.slice(0,l).concat([n]),s=s.slice(0,l).concat([e&&e._isLinkedToArray]),e&&("data_array"===e.valType||!0===e.arrayOk)&&("colorbar"!==a[l-1]||"ticktext"!==n&&"tickvals"!==n)&&function e(t,n,o){var l=t[a[n]],u=o+a[n];if(n===a.length-1)g(l)&&i.push(r+u);else if(s[n]){if(Array.isArray(l))for(var c=0;c<l.length;c++)m(l[c])&&e(l[c],n+1,u+"["+c+"].")}else m(l)&&e(l,n+1,u+".")}(t,0,"")}t=e,r="",n.crawl(o,l),e._module&&e._module.attributes&&n.crawl(e._module.attributes,l);var u=e.transforms;if(u)for(var c=0;c<u.length;c++){var f=u[c],d=f._module;d&&(r="transforms["+c+"].",t=f,n.crawl(d.attributes,l))}return i},n.getTraceValObject=function(e,t){var n,i,a=t[0],s=1;if("transforms"===a){if(1===t.length)return o.transforms;var l=e.transforms;if(!Array.isArray(l)||!l.length)return!1;var u=t[1];if(!k(u)||u>=l.length)return!1;i=(n=(r.transformsRegistry[l[u].type]||{}).attributes)&&n[t[2]],s=3}else if("area"===e.type)i=c[a];else{var f=e._module;if(f||(f=(r.modules[e.type||o.type.dflt]||{})._module),!f)return!1;if(!(i=(n=f.attributes)&&n[a])){var d=f.basePlotModule;d&&d.attributes&&(i=d.attributes[a])}i||(i=o[a])}return w(i,t,s)},n.getLayoutValObject=function(e,t){return w(function(e,t){var n,i,o,s,l=e._basePlotModules;if(l){var u;for(n=0;n<l.length;n++){if((o=l[n]).attrRegex&&o.attrRegex.test(t)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!u&&o.layoutAttributes&&(u=o.layoutAttributes)}var c=o.baseLayoutAttrOverrides;if(c&&t in c)return c[t]}if(u)return u}var d=e._modules;if(d)for(n=0;n<d.length;n++)if((s=d[n].layoutAttributes)&&t in s)return s[t];for(i in r.componentsRegistry){if("colorscale"===(o=r.componentsRegistry[i]).name&&0===t.indexOf("coloraxis"))return o.layoutAttributes[t];if(!o.schema&&t===o.name)return o.layoutAttributes}return t in a?a[t]:"radialaxis"===t||"angularaxis"===t?f[t]:f.layout[t]||!1}(e,t[0]),t,1)}},{"../lib":497,"../plots/animation_attributes":538,"../plots/attributes":540,"../plots/frame_attributes":570,"../plots/layout_attributes":584,"../plots/polar/legacy/area_attributes":587,"../plots/polar/legacy/axis_attributes":588,"../registry":595,"./edit_types":526,"./plot_config":531}],533:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/attributes"),o="templateitemname",a={name:{valType:"string",editType:"none"}};function s(e){return e&&"string"==typeof e}function l(e){var t=e.length-1;return"s"!==e.charAt(t)&&r.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}a[o]={valType:"string",editType:"calc"},n.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=a.name,t[o]=a[o],t},n.traceTemplater=function(e){var t,n,o={};for(t in e)n=e[t],Array.isArray(n)&&n.length&&(o[t]=0);return{newTrace:function(a){var s={type:t=r.coerce(a,{},i,"type"),_template:null};if(t in o){n=e[t];var l=o[t]%n.length;o[t]++,s._template=n[l]}return s}}},n.newContainer=function(e,t,n){var i=e._template,o=i&&(i[t]||n&&i[n]);return r.isPlainObject(o)||(o=null),e[t]={_template:o}},n.arrayTemplater=function(e,t,n){var r=e._template,i=r&&r[l(t)],a=r&&r[t];Array.isArray(a)&&a.length||(a=[]);var u={};return{newItem:function(e){var t={name:e.name,_input:e},r=t[o]=e[o];if(!s(r))return t._template=i,t;for(var l=0;l<a.length;l++){var c=a[l];if(c.name===r)return u[r]=1,t._template=c,t}return t[n]=e[n]||!1,t._template=!1,t},defaultItems:function(){for(var e=[],t=0;t<a.length;t++){var n=a[t],r=n.name;if(s(r)&&!u[r]){var i={_template:n,name:r,_input:{_templateitemname:r}};i[o]=n[o],e.push(i),u[r]=1}}return e}}},n.arrayDefaultKey=l,n.arrayEditor=function(e,t,n){var i=(r.nestedProperty(e,t).get()||[]).length,a=n._index,s=a>=i&&(n._input||{})._templateitemname;s&&(a=i);var l,u=t+"["+a+"]";function c(){l={},s&&(l[u]={},l[u][o]=s)}function f(e,t){s?r.nestedProperty(l[u],e).set(t):l[u+"."+e]=t}function d(){var e=l;return c(),e}return c(),{modifyBase:function(e,t){l[e]=t},modifyItem:f,getUpdateObj:d,applyUpdate:function(t,n){t&&f(t,n);var i=d();for(var o in i)r.nestedProperty(e,o).set(i[o])}}}},{"../lib":497,"../plots/attributes":540}],534:[function(e,t,n){"use strict";var r=e("d3"),i=e("../registry"),o=e("../plots/plots"),a=e("../lib"),s=e("../lib/clear_gl_canvases"),l=e("../components/color"),u=e("../components/drawing"),c=e("../components/titles"),f=e("../components/modebar"),d=e("../plots/cartesian/axes"),h=e("../constants/alignment"),p=e("../plots/cartesian/constraints"),m=p.enforce,g=p.clean,v=e("../plots/cartesian/autorange").doAutoRange,y="start";function b(e,t,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];if(!(i[0]>=e[1]||i[1]<=e[0])&&o[0]<t[1]&&o[1]>t[0])return!0}return!1}function x(e){var t,i,s,c,p,m,g=e._fullLayout,v=g._size,y=v.p,x=d.list(e,"",!0);if(g._paperdiv.style({width:e._context.responsive&&g.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":g.width+"px",height:e._context.responsive&&g.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":g.height+"px"}).selectAll(".main-svg").call(u.setSize,g.width,g.height),e._context.setBackground(e,g.paper_bgcolor),n.drawMainTitle(e),f.manage(e),!g._has("cartesian"))return o.previousPromises(e);function w(e,t,n){var r=e._lw/2;return"x"===e._id.charAt(0)?t?"top"===n?t._offset-y-r:t._offset+t._length+y+r:v.t+v.h*(1-(e.position||0))+r%1:t?"right"===n?t._offset+t._length+y+r:t._offset-y-r:v.l+v.w*(e.position||0)+r%1}for(t=0;t<x.length;t++){var M=(c=x[t])._anchorAxis;c._linepositions={},c._lw=u.crispRound(e,c.linewidth,1),c._mainLinePosition=w(c,M,c.side),c._mainMirrorPosition=c.mirror&&M?w(c,M,h.OPPOSITE_SIDE[c.side]):null}var T=[],S=[],E=[],A=1===l.opacity(g.paper_bgcolor)&&1===l.opacity(g.plot_bgcolor)&&g.paper_bgcolor===g.plot_bgcolor;for(i in g._plots)if((s=g._plots[i]).mainplot)s.bg&&s.bg.remove(),s.bg=void 0;else{var O=s.xaxis.domain,C=s.yaxis.domain,N=s.plotgroup;if(b(O,C,E)){var D=N.node(),P=s.bg=a.ensureSingle(N,"rect","bg");D.insertBefore(P.node(),D.childNodes[0]),S.push(i)}else N.select("rect.bg").remove(),E.push([O,C]),A||(T.push(i),S.push(i))}var R,L,I,j,z,F,B,U,H,q,V,W,Y,G=g._bgLayer.selectAll(".bg").data(T);for(G.enter().append("rect").classed("bg",!0),G.exit().remove(),G.each((function(e){g._plots[e].bg=r.select(this)})),t=0;t<S.length;t++)s=g._plots[S[t]],p=s.xaxis,m=s.yaxis,s.bg&&s.bg.call(u.setRect,p._offset-y,m._offset-y,p._length+2*y,m._length+2*y).call(l.fill,g.plot_bgcolor).style("stroke-width",0);if(!g._hasOnlyLargeSploms)for(i in g._plots){s=g._plots[i],p=s.xaxis,m=s.yaxis;var X,$,Z=s.clipId="clip"+g._uid+i+"plot",K=a.ensureSingleById(g._clips,"clipPath",Z,(function(e){e.classed("plotclip",!0).append("rect")}));s.clipRect=K.select("rect").attr({width:p._length,height:m._length}),u.setTranslate(s.plot,p._offset,m._offset),s._hasClipOnAxisFalse?(X=null,$=Z):(X=Z,$=null),u.setClipUrl(s.plot,X,e),s.layerClipId=$}function J(e){return"M"+R+","+e+"H"+L}function Q(e){return"M"+p._offset+","+e+"h"+p._length}function ee(e){return"M"+e+","+U+"V"+B}function te(e){return"M"+e+","+m._offset+"v"+m._length}function ne(e,t,n){if(!e.showline||i!==e._mainSubplot)return"";if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(i in g._plots){s=g._plots[i],p=s.xaxis,m=s.yaxis;var re="M0,0";_(p,i)&&(z=k(p,"left",m,x),R=p._offset-(z?y+z:0),F=k(p,"right",m,x),L=p._offset+p._length+(F?y+F:0),I=w(p,m,"bottom"),j=w(p,m,"top"),!(Y=!p._anchorAxis||i!==p._mainSubplot)||"allticks"!==p.mirror&&"all"!==p.mirror||(p._linepositions[i]=[I,j]),re=ne(p,J,Q),Y&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(re+=J(I)+J(j)),s.xlines.style("stroke-width",p._lw+"px").call(l.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),s.xlines.attr("d",re);var ie="M0,0";_(m,i)&&(V=k(m,"bottom",p,x),B=m._offset+m._length+(V?y:0),W=k(m,"top",p,x),U=m._offset-(W?y:0),H=w(m,p,"left"),q=w(m,p,"right"),!(Y=!m._anchorAxis||i!==m._mainSubplot)||"allticks"!==m.mirror&&"all"!==m.mirror||(m._linepositions[i]=[H,q]),ie=ne(m,ee,te),Y&&m.showline&&("all"===m.mirror||"allticks"===m.mirror)&&(ie+=ee(H)+ee(q)),s.ylines.style("stroke-width",m._lw+"px").call(l.stroke,m.showline?m.linecolor:"rgba(0,0,0,0)")),s.ylines.attr("d",ie)}return d.makeClipPaths(e),o.previousPromises(e)}function _(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function w(e,t,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var i=h.FROM_BL[t];return n.side===t?r.domain[i]===e.domain[i]:n.mirror&&r.domain[1-i]===e.domain[1-i]}function k(e,t,n,r){if(w(e,t,n))return n._lw;for(var i=0;i<r.length;i++){var o=r[i];if(o._mainAxis===n._mainAxis&&w(e,t,o))return o._lw}return 0}n.layoutStyles=function(e){return a.syncOrAsync([o.doAutoMargin,x],e)},n.drawMainTitle=function(e){var t=e._fullLayout,n=function(e){var t=e.title,n="middle";return a.isRightAnchor(t)?n="end":a.isLeftAnchor(t)&&(n=y),n}(t),r=function(e){var t=e.title,n="0em";return a.isTopAnchor(t)?n=h.CAP_SHIFT+"em":a.isMiddleAnchor(t)&&(n=h.MID_SHIFT+"em"),n}(t);c.draw(e,"gtitle",{propContainer:t,propName:"title.text",placeholder:t._dfltTitle.plot,attributes:{x:function(e,t){var n=e.title,r=e._size,i=0;switch(t===y?i=n.pad.l:"end"===t&&(i=-n.pad.r),n.xref){case"paper":return r.l+r.w*n.x+i;case"container":default:return e.width*n.x+i}}(t,n),y:function(e,t){var n=e.title,r=e._size,i=0;if("0em"!==t&&t?t===h.CAP_SHIFT+"em"&&(i=n.pad.t):i=-n.pad.b,"auto"===n.y)return r.t/2;switch(n.yref){case"paper":return r.t+r.h-r.h*n.y+i;case"container":default:return e.height-e.height*n.y+i}}(t,r),"text-anchor":n,dy:r}})},n.doTraceStyle=function(e){var t,r=e.calcdata,a=[];for(t=0;t<r.length;t++){var l=r[t],u=l[0]||{},c=u.trace||{},f=c._module||{},d=f.arraysToCalcdata;d&&d(l,c);var h=f.editStyle;h&&a.push({fn:h,cd0:u})}if(a.length){for(t=0;t<a.length;t++){var p=a[t];p.fn(e,p.cd0)}s(e),n.redrawReglTraces(e)}return o.style(e),i.getComponentMethod("legend","draw")(e),o.previousPromises(e)},n.doColorBars=function(e){return i.getComponentMethod("colorbar","draw")(e),o.previousPromises(e)},n.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,i.call("plot",e,"",t)},n.doLegend=function(e){return i.getComponentMethod("legend","draw")(e),o.previousPromises(e)},n.doTicksRelayout=function(e){return d.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(e),s(e),n.redrawReglTraces(e)),n.drawMainTitle(e),o.previousPromises(e)},n.doModeBar=function(e){var t=e._fullLayout;f.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return o.previousPromises(e)},n.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var i=t[n[r]],o=i._scene,a=i.camera;o.setCamera(a)}},n.drawData=function(e){var t=e._fullLayout;s(e);for(var r=t._basePlotModules,a=0;a<r.length;a++)r[a].plot(e);return n.redrawReglTraces(e),o.style(e),i.getComponentMethod("shapes","draw")(e),i.getComponentMethod("annotations","draw")(e),i.getComponentMethod("images","draw")(e),t._replotting=!1,o.previousPromises(e)},n.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has("regl")){var n,r,i=e._fullData,o=[],s=[];for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),n=0;n<i.length;n++){var l=i[n];!0===l.visible&&0!==l._length&&("splom"===l.type?t._splomScenes[l.uid].draw():"scattergl"===l.type?a.pushUnique(o,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&a.pushUnique(s,l.subplot))}for(n=0;n<o.length;n++)(r=t._plots[o[n]])._scene&&r._scene.draw();for(n=0;n<s.length;n++)(r=t[s[n]]._subplot)._scene&&r._scene.draw()}},n.doAutoRangeAndConstraints=function(e){for(var t,n,r=e._fullLayout,i=d.list(e,"",!0),o=r._axisMatchGroups||[],s=0;s<i.length;s++)t=i[s],g(e,t),v(e,t);m(e);e:for(var l=0;l<o.length;l++){var u,c=o[l],f=null;for(u in c){if(!1===(t=d.getFromId(e,u)).autorange)continue e;n=a.simpleMap(t.range,t.r2l),f?f[0]<f[1]?(f[0]=Math.min(f[0],n[0]),f[1]=Math.max(f[1],n[1])):(f[0]=Math.max(f[0],n[0]),f[1]=Math.min(f[1],n[1])):f=n}for(u in c)(t=d.getFromId(e,u)).range=a.simpleMap(f,t.l2r),t._input.range=t.range.slice(),t.setScale()}},n.finalDraw=function(e){i.getComponentMethod("rangeslider","draw")(e),i.getComponentMethod("rangeselector","draw")(e)},n.drawMarginPushers=function(e){i.getComponentMethod("legend","draw")(e),i.getComponentMethod("rangeselector","draw")(e),i.getComponentMethod("sliders","draw")(e),i.getComponentMethod("updatemenus","draw")(e),i.getComponentMethod("colorbar","draw")(e)}},{"../components/color":377,"../components/drawing":398,"../components/modebar":435,"../components/titles":464,"../constants/alignment":471,"../lib":497,"../lib/clear_gl_canvases":485,"../plots/cartesian/autorange":542,"../plots/cartesian/axes":543,"../plots/cartesian/constraints":550,"../plots/plots":586,"../registry":595,d3:82}],535:[function(e,t,n){"use strict";var r=e("../lib"),i=r.isPlainObject,o=e("./plot_schema"),a=e("../plots/plots"),s=e("../plots/attributes"),l=e("./plot_template"),u=e("./plot_config").dfltConfig;function c(e,t){e=r.extendDeep({},e);var n,o,a=Object.keys(e).sort();function s(t,n,r){if(i(n)&&i(t))c(t,n);else if(Array.isArray(n)&&Array.isArray(t)){var a=l.arrayTemplater({_template:e},r);for(o=0;o<n.length;o++){var s=n[o],u=a.newItem(s)._template;u&&c(u,s)}var f=a.defaultItems();for(o=0;o<f.length;o++)n.push(f[o]._template);for(o=0;o<n.length;o++)delete n[o].templateitemname}}for(n=0;n<a.length;n++){var u=a[n],d=e[u];if(u in t?s(d,t[u],u):t[u]=d,f(u)===u)for(var h in t){var p=f(h);h===p||p!==u||h in e||s(d,t[h],u)}}}function f(e){return e.replace(/[0-9]+$/,"")}function d(e,t,n,o,a){var s=a&&n(a);for(var u in e){var c=e[u],p=h(e,u,o),m=h(e,u,a),g=n(m);if(!g){var v=f(u);v!==u&&(g=n(m=h(e,v,a)))}if((!s||s!==g)&&!(!g||g._noTemplating||"data_array"===g.valType||g.arrayOk&&Array.isArray(c)))if(!g.valType&&i(c))d(c,t,n,p,m);else if(g._isLinkedToArray&&Array.isArray(c))for(var y=!1,b=0,x={},_=0;_<c.length;_++){var w=c[_];if(i(w)){var k=w.name;if(k)x[k]||(d(w,t,n,h(c,b,p),h(c,b,m)),b++,x[k]=1);else if(!y){var M=h(e,l.arrayDefaultKey(u),o),T=h(c,b,p);d(w,t,n,T,h(c,b,m));var S=r.nestedProperty(t,T);r.nestedProperty(t,M).set(S.get()),S.set(null),y=!0}}}else r.nestedProperty(t,p).set(c)}}function h(e,t,n){return n?Array.isArray(e)?n+"["+t+"]":n+"."+t:t}function p(e){for(var t=0;t<e.length;t++)if(i(e[t]))return!0}function m(e){var t;switch(e.code){case"data":t="The template has no key data.";break;case"layout":t="The template has no key layout.";break;case"missing":t=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":t=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":t="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=t,e}n.makeTemplate=function(e){e=r.isPlainObject(e)?e:r.getGraphDiv(e),e=r.extendDeep({_context:u},{data:e.data,layout:e.layout}),a.supplyDefaults(e);var t=e.data||[],n=e.layout||{};n._basePlotModules=e._fullLayout._basePlotModules,n._modules=e._fullLayout._modules;var l={data:{},layout:{}};t.forEach((function(e){var t={};d(e,t,function(e,t){return o.getTraceValObject(e,r.nestedProperty({},t).parts)}.bind(null,e));var n=r.coerce(e,{},s,"type"),i=l.data[n];i||(i=l.data[n]=[]),i.push(t)})),d(n,l.layout,function(e,t){return o.getLayoutValObject(e,r.nestedProperty({},t).parts)}.bind(null,n)),delete l.layout.template;var f=n.template;if(i(f)){var h,p,m,g,v,y,b=f.layout;i(b)&&c(b,l.layout);var x=f.data;if(i(x)){for(p in l.data)if(m=x[p],Array.isArray(m)){for(y=(v=l.data[p]).length,g=m.length,h=0;h<y;h++)c(m[h%g],v[h]);for(h=y;h<g;h++)v.push(r.extendDeep({},m[h]))}for(p in x)p in l.data||(l.data[p]=r.extendDeep([],x[p]))}}return l},n.validateTemplate=function(e,t){var n=r.extendDeep({},{_context:u,data:e.data,layout:e.layout}),o=n.layout||{};i(t)||(t=o.template||{});var s=t.layout,l=t.data,c=[];n.layout=o,n.layout.template=t,a.supplyDefaults(n);var d=n._fullLayout,g=n._fullData,v={};if(i(s)?(function e(t,n){for(var r in t)if("_"!==r.charAt(0)&&i(t[r])){var o,a=f(r),s=[];for(o=0;o<n.length;o++)s.push(h(t,r,n[o])),a!==r&&s.push(h(t,a,n[o]));for(o=0;o<s.length;o++)v[s[o]]=1;e(t[r],s)}}(d,["layout"]),function e(t,n){for(var r in t)if(-1===r.indexOf("defaults")&&i(t[r])){var o=h(t,r,n);v[o]?e(t[r],o):c.push({code:"unused",path:o})}}(s,"layout")):c.push({code:"layout"}),i(l)){for(var y,b={},x=0;x<g.length;x++){var _=g[x];b[y=_.type]=(b[y]||0)+1,_._fullInput._template||c.push({code:"missing",index:_._fullInput.index,traceType:y})}for(y in l){var w=l[y].length,k=b[y]||0;w>k?c.push({code:"unused",traceType:y,templateCount:w,dataCount:k}):k>w&&c.push({code:"reused",traceType:y,templateCount:w,dataCount:k})}}else c.push({code:"data"});if(function e(t,n){for(var r in t)if("_"!==r.charAt(0)){var o=t[r],a=h(t,r,n);i(o)?(Array.isArray(t)&&!1===o._template&&o.templateitemname&&c.push({code:"missing",path:a,templateitemname:o.templateitemname}),e(o,a)):Array.isArray(o)&&p(o)&&e(o,a)}}({data:g,layout:d},""),c.length)return c.map(m)}},{"../lib":497,"../plots/attributes":540,"../plots/plots":586,"./plot_config":531,"./plot_schema":532,"./plot_template":533}],536:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("./plot_api"),o=e("../lib"),a=e("../snapshot/helpers"),s=e("../snapshot/tosvg"),l=e("../snapshot/svgtoimg"),u={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};t.exports=function(e,t){var n,c,f,d;function h(e){return!(e in t)||o.validate(t[e],u[e])}if(t=t||{},o.isPlainObject(e)?(n=e.data||[],c=e.layout||{},f=e.config||{},d={}):(e=o.getGraphDiv(e),n=o.extendDeep([],e.data),c=o.extendDeep({},e.layout),f=e._context,d=e._fullLayout||{}),!h("width")&&null!==t.width||!h("height")&&null!==t.height)throw new Error("Height and width should be pixel values.");if(!h("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var p={};function m(e,n){return o.coerce(t,p,u,e,n)}var g=m("format"),v=m("width"),y=m("height"),b=m("scale"),x=m("setBackground"),_=m("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var k=o.extendFlat({},c);v?k.width=v:null===t.width&&r(d.width)&&(k.width=d.width),y?k.height=y:null===t.height&&r(d.height)&&(k.height=d.height);var M=o.extendFlat({},f,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),T=a.getRedrawFunc(w);function S(){return new Promise((function(e){setTimeout(e,a.getDelay(w._fullLayout))}))}function E(){return new Promise((function(e,t){var n=s(w,g,b),r=w._fullLayout.width,u=w._fullLayout.height;if(i.purge(w),document.body.removeChild(w),"svg"===g)return e(_?n:a.encodeSVG(n));var c=document.createElement("canvas");c.id=o.randstr(),l({format:g,width:r,height:u,scale:b,canvas:c,svg:n,promise:!0}).then(e).catch(t)}))}return new Promise((function(e,t){i.plot(w,n,k,M).then(T).then(S).then(E).then((function(t){e(function(e){return _?e.replace(a.IMAGE_URL_PREFIX,""):e}(t))})).catch((function(e){t(e)}))}))}},{"../lib":497,"../snapshot/helpers":599,"../snapshot/svgtoimg":601,"../snapshot/tosvg":603,"./plot_api":530,"fast-isnumeric":91}],537:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plots/plots"),o=e("./plot_schema"),a=e("./plot_config").dfltConfig,s=r.isPlainObject,l=Array.isArray,u=r.isArrayOrTypedArray;function c(e,t,n,i,o,a){a=a||[];for(var f=Object.keys(e),d=0;d<f.length;d++){var g=f[d];if("transforms"!==g){var v=a.slice();v.push(g);var y=e[g],b=t[g],x=m(n,g),_="info_array"===(x||{}).valType,w="colorscale"===(x||{}).valType,k=(x||{}).items;if(p(n,g))if(s(y)&&s(b))c(y,b,x,i,o,v);else if(_&&l(y)){y.length>b.length&&i.push(h("unused",o,v.concat(b.length)));var M,T,S,E,A,O=b.length,C=Array.isArray(k);if(C&&(O=Math.min(O,k.length)),2===x.dimensions)for(T=0;T<O;T++)if(l(y[T])){y[T].length>b[T].length&&i.push(h("unused",o,v.concat(T,b[T].length)));var N=b[T].length;for(M=0;M<(C?Math.min(N,k[T].length):N);M++)S=C?k[T][M]:k,E=y[T][M],A=b[T][M],r.validate(E,S)?A!==E&&A!==+E&&i.push(h("dynamic",o,v.concat(T,M),E,A)):i.push(h("value",o,v.concat(T,M),E))}else i.push(h("array",o,v.concat(T),y[T]));else for(T=0;T<O;T++)S=C?k[T]:k,E=y[T],A=b[T],r.validate(E,S)?A!==E&&A!==+E&&i.push(h("dynamic",o,v.concat(T),E,A)):i.push(h("value",o,v.concat(T),E))}else if(x.items&&!_&&l(y)){var D,P,R=k[Object.keys(k)[0]],L=[];for(D=0;D<b.length;D++){var I=b[D]._index||D;if((P=v.slice()).push(I),s(y[I])&&s(b[D])){L.push(I);var j=y[I],z=b[D];s(j)&&!1!==j.visible&&!1===z.visible?i.push(h("invisible",o,P)):c(j,z,R,i,o,P)}}for(D=0;D<y.length;D++)(P=v.slice()).push(D),s(y[D])?-1===L.indexOf(D)&&i.push(h("unused",o,P)):i.push(h("object",o,P,y[D]))}else!s(y)&&s(b)?i.push(h("object",o,v,y)):u(y)||!u(b)||_||w?g in t?r.validate(y,x)?"enumerated"===x.valType&&(x.coerceNumber&&y!==+b||y!==b)&&i.push(h("dynamic",o,v,y,b)):i.push(h("value",o,v,y)):i.push(h("unused",o,v,y)):i.push(h("array",o,v,y));else i.push(h("schema",o,v))}}return i}t.exports=function(e,t){var n,u,f=o.get(),d=[],p={_context:r.extendFlat({},a)};l(e)?(p.data=r.extendDeep([],e),n=e):(p.data=[],n=[],d.push(h("array","data"))),s(t)?(p.layout=r.extendDeep({},t),u=t):(p.layout={},u={},arguments.length>1&&d.push(h("object","layout"))),i.supplyDefaults(p);for(var m=p._fullData,g=n.length,v=0;v<g;v++){var y=n[v],b=["data",v];if(s(y)){var x=m[v],_=x.type,w=f.traces[_].attributes;w.type={valType:"enumerated",values:[_]},!1===x.visible&&!1!==y.visible&&d.push(h("invisible",b)),c(y,x,w,d,b);var k=y.transforms,M=x.transforms;if(k){l(k)||d.push(h("array",b,["transforms"])),b.push("transforms");for(var T=0;T<k.length;T++){var S=["transforms",T],E=k[T].type;if(s(k[T])){var A=f.transforms[E]?f.transforms[E].attributes:{};A.type={valType:"enumerated",values:Object.keys(f.transforms)},c(k[T],M[T],A,d,b,S)}else d.push(h("object",b,S))}}}else d.push(h("object",b))}return c(u,p._fullLayout,function(e,t){for(var n=e.layout.layoutAttributes,i=0;i<t.length;i++){var o=t[i],a=e.traces[o.type],s=a.layoutAttributes;s&&(o.subplot?r.extendFlat(n[a.attributes.subplot.dflt],s):r.extendFlat(n,s))}return n}(f,m),d,"layout"),0===d.length?void 0:d};var f={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":d(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":d(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return d(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=s(n)?"container":"key";return d(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,n,r){return[d(e)+"key",t,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e,t){return(t?d(e)+"item "+t:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,t,n){return[d(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}};function d(e){return l(e)?"In data trace "+e[1]+", ":"In "+e+", "}function h(e,t,n,i,o){var a,s;n=n||"",l(t)?(a=t[0],s=t[1]):(a=t,s=null);var u=function(e){if(!l(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"==typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}(n),c=f[e](t,u,i,o);return r.log(c),{code:e,container:a,trace:s,path:n,astr:u,msg:c}}function p(e,t){var n=v(t),r=n.keyMinusId,i=n.id;return!!(r in e&&e[r]._isSubplotObj&&i)||t in e}function m(e,t){return t in e?e[t]:e[v(t).keyMinusId]}var g=r.counterRegex("([a-z]+)");function v(e){var t=e.match(g);return{keyMinusId:t&&t[1],id:t&&t[2]}}},{"../lib":497,"../plots/plots":586,"./plot_config":531,"./plot_schema":532}],538:[function(e,t,n){"use strict";t.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],539:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_template");t.exports=function(e,t,n){var o,a,s=n.name,l=n.inclusionAttr||"visible",u=t[s],c=r.isArrayOrTypedArray(e[s])?e[s]:[],f=t[s]=[],d=i.arrayTemplater(t,s,l);for(o=0;o<c.length;o++){var h=c[o];r.isPlainObject(h)?a=d.newItem(h):(a=d.newItem({}))[l]=!1,a._index=o,!1!==a[l]&&n.handleItemDefaults(h,a,t,n),f.push(a)}var p=d.defaultItems();for(o=0;o<p.length;o++)(a=p[o])._index=f.length,n.handleItemDefaults({},a,t,n,{}),f.push(a);if(r.isArrayOrTypedArray(u)){var m=Math.min(u.length,f.length);for(o=0;o<m;o++)r.relinkPrivateKeys(f[o],u[o])}return f}},{"../lib":497,"../plot_api/plot_template":533}],540:[function(e,t,n){"use strict";var r=e("../components/fx/attributes");t.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":407}],541:[function(e,t,n){"use strict";t.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],542:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../constants/numerical").FP_SAFE,a=e("../../registry");function s(e,t){var n,r,o=[],a=l(t),s=u(e,t),c=s.min,f=s.max;if(0===c.length||0===f.length)return i.simpleMap(t.range,t.r2l);var d=c[0].val,h=f[0].val;for(n=1;n<c.length&&d===h;n++)d=Math.min(d,c[n].val);for(n=1;n<f.length&&d===h;n++)h=Math.max(h,f[n].val);var p=!1;if(t.range){var m=i.simpleMap(t.range,t.r2l);p=m[1]<m[0]}"reversed"===t.autorange&&(p=!0,t.autorange=!0);var g,v,y,b,x,_,w=t.rangemode,k="tozero"===w,M="nonnegative"===w,T=t._length,S=T/10,E=0;for(n=0;n<c.length;n++)for(g=c[n],r=0;r<f.length;r++)(_=(v=f[r]).val-g.val)>0&&((x=T-a(g)-a(v))>S?_/x>E&&(y=g,b=v,E=_/x):_/T>E&&(y={val:g.val,pad:0},b={val:v.val,pad:0},E=_/T));if(d===h){var A=d-1,O=d+1;if(k)if(0===d)o=[0,1];else{var C=(d>0?f:c).reduce((function(e,t){return Math.max(e,a(t))}),0),N=d/(1-Math.min(.5,C/T));o=d>0?[0,N]:[N,0]}else o=M?[Math.max(0,A),Math.max(1,O)]:[A,O]}else k?(y.val>=0&&(y={val:0,pad:0}),b.val<=0&&(b={val:0,pad:0})):M&&(y.val-E*a(y)<0&&(y={val:0,pad:0}),b.val<=0&&(b={val:1,pad:0})),E=(b.val-y.val)/(T-a(y)-a(b)),o=[y.val-E*a(y),b.val+E*a(b)];return p&&o.reverse(),i.simpleMap(o,t.l2r||Number)}function l(e){var t=e._length/20;return"domain"===e.constrain&&e._inputDomain&&(t*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(e){return e.pad+(e.extrapad?t:0)}}function u(e,t){var n,r,i,o=t._id,a=e._fullData,s=e._fullLayout,l=[],u=[];function d(e,t){for(n=0;n<t.length;n++){var a=e[t[n]],s=(a._extremes||{})[o];if(!0===a.visible&&s){for(r=0;r<s.min.length;r++)i=s.min[r],c(l,i.val,i.pad,{extrapad:i.extrapad});for(r=0;r<s.max.length;r++)i=s.max[r],f(u,i.val,i.pad,{extrapad:i.extrapad})}}}return d(a,t._traceIndices),d(s.annotations||[],t._annIndices||[]),d(s.shapes||[],t._shapeIndices||[]),{min:l,max:u}}function c(e,t,n,r){d(e,t,n,r,p)}function f(e,t,n,r){d(e,t,n,r,m)}function d(e,t,n,r,i){for(var o=r.tozero,a=r.extrapad,s=!0,l=0;l<e.length&&s;l++){var u=e[l];if(i(u.val,t)&&u.pad>=n&&(u.extrapad||!a)){s=!1;break}i(t,u.val)&&u.pad<=n&&(a||!u.extrapad)&&(e.splice(l,1),l--)}if(s){var c=o&&0===t;e.push({val:t,pad:c?0:n,extrapad:!c&&a})}}function h(e){return r(e)&&Math.abs(e)<o}function p(e,t){return e<=t}function m(e,t){return e>=t}t.exports={getAutoRange:s,makePadFn:l,doAutoRange:function(e,t){if(t.setScale(),t.autorange){t.range=s(e,t),t._r=t.range.slice(),t._rl=i.simpleMap(t._r,t.r2l);var n=t._input,r={};r[t._attr+".range"]=t.range,r[t._attr+".autorange"]=t.autorange,a.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,r),n.range=t.range.slice(),n.autorange=t.autorange}var o=t._anchorAxis;if(o&&o.rangeslider){var l=o.rangeslider[t._name];l&&"auto"===l.rangemode&&(l.range=s(e,t)),o._input.rangeslider[t._name]=i.extendFlat({},l)}},findExtremes:function(e,t,n){n||(n={}),e._m||e.setScale();var i,a,s,l,u,d,p,m,g,v=[],y=[],b=t.length,x=n.padded||!1,_=n.tozero&&("linear"===e.type||"-"===e.type),w="log"===e.type,k=!1;function M(e){if(Array.isArray(e))return k=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var T=M((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),S=M((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),E=M(n.vpadplus||n.vpad),A=M(n.vpadminus||n.vpad);if(!k){if(m=1/0,g=-1/0,w)for(i=0;i<b;i++)(a=t[i])<m&&a>0&&(m=a),a>g&&a<o&&(g=a);else for(i=0;i<b;i++)(a=t[i])<m&&a>-o&&(m=a),a>g&&a<o&&(g=a);t=[m,g],b=2}var O={tozero:_,extrapad:x};function C(n){s=t[n],r(s)&&(d=T(n),p=S(n),m=s-A(n),g=s+E(n),w&&m<g/10&&(m=g/10),l=e.c2l(m),u=e.c2l(g),_&&(l=Math.min(0,l),u=Math.max(0,u)),h(l)&&c(v,l,p,O),h(u)&&f(y,u,d,O))}var N=Math.min(6,b);for(i=0;i<N;i++)C(i);for(i=b-1;i>=N;i--)C(i);return{min:v,max:y,opts:n}},concatExtremes:u}},{"../../constants/numerical":476,"../../lib":497,"../../registry":595,"fast-isnumeric":91}],543:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../../plots/plots"),a=e("../../registry"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../components/titles"),c=e("../../components/color"),f=e("../../components/drawing"),d=e("./layout_attributes"),h=e("./clean_ticks"),p=e("../../constants/numerical"),m=p.ONEAVGYEAR,g=p.ONEAVGMONTH,v=p.ONEDAY,y=p.ONEHOUR,b=p.ONEMIN,x=p.ONESEC,_=p.MINUS_SIGN,w=p.BADNUM,k=e("../../constants/alignment").MID_SHIFT,M=e("../../constants/alignment").LINE_SPACING,T=e("../../constants/alignment").OPPOSITE_SIDE,S=t.exports={};S.setConvert=e("./set_convert");var E=e("./axis_autotype"),A=e("./axis_ids");S.id2name=A.id2name,S.name2id=A.name2id,S.cleanId=A.cleanId,S.list=A.list,S.listIds=A.listIds,S.getFromId=A.getFromId,S.getFromTrace=A.getFromTrace;var O=e("./autorange");S.getAutoRange=O.getAutoRange,S.findExtremes=O.findExtremes,S.coerceRef=function(e,t,n,r,i,o){var a=r.charAt(r.length-1),l=n._fullLayout._subplots[a+"axis"],u=r+"ref",c={};return i||(i=l[0]||o),o||(o=i),c[u]={valType:"enumerated",values:l.concat(o?[o]:[]),dflt:i},s.coerce(e,t,c,u)},S.coercePosition=function(e,t,n,r,i,o){var a,l;if("paper"===r||"pixel"===r)a=s.ensureNumber,l=n(i,o);else{var u=S.getFromId(t,r);l=n(i,o=u.fraction2r(o)),a=u.cleanPos}e[i]=a(l)},S.cleanPosition=function(e,t,n){return("paper"===n||"pixel"===n?s.ensureNumber:S.getFromId(t,n).cleanPos)(e)},S.redrawComponents=function(e,t){t=t||S.listIds(e);var n=e._fullLayout;function r(r,i,o,s){for(var l=a.getComponentMethod(r,i),u={},c=0;c<t.length;c++)for(var f=n[S.id2name(t[c])][o],d=0;d<f.length;d++){var h=f[d];if(!u[h]&&(l(e,h),u[h]=1,s))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0)};var C=S.getDataConversions=function(e,t,n,r){var i,o="x"===n||"y"===n||"z"===n?n:r;if(Array.isArray(o)){if(i={type:E(r),_categories:[]},S.setConvert(i),"category"===i.type)for(var a=0;a<r.length;a++)i.d2c(r[a])}else i=S.getFromTrace(e,t,o);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===o?{d2c:D,c2d:D}:{d2c:N,c2d:N}};function N(e){return+e}function D(e){return String(e)}S.getDataToCoordFunc=function(e,t,n,r){return C(e,t,n,r).d2c},S.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},S.minDtick=function(e,t,n,r){-1===["log","category","multicategory"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},S.saveRangeInitial=function(e,t){for(var n=S.list(e,"",!0),r=!1,i=0;i<n.length;i++){var o=n[i],a=void 0===o._rangeInitial,s=a||!(o.range[0]===o._rangeInitial[0]&&o.range[1]===o._rangeInitial[1]);(a&&!1===o.autorange||t&&s)&&(o._rangeInitial=o.range.slice(),r=!0)}return r},S.saveShowSpikeInitial=function(e,t){for(var n=S.list(e,"",!0),r=!1,i="on",o=0;o<n.length;o++){var a=n[o],s=void 0===a._showSpikeInitial,l=s||!(a.showspikes===a._showspikes);(s||t&&l)&&(a._showSpikeInitial=a.showspikes,r=!0),"on"!==i||a.showspikes||(i="off")}return e._fullLayout._cartesianSpikesEnabled=i,r},S.autoBin=function(e,t,n,r,o,a){var l,u=s.aggNums(Math.min,null,e),c=s.aggNums(Math.max,null,e);if("category"===t.type||"multicategory"===t.type)return{start:u-.5,end:c+.5,size:Math.max(1,Math.round(a)||1),_dataSpan:c-u};if(o||(o=t.calendar),l="log"===t.type?{type:"linear",range:[u,c]}:{type:t.type,range:s.simpleMap([u,c],t.c2r,0,o),calendar:o},S.setConvert(l),a=a&&h.dtick(a,l.type))l.dtick=a,l.tick0=h.tick0(void 0,l.type,o);else{var f;if(n)f=(c-u)/n;else{var d=s.distinctVals(e),p=Math.pow(10,Math.floor(Math.log(d.minDiff)/Math.LN10)),m=p*s.roundUp(d.minDiff/p,[.9,1.9,4.9,9.9],!0);f=Math.max(m,2*s.stdev(e)/Math.pow(e.length,r?.25:.4)),i(f)||(f=1)}S.autoTicks(l,f)}var g,y=l.dtick,b=S.tickIncrement(S.tickFirst(l),y,"reverse",o);if("number"==typeof y)g=(b=function(e,t,n,r,o){var a=0,s=0,l=0,u=0;function c(t){return(1+100*(t-e)/n.dtick)%100<2}for(var f=0;f<t.length;f++)t[f]%1==0?l++:i(t[f])||u++,c(t[f])&&a++,c(t[f]+n.dtick/2)&&s++;var d=t.length-u;if(l===d&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(s<.1*d&&(a>.3*d||c(r)||c(o))){var h=n.dtick/2;e+=e+h<r?h:-h}return e}(b,e,l,u,c))+(1+Math.floor((c-b)/y))*y;else for("M"===l.dtick.charAt(0)&&(b=function(e,t,n,r,i){var o=s.findExactDates(t,i);if(o.exactDays>.8){var a=Number(n.substr(1));o.exactYears>.8&&a%12==0?e=S.tickIncrement(e,"M6","reverse")+1.5*v:o.exactMonths>.8?e=S.tickIncrement(e,"M1","reverse")+15.5*v:e-=v/2;var l=S.tickIncrement(e,n);if(l<=r)return l}return e}(b,e,y,u,o)),g=b;g<=c;)g=S.tickIncrement(g,y,!1,o);return{start:t.c2r(b,0,o),end:t.c2r(g,0,o),size:y,_dataSpan:c-u}},S.prepTicks=function(e){var t=s.simpleMap(e.range,e.r2l);if("auto"===e.tickmode||!e.dtick){var n,r=e.nticks;r||("category"===e.type||"multicategory"===e.type?(n=e.tickfont?1.2*(e.tickfont.size||12):15,r=e._length/n):(n="y"===e._id.charAt(0)?40:80,r=s.constrain(e._length/n,4,9)+1),"radialaxis"===e._name&&(r*=2)),"array"===e.tickmode&&(r*=100),S.autoTicks(e,Math.abs(t[1]-t[0])/r),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),"date"===e.type&&e.dtick<.1&&(e.dtick=.1),U(e)},S.calcTicks=function(e){S.prepTicks(e);var t=s.simpleMap(e.range,e.r2l);if("array"===e.tickmode)return function(e){var t=e.tickvals,n=e.ticktext,r=new Array(t.length),i=s.simpleMap(e.range,e.r2l),o=1.0001*i[0]-1e-4*i[1],a=1.0001*i[1]-1e-4*i[0],l=Math.min(o,a),u=Math.max(o,a),c=0;Array.isArray(n)||(n=[]);var f="category"===e.type?e.d2l_noadd:e.d2l;"log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var d=0;d<t.length;d++){var h=f(t[d]);h>l&&h<u&&(void 0===n[d]?r[c]=S.tickText(e,h):r[c]=H(e,h,String(n[d])),c++)}return c<t.length&&r.splice(c,t.length-c),r}(e);e._tmin=S.tickFirst(e);var n=1.0001*t[0]-1e-4*t[1],r=1.0001*t[1]-1e-4*t[0],o=t[1]<t[0];if(e._tmin<n!==o)return[];var a=[];"category"!==e.type&&"multicategory"!==e.type||(r=o?Math.max(-.5,r):Math.min(e._categories.length-.5,r));for(var l="log"===e.type&&!(i(e.dtick)||"L"===e.dtick.charAt(0)),u=null,c=Math.max(1e3,e._length||0),f=e._tmin;(o?f>=r:f<=r)&&!(a.length>c||f===u);f=S.tickIncrement(f,e.dtick,o,e.calendar)){u=f;var d=!1;l&&f!==(0|f)&&(d=!0),a.push({minor:d,value:f})}ne(e)&&360===Math.abs(t[1]-t[0])&&a.pop(),e._tmax=(a[a.length-1]||{}).value,e._prevDateHead="",e._inCalcTicks=!0;for(var h=new Array(a.length),p=0;p<a.length;p++)h[p]=S.tickText(e,a[p].value,!1,a[p].minor);return e._inCalcTicks=!1,h};var P=[2,5,10],R=[1,2,3,6,12],L=[1,2,5,10,15,30],I=[1,2,3,7,14],j=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],z=[-.301,0,.301,.699,1],F=[15,30,45,90,180];function B(e,t,n){return t*s.roundUp(e/t,n)}function U(e){var t=e.dtick;if(e._tickexponent=0,i(t)||"string"==typeof t||(t=1),"category"!==e.type&&"multicategory"!==e.type||(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),o=r.length;if("M"===String(t).charAt(0))o>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12==0?"y":"m";else if(t>=v&&o<=10||t>=15*v)e._tickround="d";else if(t>=b&&o<=16||t>=y)e._tickround="M";else if(t>=x&&o<=19||t>=b)e._tickround="S";else{var a=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(o,a)-20,e._tickround<0&&(e._tickround=4)}}else if(i(t)||"L"===t.charAt(0)){var s=e.range.map(e.r2d||Number);i(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var l=Math.max(Math.abs(s[0]),Math.abs(s[1])),u=Math.floor(Math.log(l)/Math.LN10+.01);Math.abs(u)>3&&(V(e.exponentformat)&&!W(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}function H(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}S.autoTicks=function(e,t){var n;function r(e){return Math.pow(e,Math.floor(Math.log(t)/Math.LN10))}if("date"===e.type){e.tick0=s.dateTick0(e.calendar);var o=2*t;o>m?(t/=m,n=r(10),e.dtick="M"+12*B(t,n,P)):o>g?(t/=g,e.dtick="M"+B(t,1,R)):o>v?(e.dtick=B(t,v,I),e.tick0=s.dateTick0(e.calendar,!0)):o>y?e.dtick=B(t,y,R):o>b?e.dtick=B(t,b,L):o>x?e.dtick=B(t,x,L):(n=r(10),e.dtick=B(t,n,P))}else if("log"===e.type){e.tick0=0;var a=s.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(a[1]-a[0])<1){var l=1.5*Math.abs((a[1]-a[0])/t);t=Math.abs(Math.pow(10,a[1])-Math.pow(10,a[0]))/l,n=r(10),e.dtick="L"+B(t,n,P)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type||"multicategory"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):ne(e)?(e.tick0=0,n=1,e.dtick=B(t,n,F)):(e.tick0=0,n=r(10),e.dtick=B(t,n,P));if(0===e.dtick&&(e.dtick=1),!i(e.dtick)&&"string"!=typeof e.dtick){var u=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(u)}},S.tickIncrement=function(e,t,n,o){var a=n?-1:1;if(i(t))return e+a*t;var l=t.charAt(0),u=a*Number(t.substr(1));if("M"===l)return s.incrementMonth(e,u,o);if("L"===l)return Math.log(Math.pow(10,e)+u)/Math.LN10;if("D"===l){var c="D2"===t?z:j,f=e+.01*a,d=s.roundUp(s.mod(f,1),c,n);return Math.floor(f)+Math.log(r.round(Math.pow(10,d),1))/Math.LN10}throw"unrecognized dtick "+String(t)},S.tickFirst=function(e){var t=e.r2l||Number,n=s.simpleMap(e.range,t),o=n[1]<n[0],a=o?Math.floor:Math.ceil,l=1.0001*n[0]-1e-4*n[1],u=e.dtick,c=t(e.tick0);if(i(u)){var f=a((l-c)/u)*u+c;return"category"!==e.type&&"multicategory"!==e.type||(f=s.constrain(f,0,e._categories.length-1)),f}var d=u.charAt(0),h=Number(u.substr(1));if("M"===d){for(var p,m,g,v=0,y=c;v<10;){if(((p=S.tickIncrement(y,u,o,e.calendar))-l)*(y-l)<=0)return o?Math.min(y,p):Math.max(y,p);m=(l-(y+p)/2)/(p-y),g=d+(Math.abs(Math.round(m))||1)*h,y=S.tickIncrement(y,g,m<0?!o:o,e.calendar),v++}return s.error("tickFirst did not converge",e),y}if("L"===d)return Math.log(a((Math.pow(10,l)-c)/h)*h+c)/Math.LN10;if("D"===d){var b="D2"===u?z:j,x=s.roundUp(s.mod(l,1),b,o);return Math.floor(l)+Math.log(r.round(Math.pow(10,x),1))/Math.LN10}throw"unrecognized dtick "+String(u)},S.tickText=function(e,t,n,r){var o,a=H(e,t),l="array"===e.tickmode,u=n||l,c=e.type,f="category"===c?e.d2l_noadd:e.d2l;if(l&&Array.isArray(e.ticktext)){var d=s.simpleMap(e.range,e.r2l),h=Math.abs(d[1]-d[0])/1e4;for(o=0;o<e.ticktext.length&&!(Math.abs(t-f(e.tickvals[o]))<h);o++);if(o<e.ticktext.length)return a.text=String(e.ticktext[o]),a}function p(r){if(void 0===r)return!0;if(n)return"none"===r;var i={first:e._tmin,last:e._tmax}[r];return"all"!==r&&t!==i}var m=n?"never":"none"!==e.exponentformat&&p(e.showexponent)?"hide":"";if("date"===c?function(e,t,n,r){var o=e._tickround,a=n&&e.hoverformat||S.getTickFormat(e);r&&(o=i(o)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[o]);var l,u=s.formatDate(t.x,a,o,e._dateFormat,e.calendar,e._extraFormat),c=u.indexOf("\n");-1!==c&&(l=u.substr(c+1),u=u.substr(0,c)),r&&("00:00:00"===u||"00:00"===u?(u=l,l=""):8===u.length&&(u=u.replace(/:00$/,""))),l&&(n?"d"===o?u+=", "+l:u=l+(u?", "+u:""):e._inCalcTicks&&l===e._prevDateHead||(u+="<br>"+l,e._prevDateHead=l)),t.text=u}(e,a,n,u):"log"===c?function(e,t,n,r,o){var a=e.dtick,l=t.x,u=e.tickformat,c="string"==typeof a&&a.charAt(0);if("never"===o&&(o=""),r&&"L"!==c&&(a="L3",c="L"),u||"L"===c)t.text=Y(Math.pow(10,l),e,o,r);else if(i(a)||"D"===c&&s.mod(l+.01,1)<.1){var f=Math.round(l),d=Math.abs(f),h=e.exponentformat;"power"===h||V(h)&&W(f)?(t.text=0===f?1:1===f?"10":"10<sup>"+(f>1?"":_)+d+"</sup>",t.fontSize*=1.25):("e"===h||"E"===h)&&d>2?t.text="1"+h+(f>0?"+":_)+d:(t.text=Y(Math.pow(10,l),e,"","fakehover"),"D1"===a&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6))}else{if("D"!==c)throw"unrecognized dtick "+String(a);t.text=String(Math.round(Math.pow(10,s.mod(l,1)))),t.fontSize*=.75}if("D1"===e.dtick){var p=String(t.text).charAt(0);"0"!==p&&"1"!==p||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(l<0?.5:.25)))}}(e,a,0,u,m):"category"===c?function(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}(e,a):"multicategory"===c?function(e,t,n){var r=Math.round(t.x),i=e._categories[r]||[],o=void 0===i[1]?"":String(i[1]),a=void 0===i[0]?"":String(i[0]);n?t.text=a+" - "+o:(t.text=o,t.text2=a)}(e,a,n):ne(e)?function(e,t,n,r,i){if("radians"!==e.thetaunit||n)t.text=Y(t.x,e,i,r);else{var o=t.x/180;if(0===o)t.text="0";else{var a=function(e){function t(e,t){return Math.abs(e-t)<=1e-6}var n=function(e){for(var n=1;!t(Math.round(e*n)/n,e);)n*=10;return n}(e),r=e*n,i=Math.abs(function e(n,r){return t(r,0)?n:e(r,n%r)}(r,n));return[Math.round(r/i),Math.round(n/i)]}(o);if(a[1]>=100)t.text=Y(s.deg2rad(t.x),e,i,r);else{var l=t.x<0;1===a[1]?1===a[0]?t.text="\u03c0":t.text=a[0]+"\u03c0":t.text=["<sup>",a[0],"</sup>","\u2044","<sub>",a[1],"</sub>","\u03c0"].join(""),l&&(t.text=_+t.text)}}}}(e,a,n,u,m):function(e,t,n,r,i){"never"===i?i="":"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(i="hide"),t.text=Y(t.x,e,i,r)}(e,a,0,u,m),r||(e.tickprefix&&!p(e.showtickprefix)&&(a.text=e.tickprefix+a.text),e.ticksuffix&&!p(e.showticksuffix)&&(a.text+=e.ticksuffix)),"boundaries"===e.tickson||e.showdividers){var g=function(t){var n=e.l2p(t);return n>=0&&n<=e._length?t:null};a.xbnd=[g(a.x-.5),g(a.x+e.dtick-.5)]}return a},S.hoverLabelText=function(e,t,n){if(n!==w&&n!==t)return S.hoverLabelText(e,t)+" - "+S.hoverLabelText(e,n);var r="log"===e.type&&t<=0,i=S.tickText(e,e.c2l(r?-t:t),"hover").text;return r?0===t?"0":_+i:i};var q=["f","p","n","\u03bc","m","","k","M","G","T"];function V(e){return"SI"===e||"B"===e}function W(e){return e>14||e<-15}function Y(e,t,n,r){var o=e<0,a=t._tickround,l=n||t.exponentformat||"B",u=t._tickexponent,c=S.getTickFormat(t),f=t.separatethousands;if(r){var d={exponentformat:l,dtick:"none"===t.showexponent?t.dtick:i(e)&&Math.abs(e)||1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};U(d),a=(Number(d._tickround)||0)+4,u=d._tickexponent,t.hoverformat&&(c=t.hoverformat)}if(c)return t._numFormat(c)(e).replace(/-/g,_);var h,p=Math.pow(10,-a)/2;if("none"===l&&(u=0),(e=Math.abs(e))<p)e="0",o=!1;else{if(e+=p,u&&(e*=Math.pow(10,-u),a+=u),0===a)e=String(Math.floor(e));else if(a<0){e=(e=String(Math.round(e))).substr(0,e.length+a);for(var m=a;m<0;m++)e+="0"}else{var g=(e=String(e)).indexOf(".")+1;g&&(e=e.substr(0,g+a).replace(/\.?0+$/,""))}e=s.numSeparate(e,t._separators,f)}return u&&"hide"!==l&&(V(l)&&W(u)&&(l="power"),h=u<0?_+-u:"power"!==l?"+"+u:String(u),"e"===l||"E"===l?e+=l+h:"power"===l?e+="\xd710<sup>"+h+"</sup>":"B"===l&&9===u?e+="B":V(l)&&(e+=q[u/3+5])),o?_+e:e}function G(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}function X(e,t){var n=e.l2p(t);return n>1&&n<e._length-1}function $(e){var t=r.select(e),n=t.select(".text-math-group");return n.empty()?t.select("text"):n}function Z(e){return e._id+".automargin"}function K(e){return Z(e)+".mirror"}function J(e){return e._id+".rangeslider"}function Q(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function ee(e,t,n){var r,i,o=[],a=[],l=e.layout;for(r=0;r<t.length;r++)o.push(S.getFromId(e,t[r]));for(r=0;r<n.length;r++)a.push(S.getFromId(e,n[r]));var u=Object.keys(d),c=["anchor","domain","overlaying","position","side","tickangle","editType"],f=["linear","log"];for(r=0;r<u.length;r++){var h=u[r],p=o[0][h],m=a[0][h],g=!0,v=!1,y=!1;if("_"!==h.charAt(0)&&"function"!=typeof p&&-1===c.indexOf(h)){for(i=1;i<o.length&&g;i++){var b=o[i][h];"type"===h&&-1!==f.indexOf(p)&&-1!==f.indexOf(b)&&p!==b?v=!0:b!==p&&(g=!1)}for(i=1;i<a.length&&g;i++){var x=a[i][h];"type"===h&&-1!==f.indexOf(m)&&-1!==f.indexOf(x)&&m!==x?y=!0:a[i][h]!==m&&(g=!1)}g&&(v&&(l[o[0]._name].type="linear"),y&&(l[a[0]._name].type="linear"),te(l,h,o,a,e._fullLayout._dfltTitle))}}for(r=0;r<e._fullLayout.annotations.length;r++){var _=e._fullLayout.annotations[r];-1!==t.indexOf(_.xref)&&-1!==n.indexOf(_.yref)&&s.swapAttrs(l.annotations[r],["?"])}}function te(e,t,n,r,i){var o,a=s.nestedProperty,l=a(e[n[0]._name],t).get(),u=a(e[r[0]._name],t).get();for("title"===t&&(l&&l.text===i.x&&(l.text=i.y),u&&u.text===i.y&&(u.text=i.x)),o=0;o<n.length;o++)a(e,n[o]._name+"."+t).set(u);for(o=0;o<r.length;o++)a(e,r[o]._name+"."+t).set(l)}function ne(e){return"angularaxis"===e._id}S.getTickFormat=function(e){var t,n,r,i,o,a,s,l;function u(e){return"string"!=typeof e?e:Number(e.replace("M",""))*g}function c(e,t){var n=["L","D"];if(typeof e==typeof t){if("number"==typeof e)return e-t;var r=n.indexOf(e.charAt(0)),i=n.indexOf(t.charAt(0));return r===i?Number(e.replace(/(L|D)/g,""))-Number(t.replace(/(L|D)/g,"")):r-i}return"number"==typeof e?1:-1}function f(e,t){var n=null===t[0],r=null===t[1],i=c(e,t[0])>=0,o=c(e,t[1])<=0;return(n||i)&&(r||o)}if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&(i=e.dtick,a=void 0,a=u||function(e){return e},s=(o=r.dtickrange)[0],l=o[1],(!s&&"number"!=typeof s||a(s)<=a(i))&&(!l&&"number"!=typeof l||a(l)>=a(i)))){n=r;break}break;case"log":for(t=0;t<e.tickformatstops.length;t++)if((r=e.tickformatstops[t]).enabled&&f(e.dtick,r.dtickrange)){n=r;break}}return n?n.value:e.tickformat},S.getSubplots=function(e,t){var n=e._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=t?S.findSubplotsWithAxis(r,t):r;return i.sort((function(e,t){var n=e.substr(1).split("y"),r=t.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]})),i},S.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],i=0;i<e.length;i++){var o=e[i];n.test(o)&&r.push(o)}return r},S.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var n,i,o={_offset:0,_length:t.width,_id:""},a={_offset:0,_length:t.height,_id:""},s=S.list(e,"x",!0),l=S.list(e,"y",!0),u=[];for(n=0;n<s.length;n++)for(u.push({x:s[n],y:a}),i=0;i<l.length;i++)0===n&&u.push({x:o,y:l[i]}),u.push({x:s[n],y:l[i]});var c=t._clips.selectAll(".axesclip").data(u,(function(e){return e.x._id+e.y._id}));c.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(e){return"clip"+t._uid+e.x._id+e.y._id})).append("rect"),c.exit().remove(),c.each((function(e){r.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})}))}},S.draw=function(e,t,n){var r=e._fullLayout;"redraw"===t&&r._paper.selectAll("g.subplot").each((function(e){var t=e[0],n=r._plots[t],i=n.xaxis,o=n.yaxis;n.xaxislayer.selectAll("."+i._id+"tick").remove(),n.yaxislayer.selectAll("."+o._id+"tick").remove(),n.xaxislayer.selectAll("."+i._id+"tick2").remove(),n.yaxislayer.selectAll("."+o._id+"tick2").remove(),n.xaxislayer.selectAll("."+i._id+"divider").remove(),n.yaxislayer.selectAll("."+o._id+"divider").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+i._id+"title").remove(),r._infolayer.select(".g-"+o._id+"title").remove()}));var i=t&&"redraw"!==t?t:S.listIds(e);return s.syncOrAsync(i.map((function(t){return function(){if(t){var r=S.getFromId(e,t),i=S.drawOne(e,r,n);return r._r=r.range.slice(),r._rl=s.simpleMap(r._r,r.r2l),i}}})))},S.drawOne=function(e,t,n){var r,i,d;n=n||{},t.setScale();var h=e._fullLayout,p=t._id,m=p.charAt(0),g=S.counterLetter(p),v=t._mainLinePosition,y=t._mainMirrorPosition,b=h._plots[t._mainSubplot][m+"axislayer"],x=t._vals=S.calcTicks(t),_=[t.mirror,v,y].join("_");for(r=0;r<x.length;r++)x[r].axInfo=_;t._selections={},t._tickAngles&&(t._prevTickAngles=t._tickAngles),t._tickAngles={},t._depth=null;var w={};function k(e){var n=p+(e||"tick");return w[n]||(w[n]=function(e,t){var n,r,i,o;return e._selections[t].size()?(n=1/0,r=-1/0,i=1/0,o=-1/0,e._selections[t].each((function(){var e=$(this),t=f.bBox(e.node().parentNode);n=Math.min(n,t.top),r=Math.max(r,t.bottom),i=Math.min(i,t.left),o=Math.max(o,t.right)}))):(n=0,r=0,i=0,o=0),{top:n,bottom:r,left:i,right:o,height:r-n,width:o-i}}(t,n)),w[n]}if(t.visible){var E,A,O=S.makeTransFn(t);if("boundaries"===t.tickson){var C=function(e,t){var n,r=[],i=function(e,t){var n=e.xbnd[t];null!==n&&r.push(s.extendFlat({},e,{x:n}))};if(t.length){for(n=0;n<t.length;n++)i(t[n],0);i(t[n-1],1)}return r}(0,x);A=S.clipEnds(t,C),E="inside"===t.ticks?A:C}else A=S.clipEnds(t,x),E="inside"===t.ticks?A:x;var N=t._gridVals=A,D=function(e,t){var n,r,i=[],o=function(e,t){var n=e.xbnd[t];null!==n&&i.push(s.extendFlat({},e,{x:n}))};if(e.showdividers&&t.length){for(n=0;n<t.length;n++){var a=t[n];a.text2!==r&&o(a,0),r=a.text2}o(t[n-1],1)}return i}(t,x);if(!h._hasOnlyLargeSploms){var P=t._subplotsWith,R={};for(r=0;r<P.length;r++){i=P[r];var L=(d=h._plots[i])[g+"axis"],I=L._mainAxis._id;if(!R[I]){R[I]=1;var j="x"===m?"M0,"+L._offset+"v"+L._length:"M"+L._offset+",0h"+L._length;S.drawGrid(e,t,{vals:N,counterAxis:L,layer:d.gridlayer.select("."+p),path:j,transFn:O}),S.drawZeroLine(e,t,{counterAxis:L,layer:d.zerolinelayer,path:j,transFn:O})}}}var z=S.getTickSigns(t),F=[];if(t.ticks){var B,U,q,V=S.makeTickPath(t,v,z[2]);if(t._anchorAxis&&t.mirror&&!0!==t.mirror?(B=S.makeTickPath(t,y,z[3]),U=V+B):(B="",U=V),t.showdividers&&"outside"===t.ticks&&"boundaries"===t.tickson){var W={};for(r=0;r<D.length;r++)W[D[r].x]=1;q=function(e){return W[e.x]?B:U}}else q=U;S.drawTicks(e,t,{vals:E,layer:b,path:q,transFn:O}),"allticks"===t.mirror&&(F=Object.keys(t._linepositions||{}))}for(r=0;r<F.length;r++){i=F[r],d=h._plots[i];var Y=t._linepositions[i]||[],X=S.makeTickPath(t,Y[0],z[0])+S.makeTickPath(t,Y[1],z[1]);S.drawTicks(e,t,{vals:E,layer:d[m+"axislayer"],path:X,transFn:O})}var Q=[];if(Q.push((function(){return S.drawLabels(e,t,{vals:x,layer:b,transFn:O,labelFns:S.makeLabelFns(t,v)})})),"multicategory"===t.type){var ee={x:2,y:10}[m],te={l:-1,t:-1,r:1,b:1}[t.side.charAt(0)];Q.push((function(){var n={x:"height",y:"width"}[m],r=k()[n]+ee+(t._tickAngles[p+"tick"]?t.tickfont.size*M:0);return S.drawLabels(e,t,{vals:function(e,t){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i];r[o.text2]?r[o.text2].push(o.x):r[o.text2]=[o.x]}for(var a in r)n.push(H(e,s.interp(r[a],.5),a));return n}(t,x),layer:b,cls:p+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:O,labelFns:S.makeLabelFns(t,v+r*te)})})),Q.push((function(){return t._depth=te*(k("tick2")[t.side]-v),function(e,t,n){var r=t._id+"divider",i=n.vals,o=n.layer.selectAll("path."+r).data(i,G);o.exit().remove(),o.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(c.stroke,t.dividercolor).style("stroke-width",f.crispRound(e,t.dividerwidth,1)+"px"),o.attr("transform",n.transFn).attr("d",n.path)}(e,t,{vals:D,layer:b,path:S.makeTickPath(t,v,te,t._depth),transFn:O})}))}var ne=a.getComponentMethod("rangeslider","isVisible")(t);return Q.push((function(){var n,r,i,s,u=t.side.charAt(0),c=T[t.side].charAt(0),f=S.getPxPosition(e,t),d="outside"===t.ticks?t.ticklen:0;if((t.automargin||ne)&&("multicategory"===t.type?n=k("tick2"):(n=k(),"x"===m&&"b"===u&&(t._depth=Math.max(n.width>0?n.bottom-f:0,d)))),t.automargin){r={x:0,y:0,r:0,l:0,t:0,b:0};var p=[0,1];if("x"===m){if("b"===u?r[u]=t._depth:(r[u]=t._depth=Math.max(n.width>0?f-n.top:0,d),p.reverse()),n.width>0){var v=n.right-(t._offset+t._length);v>0&&(r.xr=1,r.r=v);var y=t._offset-n.left;y>0&&(r.xl=0,r.l=y)}}else if("l"===u?r[u]=t._depth=Math.max(n.height>0?f-n.left:0,d):(r[u]=t._depth=Math.max(n.height>0?n.right-f:0,d),p.reverse()),n.height>0){var b=n.bottom-(t._offset+t._length);b>0&&(r.yb=0,r.b=b);var x=t._offset-n.top;x>0&&(r.yt=1,r.t=x)}if(r[g]="free"===t.anchor?t.position:t._anchorAxis.domain[p[0]],t.title.text!==h._dfltTitle[m]){var _=(t.title.text.match(l.BR_TAG_ALL)||[]).length;r[u]+=_?t.title.font.size*(_+1)*M:t.title.font.size}t.mirror&&"free"!==t.anchor&&((i={x:0,y:0,r:0,l:0,t:0,b:0})[c]=t.linewidth,t.mirror&&!0!==t.mirror&&(i[c]+=d),!0===t.mirror||"ticks"===t.mirror?i[g]=t._anchorAxis.domain[p[1]]:"all"!==t.mirror&&"allticks"!==t.mirror||(i[g]=[t._counterDomainMin,t._counterDomainMax][p[1]]))}ne&&(s=a.getComponentMethod("rangeslider","autoMarginOpts")(e,t)),o.autoMargin(e,Z(t),r),o.autoMargin(e,K(t),i),o.autoMargin(e,J(t),s)})),n.skipTitle||ne&&"bottom"===t.side||Q.push((function(){return function(e,t){var n,r=e._fullLayout,i=t._id,o=i.charAt(0),a=t.title.font.size;n="multicategory"===t.type?t._depth:10+1.5*a+(t.linewidth?t.linewidth-1:0);var s,l,c,d,h=S.getPxPosition(e,t);if("x"===o?(l=t._offset+t._length/2,c="top"===t.side?-n-a*(t.showticklabels?1:0):n+a*(t.showticklabels?1.5:.5),c+=h):(c=t._offset+t._length/2,l="right"===t.side?n+a*(t.showticklabels?1:.5):-n-a*(t.showticklabels?.5:0),l+=h,s={rotate:"-90",offset:0}),"multicategory"!==t.type){var p=t._selections[t._id+"tick"];if(d={selection:p,side:t.side},p&&p.node()&&p.node().parentNode){var m=f.getTranslate(p.node().parentNode);d.offsetLeft=m.x,d.offsetTop=m.y}}return u.draw(e,i+"title",{propContainer:t,propName:t._name+".title.text",placeholder:r._dfltTitle[o],avoid:d,transform:s,attributes:{x:l,y:c,"text-anchor":"middle"}})}(e,t)})),s.syncOrAsync(Q)}},S.getTickSigns=function(e){var t=e._id.charAt(0),n={x:"top",y:"right"}[t],r=e.side===n?1:-1,i=[-1,1,r,-r];return"inside"!==e.ticks==("x"===t)&&(i=i.map((function(e){return-e}))),i},S.makeTransFn=function(e){var t=e._id.charAt(0),n=e._offset;return"x"===t?function(t){return"translate("+(n+e.l2p(t.x))+",0)"}:function(t){return"translate(0,"+(n+e.l2p(t.x))+")"}},S.makeTickPath=function(e,t,n,r){r=void 0!==r?r:e.ticklen;var i=e._id.charAt(0),o=(e.linewidth||1)/2;return"x"===i?"M0,"+(t+o*n)+"v"+r*n:"M"+(t+o*n)+",0h"+r*n},S.makeLabelFns=function(e,t,n){var r=e._id.charAt(0),o="boundaries"!==e.tickson&&"outside"===e.ticks,a=0,l=0;if(o&&(a+=e.ticklen),n&&"outside"===e.ticks){var u=s.deg2rad(n);a=e.ticklen*Math.cos(u)+1,l=e.ticklen*Math.sin(u)}e.showticklabels&&(o||e.showline)&&(a+=.2*e.tickfont.size);var c,f,d,h,p={labelStandoff:a+=(e.linewidth||1)/2,labelShift:l};return"x"===r?(h="bottom"===e.side?1:-1,c=l*h,f=t+a*h,d="bottom"===e.side?1:-.2,p.xFn=function(e){return e.dx+c},p.yFn=function(e){return e.dy+f+e.fontSize*d},p.anchorFn=function(e,t){return i(t)&&0!==t&&180!==t?t*h<0?"end":"start":"middle"},p.heightFn=function(t,n,r){return n<-60||n>60?-.5*r:"top"===e.side?-r:0}):"y"===r&&(h="right"===e.side?1:-1,c=a,f=-l*h,d=90===Math.abs(e.tickangle)?.5:0,p.xFn=function(e){return e.dx+t+(c+e.fontSize*d)*h},p.yFn=function(e){return e.dy+f+e.fontSize*k},p.anchorFn=function(t,n){return i(n)&&90===Math.abs(n)?"middle":"right"===e.side?"start":"end"},p.heightFn=function(t,n,r){return(n*="left"===e.side?1:-1)<-30?-r:n<30?-.5*r:0}),p},S.drawTicks=function(e,t,n){n=n||{};var r=t._id+"tick",i=n.layer.selectAll("path."+r).data(t.ticks?n.vals:[],G);i.exit().remove(),i.enter().append("path").classed(r,1).classed("ticks",1).classed("crisp",!1!==n.crisp).call(c.stroke,t.tickcolor).style("stroke-width",f.crispRound(e,t.tickwidth,1)+"px").attr("d",n.path),i.attr("transform",n.transFn)},S.drawGrid=function(e,t,n){n=n||{};var r=t._id+"grid",i=n.vals,o=n.counterAxis;if(!1===t.showgrid)i=[];else if(o&&S.shouldShowZeroLine(e,t,o))for(var a="array"===t.tickmode,s=0;s<i.length;s++){var l=i[s].x;if(a?!l:Math.abs(l)<t.dtick/100){if(i=i.slice(0,s).concat(i.slice(s+1)),!a)break;s--}}var u=n.layer.selectAll("path."+r).data(i,G);u.exit().remove(),u.enter().append("path").classed(r,1).classed("crisp",!1!==n.crisp),t._gw=f.crispRound(e,t.gridwidth,1),u.attr("transform",n.transFn).attr("d",n.path).call(c.stroke,t.gridcolor||"#ddd").style("stroke-width",t._gw+"px"),"function"==typeof n.path&&u.attr("d",n.path)},S.drawZeroLine=function(e,t,n){n=n||n;var r=t._id+"zl",i=S.shouldShowZeroLine(e,t,n.counterAxis),o=n.layer.selectAll("path."+r).data(i?[{x:0,id:t._id}]:[]);o.exit().remove(),o.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each((function(){n.layer.selectAll("path").sort((function(e,t){return A.idSort(e.id,t.id)}))})),o.attr("transform",n.transFn).attr("d",n.path).call(c.stroke,t.zerolinecolor||c.defaultLine).style("stroke-width",f.crispRound(e,t.zerolinewidth,t._gw||1)+"px")},S.drawLabels=function(e,t,n){n=n||{};var o=e._fullLayout,a=t._id,u=a.charAt(0),c=n.cls||a+"tick",d=n.vals,h=n.labelFns,p=n.secondary?0:t.tickangle,m=(t._prevTickAngles||{})[c],g=n.layer.selectAll("g."+c).data(t.showticklabels?d:[],G),v=[];function y(e,t){e.each((function(e){var o=r.select(this),a=o.select(".text-math-group"),s=h.anchorFn(e,t),u=n.transFn.call(o.node(),e)+(i(t)&&0!=+t?" rotate("+t+","+h.xFn(e)+","+(h.yFn(e)-e.fontSize/2)+")":""),c=l.lineCount(o),d=M*e.fontSize,p=h.heightFn(e,i(t)?+t:0,(c-1)*d);if(p&&(u+=" translate(0, "+p+")"),a.empty())o.select("text").attr({transform:u,"text-anchor":s});else{var m=f.bBox(a.node()).width*{end:-.5,start:.5}[s];a.attr("transform",u+(m?"translate("+m+",0)":""))}}))}g.enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each((function(t){var n=r.select(this),i=e._promises.length;n.call(l.positionText,h.xFn(t),h.yFn(t)).call(f.font,t.font,t.fontSize,t.fontColor).text(t.text).call(l.convertToTspans,e),e._promises[i]?v.push(e._promises.pop().then((function(){y(n,p)}))):y(n,p)})),g.exit().remove(),n.repositionOnUpdate&&g.each((function(e){r.select(this).select("text").call(l.positionText,h.xFn(e),h.yFn(e))})),y(g,m+1?m:p);var b=null;t._selections&&(t._selections[c]=g);var x=[function(){return v.length&&Promise.all(v)}];t.automargin&&o._redrawFromAutoMarginCount&&90===m?(b=90,x.push((function(){y(g,m)}))):x.push((function(){if(y(g,p),d.length&&"x"===u&&!i(p)&&("log"!==t.type||"D"!==String(t.dtick).charAt(0))){b=0;var e,r=0,o=[];if(g.each((function(e){r=Math.max(r,e.fontSize);var n=t.l2p(e.x),i=$(this),a=f.bBox(i.node());o.push({top:0,bottom:10,height:10,left:n-a.width/2,right:n+a.width/2+2,width:a.width+2})})),"boundaries"!==t.tickson&&!t.showdividers||n.secondary){var a=d.length,l=Math.abs((d[a-1].x-d[0].x)*t._m)/(a-1)<2.5*r||"multicategory"===t.type;for(e=0;e<o.length-1;e++)if(s.bBoxIntersect(o[e],o[e+1])){b=l?90:30;break}}else{var c=2;for(t.ticks&&(c+=t.tickwidth/2),e=0;e<o.length;e++){var h=d[e].xbnd,m=o[e];if(null!==h[0]&&m.left-t.l2p(h[0])<c||null!==h[1]&&t.l2p(h[1])-m.right<c){b=90;break}}}b&&y(g,b)}})),t._tickAngles&&x.push((function(){t._tickAngles[c]=null===b?i(p)?p:0:b}));var _=s.syncOrAsync(x);return _&&_.then&&e._promises.push(_),_},S.getPxPosition=function(e,t){var n,r=e._fullLayout._size,i=t._id.charAt(0),o=t.side;return"free"!==t.anchor?n=t._anchorAxis:"x"===i?n={_offset:r.t+(1-(t.position||0))*r.h,_length:0}:"y"===i&&(n={_offset:r.l+(t.position||0)*r.w,_length:0}),"top"===o||"left"===o?n._offset:"bottom"===o||"right"===o?n._offset+n._length:void 0},S.shouldShowZeroLine=function(e,t,n){var r=s.simpleMap(t.range,t.r2l);return r[0]*r[1]<=0&&t.zeroline&&("linear"===t.type||"-"===t.type)&&(X(t,0)||!function(e,t,n,r){var i=n._mainAxis;if(i){var o=e._fullLayout,a=t._id.charAt(0),s=S.counterLetter(t._id),l=t._offset+(Math.abs(r[0])<Math.abs(r[1])==("x"===a)?0:t._length),u=o._plots[n._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return h(n);for(var c=S.list(e,s),f=0;f<c.length;f++){var d=c[f];if(d._mainAxis===i&&h(d))return!0}}function h(e){if(!e.showline||!e.linewidth)return!1;var n=Math.max((e.linewidth+t.zerolinewidth)/2,1);function r(e){return"number"==typeof e&&Math.abs(e-l)<n}if(r(e._mainLinePosition)||r(e._mainMirrorPosition))return!0;var i=e._linepositions||{};for(var o in i)if(r(i[o][0])||r(i[o][1]))return!0}}(e,t,n,r)||function(e,t){for(var n=e._fullData,r=t._mainSubplot,i=t._id.charAt(0),o=0;o<n.length;o++){var s=n[o];if(!0===s.visible&&s.xaxis+s.yaxis===r){if(a.traceIs(s,"bar-like")&&s.orientation==={x:"h",y:"v"}[i])return!0;if(s.fill&&s.fill.charAt(s.fill.length-1)===i)return!0}}return!1}(e,t))},S.clipEnds=function(e,t){return t.filter((function(t){return X(e,t.x)}))},S.allowAutoMargin=function(e){for(var t=S.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];r.automargin&&(o.allowAutoMargin(e,Z(r)),r.mirror&&o.allowAutoMargin(e,K(r))),a.getComponentMethod("rangeslider","isVisible")(r)&&o.allowAutoMargin(e,J(r))}},S.swap=function(e,t){for(var n=function(e,t){var n,r,i=[];for(n=0;n<t.length;n++){var o=[],a=e._fullData[t[n]].xaxis,s=e._fullData[t[n]].yaxis;if(a&&s){for(r=0;r<i.length;r++)-1===i[r].x.indexOf(a)&&-1===i[r].y.indexOf(s)||o.push(r);if(o.length){var l,u=i[o[0]];if(o.length>1)for(r=1;r<o.length;r++)l=i[o[r]],Q(u.x,l.x),Q(u.y,l.y);Q(u.x,[a]),Q(u.y,[s])}else i.push({x:[a],y:[s]})}}return i}(e,t),r=0;r<n.length;r++)ee(e,n[r].x,n[r].y)}},{"../../components/color":377,"../../components/drawing":398,"../../components/titles":464,"../../constants/alignment":471,"../../constants/numerical":476,"../../lib":497,"../../lib/svg_text_utils":520,"../../plots/plots":586,"../../registry":595,"./autorange":542,"./axis_autotype":544,"./axis_ids":546,"./clean_ticks":548,"./layout_attributes":555,"./set_convert":561,d3:82,"fast-isnumeric":91}],544:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../constants/numerical").BADNUM;t.exports=function(e,t,n){return!(n=n||{}).noMultiCategory&&(a=e,i.isArrayOrTypedArray(a[0])&&i.isArrayOrTypedArray(a[1]))?"multicategory":function(e,t){for(var n=Math.max(1,(e.length-1)/1e3),o=0,a=0,s={},l=0;l<e.length;l+=n){var u=e[Math.round(l)],c=String(u);s[c]||(s[c]=1,i.isDateTime(u,t)&&(o+=1),r(u)&&(a+=1))}return o>2*a}(e,t)?"date":function(e){for(var t=Math.max(1,(e.length-1)/1e3),n=0,r=0,a={},s=0;s<e.length;s+=t){var l=e[Math.round(s)],u=String(l);a[u]||(a[u]=1,"boolean"==typeof l?r++:i.cleanNumber(l)!==o?n++:"string"==typeof l&&r++)}return r>2*n}(e)?"category":function(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(r(e[t]))return!0;return!1}(e)?"linear":"-";var a}},{"../../constants/numerical":476,"../../lib":497,"fast-isnumeric":91}],545:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("./layout_attributes"),a=e("./tick_value_defaults"),s=e("./tick_mark_defaults"),l=e("./tick_label_defaults"),u=e("./category_order_defaults"),c=e("./line_grid_defaults"),f=e("./set_convert");t.exports=function(e,t,n,d,h){var p=d.letter,m=d.font||{},g=d.splomStash||{},v=n("visible",!d.visibleDflt),y=t.type;"date"===y&&r.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",d.calendar),f(t,h);var b=!t.isValidRange(e.range);b&&d.reverseDflt&&(b="reversed"),!n("autorange",b)||"linear"!==y&&"-"!==y||n("rangemode"),n("range"),t.cleanRange(),u(e,t,n,d),"category"===y||d.noHover||n("hoverformat");var x=n("color"),_=x!==o.color.dflt?x:m.color,w=g.label||h._dfltTitle[p];if(l(e,t,n,y,d,{pass:1}),!v)return t;n("title.text",w),i.coerceFont(n,"title.font",{family:m.family,size:Math.round(1.2*m.size),color:_}),a(e,t,n,y),l(e,t,n,y,d,{pass:2}),s(e,t,n,d),c(e,t,n,{dfltColor:x,bgColor:d.bgColor,showGrid:d.showGrid,attributes:o}),(t.showline||t.ticks)&&n("mirror"),d.automargin&&n("automargin");var k,M="multicategory"===t.type;return d.noTickson||"category"!==t.type&&!M||!t.ticks&&!t.showgrid||(M&&(k="boundaries"),n("tickson",k)),M&&n("showdividers")&&(n("dividercolor"),n("dividerwidth")),t}},{"../../lib":497,"../../registry":595,"./category_order_defaults":547,"./layout_attributes":555,"./line_grid_defaults":557,"./set_convert":561,"./tick_label_defaults":562,"./tick_mark_defaults":563,"./tick_value_defaults":564}],546:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("./constants");n.id2name=function(e){if("string"==typeof e&&e.match(i.AX_ID_PATTERN)){var t=e.substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},n.name2id=function(e){if(e.match(i.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},n.cleanId=function(e,t){if(e.match(i.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)){var n=e.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),e.charAt(0)+n}},n.list=function(e,t,r){var i=e._fullLayout;if(!i)return[];var o,a=n.listIds(e,t),s=new Array(a.length);for(o=0;o<a.length;o++){var l=a[o];s[o]=i[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var u=i._subplots.gl3d||[];for(o=0;o<u.length;o++){var c=i[u[o]];t?s.push(c[t+"axis"]):s.push(c.xaxis,c.yaxis,c.zaxis)}}return s},n.listIds=function(e,t){var n=e._fullLayout;if(!n)return[];var r=n._subplots;return t?r[t+"axis"]:r.xaxis.concat(r.yaxis)},n.getFromId=function(e,t,r){var i=e._fullLayout;return"x"===r?t=t.replace(/y[0-9]*/,""):"y"===r&&(t=t.replace(/x[0-9]*/,"")),i[n.id2name(t)]},n.getFromTrace=function(e,t,i){var o=e._fullLayout,a=null;if(r.traceIs(t,"gl3d")){var s=t.scene;"scene"===s.substr(0,5)&&(a=o[s][i+"axis"])}else a=n.getFromId(e,t[i+"axis"]||i);return a},n.idSort=function(e,t){var n=e.charAt(0),r=t.charAt(0);return n!==r?n>r?1:-1:+(e.substr(1)||1)-+(t.substr(1)||1)},n.getAxisGroup=function(e,t){for(var n=e._axisMatchGroups,r=0;r<n.length;r++)if(n[r][t])return"g"+r;return t}},{"../../registry":595,"./constants":549}],547:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){if("category"===t.type){var i,o=e.categoryarray,a=Array.isArray(o)&&o.length>0;a&&(i="array");var s,l=n("categoryorder",i);"array"===l&&(s=n("categoryarray")),a||"array"!==l||(l=t.categoryorder="trace"),"trace"===l?t._initialCategories=[]:"array"===l?t._initialCategories=s.slice():(s=function(e,t){var n,r,i,o=t.dataAttr||e._id.charAt(0),a={};if(t.axData)n=t.axData;else for(n=[],r=0;r<t.data.length;r++){var s=t.data[r];s[o+"axis"]===e._id&&n.push(s)}for(r=0;r<n.length;r++){var l=n[r][o];for(i=0;i<l.length;i++){var u=l[i];null!=u&&(a[u]=1)}}return Object.keys(a)}(t,r).sort(),"category ascending"===l?t._initialCategories=s:"category descending"===l&&(t._initialCategories=s.reverse()))}}},{}],548:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../constants/numerical").ONEDAY;n.dtick=function(e,t){var n="log"===t,i="date"===t,a="category"===t,s=i?o:1;if(!e)return s;if(r(e))return(e=Number(e))<=0?s:a?Math.max(1,Math.round(e)):i?Math.max(.1,e):e;if("string"!=typeof e||!i&&!n)return s;var l=e.charAt(0),u=e.substr(1);return(u=r(u)?Number(u):0)<=0||!(i&&"M"===l&&u===Math.round(u)||n&&"L"===l||n&&"D"===l&&(1===u||2===u))?s:e},n.tick0=function(e,t,n,o){return"date"===t?i.cleanDate(e,i.dateTick0(n)):"D1"!==o&&"D2"!==o?r(e)?Number(e):0:void 0}},{"../../constants/numerical":476,"../../lib":497,"fast-isnumeric":91}],549:[function(e,t,n){"use strict";var r=e("../../lib/regex").counter;t.exports={idRegex:{x:r("x"),y:r("y")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":512}],550:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./axis_ids").id2name,o=e("./scale_zoom"),a=e("./autorange").makePadFn,s=e("./autorange").concatExtremes,l=e("../../constants/numerical").ALMOST_EQUAL,u=e("../../constants/alignment").FROM_BL;function c(e,t,n,r,o){var a,s,l,u,c="range"!==o,f=r[i(t)].type,d=[];for(s=0;s<n.length;s++)(l=n[s])!==t&&(u=r[i(l)]).type===f&&(u.fixedrange?c&&u.anchor&&r[i(u.anchor)].fixedrange&&d.push(l):d.push(l));for(a=0;a<e.length;a++)if(e[a][t]){var h=e[a],p=[];for(s=0;s<d.length;s++)h[l=d[s]]||p.push(l);return{linkableAxes:p,thisGroup:h}}return{linkableAxes:d,thisGroup:null}}function f(e,t,n,r,i){var o,a,s,l,u;null===t?((t={})[n]=1,u=e.length,e.push(t)):u=e.indexOf(t);var c=Object.keys(t);for(o=0;o<e.length;o++)if(s=e[o],o!==u&&s[r]){var f=s[r];for(a=0;a<c.length;a++)s[l=c[a]]=f*i*t[l];return void e.splice(u,1)}if(1!==i)for(a=0;a<c.length;a++)t[c[a]]*=i;t[r]=1}function d(e,t){var n=e._inputDomain,r=u[e.constraintoward],i=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[i+(n[0]-i)/t,i+(n[1]-i)/t],e.setScale()}n.handleConstraintDefaults=function(e,t,n,i,o){var a,s,l,u,d=o._axisConstraintGroups,h=o._axisMatchGroups,p=t._id,m=p.charAt(0),g=((o._splomAxes||{})[m]||{})[p]||{},v=t._id,y=v.charAt(0),b=n("constrain");if(r.coerce(e,t,{constraintoward:{valType:"enumerated",values:"x"===y?["left","center","right"]:["bottom","middle","top"],dflt:"x"===y?"center":"middle"}},"constraintoward"),!e.matches&&!g.matches||t.fixedrange||(s=c(h,v,i,o),a=r.coerce(e,t,{matches:{valType:"enumerated",values:s.linkableAxes||[],dflt:g.matches}},"matches")),a||!e.scaleanchor||t.fixedrange&&"domain"!==b||(u=c(d,v,i,o,b),l=r.coerce(e,t,{scaleanchor:{valType:"enumerated",values:u.linkableAxes||[]}},"scaleanchor")),a?(delete t.constrain,f(h,s.thisGroup,v,a,1)):-1!==i.indexOf(e.matches)&&r.warn("ignored "+t._name+'.matches: "'+e.matches+'" to avoid either an infinite loop or because the target axis has fixed range.'),l){var x=n("scaleratio");x||(x=t.scaleratio=1),f(d,u.thisGroup,v,l,x)}else-1!==i.indexOf(e.scaleanchor)&&r.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the target axis has fixed range or this axis declares a *matches* constraint.')},n.enforce=function(e){var t,n,r,u,c,f,h,p=e._fullLayout,m=p._axisConstraintGroups||[];for(t=0;t<m.length;t++){var g=m[t],v=Object.keys(g),y=1/0,b=0,x=1/0,_={},w={},k=!1;for(n=0;n<v.length;n++)w[r=v[n]]=u=p[i(r)],u._inputDomain?u.domain=u._inputDomain.slice():u._inputDomain=u.domain.slice(),u._inputRange||(u._inputRange=u.range.slice()),u.setScale(),_[r]=c=Math.abs(u._m)/g[r],y=Math.min(y,c),"domain"!==u.constrain&&u._constraintShrinkable||(x=Math.min(x,c)),delete u._constraintShrinkable,b=Math.max(b,c),"domain"===u.constrain&&(k=!0);if(!(y>l*b)||k)for(n=0;n<v.length;n++)if(c=_[r=v[n]],f=(u=w[r]).constrain,c!==x||"domain"===f)if(h=c/x,"range"===f)o(u,h);else{var M=u._inputDomain,T=(u.domain[1]-u.domain[0])/(M[1]-M[0]),S=(u.r2l(u.range[1])-u.r2l(u.range[0]))/(u.r2l(u._inputRange[1])-u.r2l(u._inputRange[0]));if((h/=T)*S<1){u.domain=u._input.domain=M.slice(),o(u,h);continue}if(S<1&&(u.range=u._input.range=u._inputRange.slice(),h*=S),u.autorange){var E=u.r2l(u.range[0]),A=u.r2l(u.range[1]),O=(E+A)/2,C=O,N=O,D=Math.abs(A-O),P=O-D*h*1.0001,R=O+D*h*1.0001,L=a(u);d(u,h);var I,j,z=Math.abs(u._m),F=s(e,u),B=F.min,U=F.max;for(j=0;j<B.length;j++)(I=B[j].val-L(B[j])/z)>P&&I<C&&(C=I);for(j=0;j<U.length;j++)(I=U[j].val+L(U[j])/z)<R&&I>N&&(N=I);h/=(N-C)/(2*D),C=u.l2r(C),N=u.l2r(N),u.range=u._input.range=E<A?[C,N]:[N,C]}d(u,h)}}},n.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,i=e._fullLayout._axisConstraintGroups,o=0;o<i.length;o++)if(i[o][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},{"../../constants/alignment":471,"../../constants/numerical":476,"../../lib":497,"./autorange":542,"./axis_ids":546,"./scale_zoom":559}],551:[function(e,t,n){"use strict";var r=e("d3"),i=e("tinycolor2"),o=e("has-passive-events"),a=e("../../registry"),s=e("../../lib"),l=e("../../lib/svg_text_utils"),u=e("../../components/color"),c=e("../../components/drawing"),f=e("../../components/fx"),d=e("./axes"),h=e("../../lib/setcursor"),p=e("../../components/dragelement"),m=e("../../constants/alignment").FROM_TL,g=e("../../lib/clear_gl_canvases"),v=e("../../plot_api/subroutines").redrawReglTraces,y=e("../plots"),b=e("./axis_ids").getFromId,x=e("./select").prepSelect,_=e("./select").clearSelect,w=e("./select").selectOnClick,k=e("./scale_zoom"),M=e("./constants"),T=M.MINDRAG,S=M.MINZOOM,E=!0;function A(e,t,n,r){var i=s.ensureSingle(e.draglayer,t,n,(function(t){t.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)}));return i.call(h,r),i.node()}function O(e,t,n,i,o,a,s){var l=A(e,"rect",t,n);return r.select(l).call(c.setRect,i,o,a,s),l}function C(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function N(e,t,n,r,i){for(var o=0;o<e.length;o++){var a=e[o];if(!a.fixedrange){var s=a._rl[0],l=a._rl[1]-s;r[a._name+".range[0]"]=a.l2r(s+l*t),r[a._name+".range[1]"]=a.l2r(s+l*n)}}if(i&&i.length){var u=(t+(1-n))/2;N(i,u,1-u,r,[])}}function D(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.fixedrange||(r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)])}}function P(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function R(e,t,n,r,i){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+n+", "+r+")").attr("d",i+"Z")}function L(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+t+", "+n+")").attr("d","M0,0Z")}function I(e,t,n,r,i,o){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),j(e,t,i,o)}function j(e,t,n,r){n||(e.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function z(e){r.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function F(e){E&&e.data&&e._context.showTips&&(s.notifier(s._(e,"Double-click to zoom back out"),"long"),E=!1)}function B(e){return"lasso"===e||"select"===e}function U(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,S)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function H(e,t,n,r){for(var i,o,a,l,u=!1,c={},f={},d=0;d<t.length;d++){var h=t[d];for(i in n)if(h[i]){for(a in h)("x"===a.charAt(0)?n:r)[a]||(c[a]=i);for(o in r)h[o]&&(u=!0)}for(o in r)if(h[o])for(l in h)("x"===l.charAt(0)?n:r)[l]||(f[l]=o)}u&&(s.extendFlat(c,f),f={});var p={},m=[];for(a in c){var g=b(e,a);m.push(g),p[g._id]=g}var v={},y=[];for(l in f){var x=b(e,l);y.push(x),v[x._id]=x}return{xaHash:p,yaHash:v,xaxes:m,yaxes:y,xLinks:c,yLinks:f,isSubplotConstrained:u}}function q(e,t){if(o){var n=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(n,e._onwheel),e._onwheel=t,e.addEventListener(n,t,{passive:!1})}else void 0!==e.onwheel?e.onwheel=t:void 0!==e.onmousewheel&&(e.onmousewheel=t)}function V(e){var t=[];for(var n in e)t.push(e[n]);return t}t.exports={makeDragBox:function(e,t,n,o,u,h,E,A){var j,W,Y,G,X,$,Z,K,J,Q,ee,te,ne,re,ie,oe,ae,se,le,ue,ce,fe=e._fullLayout._zoomlayer,de=E+A==="nsew",he=1===(E+A).length;function pe(){if(j=t.xaxis,W=t.yaxis,J=j._length,Q=W._length,Z=j._offset,K=W._offset,(Y={})[j._id]=j,(G={})[W._id]=W,E&&A)for(var n=t.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;Y[i._id]=i;var o=n[r].yaxis;G[o._id]=o}X=V(Y),$=V(G),ne=C(X,A),re=C($,E),ie=!re&&!ne,ee=H(e,e._fullLayout._axisConstraintGroups,Y,G),te=H(e,e._fullLayout._axisMatchGroups,Y,G),oe=A||ee.isSubplotConstrained||te.isSubplotConstrained,ae=E||ee.isSubplotConstrained||te.isSubplotConstrained;var a=e._fullLayout;se=a._has("scattergl"),le=a._has("splom"),ue=a._has("svg")}pe();var me=function(e,t,n){return e?"nsew"===e?n?"":"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}(re+ne,e._fullLayout.dragmode,de),ge=O(t,E+A+"drag",me,n,o,u,h);if(ie&&!de)return ge.onmousedown=null,ge.style.pointerEvents="none",ge;var ve,ye,be,xe,_e,we,ke,Me,Te,Se,Ee={element:ge,gd:e,plotinfo:t};function Ae(){Ee.plotinfo.selection=!1,_(e)}function Oe(n,i){var o=e._fullLayout.clickmode;if(z(e),2!==n||he||function(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,n=[];ne&&(n=n.concat(X)),re&&(n=n.concat($)),te.xaxes&&(n=n.concat(te.xaxes)),te.yaxes&&(n=n.concat(te.yaxes));var r,i,o,s={};if("reset+autosize"===t)for(t="autosize",i=0;i<n.length;i++)if((r=n[i])._rangeInitial&&(r.range[0]!==r._rangeInitial[0]||r.range[1]!==r._rangeInitial[1])||!r._rangeInitial&&!r.autorange){t="reset";break}if("autosize"===t)for(i=0;i<n.length;i++)(r=n[i]).fixedrange||(s[r._name+".autorange"]=!0);else if("reset"===t)for((ne||ee.isSubplotConstrained)&&(n=n.concat(ee.xaxes)),re&&!ee.isSubplotConstrained&&(n=n.concat(ee.yaxes)),ee.isSubplotConstrained&&(ne?re||(n=n.concat($)):n=n.concat(X)),i=0;i<n.length;i++)(r=n[i]).fixedrange||(r._rangeInitial?(o=r._rangeInitial,s[r._name+".range[0]"]=o[0],s[r._name+".range[1]"]=o[1]):s[r._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),a.call("_guiRelayout",e,s)}}(),de)o.indexOf("select")>-1&&w(i,e,X,$,t.id,Ee),o.indexOf("event")>-1&&f.click(e,i,t.id);else if(1===n&&he){var s=E?W:j,u="s"===E||"w"===A?0:1,c=s._name+".range["+u+"]",d=function(e,t){var n,i=e.range[t],o=Math.abs(i-e.range[1-t]);return"date"===e.type?i:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(o)/Math.LN10))+3,r.format("."+n+"g")(Math.pow(10,i))):(n=Math.floor(Math.log(Math.abs(i))/Math.LN10)-Math.floor(Math.log(o)/Math.LN10)+4,r.format("."+String(n)+"g")(i))}(s,u),h="left",p="middle";if(s.fixedrange)return;E?(p="n"===E?"top":"bottom","right"===s.side&&(h="right")):"e"===A&&(h="right"),e._context.showAxisRangeEntryBoxes&&r.select(ge).call(l.makeEditable,{gd:e,immediate:!0,background:e._fullLayout.paper_bgcolor,text:String(d),fill:s.tickfont?s.tickfont.color:"#444",horizontalAlign:h,verticalAlign:p}).on("edit",(function(t){var n=s.d2r(t);void 0!==n&&a.call("_guiRelayout",e,c,n)}))}}function Ce(t,n){if(e._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(J,t+ve)),i=Math.max(0,Math.min(Q,n+ye)),o=Math.abs(r-ve),a=Math.abs(i-ye);function s(){ke="",be.r=be.l,be.t=be.b,Te.attr("d","M0,0Z")}if(be.l=Math.min(ve,r),be.r=Math.max(ve,r),be.t=Math.min(ye,i),be.b=Math.max(ye,i),ee.isSubplotConstrained)o>S||a>S?(ke="xy",o/J>a/Q?(a=o*Q/J,ye>i?be.t=ye-a:be.b=ye+a):(o=a*J/Q,ve>r?be.l=ve-o:be.r=ve+o),Te.attr("d",U(be))):s();else if(te.isSubplotConstrained)if(o>S||a>S){ke="xy";var l=Math.min(be.l/J,(Q-be.b)/Q),u=Math.max(be.r/J,(Q-be.t)/Q);be.l=l*J,be.r=u*J,be.b=(1-l)*Q,be.t=(1-u)*Q,Te.attr("d",U(be))}else s();else!re||a<Math.min(Math.max(.6*o,T),S)?o<T||!ne?s():(be.t=0,be.b=Q,ke="x",Te.attr("d",function(e,t){return"M"+(e.l-.5)+","+(t-S-.5)+"h-3v"+(2*S+1)+"h3ZM"+(e.r+.5)+","+(t-S-.5)+"h3v"+(2*S+1)+"h-3Z"}(be,ye))):!ne||o<Math.min(.6*a,S)?(be.l=0,be.r=J,ke="y",Te.attr("d",function(e,t){return"M"+(t-S-.5)+","+(e.t-.5)+"v-3h"+(2*S+1)+"v3ZM"+(t-S-.5)+","+(e.b+.5)+"v3h"+(2*S+1)+"v-3Z"}(be,ve))):(ke="xy",Te.attr("d",U(be)));be.w=be.r-be.l,be.h=be.b-be.t,ke&&(Se=!0),e._dragged=Se,I(Me,Te,be,_e,we,xe),Ne(),e.emit("plotly_relayouting",ce),we=!0}function Ne(){ce={},"xy"!==ke&&"x"!==ke||(N(X,be.l/J,be.r/J,ce,ee.xaxes),ze("x",ce)),"xy"!==ke&&"y"!==ke||(N($,(Q-be.b)/Q,(Q-be.t)/Q,ce,ee.yaxes),ze("y",ce))}function De(){Ne(),z(e),Be(),F(e)}Ee.prepFn=function(t,n,r){var o=Ee.dragmode,a=e._fullLayout.dragmode;a!==o&&(Ee.dragmode=a),pe(),ie||(de?t.shiftKey?"pan"===a?a="zoom":B(a)||(a="pan"):t.ctrlKey&&(a="pan"):a="pan"),Ee.minDrag="lasso"===a?1:void 0,B(a)?(Ee.xaxes=X,Ee.yaxes=$,x(t,n,r,Ee,a)):(Ee.clickFn=Oe,B(o)&&Ae(),ie||("zoom"===a?(Ee.moveFn=Ce,Ee.doneFn=De,Ee.minDrag=1,function(t,n,r){var o=ge.getBoundingClientRect();ve=n-o.left,ye=r-o.top,be={l:ve,r:ve,w:0,t:ye,b:ye,h:0},xe=e._hmpixcount?e._hmlumcount/e._hmpixcount:i(e._fullLayout.plot_bgcolor).getLuminance(),we=!1,ke="xy",Se=!1,Me=R(fe,xe,Z,K,_e="M0,0H"+J+"V"+Q+"H0V0"),Te=L(fe,Z,K)}(0,n,r)):"pan"===a&&(Ee.moveFn=je,Ee.doneFn=Be))),e._fullLayout._redrag=function(){var t=e._dragdata;t&&t.element===ge&&(B(e._fullLayout.dragmode)||(pe(),Ue([0,0,J,Q]),Ee.moveFn(t.dx,t.dy)))}},p.init(Ee);var Pe=[0,0,J,Q],Re=null,Le=M.REDRAWDELAY,Ie=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function je(t,n){if(!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===ne||"ns"===re)return ne&&(D(X,t),ze("x")),re&&(D($,n),ze("y")),Ue([ne?-t:0,re?-n:0,J,Q]),Fe(),void e.emit("plotly_relayouting",ce);if(ee.isSubplotConstrained&&ne&&re){var r="w"===ne==("n"===re)?1:-1,i=(t/J+r*n/Q)/2;t=i*J,n=r*i*Q}"w"===ne?t=l(X,0,t):"e"===ne?t=l(X,1,-t):ne||(t=0),"n"===re?n=l($,1,n):"s"===re?n=l($,0,-n):re||(n=0);var o="w"===ne?t:0,a="n"===re?n:0;if(ee.isSubplotConstrained){var s;if(!ne&&1===re.length){for(s=0;s<X.length;s++)X[s].range=X[s]._r.slice(),k(X[s],1-n/Q);o=(t=n*J/Q)/2}if(!re&&1===ne.length){for(s=0;s<$.length;s++)$[s].range=$[s]._r.slice(),k($[s],1-t/J);a=(n=t*Q/J)/2}}ze("x"),ze("y"),Ue([o,a,J-t,Q-n]),Fe(),e.emit("plotly_relayouting",ce)}function l(e,t,n){for(var r,i,o=1-t,a=0;a<e.length;a++){var s=e[a];if(!s.fixedrange){r=s,i=s._rl[o]+(s._rl[t]-s._rl[o])/P(n/s._length);var l=s.l2r(i);!1!==l&&void 0!==l&&(s.range[t]=l)}}return r._length*(r._rl[t]-i)/(r._rl[t]-r._rl[o])}}function ze(e,t){for(var n=te.isSubplotConstrained?{x:$,y:X}[e]:te[e+"axes"],r=te.isSubplotConstrained?{x:X,y:$}[e]:[],i=0;i<n.length;i++){var o=n[i],a=o._id,s=te.xLinks[a]||te.yLinks[a],l=r[0]||Y[s]||G[s];l&&(t?(t[o._name+".range[0]"]=t[l._name+".range[0]"],t[o._name+".range[1]"]=t[l._name+".range[1]"]):o.range=l.range.slice())}}function Fe(){var t,n=[];function r(e){for(t=0;t<e.length;t++)e[t].fixedrange||n.push(e[t]._id)}for(oe&&(r(X),r(ee.xaxes),r(te.xaxes)),ae&&(r($),r(ee.yaxes),r(te.yaxes)),ce={},t=0;t<n.length;t++){var i=n[t],o=b(e,i);d.drawOne(e,o,{skipTitle:!0}),ce[o._name+".range[0]"]=o.range[0],ce[o._name+".range[1]"]=o.range[1]}d.redrawComponents(e,n)}function Be(){Ue([0,0,J,Q]),s.syncOrAsync([y.previousPromises,function(){e._fullLayout._replotting=!1,a.call("_guiRelayout",e,ce)}],e)}function Ue(t){var n,r,i,o,l=e._fullLayout,u=l._plots,f=l._subplots.cartesian;if(le&&a.subplotsRegistry.splom.drag(e),se)for(n=0;n<f.length;n++)if(i=(r=u[f[n]]).xaxis,o=r.yaxis,r._scene){var d=s.simpleMap(i.range,i.r2l),h=s.simpleMap(o.range,o.r2l);r._scene.update({range:[d[0],h[0],d[1],h[1]]})}if((le||se)&&(g(e),v(e)),ue){var p=t[2]/j._length,m=t[3]/W._length;for(n=0;n<f.length;n++){i=(r=u[f[n]]).xaxis,o=r.yaxis;var y,b,x,_,w=oe&&!i.fixedrange&&Y[i._id],k=ae&&!o.fixedrange&&G[o._id];if(w?(y=p,x=A?t[0]:Ve(i,y)):te.xaHash[i._id]?(y=p,x=t[0]*i._length/j._length):te.yaHash[i._id]?(y=m,x="ns"===re?-t[1]*i._length/W._length:Ve(i,y,{n:"top",s:"bottom"}[re])):x=qe(i,y=He(i,p,m)),k?(b=m,_=E?t[1]:Ve(o,b)):te.yaHash[o._id]?(b=m,_=t[1]*o._length/W._length):te.xaHash[o._id]?(b=p,_="ew"===ne?-t[0]*o._length/j._length:Ve(o,b,{e:"right",w:"left"}[ne])):_=qe(o,b=He(o,p,m)),y||b){y||(y=1),b||(b=1);var M=i._offset-x/y,T=o._offset-_/b;r.clipRect.call(c.setTranslate,x,_).call(c.setScale,y,b),r.plot.call(c.setTranslate,M,T).call(c.setScale,1/y,1/b),y===r.xScaleFactor&&b===r.yScaleFactor||(c.setPointGroupScale(r.zoomScalePts,y,b),c.setTextPointsScale(r.zoomScaleTxt,y,b)),c.hideOutsideRangePoints(r.clipOnAxisFalseTraces,r),r.xScaleFactor=y,r.yScaleFactor=b}}}}function He(e,t,n){return e.fixedrange?0:oe&&ee.xaHash[e._id]?t:ae&&(ee.isSubplotConstrained?ee.xaHash:ee.yaHash)[e._id]?n:0}function qe(e,t){return t?(e.range=e._r.slice(),k(e,t),Ve(e,t)):0}function Ve(e,t,n){return e._length*(1-t)*m[n||e.constraintoward||"middle"]}return E.length*A.length!=1&&q(ge,(function(t){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(Ae(),e._transitioningWithDuration)return t.preventDefault(),void t.stopPropagation();pe(),clearTimeout(Re);var n=-t.deltaY;if(isFinite(n)||(n=t.wheelDelta/10),isFinite(n)){var r,i=Math.exp(-Math.min(Math.max(n,-20),20)/200),o=Ie.draglayer.select(".nsewdrag").node().getBoundingClientRect(),a=(t.clientX-o.left)/o.width,l=(o.bottom-t.clientY)/o.height;if(oe){for(A||(a=.5),r=0;r<X.length;r++)u(X[r],a,i);ze("x"),Pe[2]*=i,Pe[0]+=Pe[2]*a*(1/i-1)}if(ae){for(E||(l=.5),r=0;r<$.length;r++)u($[r],l,i);ze("y"),Pe[3]*=i,Pe[1]+=Pe[3]*(1-l)*(1/i-1)}Ue(Pe),Fe(),e.emit("plotly_relayouting",ce),Re=setTimeout((function(){Pe=[0,0,J,Q],Be()}),Le),t.preventDefault()}else s.log("Did not find wheel motion attributes: ",t)}function u(e,t,n){if(!e.fixedrange){var r=s.simpleMap(e.range,e.r2l),i=r[0]+(r[1]-r[0])*t;e.range=r.map((function(t){return e.l2r(i+(t-i)*n)}))}}})),ge},makeDragger:A,makeRectDragger:O,makeZoombox:R,makeCorners:L,updateZoombox:I,xyCorners:U,transitionZoombox:j,removeZoombox:z,showDoubleClickNotifier:F,attachWheelEventHandler:q}},{"../../components/color":377,"../../components/dragelement":395,"../../components/drawing":398,"../../components/fx":415,"../../constants/alignment":471,"../../lib":497,"../../lib/clear_gl_canvases":485,"../../lib/setcursor":516,"../../lib/svg_text_utils":520,"../../plot_api/subroutines":534,"../../registry":595,"../plots":586,"./axes":543,"./axis_ids":546,"./constants":549,"./scale_zoom":559,"./select":560,d3:82,"has-passive-events":253,tinycolor2:343}],552:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/fx"),o=e("../../components/dragelement"),a=e("../../lib/setcursor"),s=e("./dragbox").makeDragBox,l=e("./constants").DRAGGERSIZE;n.initInteractions=function(e){var t=e._fullLayout;if(e._context.staticPlot)r.select(e).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort((function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),i=n.split("y");return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return t._plots[e].mainplot?1:-1})).forEach((function(n){var r=t._plots[n],a=r.xaxis,u=r.yaxis;if(!r.mainplot){var c=s(e,r,a._offset,u._offset,a._length,u._length,"ns","ew");c.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&e._fullLayout._plots[n]&&i.hover(e,t,n)},i.hover(e,t,n),e._fullLayout._lasthover=c,e._fullLayout._hoversubplot=n},c.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,o.unhover(e,t))},e._context.showAxisDragHandles&&(s(e,r,a._offset-l,u._offset-l,l,l,"n","w"),s(e,r,a._offset+a._length,u._offset-l,l,l,"n","e"),s(e,r,a._offset-l,u._offset+u._length,l,l,"s","w"),s(e,r,a._offset+a._length,u._offset+u._length,l,l,"s","e"))}if(e._context.showAxisDragHandles){if(n===a._mainSubplot){var f=a._mainLinePosition;"top"===a.side&&(f-=l),s(e,r,a._offset+.1*a._length,f,.8*a._length,l,"","ew"),s(e,r,a._offset,f,.1*a._length,l,"","w"),s(e,r,a._offset+.9*a._length,f,.1*a._length,l,"","e")}if(n===u._mainSubplot){var d=u._mainLinePosition;"right"!==u.side&&(d-=l),s(e,r,d,u._offset+.1*u._length,l,.8*u._length,"ns",""),s(e,r,d,u._offset+.9*u._length,l,.1*u._length,"s",""),s(e,r,d,u._offset,l,.1*u._length,"n","")}}}));var a=t._hoverlayer.node();a.onmousemove=function(n){n.target=e._fullLayout._lasthover,i.hover(e,n,t._hoversubplot)},a.onclick=function(t){t.target=e._fullLayout._lasthover,i.click(e,t)},a.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},n.updateFx(e)}},n.updateFx=function(e){var t=e._fullLayout,n="pan"===t.dragmode?"move":"crosshair";a(t._draggers,n)}},{"../../components/dragelement":395,"../../components/fx":415,"../../lib/setcursor":516,"./constants":549,"./dragbox":551,d3:82}],553:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib");t.exports=function(e){return function(t,n){var o=t[e];if(Array.isArray(o))for(var a=r.subplotsRegistry.cartesian,s=a.idRegex,l=n._subplots,u=l.xaxis,c=l.yaxis,f=l.cartesian,d=n._has("cartesian")||n._has("gl2d"),h=0;h<o.length;h++){var p=o[h];if(i.isPlainObject(p)){var m=p.xref,g=p.yref,v=s.x.test(m),y=s.y.test(g);if(v||y){d||i.pushUnique(n._basePlotModules,a);var b=!1;v&&-1===u.indexOf(m)&&(u.push(m),b=!0),y&&-1===c.indexOf(g)&&(c.push(g),b=!0),b&&v&&y&&f.push(m+g)}}}}}},{"../../lib":497,"../../registry":595}],554:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../lib"),a=e("../plots"),s=e("../../components/drawing"),l=e("../get_data").getModuleCalcData,u=e("./axis_ids"),c=e("./constants"),f=e("../../constants/xmlns_namespaces"),d=o.ensureSingle;function h(e,t,n){return o.ensureSingle(e,t,n,(function(e){e.datum(n)}))}function p(e,t,n,o,a){for(var u,f,d,h=c.traceLayerClasses,p=e._fullLayout,m=p._modules,g=[],v=[],y=0;y<m.length;y++){var b=(u=m[y]).name,x=i.modules[b].categories;if(x.svg){var _=u.layerName||b+"layer",w=u.plot;d=(f=l(n,w))[0],n=f[1],d.length&&g.push({i:h.indexOf(_),className:_,plotMethod:w,cdModule:d}),x.zoomScale&&v.push("."+_)}}g.sort((function(e,t){return e.i-t.i}));var k=t.plot.selectAll("g.mlayer").data(g,(function(e){return e.className}));if(k.enter().append("g").attr("class",(function(e){return e.className})).classed("mlayer",!0).classed("rangeplot",t.isRangePlot),k.exit().remove(),k.order(),k.each((function(n){var i=r.select(this),l=n.className;n.plotMethod(e,t,n.cdModule,i,o,a),-1===c.clipOnAxisFalseQuery.indexOf("."+l)&&s.setClipUrl(i,t.layerClipId,e)})),p._has("scattergl")&&(u=i.getModule("scattergl"),d=l(n,u)[0],u.plot(e,t,d)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(c.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),v.length)){var M=t.plot.selectAll(v.join(",")).selectAll(".trace");t.zoomScalePts=M.selectAll("path.point"),t.zoomScaleTxt=M.selectAll(".textpoint")}}function m(e,t){var n=t.plotgroup,r=t.id,i=c.layerValue2layerClass[t.xaxis.layer],o=c.layerValue2layerClass[t.yaxis.layer],a=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var s=t.mainplotinfo,l=s.plotgroup,f=r+"-x",p=r+"-y";t.gridlayer=s.gridlayer,t.zerolinelayer=s.zerolinelayer,d(s.overlinesBelow,"path",f),d(s.overlinesBelow,"path",p),d(s.overaxesBelow,"g",f),d(s.overaxesBelow,"g",p),t.plot=d(s.overplot,"g",r),d(s.overlinesAbove,"path",f),d(s.overlinesAbove,"path",p),d(s.overaxesAbove,"g",f),d(s.overaxesAbove,"g",p),t.xlines=l.select(".overlines-"+i).select("."+f),t.ylines=l.select(".overlines-"+o).select("."+p),t.xaxislayer=l.select(".overaxes-"+i).select("."+f),t.yaxislayer=l.select(".overaxes-"+o).select("."+p)}else if(a)t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.xaxislayer=d(n,"g","xaxislayer-above"),t.yaxislayer=d(n,"g","yaxislayer-above");else{var m=d(n,"g","layer-subplot");t.shapelayer=d(m,"g","shapelayer"),t.imagelayer=d(m,"g","imagelayer"),t.gridlayer=d(n,"g","gridlayer"),t.zerolinelayer=d(n,"g","zerolinelayer"),d(n,"path","xlines-below"),d(n,"path","ylines-below"),t.overlinesBelow=d(n,"g","overlines-below"),d(n,"g","xaxislayer-below"),d(n,"g","yaxislayer-below"),t.overaxesBelow=d(n,"g","overaxes-below"),t.plot=d(n,"g","plot"),t.overplot=d(n,"g","overplot"),t.xlines=d(n,"path","xlines-above"),t.ylines=d(n,"path","ylines-above"),t.overlinesAbove=d(n,"g","overlines-above"),d(n,"g","xaxislayer-above"),d(n,"g","yaxislayer-above"),t.overaxesAbove=d(n,"g","overaxes-above"),t.xlines=n.select(".xlines-"+i),t.ylines=n.select(".ylines-"+o),t.xaxislayer=n.select(".xaxislayer-"+i),t.yaxislayer=n.select(".yaxislayer-"+o)}a||(h(t.gridlayer,"g",t.xaxis._id),h(t.gridlayer,"g",t.yaxis._id),t.gridlayer.selectAll("g").map((function(e){return e[0]})).sort(u.idSort)),t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function g(e,t){if(e){var n={};for(var i in e.each((function(e){var i=e[0];r.select(this).remove(),v(i,t),n[i]=!0})),t._plots)for(var o=t._plots[i].overlays||[],a=0;a<o.length;a++){var s=o[a];n[s.id]&&s.plot.selectAll(".trace").remove()}}}function v(e,t){t._draggers.selectAll("g."+e).remove(),t._defs.select("#clip"+t._uid+e+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=c.idRegex,n.attrRegex=c.attrRegex,n.attributes=e("./attributes"),n.layoutAttributes=e("./layout_attributes"),n.supplyLayoutDefaults=e("./layout_defaults"),n.transitionAxes=e("./transition_axes"),n.finalizeSubplots=function(e,t){var n,r,i,a=t._subplots,s=a.xaxis,l=a.yaxis,f=a.cartesian,d=f.concat(a.gl2d||[]),h={},p={};for(n=0;n<d.length;n++){var m=d[n].split("y");h[m[0]]=1,p["y"+m[1]]=1}for(n=0;n<s.length;n++)h[r=s[n]]||(i=(e[u.id2name(r)]||{}).anchor,c.idRegex.y.test(i)||(i="y"),f.push(r+i),d.push(r+i),p[i]||(p[i]=1,o.pushUnique(l,i)));for(n=0;n<l.length;n++)p[i=l[n]]||(r=(e[u.id2name(i)]||{}).anchor,c.idRegex.x.test(r)||(r="x"),f.push(r+i),d.push(r+i),h[r]||(h[r]=1,o.pushUnique(s,r)));if(!d.length){for(var g in r="",i="",e)c.attrRegex.test(g)&&("x"===g.charAt(0)?(!r||+g.substr(5)<+r.substr(5))&&(r=g):(!i||+g.substr(5)<+i.substr(5))&&(i=g));r=r?u.name2id(r):"x",i=i?u.name2id(i):"y",s.push(r),l.push(i),f.push(r+i)}},n.plot=function(e,t,n,r){var i,o=e._fullLayout,a=o._subplots.cartesian,s=e.calcdata;if(!Array.isArray(t))for(t=[],i=0;i<s.length;i++)t.push(i);for(i=0;i<a.length;i++){for(var l,u=a[i],c=o._plots[u],f=[],d=0;d<s.length;d++){var h=s[d],m=h[0].trace;m.xaxis+m.yaxis===u&&((-1!==t.indexOf(m.index)||m.carpet)&&(l&&l[0].trace.xaxis+l[0].trace.yaxis===u&&-1!==["tonextx","tonexty","tonext"].indexOf(m.fill)&&-1===f.indexOf(l)&&f.push(l),f.push(h)),l=h)}p(e,c,f,n,r)}},n.clean=function(e,t,n,r){var i,o,a,s=r._plots||{},l=t._plots||{},c=r._subplots||{};if(r._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(a in s)(i=s[a]).plotgroup&&i.plotgroup.remove();var f=r._has&&r._has("gl"),d=t._has&&t._has("gl");if(f&&!d)for(a in s)(i=s[a])._scene&&i._scene.destroy();if(c.xaxis&&c.yaxis){var h=u.listIds({_fullLayout:r});for(o=0;o<h.length;o++){var p=h[o];t[u.id2name(p)]||r._infolayer.selectAll(".g-"+p+"title").remove()}}var m=r._has&&r._has("cartesian"),y=t._has&&t._has("cartesian");if(m&&!y)g(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups;else if(c.cartesian)for(o=0;o<c.cartesian.length;o++){var b=c.cartesian[o];if(!l[b]){var x="."+b+",."+b+"-x,."+b+"-y";r._cartesianlayer.selectAll(x).remove(),v(b,r)}}},n.drawFramework=function(e){var t=e._fullLayout,n=function(e){var t,n,r,i,o,a,s=e._fullLayout,l=s._subplots.cartesian,u=l.length,c=[],f=[];for(t=0;t<u;t++){r=l[t],o=(i=s._plots[r]).xaxis,a=i.yaxis;var d=o._mainAxis,h=a._mainAxis,p=d._id+h._id,m=s._plots[p];i.overlays=[],p!==r&&m?(i.mainplot=p,i.mainplotinfo=m,f.push(r)):(i.mainplot=void 0,i.mainPlotinfo=void 0,c.push(r))}for(t=0;t<f.length;t++)r=f[t],(i=s._plots[r]).mainplotinfo.overlays.push(i);var g=c.concat(f),v=new Array(u);for(t=0;t<u;t++){r=g[t],o=(i=s._plots[r]).xaxis,a=i.yaxis;var y=[r,o.layer,a.layer,o.overlaying||"",a.overlaying||""];for(n=0;n<i.overlays.length;n++)y.push(i.overlays[n].id);v[t]=y}return v}(e),i=t._cartesianlayer.selectAll(".subplot").data(n,String);i.enter().append("g").attr("class",(function(e){return"subplot "+e[0]})),i.order(),i.exit().call(g,t),i.each((function(n){var i=n[0],o=t._plots[i];o.plotgroup=r.select(this),m(e,o),o.draglayer=d(t._draggers,"g",i)}))},n.rangePlot=function(e,t,n){m(e,t),p(e,t,n),a.style(e)},n.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(".svg-container");n.filter((function(e,t){return t===n.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function(){var e=this.toDataURL("image/png");t.append("svg:image").attr({xmlns:f.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:this.width,height:this.height})}))},n.updateFx=e("./graph_interact").updateFx},{"../../components/drawing":398,"../../constants/xmlns_namespaces":477,"../../lib":497,"../../registry":595,"../get_data":571,"../plots":586,"./attributes":541,"./axis_ids":546,"./constants":549,"./graph_interact":552,"./layout_attributes":555,"./layout_defaults":556,"./transition_axes":565,d3:82}],555:[function(e,t,n){"use strict";var r=e("../font_attributes"),i=e("../../components/color/attributes"),o=e("../../components/drawing/attributes").dash,a=e("../../lib/extend").extendFlat,s=e("../../plot_api/plot_template").templatedArray,l=(e("../../constants/docs").FORMAT_LINK,e("../../constants/docs").DATE_FORMAT_LINK,e("./constants"));t.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:i.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:r({editType:"ticks"}),editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],dflt:"range",editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"calc"},tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},o,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor"],dflt:"data",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},tickformatstops:s("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:i.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:i.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:i.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"})}}},{"../../components/color/attributes":376,"../../components/drawing/attributes":397,"../../constants/docs":472,"../../lib/extend":491,"../../plot_api/plot_template":533,"../font_attributes":569,"./constants":549}],556:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/color"),o=e("../../plot_api/plot_template"),a=e("../layout_attributes"),s=e("./layout_attributes"),l=e("./type_defaults"),u=e("./axis_defaults"),c=e("./constraints").handleConstraintDefaults,f=e("./position_defaults"),d=e("./axis_ids"),h=d.id2name,p=d.name2id,m=e("../../registry"),g=m.traceIs,v=m.getComponentMethod;function y(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}t.exports=function(e,t,n){var d,m,b={},x={},_={},w={},k={},M={},T={},S={},E={};for(d=0;d<n.length;d++){var A=n[d];if(g(A,"cartesian")||g(A,"gl2d")){var O,C;if(A.xaxis)y(b,O=h(A.xaxis),A);else if(A.xaxes)for(m=0;m<A.xaxes.length;m++)y(b,h(A.xaxes[m]),A);if(A.yaxis)y(b,C=h(A.yaxis),A);else if(A.yaxes)for(m=0;m<A.yaxes.length;m++)y(b,h(A.yaxes[m]),A);"funnel"===A.type?"h"===A.orientation?(O&&(x[O]=!0),C&&(T[C]=!0)):C&&(_[C]=!0):(C&&(k[C]=!0,M[C]=!0),g(A,"carpet")&&("carpet"!==A.type||A._cheater)||O&&(w[O]=!0)),"carpet"===A.type&&A._cheater&&O&&(x[O]=!0),g(A,"2dMap")&&(S[O]=!0,S[C]=!0),g(A,"oriented")&&(E["h"===A.orientation?C:O]=!0)}}var N=t._subplots,D=N.xaxis,P=N.yaxis,R=r.simpleMap(D,h),L=r.simpleMap(P,h),I=R.concat(L),j=i.background;D.length&&P.length&&(j=r.coerce(e,t,a,"plot_bgcolor"));var z,F,B,U,H=i.combine(j,t.paper_bgcolor);function q(e,t){return r.coerce(B,U,s,e,t)}function V(e,t){return r.coerce2(B,U,s,e,t)}function W(e){return"x"===e?P:D}var Y={x:W("x"),y:W("y")},G=Y.x.concat(Y.y);function X(t,n){for(var r="x"===t?R:L,i=[],o=0;o<r.length;o++){var a=r[o];a===n||(e[a]||{}).overlaying||i.push(p(a))}return i}for(d=0;d<I.length;d++){F=(z=I[d]).charAt(0),r.isPlainObject(e[z])||(e[z]={}),B=e[z],U=o.newContainer(t,z,F+"axis");var $=b[z]||[];U._traceIndices=$.map((function(e){return e._expandedIndex})),U._annIndices=[],U._shapeIndices=[],U._imgIndices=[],U._subplotsWith=[],U._counterAxes=[],U._name=U._attr=z;var Z=U._id=p(z),K=X(F,z),J="x"===F&&!w[z]&&x[z]||"y"===F&&!k[z]&&_[z],Q="y"===F&&!M[z]&&T[z],ee={letter:F,font:t.font,outerTicks:S[z],showGrid:!E[z],data:$,bgColor:H,calendar:t.calendar,automargin:!0,visibleDflt:J,reverseDflt:Q,splomStash:((t._splomAxes||{})[F]||{})[Z]};q("uirevision",t.uirevision),l(B,U,q,ee),u(B,U,q,ee,t);var te=V("spikecolor"),ne=V("spikethickness"),re=V("spikedash"),ie=V("spikemode"),oe=V("spikesnap");q("showspikes",!!(te||ne||re||ie||oe))||(delete U.spikecolor,delete U.spikethickness,delete U.spikedash,delete U.spikemode,delete U.spikesnap),f(B,U,q,{letter:F,counterAxes:Y[F],overlayableAxes:K,grid:t.grid}),U._input=B}var ae=v("rangeslider","handleDefaults"),se=v("rangeselector","handleDefaults");for(d=0;d<R.length;d++)z=R[d],B=e[z],U=t[z],ae(e,t,z),"date"===U.type&&se(B,U,t,L,U.calendar),q("fixedrange");for(d=0;d<L.length;d++){z=L[d],B=e[z],U=t[z];var le=t[h(U.anchor)];q("fixedrange",v("rangeslider","isVisible")(le))}var ue=t._axisConstraintGroups=[],ce=t._axisMatchGroups=[];for(d=0;d<I.length;d++)F=(z=I[d]).charAt(0),B=e[z],U=t[z],c(B,U,q,G,t);for(d=0;d<ce.length;d++){var fe,de=ce[d],he=null,pe=null;for(fe in de)(U=t[h(fe)]).matches||(he=U.range,pe=U.autorange);if(null===he||null===pe)for(fe in de){he=(U=t[h(fe)]).range,pe=U.autorange;break}for(fe in de)(U=t[h(fe)]).matches&&(U.range=he.slice(),U.autorange=pe),U._matchGroup=de;if(ue.length)for(fe in de)for(m=0;m<ue.length;m++){var me=ue[m];for(var ge in me)fe===ge&&(r.warn("Axis "+ge+" is set with both a *scaleanchor* and *matches* constraint; ignoring the scale constraint."),delete me[ge],Object.keys(me).length<2&&ue.splice(m,1))}}}},{"../../components/color":377,"../../lib":497,"../../plot_api/plot_template":533,"../../registry":595,"../layout_attributes":584,"./axis_defaults":545,"./axis_ids":546,"./constraints":550,"./layout_attributes":555,"./position_defaults":558,"./type_defaults":566}],557:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,i=e("../../components/color/attributes").lightFraction,o=e("../../lib");t.exports=function(e,t,n,a){var s=(a=a||{}).dfltColor;function l(n,r){return o.coerce2(e,t,a.attributes,n,r)}var u=l("linecolor",s),c=l("linewidth");n("showline",a.showLine||!!u||!!c)||(delete t.linecolor,delete t.linewidth);var f=l("gridcolor",r(s,a.bgColor,a.blend||i).toRgbString()),d=l("gridwidth");if(n("showgrid",a.showGrid||!!f||!!d)||(delete t.gridcolor,delete t.gridwidth),!a.noZeroLine){var h=l("zerolinecolor",s),p=l("zerolinewidth");n("zeroline",a.showGrid||!!h||!!p)||(delete t.zerolinecolor,delete t.zerolinewidth)}}},{"../../components/color/attributes":376,"../../lib":497,tinycolor2:343}],558:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib");t.exports=function(e,t,n,o){var a,s,l,u,c=o.counterAxes||[],f=o.overlayableAxes||[],d=o.letter,h=o.grid;h&&(s=h._domains[d][h._axisMap[t._id]],a=h._anchors[t._id],s&&(l=h[d+"side"].split(" ")[0],u=h.domain[d]["right"===l||"top"===l?1:0])),s=s||[0,1],a=a||(r(e.position)?"free":c[0]||"free"),l=l||("x"===d?"bottom":"left"),u=u||0,"free"===i.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(c),dflt:a}},"anchor")&&n("position",u),i.coerce(e,t,{side:{valType:"enumerated",values:"x"===d?["bottom","top"]:["left","right"],dflt:l}},"side");var p=!1;if(f.length&&(p=i.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!p){var m=n("domain",s);m[0]>m[1]-1/4096&&(t.domain=s),i.noneOrAll(e.domain,t.domain,s)}return n("layer"),t}},{"../../lib":497,"fast-isnumeric":91}],559:[function(e,t,n){"use strict";var r=e("../../constants/alignment").FROM_BL;t.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var i=[e.r2l(e.range[0]),e.r2l(e.range[1])],o=i[0]+(i[1]-i[0])*n;e.range=e._input.range=[e.l2r(o+(i[0]-o)*t),e.l2r(o+(i[1]-o)*t)]}},{"../../constants/alignment":471}],560:[function(e,t,n){"use strict";var r=e("polybooljs"),i=e("../../registry"),o=e("../../components/color"),a=e("../../components/fx"),s=e("../../lib"),l=e("../../lib/polygon"),u=e("../../lib/throttle"),c=e("../../components/fx/helpers").makeEventData,f=e("./axis_ids").getFromId,d=e("../../lib/clear_gl_canvases"),h=e("../../plot_api/subroutines").redrawReglTraces,p=e("./constants"),m=p.MINSELECT,g=l.filter,v=l.tester;function y(e){return e._id}function b(e,t,n,r,i,o,a){var s,l,u,c,f,d,h,p,m,g=t._hoverdata,v=t._fullLayout.clickmode.indexOf("event")>-1,y=[];if(function(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(g)){k(e,t,o);var b=function(e,t){var n,r,i=e[0],o=-1,a=[];for(r=0;r<t.length;r++)if(n=t[r],i.fullData._expandedIndex===n.cd[0].trace._expandedIndex){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?o=i.pointNumber:void 0!==i.binNumber&&(o=i.binNumber,a=i.pointNumbers);break}return{pointNumber:o,pointNumbers:a,searchInfo:n}}(g,s=T(t,n,r,i));if(b.pointNumbers.length>0?function(e,t){var n,r,i,o=[];for(i=0;i<e.length;i++)(n=e[i]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&o.push(n);if(1===o.length&&o[0]===t.searchInfo&&(r=t.searchInfo.cd[0].trace).selectedpoints.length===t.pointNumbers.length){for(i=0;i<t.pointNumbers.length;i++)if(r.selectedpoints.indexOf(t.pointNumbers[i])<0)return!1;return!0}return!1}(s,b):function(e){var t,n,r=0;for(n=0;n<e.length;n++)if((t=e[n].cd[0].trace).selectedpoints){if(t.selectedpoints.length>1)return!1;if((r+=t.selectedpoints.length)>1)return!1}return 1===r}(s)&&(d=E(b))){for(a&&a.remove(),m=0;m<s.length;m++)(l=s[m])._module.selectPoints(l,!1);A(t,s),M(o),v&&t.emit("plotly_deselect",null)}else{for(h=e.shiftKey&&(void 0!==d?d:E(b)),u=function(e,t,n){return{pointNumber:e,searchInfo:t,subtract:n}}(b.pointNumber,b.searchInfo,h),c=w(o.selectionDefs.concat([u])),m=0;m<s.length;m++)if(f=O(s[m]._module.selectPoints(s[m],c),s[m]),y.length)for(var x=0;x<f.length;x++)y.push(f[x]);else y=f;A(t,s,p={points:y}),u&&o&&o.selectionDefs.push(u),a&&S(o.mergedPolygons,a),v&&t.emit("plotly_selected",p)}}}function x(e){return"pointNumber"in e&&"searchInfo"in e}function _(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,i){var o=e.searchInfo.cd[0].trace._expandedIndex;return i.cd[0].trace._expandedIndex===o&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function w(e){for(var t=[],n=x(e[0])?0:e[0][0][0],r=n,i=x(e[0])?0:e[0][0][1],o=i,a=0;a<e.length;a++)if(x(e[a]))t.push(_(e[a]));else{var s=l.tester(e[a]);s.subtract=e[a].subtract,t.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),o=Math.max(o,s.ymax)}return{xmin:n,xmax:r,ymin:i,ymax:o,pts:[],contains:function(e,n,r,i){for(var o=!1,a=0;a<t.length;a++)t[a].contains(e,n,r,i)&&(o=!1===t[a].subtract);return o},isRect:!1,degenerate:!1}}function k(e,t,n){var r=t._fullLayout,i=n.plotinfo,o=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,a=e.shiftKey||e.altKey;o&&a&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):a&&i.selection||M(n),o||(C(t),r._lastSelectedSubplot=i.id)}function M(e){var t=e.plotinfo;t.selection={},t.selection.selectionDefs=e.selectionDefs=[],t.selection.mergedPolygons=e.mergedPolygons=[]}function T(e,t,n,r){var i,o,a,s=[],l=t.map(y),u=n.map(y);for(a=0;a<e.calcdata.length;a++)if(!0===(o=(i=e.calcdata[a])[0].trace).visible&&o._module&&o._module.selectPoints)if(!r||o.subplot!==r&&o.geo!==r)if("splom"===o.type&&o._xaxes[l[0]]&&o._yaxes[u[0]]){var c=h(o._module,i,t[0],n[0]);c.scene=e._fullLayout._splomScenes[o.uid],s.push(c)}else if("sankey"===o.type){var d=h(o._module,i,t[0],n[0]);s.push(d)}else{if(-1===l.indexOf(o.xaxis))continue;if(-1===u.indexOf(o.yaxis))continue;s.push(h(o._module,i,f(e,o.xaxis),f(e,o.yaxis)))}else s.push(h(o._module,i,t[0],n[0]));return s;function h(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}}function S(e,t){var n,r,i=[];for(n=0;n<e.length;n++){var o=e[n];i.push(o.join("L")+"L"+o[0])}r=e.length>0?"M"+i.join("M")+"Z":"M0,0Z",t.attr("d",r)}function E(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,i=r.length>0?r[0]:n;return!!t.selectedpoints&&t.selectedpoints.indexOf(i)>-1}function A(e,t,n){var r,o,a,s;for(r=0;r<t.length;r++){var l=t[r].cd[0].trace._fullInput,u=e._fullLayout._tracePreGUI[l.uid]||{};void 0===u.selectedpoints&&(u.selectedpoints=l._input.selectedpoints||null)}if(n){var c=n.points||[];for(r=0;r<t.length;r++)(s=t[r].cd[0].trace)._input.selectedpoints=s._fullInput.selectedpoints=[],s._fullInput!==s&&(s.selectedpoints=[]);for(r=0;r<c.length;r++){var f=c[r],p=f.data,m=f.fullData;f.pointIndices?([].push.apply(p.selectedpoints,f.pointIndices),s._fullInput!==s&&[].push.apply(m.selectedpoints,f.pointIndices)):(p.selectedpoints.push(f.pointIndex),s._fullInput!==s&&m.selectedpoints.push(f.pointIndex))}}else for(r=0;r<t.length;r++)delete(s=t[r].cd[0].trace).selectedpoints,delete s._input.selectedpoints,s._fullInput!==s&&delete s._fullInput.selectedpoints;var g=!1;for(r=0;r<t.length;r++){s=(a=(o=t[r]).cd)[0].trace,i.traceIs(s,"regl")&&(g=!0);var v=o._module,y=v.styleOnSelect||v.style;y&&(y(e,a,a[0].node3),a[0].nodeRangePlot3&&y(e,a,a[0].nodeRangePlot3))}g&&(d(e),h(e))}function O(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,i=0;i<e.length;i++)e[i]=c(e[i],r,n);return e}function C(e){var t=(e._fullLayout||{})._zoomlayer;t&&t.selectAll(".select-outline").remove()}t.exports={prepSelect:function(e,t,n,i,l){var c,f,d,h,y,x,_,E=i.gd,C=E._fullLayout,N=C._zoomlayer,D=i.element.getBoundingClientRect(),P=i.plotinfo,R=P.xaxis._offset,L=P.yaxis._offset,I=t-D.left,j=n-D.top,z=I,F=j,B="M"+I+","+j,U=i.xaxes[0]._length,H=i.yaxes[0]._length,q=i.xaxes.concat(i.yaxes),V=e.altKey;k(e,E,i),"lasso"===l&&(c=g([[I,j]],p.BENDPX));var W=N.selectAll("path.select-outline-"+P.id).data([1,2]);W.enter().append("path").attr("class",(function(e){return"select-outline select-outline-"+e+" select-outline-"+P.id})).attr("transform","translate("+R+", "+L+")").attr("d",B+"Z");var Y,G=N.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform","translate("+R+", "+L+")").attr("d","M0,0Z"),X=C._uid+p.SELECTID,$=[],Z=T(E,i.xaxes,i.yaxes,i.subplot);function K(e,t){return"log"===e.type?e.p2d(t):e.p2r(t)}function J(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return K(e,n[t])}}function Q(e,t){return e-t}Y=P.fillRangeItems?P.fillRangeItems:"select"===l?function(e,t){var n=e.range={};for(y=0;y<q.length;y++){var r=q[y],i=r._id.charAt(0);n[r._id]=[K(r,t[i+"min"]),K(r,t[i+"max"])].sort(Q)}}:function(e,t,n){var r=e.lassoPoints={};for(y=0;y<q.length;y++){var i=q[y];r[i._id]=n.filtered.map(J(i))}},i.moveFn=function(e,t){z=Math.max(0,Math.min(U,e+I)),F=Math.max(0,Math.min(H,t+j));var n=Math.abs(z-I),o=Math.abs(F-j);if("select"===l){var a=C.selectdirection;"h"===(a="any"===C.selectdirection?o<Math.min(.6*n,m)?"h":n<Math.min(.6*o,m)?"v":"d":C.selectdirection)?((h=[[I,0],[I,H],[z,H],[z,0]]).xmin=Math.min(I,z),h.xmax=Math.max(I,z),h.ymin=Math.min(0,H),h.ymax=Math.max(0,H),G.attr("d","M"+h.xmin+","+(j-m)+"h-4v"+2*m+"h4ZM"+(h.xmax-1)+","+(j-m)+"h4v"+2*m+"h-4Z")):"v"===a?((h=[[0,j],[0,F],[U,F],[U,j]]).xmin=Math.min(0,U),h.xmax=Math.max(0,U),h.ymin=Math.min(j,F),h.ymax=Math.max(j,F),G.attr("d","M"+(I-m)+","+h.ymin+"v-4h"+2*m+"v4ZM"+(I-m)+","+(h.ymax-1)+"v4h"+2*m+"v-4Z")):"d"===a&&((h=[[I,j],[I,F],[z,F],[z,j]]).xmin=Math.min(I,z),h.xmax=Math.max(I,z),h.ymin=Math.min(j,F),h.ymax=Math.max(j,F),G.attr("d","M0,0Z"))}else"lasso"===l&&(c.addPt([z,F]),h=c.filtered);i.selectionDefs&&i.selectionDefs.length?(d=function(e,t,n){return n?r.difference({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions:r.union({regions:e,inverted:!1},{regions:[t],inverted:!1}).regions}(i.mergedPolygons,h,V),h.subtract=V,f=w(i.selectionDefs.concat([h]))):(d=[h],f=v(h)),S(d,W),u.throttle(X,p.SELECTDELAY,(function(){var e;$=[];var t,n=[];for(y=0;y<Z.length;y++)if(t=(x=Z[y])._module.selectPoints(x,f),n.push(t),e=O(t,x),$.length)for(var r=0;r<e.length;r++)$.push(e[r]);else $=e;A(E,Z,_={points:$}),Y(_,h,c),i.gd.emit("plotly_selecting",_)}))},i.clickFn=function(e,t){var n=C.clickmode;G.remove(),u.done(X).then((function(){if(u.clear(X),2===e){for(W.remove(),y=0;y<Z.length;y++)(x=Z[y])._module.selectPoints(x,!1);A(E,Z),M(i),E.emit("plotly_deselect",null)}else n.indexOf("select")>-1&&b(t,E,i.xaxes,i.yaxes,i.subplot,i,W),"event"===n&&E.emit("plotly_selected",void 0);a.click(E,t)})).catch(s.error)},i.doneFn=function(){G.remove(),u.done(X).then((function(){u.clear(X),i.gd.emit("plotly_selected",_),h&&i.selectionDefs&&(h.subtract=V,i.selectionDefs.push(h),i.mergedPolygons.length=0,[].push.apply(i.mergedPolygons,d)),i.doneFnCompleted&&i.doneFnCompleted($)})).catch(s.error)}},clearSelect:C,selectOnClick:b}},{"../../components/color":377,"../../components/fx":415,"../../components/fx/helpers":412,"../../lib":497,"../../lib/clear_gl_canvases":485,"../../lib/polygon":509,"../../lib/throttle":521,"../../plot_api/subroutines":534,"../../registry":595,"./axis_ids":546,"./constants":549,polybooljs:300}],561:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../../lib"),a=o.cleanNumber,s=o.ms2DateTime,l=o.dateTime2ms,u=o.ensureNumber,c=o.isArrayOrTypedArray,f=e("../../constants/numerical"),d=f.FP_SAFE,h=f.BADNUM,p=f.LOG_CLIP,m=e("./constants"),g=e("./axis_ids");function v(e){return Math.pow(10,e)}function y(e){return null!=e}t.exports=function(e,t){t=t||{};var n=e._id||"x",f=n.charAt(0);function b(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],i=e.range[1];return.5*(r+i-2*p*Math.abs(r-i))}return h}function x(t,n,r){var a=l(t,r||e.calendar);if(a===h){if(!i(t))return h;t=+t;var s=Math.floor(10*o.mod(t+.05,1)),u=Math.round(t-s/10);a=l(new Date(u))+s/10}return a}function _(t,n,r){return s(t,n,r||e.calendar)}function w(t){return e._categories[Math.round(t)]}function k(t){if(y(t)){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push("number"==typeof t?String(t):t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return h}function M(t){if(e._categoriesMap)return e._categoriesMap[t]}function T(e){var t=M(e);return void 0!==t?t:i(e)?+e:void 0}function S(t){return i(t)?r.round(e._b+e._m*t,2):h}function E(t){return(t-e._b)/e._m}e.c2l="log"===e.type?b:u,e.l2c="log"===e.type?v:u,e.l2p=S,e.p2l=E,e.c2p="log"===e.type?function(e,t){return S(b(e,t))}:S,e.p2c="log"===e.type?function(e){return v(E(e))}:E,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=a,e.c2d=e.c2r=e.l2d=e.l2r=u,e.d2p=e.r2p=function(t){return e.l2p(a(t))},e.p2d=e.p2r=E,e.cleanPos=u):"log"===e.type?(e.d2r=e.d2l=function(e,t){return b(a(e),t)},e.r2d=e.r2c=function(e){return v(a(e))},e.d2c=e.r2l=a,e.c2d=e.l2r=u,e.c2r=b,e.l2d=v,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return v(E(e))},e.r2p=function(t){return e.l2p(a(t))},e.p2r=E,e.cleanPos=u):"date"===e.type?(e.d2r=e.r2d=o.identity,e.d2c=e.r2c=e.d2l=e.r2l=x,e.c2d=e.c2r=e.l2d=e.l2r=_,e.d2p=e.r2p=function(t,n,r){return e.l2p(x(t,0,r))},e.p2d=e.p2r=function(e,t,n){return _(E(e),t,n)},e.cleanPos=function(t){return o.cleanDate(t,h,e.calendar)}):"category"===e.type?(e.d2c=e.d2l=k,e.r2d=e.c2d=e.l2d=w,e.d2r=e.d2l_noadd=T,e.r2c=function(t){var n=T(t);return void 0!==n?n:e.fraction2r(.5)},e.l2r=e.c2r=u,e.r2l=T,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return w(E(e))},e.r2p=e.d2p,e.p2r=E,e.cleanPos=function(e){return"string"==typeof e&&""!==e?e:u(e)}):"multicategory"===e.type&&(e.r2d=e.c2d=e.l2d=w,e.d2r=e.d2l_noadd=T,e.r2c=function(t){var n=T(t);return void 0!==n?n:e.fraction2r(.5)},e.r2c_just_indices=M,e.l2r=e.c2r=u,e.r2l=T,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return w(E(e))},e.r2p=e.d2p,e.p2r=E,e.cleanPos=function(e){return Array.isArray(e)||"string"==typeof e&&""!==e?e:u(e)},e.setupMultiCategory=function(r){var i,a,s=e._traceIndices,l=t._axisMatchGroups;if(l&&l.length&&0===e._categories.length)for(i=0;i<l.length;i++){var u=l[i];if(u[n])for(var d in u)if(d!==n){var h=t[g.id2name(d)];s=s.concat(h._traceIndices)}}var p=[[0,{}],[0,{}]],m=[];for(i=0;i<s.length;i++){var v=r[s[i]];if(f in v){var b=v[f],x=v._length||o.minRowLength(b);if(c(b[0])&&c(b[1]))for(a=0;a<x;a++){var _=b[0][a],w=b[1][a];y(_)&&y(w)&&(m.push([_,w]),_ in p[0][1]||(p[0][1][_]=p[0][0]++),w in p[1][1]||(p[1][1][w]=p[1][0]++))}}}for(m.sort((function(e,t){var n=p[0][1],r=n[e[0]]-n[t[0]];if(r)return r;var i=p[1][1];return i[e[1]]-i[t[1]]})),i=0;i<m.length;i++)k(m[i])}),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t,n){n||(n={}),t||(t="range");var r,a,s=o.nestedProperty(e,t).get();if(a=(a="date"===e.type?o.dfltRange(e.calendar):"y"===f?m.DFLTRANGEY:n.dfltRange||m.DFLTRANGEX).slice(),"tozero"!==e.rangemode&&"nonnegative"!==e.rangemode||(a[0]=0),s&&2===s.length)for("date"!==e.type||e.autorange||(s[0]=o.cleanDate(s[0],h,e.calendar),s[1]=o.cleanDate(s[1],h,e.calendar)),r=0;r<2;r++)if("date"===e.type){if(!o.isDateTime(s[r],e.calendar)){e[t]=a;break}if(e.r2l(s[0])===e.r2l(s[1])){var l=o.constrain(e.r2l(s[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);s[0]=e.l2r(l-1e3),s[1]=e.l2r(l+1e3);break}}else{if(!i(s[r])){if(!i(s[1-r])){e[t]=a;break}s[r]=s[1-r]*(r?10:.1)}if(s[r]<-d?s[r]=-d:s[r]>d&&(s[r]=d),s[0]===s[1]){var u=Math.max(1,Math.abs(1e-6*s[0]));s[0]-=u,s[1]+=u}}else o.nestedProperty(e,t).set(a)},e.setScale=function(n){var r=t._size;if(e.overlaying){var i=g.getFromId({_fullLayout:t},e.overlaying);e.domain=i.domain}var o=n&&e._r?"_r":"range",a=e.calendar;e.cleanRange(o);var s=e.r2l(e[o][0],a),l=e.r2l(e[o][1],a);if("y"===f?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(s-l),e._b=-e._m*l):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(l-s),e._b=-e._m*s),!isFinite(e._m)||!isFinite(e._b)||e._length<0)throw t._replotting=!1,new Error("Something went wrong with axis scaling")},e.makeCalcdata=function(t,n){var r,i,a,s,l=e.type,u="date"===l&&t[n+"calendar"];if(n in t){if(r=t[n],s=t._length||o.minRowLength(r),o.isTypedArray(r)&&("linear"===l||"log"===l)){if(s===r.length)return r;if(r.subarray)return r.subarray(0,s)}if("multicategory"===l)return function(e,t){for(var n=new Array(t),r=0;r<t;r++){var i=(e[0]||[])[r],o=(e[1]||[])[r];n[r]=M([i,o])}return n}(r,s);for(i=new Array(s),a=0;a<s;a++)i[a]=e.d2c(r[a],0,u)}else{var c=n+"0"in t?e.d2c(t[n+"0"],0,u):0,f=t["d"+n]?Number(t["d"+n]):1;for(r=t[{x:"y",y:"x"}[n]],s=t._length||r.length,i=new Array(s),a=0;a<s;a++)i[a]=c+a*f}return i},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&i(e.r2l(t[0]))&&i(e.r2l(t[1]))},e.isPtWithinRange=function(t,n){var r=e.c2l(t[f],null,n),i=e.r2l(e.range[0]),o=e.r2l(e.range[1]);return i<o?i<=r&&r<=o:o<=r&&r<=i},e.clearCalc=function(){var r=function(){e._categories=[],e._categoriesMap={}},i=t._axisMatchGroups;if(i&&i.length){for(var o=!1,a=0;a<i.length;a++){var s=i[a];if(s[n]){o=!0;var l=null,u=null;for(var c in s){var f=t[g.id2name(c)];if(f._categories){l=f._categories,u=f._categoriesMap;break}}l&&u?(e._categories=l,e._categoriesMap=u):r();break}}o||r()}else r();if(e._initialCategories)for(var d=0;d<e._initialCategories.length;d++)k(e._initialCategories[d])},e.sortByInitialCategories=function(){var r=[];if(e._categories=[],e._categoriesMap={},e._initialCategories)for(var i=0;i<e._initialCategories.length;i++)k(e._initialCategories[i]);r=r.concat(e._traceIndices);var o=e._matchGroup;for(var a in o)if(n!==a){var s=t[g.id2name(a)];s._categories=e._categories,s._categoriesMap=e._categoriesMap,r=r.concat(s._traceIndices)}return r};var A=t._d3locale;"date"===e.type&&(e._dateFormat=A?A.timeFormat.utc:r.time.format.utc,e._extraFormat=t._extraFormat),e._separators=t.separators,e._numFormat=A?A.numberFormat:r.format,delete e._minDtick,delete e._forceTick0}},{"../../constants/numerical":476,"../../lib":497,"./axis_ids":546,"./constants":549,d3:82,"fast-isnumeric":91}],562:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes"),o=e("../array_container_defaults");function a(e){var t=["showexponent","showtickprefix","showticksuffix"].filter((function(t){return void 0!==e[t]}));if(t.every((function(n){return e[n]===e[t[0]]}))||1===t.length)return e[t[0]]}function s(e,t){function n(n,o){return r.coerce(e,t,i.tickformatstops,n,o)}n("enabled")&&(n("dtickrange"),n("value"))}t.exports=function(e,t,n,l,u,c){c&&1!==c.pass||function(e,t,n,r,i){var o=a(e);n("tickprefix")&&n("showtickprefix",o),n("ticksuffix",i.tickSuffixDflt)&&n("showticksuffix",o)}(e,0,n,0,u),c&&2!==c.pass||function(e,t,n,l,u){var c=a(e);if(n("tickprefix")&&n("showtickprefix",c),n("ticksuffix",u.tickSuffixDflt)&&n("showticksuffix",c),n("showticklabels")){var f=u.font||{},d=t.color,h=d&&d!==i.color.dflt?d:f.color;if(r.coerceFont(n,"tickfont",{family:f.family,size:f.size,color:h}),n("tickangle"),"category"!==l){var p=n("tickformat"),m=e.tickformatstops;Array.isArray(m)&&m.length&&o(e,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:s}),p||"date"===l||(n("showexponent",c),n("exponentformat"),n("separatethousands"))}}}(e,t,n,l,u)}},{"../../lib":497,"../array_container_defaults":539,"./layout_attributes":555}],563:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./layout_attributes");t.exports=function(e,t,n,o){var a=r.coerce2(e,t,i,"ticklen"),s=r.coerce2(e,t,i,"tickwidth"),l=r.coerce2(e,t,i,"tickcolor",t.color);n("ticks",o.outerTicks||a||s||l?"outside":"")||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},{"../../lib":497,"./layout_attributes":555}],564:[function(e,t,n){"use strict";var r=e("./clean_ticks");t.exports=function(e,t,n,i){var o;if("auto"===(o="array"!==e.tickmode||"log"!==i&&"date"!==i?n("tickmode",Array.isArray(e.tickvals)?"array":e.dtick?"linear":"auto"):t.tickmode="auto"))n("nticks");else if("linear"===o){var a=t.dtick=r.dtick(e.dtick,i);t.tick0=r.tick0(e.tick0,i,t.calendar,a)}else"multicategory"!==i&&(void 0===n("tickvals")?t.tickmode="auto":n("ticktext"))}},{"./clean_ticks":548}],565:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../lib"),a=e("../../components/drawing"),s=e("./axes");t.exports=function(e,t,n,l){var u=e._fullLayout;if(0!==t.length){var c,f,d,h;l&&(c=l());var p=r.ease(n.easing);return e._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(h),h=null,function(){for(var n={},r=0;r<t.length;r++){var o=t[r],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr0&&(n[a._name+".range"]=o.xr0.slice()),o.yr0&&(n[s._name+".range"]=o.yr0.slice())}return i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)m(t[e].plotinfo)}))}()})),f=Date.now(),h=window.requestAnimationFrame((function r(){d=Date.now();for(var o=Math.min(1,(d-f)/n.duration),a=p(o),s=0;s<t.length;s++)g(t[s],a);d-f>n.duration?(function(){for(var n={},r=0;r<t.length;r++){var o=t[r],a=o.plotinfo.xaxis,s=o.plotinfo.yaxis;o.xr1&&(n[a._name+".range"]=o.xr1.slice()),o.yr1&&(n[s._name+".range"]=o.yr1.slice())}c&&c(),i.call("relayout",e,n).then((function(){for(var e=0;e<t.length;e++)m(t[e].plotinfo)}))}(),h=window.cancelAnimationFrame(r)):h=window.requestAnimationFrame(r)})),Promise.resolve()}function m(e){var t=e.xaxis,n=e.yaxis;u._defs.select("#"+e.clipId+"> rect").call(a.setTranslate,0,0).call(a.setScale,1,1),e.plot.call(a.setTranslate,t._offset,n._offset).call(a.setScale,1,1);var r=e.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(a.setPointGroupScale,1,1),r.selectAll(".textpoint").call(a.setTextPointsScale,1,1),r.call(a.hideOutsideRangePoints,e)}function g(t,n){var r=t.plotinfo,i=r.xaxis,l=r.yaxis,u=i._length,c=l._length,f=!!t.xr1,d=!!t.yr1,h=[];if(f){var p=o.simpleMap(t.xr0,i.r2l),m=o.simpleMap(t.xr1,i.r2l),g=p[1]-p[0],v=m[1]-m[0];h[0]=(p[0]*(1-n)+n*m[0]-p[0])/(p[1]-p[0])*u,h[2]=u*(1-n+n*v/g),i.range[0]=i.l2r(p[0]*(1-n)+n*m[0]),i.range[1]=i.l2r(p[1]*(1-n)+n*m[1])}else h[0]=0,h[2]=u;if(d){var y=o.simpleMap(t.yr0,l.r2l),b=o.simpleMap(t.yr1,l.r2l),x=y[1]-y[0],_=b[1]-b[0];h[1]=(y[1]*(1-n)+n*b[1]-y[1])/(y[0]-y[1])*c,h[3]=c*(1-n+n*_/x),l.range[0]=i.l2r(y[0]*(1-n)+n*b[0]),l.range[1]=l.l2r(y[1]*(1-n)+n*b[1])}else h[1]=0,h[3]=c;s.drawOne(e,i,{skipTitle:!0}),s.drawOne(e,l,{skipTitle:!0}),s.redrawComponents(e,[i._id,l._id]);var w=f?u/h[2]:1,k=d?c/h[3]:1,M=f?h[0]:0,T=d?h[1]:0,S=f?h[0]/h[2]*u:0,E=d?h[1]/h[3]*c:0,A=i._offset-S,O=l._offset-E;r.clipRect.call(a.setTranslate,M,T).call(a.setScale,1/w,1/k),r.plot.call(a.setTranslate,A,O).call(a.setScale,w,k),a.setPointGroupScale(r.zoomScalePts,1/w,1/k),a.setTextPointsScale(r.zoomScaleTxt,1/w,1/k)}s.redrawComponents(e)}},{"../../components/drawing":398,"../../lib":497,"../../registry":595,"./axes":543,d3:82}],566:[function(e,t,n){"use strict";var r=e("../../registry").traceIs,i=e("./axis_autotype");function o(e){return{v:"x",h:"y"}[e.orientation||"v"]}function a(e,t){var n=o(e),i=r(e,"box-violin"),a=r(e._fullInput||{},"candlestick");return i&&!a&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}t.exports=function(e,t,n,s){"-"===n("type",(s.splomStash||{}).type)&&(function(e,t){if("-"===e.type){var n=e._id,s=n.charAt(0);-1!==n.indexOf("scene")&&(n=s);var l=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if("splom"===i.type&&i._length>0&&(i["_"+n+"axes"]||{})[t])return i;if((i[n+"axis"]||n)===t){if(a(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}(t,n,s);if(l)if("histogram"!==l.type||s!=={v:"y",h:"x"}[l.orientation||"v"]){var u,c=s+"calendar",f=l[c],d={noMultiCategory:!r(l,"cartesian")||r(l,"noMultiCategory")};if(a(l,s)){var h=o(l),p=[];for(u=0;u<t.length;u++){var m=t[u];r(m,"box-violin")&&(m[s+"axis"]||s)===n&&(void 0!==m[h]?p.push(m[h][0]):void 0!==m.name?p.push(m.name):p.push("text"),m[c]!==f&&(f=void 0))}e.type=i(p,f,d)}else if("splom"===l.type){var g=l.dimensions[l._axesDim[n]];g.visible&&(e.type=i(g.values,f,d))}else e.type=i(l[s]||[l[s+"0"]],f,d)}else e.type="linear"}}(t,s.data),"-"===t.type?t.type="linear":e.type=t.type)}},{"../../registry":595,"./axis_autotype":544}],567:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib");function o(e,t,n){var r,o,a,s=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return o=i.nestedProperty(r,t.prop).get(),(a=n[t.type]=n[t.type]||{}).hasOwnProperty(t.prop)&&a[t.prop]!==o&&(s=!0),a[t.prop]=o,{changed:s,value:o}}function a(e,t){var n=[],r=t[0],o={};if("string"==typeof r)o[r]=t[1];else{if(!i.isPlainObject(r))return n;o=r}return l(o,(function(e,t,r){n.push({type:"layout",prop:e,value:r})}),"",0),n}function s(e,t){var n,r,o,a,s=[];if(r=t[0],o=t[1],n=t[2],a={},"string"==typeof r)a[r]=o;else{if(!i.isPlainObject(r))return s;a=r,void 0===n&&(n=o)}return void 0===n&&(n=null),l(a,(function(t,r,i){var o,a;if(Array.isArray(i)){a=i.slice();var l=Math.min(a.length,e.data.length);n&&(l=Math.min(l,n.length)),o=[];for(var u=0;u<l;u++)o[u]=n?n[u]:u}else a=i,o=n?n.slice():null;if(null===o)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(o)){if(!Array.isArray(a)){var c=a;a=[];for(var f=0;f<o.length;f++)a[f]=c}a.length=Math.min(o.length,a.length)}s.push({type:"data",prop:t,traces:o,value:a})}),"",0),s}function l(e,t,n,r){Object.keys(e).forEach((function(o){var a=e[o];if("_"!==o[0]){var s=n+(r>0?".":"")+o;i.isPlainObject(a)?l(a,t,s,r+1):t(s,o,a)}}))}n.manageCommandObserver=function(e,t,r,a){var s={},l=!0;t&&t._commandObserver&&(s=t._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var u=n.hasSimpleAPICommandBindings(e,r,s.lookupTable);if(t&&t._commandObserver){if(u)return s;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,s}if(u){o(e,u,s.cache),s.check=function(){if(l){var t=o(e,u,s.cache);return t.changed&&a&&void 0!==s.lookupTable[t.value]&&(s.disable(),Promise.resolve(a({value:t.value,type:u.type,prop:u.prop,traces:u.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var c=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<c.length;f++)e._internalOn(c[f],s.check);s.remove=function(){for(var t=0;t<c.length;t++)e._removeInternalListener(c[t],s.check)}}else i.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},t&&(t._commandObserver=s),s},n.hasSimpleAPICommandBindings=function(e,t,r){var i,o,a=t.length;for(i=0;i<a;i++){var s,l=t[i],u=l.method,c=l.args;if(Array.isArray(c)||(c=[]),!u)return!1;var f=n.computeAPICommandBindings(e,u,c);if(1!==f.length)return!1;if(o){if((s=f[0]).type!==o.type)return!1;if(s.prop!==o.prop)return!1;if(Array.isArray(o.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var d=0;d<o.traces.length;d++)if(o.traces[d]!==s.traces[d])return!1}else if(s.prop!==o.prop)return!1}else o=f[0],Array.isArray(o.traces)&&o.traces.sort();var h=(s=f[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}r&&(r[h]=i)}return o},n.executeAPICommand=function(e,t,n){if("skip"===t)return Promise.resolve();var o=r.apiMethodRegistry[t],a=[e];Array.isArray(n)||(n=[]);for(var s=0;s<n.length;s++)a.push(n[s]);return o.apply(null,a).catch((function(e){return i.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)}))},n.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=s(e,n);break;case"relayout":r=a(0,n);break;case"update":r=s(e,[n[0],n[2]]).concat(a(0,[n[1]]));break;case"animate":r=function(e,t){return Array.isArray(t[0])&&1===t[0].length&&-1!==["string","number"].indexOf(typeof t[0][0])?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}(0,n);break;default:r=[]}return r}},{"../lib":497,"../registry":595}],568:[function(e,t,n){"use strict";var r=e("../lib/extend").extendFlat;n.attributes=function(e,t){t=t||{};var n={valType:"info_array",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},i=(e.name&&e.name,e.trace,t.description&&t.description,{x:r({},n,{}),y:r({},n,{}),editType:e.editType});return e.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:e.editType},i.column={valType:"integer",min:0,dflt:0,editType:e.editType}),i},n.defaults=function(e,t,n,r){var i=r&&r.x||[0,1],o=r&&r.y||[0,1],a=t.grid;if(a){var s=n("domain.column");void 0!==s&&(s<a.columns?i=a._domains.x[s]:delete e.domain.column);var l=n("domain.row");void 0!==l&&(l<a.rows?o=a._domains.y[l]:delete e.domain.row)}n("domain.x",i),n("domain.y",o)}},{"../lib/extend":491}],569:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType,n=e.colorEditType;void 0===n&&(n=t);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:n},editType:t};return e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],570:[function(e,t,n){"use strict";t.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],571:[function(e,t,n){"use strict";var r=e("../registry"),i=e("./cartesian/constants").SUBPLOT_PATTERN;n.getSubplotCalcData=function(e,t,n){var i=r.subplotsRegistry[t];if(!i)return[];for(var o=i.attr,a=[],s=0;s<e.length;s++){var l=e[s];l[0].trace[o]===n&&a.push(l)}return a},n.getModuleCalcData=function(e,t){var n,i=[],o=[];if(!(n="string"==typeof t?r.getModule(t).plot:"function"==typeof t?t:t.plot))return[i,e];for(var a=0;a<e.length;a++){var s=e[a],l=s[0].trace;!0===l.visible&&0!==l._length&&(l._module.plot===n?i.push(s):o.push(s))}return[i,o]},n.getSubplotData=function(e,t,n){if(!r.subplotsRegistry[t])return[];var o,a,s,l=r.subplotsRegistry[t].attr,u=[];if("gl2d"===t){var c=n.match(i);a="x"+c[1],s="y"+c[2]}for(var f=0;f<e.length;f++)o=e[f],"gl2d"===t&&r.traceIs(o,"gl2d")?o[l[0]]===a&&o[l[1]]===s&&u.push(o):o[l]===n&&u.push(o);return u}},{"../registry":595,"./cartesian/constants":549}],572:[function(e,t,n){"use strict";var r=e("../../plot_api/edit_types").overrideAll,i=e("../../components/fx/layout_attributes"),o=e("./scene"),a=e("../get_data").getSubplotData,s=e("../../lib"),l=e("../../constants/xmlns_namespaces");n.name="gl3d",n.attr="scene",n.idRoot="scene",n.idRegex=n.attrRegex=s.counterRegex("scene"),n.attributes=e("./layout/attributes"),n.layoutAttributes=e("./layout/layout_attributes"),n.baseLayoutAttrOverrides=r({hoverlabel:i.hoverlabel},"plot","nested"),n.supplyLayoutDefaults=e("./layout/defaults"),n.plot=function(e){for(var t=e._fullLayout,n=e._fullData,r=t._subplots.gl3d,i=0;i<r.length;i++){var s=r[i],l=a(n,"gl3d",s),u=t[s],c=u.camera,f=u._scene;f||(f=new o({id:s,graphDiv:e,container:e.querySelector(".gl-container"),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio,camera:c},t),u._scene=f),f.viewInitial||(f.viewInitial={up:{x:c.up.x,y:c.up.y,z:c.up.z},eye:{x:c.eye.x,y:c.eye.y,z:c.eye.z},center:{x:c.center.x,y:c.center.y,z:c.center.z}}),f.plot(l,t,e.layout)}},n.clean=function(e,t,n,r){for(var i=r._subplots.gl3d||[],o=0;o<i.length;o++){var a=i[o];!t[a]&&r[a]._scene&&(r[a]._scene.destroy(),r._infolayer&&r._infolayer.selectAll(".annotation-"+a).remove())}},n.toSVG=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=t._size,i=0;i<n.length;i++){var o=t[n[i]],a=o.domain,s=o._scene,u=s.toImage("png");t._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":u,x:r.l+r.w*a.x[0],y:r.t+r.h*(1-a.y[1]),width:r.w*(a.x[1]-a.x[0]),height:r.h*(a.y[1]-a.y[0]),preserveAspectRatio:"none"}),s.destroy()}},n.cleanId=function(e){if(e.match(/^scene[0-9]*$/)){var t=e.substr(5);return"1"===t&&(t=""),"scene"+t}},n.updateFx=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++)t[n[r]]._scene.updateFx(t.dragmode,t.hovermode)}},{"../../components/fx/layout_attributes":416,"../../constants/xmlns_namespaces":477,"../../lib":497,"../../plot_api/edit_types":526,"../get_data":571,"./layout/attributes":573,"./layout/defaults":577,"./layout/layout_attributes":578,"./scene":582}],573:[function(e,t,n){"use strict";t.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},{}],574:[function(e,t,n){"use strict";var r=e("../../../components/color"),i=e("../../cartesian/layout_attributes"),o=e("../../../lib/extend").extendFlat,a=e("../../../plot_api/edit_types").overrideAll;t.exports=a({visible:i.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:r.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:i.color,categoryorder:i.categoryorder,categoryarray:i.categoryarray,title:i.title,type:o({},i.type,{values:["-","linear","log","date","category"]}),autorange:i.autorange,rangemode:i.rangemode,range:o({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,mirror:i.mirror,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,tickfont:i.tickfont,tickangle:i.tickangle,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,separatethousands:i.separatethousands,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:i.showline,linecolor:i.linecolor,linewidth:i.linewidth,showgrid:i.showgrid,gridcolor:o({},i.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:i.gridwidth,zeroline:i.zeroline,zerolinecolor:i.zerolinecolor,zerolinewidth:i.zerolinewidth,_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},"plot","from-root")},{"../../../components/color":377,"../../../lib/extend":491,"../../../plot_api/edit_types":526,"../../cartesian/layout_attributes":555}],575:[function(e,t,n){"use strict";var r=e("tinycolor2").mix,i=e("../../../lib"),o=e("../../../plot_api/plot_template"),a=e("./axis_attributes"),s=e("../../cartesian/type_defaults"),l=e("../../cartesian/axis_defaults"),u=["xaxis","yaxis","zaxis"];t.exports=function(e,t,n){var c,f;function d(e,t){return i.coerce(c,f,a,e,t)}for(var h=0;h<u.length;h++){var p=u[h];c=e[p]||{},(f=o.newContainer(t,p))._id=p[0]+n.scene,f._name=p,s(c,f,d,n),l(c,f,d,{font:n.font,letter:p[0],data:n.data,showGrid:!0,noTickson:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),d("gridcolor",r(f.color,n.bgColor,13600/187).toRgbString()),d("title.text",p[0]),f.setScale=i.noop,d("showspikes")&&(d("spikesides"),d("spikethickness"),d("spikecolor",f.color)),d("showaxeslabels"),d("showbackground")&&d("backgroundcolor")}}},{"../../../lib":497,"../../../plot_api/plot_template":533,"../../cartesian/axis_defaults":545,"../../cartesian/type_defaults":566,"./axis_attributes":574,tinycolor2:343}],576:[function(e,t,n){"use strict";var r=e("../../../lib/str2rgbarray"),i=e("../../../lib"),o=["xaxis","yaxis","zaxis"];function a(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}a.prototype.merge=function(e,t){for(var n=0;n<3;++n){var a=t[o[n]];a.visible?(this.labels[n]=e._meta?i.templateString(a.title.text,e._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(this.labelColor[n]=r(a.title.font.color)),a.title.font.family&&(this.labelFont[n]=a.title.font.family),a.title.font.size&&(this.labelSize[n]=a.title.font.size)),"showline"in a&&(this.lineEnable[n]=a.showline),"linecolor"in a&&(this.lineColor[n]=r(a.linecolor)),"linewidth"in a&&(this.lineWidth[n]=a.linewidth),"showgrid"in a&&(this.gridEnable[n]=a.showgrid),"gridcolor"in a&&(this.gridColor[n]=r(a.gridcolor)),"gridwidth"in a&&(this.gridWidth[n]=a.gridwidth),"log"===a.type?this.zeroEnable[n]=!1:"zeroline"in a&&(this.zeroEnable[n]=a.zeroline),"zerolinecolor"in a&&(this.zeroLineColor[n]=r(a.zerolinecolor)),"zerolinewidth"in a&&(this.zeroLineWidth[n]=a.zerolinewidth),"ticks"in a&&a.ticks?this.lineTickEnable[n]=!0:this.lineTickEnable[n]=!1,"ticklen"in a&&(this.lineTickLength[n]=this._defaultLineTickLength[n]=a.ticklen),"tickcolor"in a&&(this.lineTickColor[n]=r(a.tickcolor)),"tickwidth"in a&&(this.lineTickWidth[n]=a.tickwidth),"tickangle"in a&&(this.tickAngle[n]="auto"===a.tickangle?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(this.tickEnable[n]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(this.tickColor[n]=r(a.tickfont.color)),a.tickfont.family&&(this.tickFont[n]=a.tickfont.family),a.tickfont.size&&(this.tickSize[n]=a.tickfont.size)),"mirror"in a?-1!==["ticks","all","allticks"].indexOf(a.mirror)?(this.lineTickMirror[n]=!0,this.lineMirror[n]=!0):!0===a.mirror?(this.lineTickMirror[n]=!1,this.lineMirror[n]=!0):(this.lineTickMirror[n]=!1,this.lineMirror[n]=!1):this.lineMirror[n]=!1,"showbackground"in a&&!1!==a.showbackground?(this.backgroundEnable[n]=!0,this.backgroundColor[n]=r(a.backgroundcolor)):this.backgroundEnable[n]=!1):(this.tickEnable[n]=!1,this.labelEnable[n]=!1,this.lineEnable[n]=!1,this.lineTickEnable[n]=!1,this.gridEnable[n]=!1,this.zeroEnable[n]=!1,this.backgroundEnable[n]=!1)}},t.exports=function(e,t){var n=new a;return n.merge(e,t),n}},{"../../../lib":497,"../../../lib/str2rgbarray":519}],577:[function(e,t,n){"use strict";var r=e("../../../lib"),i=e("../../../components/color"),o=e("../../../registry"),a=e("../../subplot_defaults"),s=e("./axis_defaults"),l=e("./layout_attributes"),u=e("../../get_data").getSubplotData,c="gl3d";function f(e,t,n,r){for(var a=n("bgcolor"),l=i.combine(a,r.paper_bgcolor),f=["up","center","eye"],d=0;d<f.length;d++)n("camera."+f[d]+".x"),n("camera."+f[d]+".y"),n("camera."+f[d]+".z");n("camera.projection.type");var h=!!n("aspectratio.x")&&!!n("aspectratio.y")&&!!n("aspectratio.z"),p=n("aspectmode",h?"manual":"auto");h||(e.aspectratio=t.aspectratio={x:1,y:1,z:1},"manual"===p&&(t.aspectmode="auto"),e.aspectmode=t.aspectmode);var m=u(r.fullData,c,r.id);s(e,t,{font:r.font,scene:r.id,data:m,bgColor:l,calendar:r.calendar,fullLayout:r.fullLayout}),o.getComponentMethod("annotations3d","handleDefaults")(e,t,r);var g=r.getDfltFromLayout("dragmode");if(!1!==g&&!g)if(g="orbit",e.camera&&e.camera.up){var v=e.camera.up.x,y=e.camera.up.y,b=e.camera.up.z;0!==b&&(v&&y&&b?b/Math.sqrt(v*v+y*y+b*b)>.999&&(g="turntable"):g="turntable")}else g="turntable";n("dragmode",g),n("hovermode",r.getDfltFromLayout("hovermode"))}t.exports=function(e,t,n){var i=t._basePlotModules.length>1;a(e,t,n,{type:c,attributes:l,handleDefaults:f,fullLayout:t,font:t.font,fullData:n,getDfltFromLayout:function(t){if(!i)return r.validate(e[t],l[t])?e[t]:void 0},paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})}},{"../../../components/color":377,"../../../lib":497,"../../../registry":595,"../../get_data":571,"../../subplot_defaults":593,"./axis_defaults":575,"./layout_attributes":578}],578:[function(e,t,n){"use strict";var r=e("./axis_attributes"),i=e("../../domain").attributes,o=e("../../../lib/extend").extendFlat,a=e("../../../lib").counterRegex;function s(e,t,n){return{x:{valType:"number",dflt:e,editType:"camera"},y:{valType:"number",dflt:t,editType:"camera"},z:{valType:"number",dflt:n,editType:"camera"},editType:"camera"}}t.exports={_arrayAttrRegexps:[a("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:o(s(0,0,1),{}),center:o(s(0,0,0),{}),eye:o(s(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:i({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:r,yaxis:r,zaxis:r,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},{"../../../lib":497,"../../../lib/extend":491,"../../domain":568,"./axis_attributes":574}],579:[function(e,t,n){"use strict";var r=e("../../../lib/str2rgbarray"),i=["xaxis","yaxis","zaxis"];function o(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}o.prototype.merge=function(e){for(var t=0;t<3;++t){var n=e[i[t]];n.visible?(this.enabled[t]=n.showspikes,this.colors[t]=r(n.spikecolor),this.drawSides[t]=n.spikesides,this.lineWidth[t]=n.spikethickness):(this.enabled[t]=!1,this.drawSides[t]=!1)}},t.exports=function(e){var t=new o;return t.merge(e),t}},{"../../../lib/str2rgbarray":519}],580:[function(e,t,n){"use strict";t.exports=function(e){for(var t=e.axesOptions,n=e.glplot.axesPixels,s=e.fullSceneLayout,l=[[],[],[]],u=0;u<3;++u){var c=s[o[u]];if(c._length=(n[u].hi-n[u].lo)*n[u].pixelsPerDataUnit/e.dataScale[u],Math.abs(c._length)===1/0||isNaN(c._length))l[u]=[];else{c._input_range=c.range.slice(),c.range[0]=n[u].lo/e.dataScale[u],c.range[1]=n[u].hi/e.dataScale[u],c._m=1/(e.dataScale[u]*n[u].pixelsPerDataUnit),c.range[0]===c.range[1]&&(c.range[0]-=1,c.range[1]+=1);var f=c.tickmode;if("auto"===c.tickmode){c.tickmode="linear";var d=c.nticks||i.constrain(c._length/40,4,9);r.autoTicks(c,Math.abs(c.range[1]-c.range[0])/d)}for(var h=r.calcTicks(c),p=0;p<h.length;++p)h[p].x=h[p].x*e.dataScale[u],"date"===c.type&&(h[p].text=h[p].text.replace(/\<br\>/g," "));l[u]=h,c.tickmode=f}}for(t.ticks=l,u=0;u<3;++u)for(a[u]=.5*(e.glplot.bounds[0][u]+e.glplot.bounds[1][u]),p=0;p<2;++p)t.bounds[p][u]=e.glplot.bounds[p][u];e.contourLevels=function(e){for(var t=new Array(3),n=0;n<3;++n){for(var r=e[n],i=new Array(r.length),o=0;o<r.length;++o)i[o]=r[o].x;t[n]=i}return t}(l)};var r=e("../../cartesian/axes"),i=e("../../../lib"),o=["xaxis","yaxis","zaxis"],a=[0,0,0]},{"../../../lib":497,"../../cartesian/axes":543}],581:[function(e,t,n){"use strict";function r(e,t){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=e[4*n+r]*t[n];return i}t.exports=function(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}},{}],582:[function(e,t,n){"use strict";var r,i,o=e("gl-plot3d").createCamera,a=e("gl-plot3d").createScene,s=e("webgl-context"),l=e("has-passive-events"),u=e("../../registry"),c=e("../../lib"),f=e("../../plots/cartesian/axes"),d=e("../../components/fx"),h=e("../../lib/str2rgbarray"),p=e("../../lib/show_no_webgl_msg"),m=e("./project"),g=e("./layout/convert"),v=e("./layout/spikes"),y=e("./layout/tick_marks");function b(e,t,n,o){if(e.initializeGLCamera(),!function(e,t,n,o,l){var u={canvas:o,gl:l,container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:t,pixelRatio:n};if(e.staticMode){if(!(i||(r=document.createElement("canvas"),i=s({canvas:r,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");u.pixelRatio=e.pixelRatio,u.gl=i,u.canvas=r}var c=0;try{e.glplot=a(u)}catch(t){c++;try{e.glplot=a(u)}catch(e){c++}}return c<2}(e,e.camera,t,n,o))return p(e);var u=e.graphDiv,h=function(e){if(!1!==e.fullSceneLayout.dragmode){var t={};t[e.id+".camera"]=M(e.camera),e.saveCamera(u.layout),e.graphDiv.emit("plotly_relayout",t)}};return e.glplot.canvas.addEventListener("mouseup",(function(){h(e)})),e.glplot.canvas.addEventListener("wheel",(function(){u._context._scrollZoom.gl3d&&h(e)}),!!l&&{passive:!1}),e.glplot.canvas.addEventListener("mousemove",(function(){if(!1!==e.fullSceneLayout.dragmode&&0!==e.camera.mouseListener.buttons){var t={};t[e.id+".camera"]=M(e.camera),e.graphDiv.emit("plotly_relayouting",t)}})),e.staticMode||e.glplot.canvas.addEventListener("webglcontextlost",(function(t){u&&u.emit&&u.emit("plotly_webglcontextlost",{event:t,layer:e.id})}),!1),e.glplot.camera=e.camera,e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(e){var t,n=e.graphDiv,r=e.svgContainer,i=e.container.getBoundingClientRect(),o=i.width,a=i.height;r.setAttributeNS(null,"viewBox","0 0 "+o+" "+a),r.setAttributeNS(null,"width",o),r.setAttributeNS(null,"height",a),y(e),e.glplot.axes.update(e.axesOptions);for(var s,l=Object.keys(e.traces),u=null,h=e.glplot.selection,p=0;p<l.length;++p)"skip"!==(t=e.traces[l[p]]).data.hoverinfo&&t.handlePick(h)&&(u=t),t.setContourLevels&&t.setContourLevels();function g(t,n){var r=e.fullSceneLayout[t];return f.tickText(r,r.d2l(n),"hover").text}if(null!==u){var v=m(e.glplot.cameraParams,h.dataCoordinate);t=u.data;var b,x=n._fullData[t.index],_=h.index,w={xLabel:g("xaxis",h.traceCoordinate[0]),yLabel:g("yaxis",h.traceCoordinate[1]),zLabel:g("zaxis",h.traceCoordinate[2])},k=d.castHoverinfo(x,e.fullLayout,_),M=(k||"").split("+"),T=k&&"all"===k;x.hovertemplate||T||(-1===M.indexOf("x")&&(w.xLabel=void 0),-1===M.indexOf("y")&&(w.yLabel=void 0),-1===M.indexOf("z")&&(w.zLabel=void 0),-1===M.indexOf("text")&&(h.textLabel=void 0),-1===M.indexOf("name")&&(u.name=void 0));var S=[];"cone"===t.type||"streamtube"===t.type?(w.uLabel=g("xaxis",h.traceCoordinate[3]),(T||-1!==M.indexOf("u"))&&S.push("u: "+w.uLabel),w.vLabel=g("yaxis",h.traceCoordinate[4]),(T||-1!==M.indexOf("v"))&&S.push("v: "+w.vLabel),w.wLabel=g("zaxis",h.traceCoordinate[5]),(T||-1!==M.indexOf("w"))&&S.push("w: "+w.wLabel),w.normLabel=h.traceCoordinate[6].toPrecision(3),(T||-1!==M.indexOf("norm"))&&S.push("norm: "+w.normLabel),"streamtube"===t.type&&(w.divergenceLabel=h.traceCoordinate[7].toPrecision(3),(T||-1!==M.indexOf("divergence"))&&S.push("divergence: "+w.divergenceLabel)),h.textLabel&&S.push(h.textLabel),b=S.join("<br>")):"isosurface"===t.type||"volume"===t.type?(w.valueLabel=f.tickText(e.mockAxis,e.mockAxis.d2l(h.traceCoordinate[3]),"hover").text,S.push("value: "+w.valueLabel),h.textLabel&&S.push(h.textLabel),b=S.join("<br>")):b=h.textLabel;var E={x:h.traceCoordinate[0],y:h.traceCoordinate[1],z:h.traceCoordinate[2],data:x._input,fullData:x,curveNumber:x.index,pointNumber:_};d.appendArrayPointValue(E,x,_),t._module.eventData&&(E=x._module.eventData(E,h,x,{},_));var A={points:[E]};e.fullSceneLayout.hovermode&&d.loneHover({trace:x,x:(.5+.5*v[0]/v[3])*o,y:(.5-.5*v[1]/v[3])*a,xLabel:w.xLabel,yLabel:w.yLabel,zLabel:w.zLabel,text:b,name:u.name,color:d.castHoverOption(x,_,"bgcolor")||u.color,borderColor:d.castHoverOption(x,_,"bordercolor"),fontFamily:d.castHoverOption(x,_,"font.family"),fontSize:d.castHoverOption(x,_,"font.size"),fontColor:d.castHoverOption(x,_,"font.color"),nameLength:d.castHoverOption(x,_,"namelength"),textAlign:d.castHoverOption(x,_,"align"),hovertemplate:c.castOption(x,_,"hovertemplate"),hovertemplateLabels:c.extendFlat({},E,w),eventData:[E]},{container:r,gd:n}),h.buttons&&h.distance<5?n.emit("plotly_click",A):n.emit("plotly_hover",A),s=A}else d.loneUnhover(r),n.emit("plotly_unhover",s);e.drawAnnotations(e)}.bind(null,e),e.traces={},e.make4thDimension(),!0}function x(e,t){var n=document.createElement("div"),r=e.container;this.graphDiv=e.graphDiv;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.style.position="absolute",i.style.top=i.style.left="0px",i.style.width=i.style.height="100%",i.style["z-index"]=20,i.style["pointer-events"]="none",n.appendChild(i),this.svgContainer=i,n.id=e.id,n.style.position="absolute",n.style.top=n.style.left="0px",n.style.width=n.style.height="100%",r.appendChild(n),this.fullLayout=t,this.id=e.id||"scene",this.fullSceneLayout=t[this.id],this.plotArgs=[[],{},{}],this.axesOptions=g(t,t[this.id]),this.spikeOptions=v(t[this.id]),this.container=n,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=u.getComponentMethod("annotations3d","convert"),this.drawAnnotations=u.getComponentMethod("annotations3d","draw"),b(this,this.pixelRatio)}var _=x.prototype;_.initializeGLCamera=function(){var e=this.fullSceneLayout.camera,t="orthographic"===e.projection.type;this.camera=o(this.container,{center:[e.center.x,e.center.y,e.center.z],eye:[e.eye.x,e.eye.y,e.eye.z],up:[e.up.x,e.up.y,e.up.z],_ortho:t,zoomMin:.01,zoomMax:100,mode:"orbit"})},_.recoverContext=function(){var e=this,t=this.glplot.gl,n=this.glplot.canvas,r=this.glplot.camera,i=this.glplot.pixelRatio;this.glplot.dispose(),requestAnimationFrame((function o(){t.isContextLost()?requestAnimationFrame(o):b(e,r,i,n)?e.plot.apply(e,e.plotArgs):c.error("Catastrophic and unrecoverable WebGL error. Context lost.")}))};var w=["xaxis","yaxis","zaxis"];function k(e,t,n){for(var r=e.fullSceneLayout,i=0;i<3;i++){var o=w[i],a=o.charAt(0),s=r[o],l=t[a],u=t[a+"calendar"],f=t["_"+a+"length"];if(c.isArrayOrTypedArray(l))for(var d,h=0;h<(f||l.length);h++)if(c.isArrayOrTypedArray(l[h]))for(var p=0;p<l[h].length;++p)d=s.d2l(l[h][p],0,u),!isNaN(d)&&isFinite(d)&&(n[0][i]=Math.min(n[0][i],d),n[1][i]=Math.max(n[1][i],d));else d=s.d2l(l[h],0,u),!isNaN(d)&&isFinite(d)&&(n[0][i]=Math.min(n[0][i],d),n[1][i]=Math.max(n[1][i],d));else n[0][i]=Math.min(n[0][i],0),n[1][i]=Math.max(n[1][i],f-1)}}function M(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:!0===e._ortho?"orthographic":"perspective"}}}_.plot=function(e,t,n){if(this.plotArgs=[e,t,n],!this.glplot.contextLost){var r,i,o,a,s,l,u=t[this.id],c=n[this.id];u.bgcolor?this.glplot.clearColor=h(u.bgcolor):this.glplot.clearColor=[0,0,0,0],this.glplot.snapToData=!0,this.fullLayout=t,this.fullSceneLayout=u,this.glplotLayout=u,this.axesOptions.merge(t,u),this.spikeOptions.merge(u),this.setCamera(u.camera),this.updateFx(u.dragmode,u.hovermode),this.camera.enableWheel=this.graphDiv._context._scrollZoom.gl3d,this.glplot.update({}),this.setConvert(s),e?Array.isArray(e)||(e=[e]):e=[];var f=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(o=0;o<e.length;++o)!0===(r=e[o]).visible&&0!==r._length&&k(this,r,f);!function(e,t){for(var n=e.fullSceneLayout,r=n.annotations||[],i=0;i<3;i++)for(var o=w[i],a=o.charAt(0),s=n[o],l=0;l<r.length;l++){var u=r[l];if(u.visible){var c=s.r2l(u[a]);!isNaN(c)&&isFinite(c)&&(t[0][i]=Math.min(t[0][i],c),t[1][i]=Math.max(t[1][i],c))}}}(this,f);var d=[1,1,1];for(a=0;a<3;++a)f[1][a]===f[0][a]?d[a]=1:d[a]=1/(f[1][a]-f[0][a]);for(this.dataScale=d,this.convertAnnotations(this),o=0;o<e.length;++o)!0===(r=e[o]).visible&&0!==r._length&&((i=this.traces[r.uid])?i.data.type===r.type?i.update(r):(i.dispose(),i=r._module.plot(this,r),this.traces[r.uid]=i):(i=r._module.plot(this,r),this.traces[r.uid]=i),i.name=r.name);var p=Object.keys(this.traces);e:for(o=0;o<p.length;++o){for(a=0;a<e.length;++a)if(e[a].uid===p[o]&&!0===e[a].visible&&0!==e[a]._length)continue e;(i=this.traces[p[o]]).dispose(),delete this.traces[p[o]]}this.glplot.objects.sort((function(e,t){return e._trace.data.index-t._trace.data.index}));var m=[[0,0,0],[0,0,0]],g=[],v={};for(o=0;o<3;++o){if((l=(s=u[w[o]]).type)in v?(v[l].acc*=d[o],v[l].count+=1):v[l]={acc:d[o],count:1},s.autorange){m[0][o]=1/0,m[1][o]=-1/0;var y=this.glplot.objects,b=this.fullSceneLayout.annotations||[],x=s._name.charAt(0);for(a=0;a<y.length;a++){var _=y[a],M=_.bounds,T=_._trace.data._pad||0;"ErrorBars"===_.constructor.name&&s._lowerLogErrorBound?m[0][o]=Math.min(m[0][o],s._lowerLogErrorBound):m[0][o]=Math.min(m[0][o],M[0][o]/d[o]-T),m[1][o]=Math.max(m[1][o],M[1][o]/d[o]+T)}for(a=0;a<b.length;a++){var S=b[a];if(S.visible){var E=s.r2l(S[x]);m[0][o]=Math.min(m[0][o],E),m[1][o]=Math.max(m[1][o],E)}}if("rangemode"in s&&"tozero"===s.rangemode&&(m[0][o]=Math.min(m[0][o],0),m[1][o]=Math.max(m[1][o],0)),m[0][o]>m[1][o])m[0][o]=-1,m[1][o]=1;else{var A=m[1][o]-m[0][o];m[0][o]-=A/32,m[1][o]+=A/32}if("reversed"===s.autorange){var O=m[0][o];m[0][o]=m[1][o],m[1][o]=O}}else{var C=s.range;m[0][o]=s.r2l(C[0]),m[1][o]=s.r2l(C[1])}m[0][o]===m[1][o]&&(m[0][o]-=1,m[1][o]+=1),g[o]=m[1][o]-m[0][o],this.glplot.bounds[0][o]=m[0][o]*d[o],this.glplot.bounds[1][o]=m[1][o]*d[o]}var N,D=[1,1,1];for(o=0;o<3;++o){var P=v[l=(s=u[w[o]]).type];D[o]=Math.pow(P.acc,1/P.count)/d[o]}if("auto"===u.aspectmode)N=Math.max.apply(null,D)/Math.min.apply(null,D)<=4?D:[1,1,1];else if("cube"===u.aspectmode)N=[1,1,1];else if("data"===u.aspectmode)N=D;else{if("manual"!==u.aspectmode)throw new Error("scene.js aspectRatio was not one of the enumerated types");var R=u.aspectratio;N=[R.x,R.y,R.z]}u.aspectratio.x=c.aspectratio.x=N[0],u.aspectratio.y=c.aspectratio.y=N[1],u.aspectratio.z=c.aspectratio.z=N[2],this.glplot.aspect=N;var L=u.domain||null,I=t._size||null;if(L&&I){var j=this.container.style;j.position="absolute",j.left=I.l+L.x[0]*I.w+"px",j.top=I.t+(1-L.y[1])*I.h+"px",j.width=I.w*(L.x[1]-L.x[0])+"px",j.height=I.h*(L.y[1]-L.y[0])+"px"}this.glplot.redraw()}},_.destroy=function(){this.glplot&&(this.camera.mouseListener.enabled=!1,this.container.removeEventListener("wheel",this.camera.wheelListener),this.camera=this.glplot.camera=null,this.glplot.dispose(),this.container.parentNode.removeChild(this.container),this.glplot=null)},_.getCamera=function(){return this.glplot.camera.view.recalcMatrix(this.camera.view.lastT()),M(this.glplot.camera)},_.setCamera=function(e){var t;this.glplot.camera.lookAt.apply(this,[[(t=e).eye.x,t.eye.y,t.eye.z],[t.center.x,t.center.y,t.center.z],[t.up.x,t.up.y,t.up.z]]);var n="orthographic"===e.projection.type;if(n!==this.glplot.camera._ortho){this.glplot.redraw();var r=this.glplot.pixelRatio,i=this.glplot.clearColor;this.glplot.gl.clearColor(i[0],i[1],i[2],i[3]),this.glplot.gl.clear(this.glplot.gl.DEPTH_BUFFER_BIT|this.glplot.gl.COLOR_BUFFER_BIT),this.glplot.dispose(),b(this,r),this.glplot.camera._ortho=n}},_.saveCamera=function(e){var t=this.fullLayout,n=this.getCamera(),r=c.nestedProperty(e,this.id+".camera"),i=r.get(),o=!1;function a(e,t,n,r){var i=["up","center","eye"],o=["x","y","z"];return t[i[n]]&&e[i[n]][o[r]]===t[i[n]][o[r]]}if(void 0===i)o=!0;else{for(var s=0;s<3;s++)for(var l=0;l<3;l++)if(!a(n,i,s,l)){o=!0;break}(!i.projection||n.projection&&n.projection.type!==i.projection.type)&&(o=!0)}if(o){var f={};f[this.id+".camera"]=i,u.call("_storeDirectGUIEdit",e,t._preGUI,f),r.set(n),c.nestedProperty(t,this.id+".camera").set(n)}return o},_.updateFx=function(e,t){var n=this.camera;if(n)if("orbit"===e)n.mode="orbit",n.keyBindingMode="rotate";else if("turntable"===e){n.up=[0,0,1],n.mode="turntable",n.keyBindingMode="rotate";var r=this.graphDiv,i=r._fullLayout,o=this.fullSceneLayout.camera,a=o.up.x,s=o.up.y,l=o.up.z;if(l/Math.sqrt(a*a+s*s+l*l)<.999){var f=this.id+".camera.up",d={x:0,y:0,z:1},h={};h[f]=d;var p=r.layout;u.call("_storeDirectGUIEdit",p,i._preGUI,h),o.up=d,c.nestedProperty(p,f).set(d)}}else n.keyBindingMode=e;this.fullSceneLayout.hovermode=t},_.toImage=function(e){e||(e="png"),this.staticMode&&this.container.appendChild(r),this.glplot.redraw();var t=this.glplot.gl,n=t.drawingBufferWidth,i=t.drawingBufferHeight;t.bindFramebuffer(t.FRAMEBUFFER,null);var o=new Uint8Array(n*i*4);t.readPixels(0,0,n,i,t.RGBA,t.UNSIGNED_BYTE,o);for(var a=0,s=i-1;a<s;++a,--s)for(var l=0;l<n;++l)for(var u=0;u<4;++u){var c=o[4*(n*a+l)+u];o[4*(n*a+l)+u]=o[4*(n*s+l)+u],o[4*(n*s+l)+u]=c}var f=document.createElement("canvas");f.width=n,f.height=i;var d,h=f.getContext("2d"),p=h.createImageData(n,i);switch(p.data.set(o),h.putImageData(p,0,0),e){case"jpeg":d=f.toDataURL("image/jpeg");break;case"webp":d=f.toDataURL("image/webp");break;default:d=f.toDataURL("image/png")}return this.staticMode&&this.container.removeChild(r),d},_.setConvert=function(){for(var e=0;e<3;e++){var t=this.fullSceneLayout[w[e]];f.setConvert(t,this.fullLayout),t.setScale=c.noop}},_.make4thDimension=function(){var e=this.graphDiv._fullLayout;this.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(this.mockAxis,e)},t.exports=x},{"../../components/fx":415,"../../lib":497,"../../lib/show_no_webgl_msg":517,"../../lib/str2rgbarray":519,"../../plots/cartesian/axes":543,"../../registry":595,"./layout/convert":576,"./layout/spikes":579,"./layout/tick_marks":580,"./project":581,"gl-plot3d":143,"has-passive-events":253,"webgl-context":358}],583:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){r=r||e.length;for(var i=new Array(r),o=0;o<r;o++)i[o]=[e[o],t[o],n[o]];return i}},{}],584:[function(e,t,n){"use strict";var r=e("./font_attributes"),i=e("./animation_attributes"),o=e("../components/color/attributes"),a=e("./pad_attributes"),s=e("../lib/extend").extendFlat,l=r({editType:"calc"});l.family.dflt='"Open Sans", verdana, arial, sans-serif',l.size.dflt=12,l.color.dflt=o.defaultLine,t.exports={font:l,title:{text:{valType:"string",editType:"layoutstyle"},font:r({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(a({editType:"layoutstyle"}),{}),editType:"layoutstyle"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},paper_bgcolor:{valType:"color",dflt:o.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:o.background,editType:"layoutstyle"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:o.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},modebar:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"modebar"},meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},i.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"})}}},{"../components/color/attributes":376,"../lib/extend":491,"./animation_attributes":538,"./font_attributes":569,"./pad_attributes":585}],585:[function(e,t,n){"use strict";t.exports=function(e){var t=e.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},{}],586:[function(e,t,n){"use strict";var r=e("d3"),i=e("fast-isnumeric"),o=e("../registry"),a=e("../plot_api/plot_schema"),s=e("../plot_api/plot_template"),l=e("../lib"),u=e("../components/color"),c=e("../constants/numerical").BADNUM,f=e("./cartesian/axis_ids"),d=e("./animation_attributes"),h=e("./frame_attributes"),p=e("../plots/get_data").getModuleCalcData,m=l.relinkPrivateKeys,g=l._,v=t.exports={};l.extendFlat(v,o),v.attributes=e("./attributes"),v.attributes.type.values=v.allTypes,v.fontAttrs=e("./font_attributes"),v.layoutAttributes=e("./layout_attributes"),v.fontWeight="normal";var y=v.transformsRegistry,b=e("./command");v.executeAPICommand=b.executeAPICommand,v.computeAPICommandBindings=b.computeAPICommandBindings,v.manageCommandObserver=b.manageCommandObserver,v.hasSimpleAPICommandBindings=b.hasSimpleAPICommandBindings,v.redrawText=function(e){var t=(e=l.getGraphDiv(e))._fullLayout||{};if(t._has&&t._has("polar")||!e.data||!e.data[0]||!e.data[0].r)return new Promise((function(t){setTimeout((function(){o.getComponentMethod("annotations","draw")(e),o.getComponentMethod("legend","draw")(e),o.getComponentMethod("colorbar","draw")(e),t(v.previousPromises(e))}),300)}))},v.resize=function(e){return e=l.getGraphDiv(e),new Promise((function(t,n){e&&!l.isHidden(e)||n(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._redrawTimer=setTimeout((function(){if(!e.layout||e.layout.width&&e.layout.height||l.isHidden(e))t(e);else{delete e.layout.width,delete e.layout.height;var n=e.changed;e.autoplay=!0,o.call("relayout",e,{autosize:!0}).then((function(){e.changed=n,t(e)}))}}),100)}))},v.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then((function(){e._promises=[]}))},v.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=l.ensureSingle(t._paper,"text","js-plot-link-container",(function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each((function(){var e=r.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)}))})),i=n.node(),o={y:t._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=t.width-20?(o["text-anchor"]="start",o.x=5):(o["text-anchor"]="end",o.x=t._paper.attr("width")-7),n.attr(o);var a=n.select(".js-link-to-tool"),s=n.select(".js-link-spacer"),c=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&function(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",(function(){v.sendDataToCloud(e)}));else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}(e,a),s.text(a.text()&&c.text()?" - ":"")}},v.sendDataToCloud=function(e){e.emit("plotly_beforeexport");var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL,n=r.select(e).append("div").attr("id","hiddenform").style("display","none"),i=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=v.graphJson(e,!1,"keepdata"),i.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1};var x=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],_=["year","month","dayMonth","dayMonthYear"];function w(e,t){var n=e._context.locale,r=!1,i={};function a(e){for(var n=!0,o=0;o<t.length;o++){var a=t[o];i[a]||(e[a]?i[a]=e[a]:n=!1)}n&&(r=!0)}for(var s=0;s<2;s++){for(var l=e._context.locales,u=0;u<2;u++){var c=(l[n]||{}).format;if(c&&(a(c),r))break;l=o.localeRegistry}var f=n.split("-")[0];if(r||f===n)break;n=f}return r||a(o.localeRegistry.en.format),i}function k(e,t){var n={_fullLayout:t},r="x"===e._id.charAt(0),i=e._mainAxis._anchorAxis,o="",a="",s="";if(i&&(s=i._mainAxis._id,o=r?e._id+s:s+e._id),!o||!t._plots[o]){o="";for(var l=e._counterAxes,u=0;u<l.length;u++){var c=l[u],d=r?e._id+c:c+e._id;a||(a=d);var h=f.getFromId(n,c);if(s&&h.overlaying===s){o=d;break}}}return o||a}function M(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var n=0;n<t.length;n++){var r=t[n],i=r._module||y[r.type];if(i&&i.makesData)return!0}return!1}function T(e,t,n,r){for(var i=e.transforms,o=[e],a=0;a<i.length;a++){var s=i[a],l=y[s.type];l&&l.transform&&(o=l.transform(o,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:a}))}return o}function S(e){var t=e.margin;if(!e._size){var n=e._size={l:Math.round(t.l),r:Math.round(t.r),t:Math.round(t.t),b:Math.round(t.b),p:Math.round(t.pad)};n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}v.supplyDefaults=function(e,t){var n=t&&t.skipUpdateCalc,i=e._fullLayout||{};if(i._skipDefaults)delete i._skipDefaults;else{var a,s=e._fullLayout={},u=e.layout||{},c=e._fullData||[],f=e._fullData=[],d=e.data||[],h=e.calcdata||[],p=e._context||{};e._transitionData||v.createTransitionData(e),s._dfltTitle={plot:g(e,"Click to enter Plot title"),x:g(e,"Click to enter X axis title"),y:g(e,"Click to enter Y axis title"),colorbar:g(e,"Click to enter Colorscale title"),annotation:g(e,"new text")},s._traceWord=g(e,"trace");var y=w(e,x);if(s._mapboxAccessToken=p.mapboxAccessToken,i._initialAutoSizeIsDone){var b=i.width,k=i.height;v.supplyLayoutGlobalDefaults(u,s,y),u.width||(s.width=b),u.height||(s.height=k),v.sanitizeMargins(s)}else{v.supplyLayoutGlobalDefaults(u,s,y);var M=!u.width||!u.height,T=s.autosize,E=p.autosizable;M&&(T||E)?v.plotAutoSize(e,u,s):M&&v.sanitizeMargins(s),!T&&M&&(u.width=s.width,u.height=s.height)}s._d3locale=function(e,t){return e.decimal=t.charAt(0),e.thousands=t.charAt(1),r.locale(e)}(y,s.separators),s._extraFormat=w(e,_),s._initialAutoSizeIsDone=!0,s._dataLength=d.length,s._modules=[],s._visibleModules=[],s._basePlotModules=[];var A=s._subplots=function(){var e,t,n=o.collectableSubplotTypes,r={};if(!n){n=[];var i=o.subplotsRegistry;for(var a in i){var s=i[a].attr;if(s&&(n.push(a),Array.isArray(s)))for(t=0;t<s.length;t++)l.pushUnique(n,s[t])}}for(e=0;e<n.length;e++)r[n[e]]=[];return r}(),O=s._splomAxes={x:{},y:{}},C=s._splomSubplots={};s._splomGridDflt={},s._scatterStackOpts={},s._firstScatter={},s._alignmentOpts={},s._colorAxes={},s._requestRangeslider={},s._traceUids=function(e,t){var n,r,i=t.length,o=[];for(n=0;n<e.length;n++){var a=e[n]._fullInput;a!==r&&o.push(a),r=a}var s=o.length,u=new Array(i),c={};function f(e,t){u[t]=e,c[e]=1}function d(e,t){if(e&&"string"==typeof e&&!c[e])return f(e,t),!0}for(n=0;n<i;n++){var h=t[n].uid;"number"==typeof h&&(h=String(h)),d(h,n)||n<s&&d(o[n].uid,n)||f(l.randstr(c),n)}return u}(c,d),s._globalTransforms=(e._context||{}).globalTransforms,v.supplyDataDefaults(d,f,u,s);var N=Object.keys(O.x),D=Object.keys(O.y);if(N.length>1&&D.length>1){for(o.getComponentMethod("grid","sizeDefaults")(u,s),a=0;a<N.length;a++)l.pushUnique(A.xaxis,N[a]);for(a=0;a<D.length;a++)l.pushUnique(A.yaxis,D[a]);for(var P in C)l.pushUnique(A.cartesian,P)}if(s._has=v._hasPlotType.bind(s),c.length===f.length)for(a=0;a<f.length;a++)m(f[a],c[a]);v.supplyLayoutModuleDefaults(u,s,f,e._transitionData);var R=s._visibleModules,L=[];for(a=0;a<R.length;a++){var I=R[a].crossTraceDefaults;I&&l.pushUnique(L,I)}for(a=0;a<L.length;a++)L[a](f,s);s._hasOnlyLargeSploms=1===s._basePlotModules.length&&"splom"===s._basePlotModules[0].name&&N.length>15&&D.length>15&&0===s.shapes.length&&0===s.images.length,s._hasCartesian=s._has("cartesian"),s._hasGeo=s._has("geo"),s._hasGL3D=s._has("gl3d"),s._hasGL2D=s._has("gl2d"),s._hasTernary=s._has("ternary"),s._hasPie=s._has("pie"),v.linkSubplots(f,s,c,i),v.cleanPlot(f,s,c,i),i._zoomlayer&&!e._dragging&&i._zoomlayer.selectAll(".select-outline").remove(),function(e,t){var n,r=[];t.meta&&(n=t._meta={meta:t.meta,layout:{meta:t.meta}});for(var i=0;i<e.length;i++){var o=e[i];o.meta?r[o.index]=o._meta={meta:o.meta}:t.meta&&(o._meta={meta:t.meta}),t.meta&&(o._meta.layout={meta:t.meta})}r.length&&(n||(n=t._meta={}),n.data=r)}(f,s),m(s,i),o.getComponentMethod("colorscale","crossTraceDefaults")(f,s),s._preGUI||(s._preGUI={}),s._tracePreGUI||(s._tracePreGUI={});var j,z=s._tracePreGUI,F={};for(j in z)F[j]="old";for(a=0;a<f.length;a++)F[j=f[a]._fullInput.uid]||(z[j]={}),F[j]="new";for(j in F)"old"===F[j]&&delete z[j];S(s),o.getComponentMethod("rangeslider","makeData")(s),n||h.length!==f.length||v.supplyDefaultsUpdateCalc(h,f)}},v.supplyDefaultsUpdateCalc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=(e[n]||[])[0];if(i&&i.trace){var o=i.trace;if(o._hasCalcTransform){var a,s,u,c=o._arrayAttrs;for(a=0;a<c.length;a++)s=c[a],u=l.nestedProperty(o,s).get().slice(),l.nestedProperty(r,s).set(u)}i.trace=r}}},v.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},v._hasPlotType=function(e){var t,n=this._basePlotModules||[];for(t=0;t<n.length;t++)if(n[t].name===e)return!0;var r=this._modules||[];for(t=0;t<r.length;t++){var i=r[t].name;if(i===e)return!0;var a=o.modules[i];if(a&&a.categories[e])return!0}return!1},v.cleanPlot=function(e,t,n,r){var i,o,a=r._basePlotModules||[];for(i=0;i<a.length;i++){var s=a[i];s.clean&&s.clean(e,t,n,r)}var l=r._has&&r._has("gl"),u=t._has&&t._has("gl");l&&!u&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var c=!!r._infolayer;e:for(i=0;i<n.length;i++){var f=n[i].uid;for(o=0;o<e.length;o++)if(f===e[o].uid)continue e;c&&r._infolayer.select(".cb"+f).remove()}},v.linkSubplots=function(e,t,n,r){var i,a,s=r._plots||{},u=t._plots={},c=t._subplots,d={_fullData:e,_fullLayout:t},h=c.cartesian.concat(c.gl2d||[]);for(i=0;i<h.length;i++){var p,m=h[i],g=s[m],v=f.getFromId(d,m,"x"),y=f.getFromId(d,m,"y");for(g?p=u[m]=g:(p=u[m]={}).id=m,v._counterAxes.push(y._id),y._counterAxes.push(v._id),v._subplotsWith.push(m),y._subplotsWith.push(m),p.xaxis=v,p.yaxis=y,p._hasClipOnAxisFalse=!1,a=0;a<e.length;a++){var b=e[a];if(b.xaxis===p.xaxis._id&&b.yaxis===p.yaxis._id&&!1===b.cliponaxis){p._hasClipOnAxisFalse=!0;break}}}var x,_=f.list(d,null,!0);for(i=0;i<_.length;i++){var w=null;(x=_[i]).overlaying&&(w=f.getFromId(d,x.overlaying))&&w.overlaying&&(x.overlaying=!1,w=null),x._mainAxis=w||x,w&&(x.domain=w.domain.slice()),x._anchorAxis="free"===x.anchor?null:f.getFromId(d,x.anchor)}for(i=0;i<_.length;i++)if((x=_[i])._counterAxes.sort(f.idSort),x._subplotsWith.sort(l.subplotSort),x._mainSubplot=k(x,t),x._counterAxes.length&&(x.spikemode&&-1!==x.spikemode.indexOf("across")||x.automargin&&x.mirror&&"free"!==x.anchor||o.getComponentMethod("rangeslider","isVisible")(x))){var M=1,T=0;for(a=0;a<x._counterAxes.length;a++){var S=f.getFromId(d,x._counterAxes[a]);M=Math.min(M,S.domain[0]),T=Math.max(T,S.domain[1])}M<T&&(x._counterDomainMin=M,x._counterDomainMax=T)}},v.clearExpandedTraceDefaultColors=function(e){var t,n,r;for(n=[],(t=e._module._colorAttrs)||(e._module._colorAttrs=t=[],a.crawl(e._module.attributes,(function(e,r,i,o){n[o]=r,n.length=o+1,"color"===e.valType&&void 0===e.dflt&&t.push(n.join("."))}))),r=0;r<t.length;r++)l.nestedProperty(e,"_input."+t[r]).get()||l.nestedProperty(e,t[r]).set(null)},v.supplyDataDefaults=function(e,t,n,r){var i,a,u,c=r._modules,f=r._visibleModules,d=r._basePlotModules,h=0,p=0;function g(e){t.push(e);var n=e._module;n&&(l.pushUnique(c,n),!0===e.visible&&l.pushUnique(f,n),l.pushUnique(d,e._module.basePlotModule),h++,!1!==e._input.visible&&p++)}r._transformModules=[];var y={},b=[],x=(n.template||{}).data||{},_=s.traceTemplater(x);for(i=0;i<e.length;i++){if(u=e[i],(a=_.newTrace(u)).uid=r._traceUids[i],v.supplyTraceDefaults(u,a,p,r,i),a.index=i,a._input=u,a._expandedIndex=h,a.transforms&&a.transforms.length)for(var w=!1!==u.visible&&!1===a.visible,k=T(a,t,n,r),M=0;M<k.length;M++){var S=k[M],E={_template:a._template,type:a.type,uid:a.uid+M};w&&!1===S.visible&&delete S.visible,v.supplyTraceDefaults(S,E,h,r,i),m(E,S),E.index=i,E._input=u,E._fullInput=a,E._expandedIndex=h,E._expandedInput=S,g(E)}else a._fullInput=a,a._expandedInput=a,g(a);o.traceIs(a,"carpetAxis")&&(y[a.carpet]=a),o.traceIs(a,"carpetDependent")&&b.push(i)}for(i=0;i<b.length;i++)if((a=t[b[i]]).visible){var A=y[a.carpet];a._carpet=A,A&&A.visible?(a.xaxis=A.xaxis,a.yaxis=A.yaxis):a.visible=!1}},v.supplyAnimationDefaults=function(e){var t;e=e||{};var n={};function r(t,r){return l.coerce(e||{},n,d,t,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(e.frame))for(n.frame=[],t=0;t<e.frame.length;t++)n.frame[t]=v.supplyAnimationFrameDefaults(e.frame[t]||{});else n.frame=v.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(n.transition=[],t=0;t<e.transition.length;t++)n.transition[t]=v.supplyAnimationTransitionDefaults(e.transition[t]||{});else n.transition=v.supplyAnimationTransitionDefaults(e.transition||{});return n},v.supplyAnimationFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,d.frame,n,r)}return n("duration"),n("redraw"),t},v.supplyAnimationTransitionDefaults=function(e){var t={};function n(n,r){return l.coerce(e||{},t,d.transition,n,r)}return n("duration"),n("easing"),t},v.supplyFrameDefaults=function(e){var t={};function n(n,r){return l.coerce(e,t,h,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),t},v.supplyTraceDefaults=function(e,t,n,r,i){var a,s=r.colorway||u.defaults,c=s[n%s.length];function f(n,r){return l.coerce(e,t,v.attributes,n,r)}var d=f("visible");f("type"),f("name",r._traceWord+" "+i),f("uirevision",r.uirevision);var h=v.getModule(t);if(t._module=h,h){var p=h.basePlotModule,m=p.attr,g=p.attributes;if(m&&g){var y=r._subplots,b="";if("gl2d"!==p.name||d){if(Array.isArray(m))for(a=0;a<m.length;a++){var x=m[a],_=l.coerce(e,t,g,x);y[x]&&l.pushUnique(y[x],_),b+=_}else b=l.coerce(e,t,g,m);y[p.name]&&l.pushUnique(y[p.name],b)}}}return d&&(f("customdata"),f("ids"),f("meta"),o.traceIs(t,"showLegend")?(t._dfltShowLegend=!0,f("showlegend"),f("legendgroup")):t._dfltShowLegend=!1,h&&h.supplyDefaults(e,t,c,r),o.traceIs(t,"noOpacity")||f("opacity"),o.traceIs(t,"notLegendIsolatable")&&(t.visible=!!t.visible),o.traceIs(t,"noHover")||(t.hovertemplate||l.coerceHoverinfo(e,t,r),"parcats"!==t.type&&o.getComponentMethod("fx","supplyDefaults")(e,t,c,r)),h&&h.selectPoints&&f("selectedpoints"),v.supplyTransformDefaults(e,t,r)),t},v.hasMakesDataTransform=M,v.supplyTransformDefaults=function(e,t,n){if(t._length||M(e)){var r=n._globalTransforms||[],i=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var o=e.transforms||[],a=r.concat(o),s=t.transforms=[],u=0;u<a.length;u++){var c,f=a[u],d=f.type,h=y[d],p=!(f._module&&f._module===h),m=h&&"function"==typeof h.transform;h||l.warn("Unrecognized transform type "+d+"."),h&&h.supplyDefaults&&(p||m)?((c=h.supplyDefaults(f,t,n,e)).type=d,c._module=h,l.pushUnique(i,h)):c=l.extendFlat({},f),s.push(c)}}},v.supplyLayoutGlobalDefaults=function(e,t,n){function r(n,r){return l.coerce(e,t,v.layoutAttributes,n,r)}var i=e.template;l.isPlainObject(i)&&(t.template=i,t._template=i.layout,t._dataTemplate=i.data);var a=l.coerceFont(r,"font");r("title.text",t._dfltTitle.plot),l.coerceFont(r,"title.font",{family:a.family,size:Math.round(1.4*a.size),color:a.color}),r("title.xref"),r("title.yref"),r("title.x"),r("title.y"),r("title.xanchor"),r("title.yanchor"),r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l"),r("autosize",!(e.width&&e.height)),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),e.width&&e.height&&v.sanitizeMargins(t),o.getComponentMethod("grid","sizeDefaults")(e,t),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision");var s=r("uirevision");r("editrevision",s),r("selectionrevision",s),r("modebar.orientation"),r("modebar.bgcolor",u.addOpacity(t.paper_bgcolor,.5));var c=u.contrast(u.rgb(t.modebar.bgcolor));r("modebar.color",u.addOpacity(c,.3)),r("modebar.activecolor",u.addOpacity(c,.7)),r("modebar.uirevision",s),r("meta"),l.isPlainObject(e.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),o.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,r)},v.plotAutoSize=function(e,t,n){var r,o,a=e._context||{},s=a.frameMargins,u=l.isPlotDiv(e);if(u&&e.emit("plotly_autosize"),a.fillFrame)r=window.innerWidth,o=window.innerHeight,document.body.style.overflow="hidden";else{var c=u?window.getComputedStyle(e):{};if(r=parseFloat(c.width)||parseFloat(c.maxWidth)||n.width,o=parseFloat(c.height)||parseFloat(c.maxHeight)||n.height,i(s)&&s>0){var f=1-2*s;r=Math.round(f*r),o=Math.round(f*o)}}var d=v.layoutAttributes.width.min,h=v.layoutAttributes.height.min;r<d&&(r=d),o<h&&(o=h);var p=!t.width&&Math.abs(n.width-r)>1,m=!t.height&&Math.abs(n.height-o)>1;(m||p)&&(p&&(n.width=r),m&&(n.height=o)),e._initialAutoSize||(e._initialAutoSize={width:r,height:o}),v.sanitizeMargins(n)},v.supplyLayoutModuleDefaults=function(e,t,n,r){var i,a,s,u=o.componentsRegistry,c=t._basePlotModules,f=o.subplotsRegistry.cartesian;for(i in u)(s=u[i]).includeBasePlot&&s.includeBasePlot(e,t);for(var d in c.length||c.push(f),t._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(e,t),f.finalizeSubplots(e,t)),t._subplots)t._subplots[d].sort(l.subplotSort);for(a=0;a<c.length;a++)(s=c[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var h=t._modules;for(a=0;a<h.length;a++)(s=h[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n);var p=t._transformModules;for(a=0;a<p.length;a++)(s=p[a]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n,r);for(i in u)(s=u[i]).supplyLayoutDefaults&&s.supplyLayoutDefaults(e,t,n)},v.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&(t._glcontainer.selectAll(".gl-canvas").remove(),t._glcontainer.remove(),t._glcanvas=null),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),l.clearThrottle(),l.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},v.style=function(e){var t,n=e._fullLayout._visibleModules,r=[];for(t=0;t<n.length;t++){var i=n[t];i.style&&l.pushUnique(r,i.style)}for(t=0;t<r.length;t++)r[t](e)},v.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,i=e.margin,o=n-(i.l+i.r),a=r-(i.t+i.b);o<0&&(t=(n-1)/(i.l+i.r),i.l=Math.floor(t*i.l),i.r=Math.floor(t*i.r)),a<0&&(t=(r-1)/(i.t+i.b),i.t=Math.floor(t*i.t),i.b=Math.floor(t*i.b))}},v.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},v.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1},v.autoMargin=function(e,t,n){var r=e._fullLayout,i=r._pushmargin,o=r._pushmarginIds;if(!1!==r.margin.autoexpand){if(n){var a=n.pad;if(void 0===a){var s=r.margin;a=Math.min(12,s.l,s.r,s.t,s.b)}n.l+n.r>.5*r.width&&(l.log("Margin push",t,"is too big in x, dropping"),n.l=n.r=0),n.b+n.t>.5*r.height&&(l.log("Margin push",t,"is too big in y, dropping"),n.b=n.t=0);var u=void 0!==n.xl?n.xl:n.x,c=void 0!==n.xr?n.xr:n.x,f=void 0!==n.yt?n.yt:n.y,d=void 0!==n.yb?n.yb:n.y;i[t]={l:{val:u,size:n.l+a},r:{val:c,size:n.r+a},b:{val:d,size:n.b+a},t:{val:f,size:n.t+a}},o[t]=1}else delete i[t],delete o[t];if(!r._replotting)return v.doAutoMargin(e)}},v.doAutoMargin=function(e){var t=e._fullLayout;t._size||(t._size={}),S(t);var n=t._size,r=t.margin,a=l.extendFlat({},n),s=r.l,u=r.r,c=r.t,f=r.b,d=t.width,h=t.height,p=t._pushmargin,m=t._pushmarginIds;if(!1!==t.margin.autoexpand){for(var g in p)m[g]||delete p[g];for(var y in p.base={l:{val:0,size:s},r:{val:1,size:u},t:{val:1,size:c},b:{val:0,size:f}},p){var b=p[y].l||{},x=p[y].b||{},_=b.val,w=b.size,k=x.val,M=x.size;for(var T in p){if(i(w)&&p[T].r){var E=p[T].r.val,A=p[T].r.size;if(E>_){var O=(w*E+(A-d)*_)/(E-_),C=(A*(1-_)+(w-d)*(1-E))/(E-_);O>=0&&C>=0&&d-(O+C)>0&&O+C>s+u&&(s=O,u=C)}}if(i(M)&&p[T].t){var N=p[T].t.val,D=p[T].t.size;if(N>k){var P=(M*N+(D-h)*k)/(N-k),R=(D*(1-k)+(M-h)*(1-N))/(N-k);P>=0&&R>=0&&h-(R+P)>0&&P+R>f+c&&(f=P,c=R)}}}}}if(n.l=Math.round(s),n.r=Math.round(u),n.t=Math.round(c),n.b=Math.round(f),n.p=Math.round(r.pad),n.w=Math.round(d)-n.l-n.r,n.h=Math.round(h)-n.t-n.b,!t._replotting&&v.didMarginChange(a,n)){"_redrawFromAutoMarginCount"in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1;var L=3*(1+Object.keys(m).length);if(t._redrawFromAutoMarginCount<L)return o.call("plot",e);l.warn("Too many auto-margin redraws.")}};var E=["l","r","t","b","p","w","h"];function A(e,t,n){var r=!1,i=[v.previousPromises,function(){if(e._transitionData)return e._transitioning=!1,function(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}(e._transitionData._interruptCallbacks)},n.prepareFn,v.rehover,function(){return e.emit("plotly_transitioning",[]),new Promise((function(i){e._transitioning=!0,t.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push((function(){r=!0})),n.redraw&&e._transitionData._interruptCallbacks.push((function(){return o.call("redraw",e)})),e._transitionData._interruptCallbacks.push((function(){e.emit("plotly_transitioninterrupted",[])}));var a=0,s=0;function l(){return a++,function(){var t;s++,r||s!==a||(t=i,e._transitionData&&(function(e){if(e)for(;e.length;)e.shift()}(e._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(n.redraw)return o.call("redraw",e)})).then((function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])})).then(t)))}}n.runFn(l),setTimeout(l())}))}],a=l.syncOrAsync(i,e);return a&&a.then||(a=Promise.resolve()),a.then((function(){return e}))}v.didMarginChange=function(e,t){for(var n=0;n<E.length;n++){var r=E[n],o=e[r],a=t[r];if(!i(o)||Math.abs(a-o)>1)return!0}return!1},v.graphJson=function(e,t,n,r,i){(i&&t&&!e._fullData||i&&!t&&!e._fullLayout)&&v.supplyDefaults(e);var o=i?e._fullData:e.data,a=i?e._fullLayout:e.layout,s=(e._transitionData||{})._frames;function u(e){if("function"==typeof e)return null;if(l.isPlainObject(e)){var t,r,i={};for(t in e)if("function"!=typeof e[t]&&-1===["_","["].indexOf(t.charAt(0))){if("keepdata"===n){if("src"===t.substr(t.length-3))continue}else if("keepstream"===n){if("string"==typeof(r=e[t+"src"])&&r.indexOf(":")>0&&!l.isPlainObject(e.stream))continue}else if("keepall"!==n&&"string"==typeof(r=e[t+"src"])&&r.indexOf(":")>0)continue;i[t]=u(e[t])}return i}return Array.isArray(e)?e.map(u):l.isTypedArray(e)?l.simpleMap(e,l.identity):l.isJSDate(e)?l.ms2DateTimeLocal(+e):e}var c={data:(o||[]).map((function(e){var n=u(e);return t&&delete n.fit,n}))};return t||(c.layout=u(a)),e.framework&&e.framework.isPolar&&(c=e.framework.getConfig()),s&&(c.frames=u(s)),"object"===r?c:JSON.stringify(c)},v.modifyFrames=function(e,t){var n,r,i,o=e._transitionData._frames,a=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch((r=t[n]).type){case"replace":i=r.value;var s=(o[r.index]||{}).name,l=i.name;o[r.index]=a[l]=i,l!==s&&(delete a[s],a[l]=i);break;case"insert":a[(i=r.value).name]=i,o.splice(r.index,0,i);break;case"delete":delete a[(i=o[r.index]).name],o.splice(r.index,1)}return Promise.resolve()},v.computeFrame=function(e,t){var n,r,i,o,a=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var s=a[t.toString()];if(!s)return!1;for(var l=[s],u=[s.name];s.baseframe&&(s=a[s.baseframe.toString()])&&-1===u.indexOf(s.name);)l.push(s),u.push(s.name);for(var c={};s=l.pop();)if(s.layout&&(c.layout=v.extendLayout(c.layout,s.layout)),s.data){if(c.data||(c.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(c.traces||(c.traces=[]),n=0;n<s.data.length;n++)null!=(i=r[n])&&(-1===(o=c.traces.indexOf(i))&&(o=c.data.length,c.traces[o]=i),c.data[o]=v.extendTrace(c.data[o],s.data[n]))}return c},v.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(t[i.name]=i)}},v.extendObjectWithContainers=function(e,t,n){var r,i,o,a,s,u,c,f=l.extendDeepNoArrays({},t||{}),d=l.expandObjectPaths(f),h={};if(n&&n.length)for(o=0;o<n.length;o++)void 0===(i=(r=l.nestedProperty(d,n[o])).get())?l.nestedProperty(h,n[o]).set(null):(r.set(null),l.nestedProperty(h,n[o]).set(i));if(e=l.extendDeepNoArrays(e||{},d),n&&n.length)for(o=0;o<n.length;o++)if(u=l.nestedProperty(h,n[o]).get()){for(c=(s=l.nestedProperty(e,n[o])).get(),Array.isArray(c)||(c=[],s.set(c)),a=0;a<u.length;a++){var p=u[a];c[a]=null===p?null:v.extendObjectWithContainers(c[a],p)}s.set(c)}return e},v.dataArrayContainers=["transforms","dimensions"],v.layoutArrayContainers=o.layoutArrayContainers,v.extendTrace=function(e,t){return v.extendObjectWithContainers(e,t,v.dataArrayContainers)},v.extendLayout=function(e,t){return v.extendObjectWithContainers(e,t,v.layoutArrayContainers)},v.transition=function(e,t,n,r,i,o){var a={redraw:i.redraw},s={},u=[];return a.prepareFn=function(){for(var i=Array.isArray(t)?t.length:0,o=r.slice(0,i),a=0;a<o.length;a++){var c=o[a],f=e._fullData[c]._module;if(f){if(f.animatable){var d=f.basePlotModule.name;s[d]||(s[d]=[]),s[d].push(c)}e.data[o[a]]=v.extendTrace(e.data[o[a]],t[a])}}var h=l.expandObjectPaths(l.extendDeepNoArrays({},n)),p=/^[xy]axis[0-9]*$/;for(var m in h)p.test(m)&&delete h[m].range;v.extendLayout(e.layout,h),delete e.calcdata,v.supplyDefaults(e),v.doCalcdata(e);var g=l.expandObjectPaths(n);if(g){var y=e._fullLayout._plots;for(var b in y){var x=y[b],_=x.xaxis,w=x.yaxis,k=_.range.slice(),M=w.range.slice(),T=null,S=null,E=null,A=null;Array.isArray(g[_._name+".range"])?T=g[_._name+".range"].slice():Array.isArray((g[_._name]||{}).range)&&(T=g[_._name].range.slice()),Array.isArray(g[w._name+".range"])?S=g[w._name+".range"].slice():Array.isArray((g[w._name]||{}).range)&&(S=g[w._name].range.slice()),k&&T&&(_.r2l(k[0])!==_.r2l(T[0])||_.r2l(k[1])!==_.r2l(T[1]))&&(E={xr0:k,xr1:T}),M&&S&&(w.r2l(M[0])!==w.r2l(S[0])||w.r2l(M[1])!==w.r2l(S[1]))&&(A={yr0:M,yr1:S}),(E||A)&&u.push(l.extendFlat({plotinfo:x},E,A))}}return Promise.resolve()},a.runFn=function(t){var r,i,a=e._fullLayout._basePlotModules,c=u.length;if(n)for(i=0;i<a.length;i++)a[i].transitionAxes&&a[i].transitionAxes(e,u,o,t);for(var f in c?((r=l.extendFlat({},o)).duration=0,delete s.cartesian):r=o,s){var d=s[f];e._fullData[d[0]]._module.basePlotModule.plot(e,d,r,t)}},A(e,o,a)},v.transitionFromReact=function(e,t,n,r){var i=e._fullLayout,o=i.transition,a={},s=[];return a.prepareFn=function(){var e=i._plots;for(var o in a.redraw=!1,"some"===t.anim&&(a.redraw=!0),"some"===n.anim&&(a.redraw=!0),e){var u=e[o],c=u.xaxis,f=u.yaxis,d=r[c._name].range.slice(),h=r[f._name].range.slice(),p=c.range.slice(),m=f.range.slice();c.setScale(),f.setScale();var g=null,v=null;c.r2l(d[0])===c.r2l(p[0])&&c.r2l(d[1])===c.r2l(p[1])||(g={xr0:d,xr1:p}),f.r2l(h[0])===f.r2l(m[0])&&f.r2l(h[1])===f.r2l(m[1])||(v={yr0:h,yr1:m}),(g||v)&&s.push(l.extendFlat({plotinfo:u},g,v))}return Promise.resolve()},a.runFn=function(n){for(var r,i,a,u=e._fullData,c=e._fullLayout._basePlotModules,f=[],d=0;d<u.length;d++)f.push(d);function h(){for(var t=0;t<c.length;t++)c[t].transitionAxes&&c[t].transitionAxes(e,s,r,n)}function p(){for(var t=0;t<c.length;t++)c[t].plot(e,a,i,n)}s.length&&t.anim?"traces first"===o.ordering?(r=l.extendFlat({},o,{duration:0}),a=f,i=o,setTimeout(h,o.duration),p()):(r=o,a=null,i=l.extendFlat({},o,{duration:0}),setTimeout(p,r.duration),h()):s.length?(r=o,h()):t.anim&&(a=f,i=o,p())},A(e,o,a)},v.doCalcdata=function(e,t){var n,r,i,s,u=f.list(e),d=e._fullData,h=e._fullLayout,p=new Array(d.length),m=(e.calcdata||[]).slice();for(e.calcdata=p,h._numBoxes=0,h._numViolins=0,h._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,h._piecolormap={},h._sunburstcolormap={},h._treemapcolormap={},h._funnelareacolormap={},i=0;i<d.length;i++)Array.isArray(t)&&-1===t.indexOf(i)&&(p[i]=m[i]);for(i=0;i<d.length;i++)(n=d[i])._arrayAttrs=a.findArrayAttributes(n),n._extremes={};var g=h._subplots.polar||[];for(i=0;i<g.length;i++)u.push(h[g[i]].radialaxis,h[g[i]].angularaxis);var v=!1;function b(t){if(n=d[t],r=n._module,!0===n.visible&&n.transforms){if(r&&r.calc){var i=r.calc(e,n);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(s=0;s<n.transforms.length;s++){var o=n.transforms[s];(r=y[o.type])&&r.calcTransform&&(n._hasCalcTransform=!0,v=!0,r.calcTransform(e,n,o))}}}function x(t,i){if(n=d[t],!!(r=n._module).isContainer===i){var o=[];if(!0===n.visible&&0!==n._length){delete n._indexToPoints;var a=n.transforms||[];for(s=a.length-1;s>=0;s--)if(a[s].enabled){n._indexToPoints=a[s]._indexToPoints;break}r&&r.calc&&(o=r.calc(e,n))}Array.isArray(o)&&o[0]||(o=[{x:c,y:c}]),o[0].t||(o[0].t={}),o[0].trace=n,p[t]=o}}for(C(u,d),i=0;i<d.length;i++)x(i,!0);for(i=0;i<d.length;i++)b(i);for(v&&C(u,d),i=0;i<d.length;i++)x(i,!0);for(i=0;i<d.length;i++)x(i,!1);N(e);var _=function(e,t){var n,r,i,a,s,u=[];function c(e,n,r){var i=n._id.charAt(0);if("histogram2dcontour"===e){var o=n._counterAxes[0],a=f.getFromId(t,o),s="x"===i||"x"===o&&"category"===a.type,l="y"===i||"y"===o&&"category"===a.type;return function(e,t){return 0===e||0===t?-1:s&&e===r[t].length-1?-1:l&&t===r.length-1?-1:("y"===i?t:e)-1}}return function(e,t){return"y"===i?t:e}}var d={min:function(e){return l.aggNums(Math.min,null,e)},max:function(e){return l.aggNums(Math.max,null,e)},sum:function(e){return l.aggNums((function(e,t){return e+t}),null,e)},total:function(e){return l.aggNums((function(e,t){return e+t}),null,e)},mean:function(e){return l.mean(e)},median:function(e){return l.median(e)}};for(n=0;n<e.length;n++){var h=e[n];if("category"===h.type){var p=h.categoryorder.match(O);if(p){var m=p[1],g=p[2],v=[];for(r=0;r<h._categories.length;r++)v.push([h._categories[r],[]]);for(r=0;r<h._traceIndices.length;r++){var y=h._traceIndices[r],b=t._fullData[y],x=h._id.charAt(0);if(!0===b.visible){var _=b.type;o.traceIs(b,"histogram")&&(delete b._xautoBinFinished,delete b._yautoBinFinished);var w=t.calcdata[y];for(i=0;i<w.length;i++){var k,M,T,S=w[i];if("splom"===_){var E=b._axesDim[h._id];if("y"===x){var A=b._diag[E][0];A&&(h=t._fullLayout[f.id2name(A)])}var C=S.trace.dimensions[E].values;for(a=0;a<C.length;a++)for(k=C[a],M=h._categoriesMap[k],s=0;s<S.trace.dimensions.length;s++)if(s!==E){var N=S.trace.dimensions[s];v[M][1].push(N.values[a])}}else if("scattergl"===_){for(a=0;a<S.t.x.length;a++)"x"===x&&(M=k=S.t.x[a],T=S.t.y[a]),"y"===x&&(M=k=S.t.y[a],T=S.t.x[a]),v[M][1].push(T);S.t&&S.t._scene&&delete S.t._scene.dirty}else if(S.hasOwnProperty("z")){T=S.z;var D=c(b.type,h,T);for(a=0;a<T.length;a++)for(s=0;s<T[a].length;s++)(M=D(s,a))+1&&v[M][1].push(T[a][s])}else for("x"===x?(k=S.p+1?S.p:S.x,T=S.s||S.v||S.y):"y"===x&&(k=S.p+1?S.p:S.y,T=S.s||S.v||S.x),Array.isArray(T)||(T=[T]),a=0;a<T.length;a++)v[k][1].push(T[a])}}}h._categoriesValue=v;var P=[];for(r=0;r<v.length;r++)P.push([v[r][0],d[m](v[r][1])]);P.sort((function(e,t){return e[1]-t[1]})),h._categoriesAggregatedValue=P,h._initialCategories=P.map((function(e){return e[0]})),"descending"===g&&h._initialCategories.reverse(),u=u.concat(h.sortByInitialCategories())}}}return u}(u,e);if(_.length){for(h._numBoxes=0,h._numViolins=0,i=0;i<_.length;i++)x(_[i],!0);for(i=0;i<_.length;i++)x(_[i],!1);N(e)}o.getComponentMethod("fx","calc")(e),o.getComponentMethod("errorbars","calc")(e)};var O=/(total|sum|min|max|mean|median) (ascending|descending)/;function C(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.clearCalc(),"multicategory"===r.type&&r.setupMultiCategory(t)}}function N(e){var t,n,r,i=e._fullLayout,o=i._visibleModules,a={};for(n=0;n<o.length;n++){var s=o[n],u=s.crossTraceCalc;if(u){var c=s.basePlotModule.name;a[c]?l.pushUnique(a[c],u):a[c]=[u]}}for(r in a){var f=a[r],d=i._subplots[r];if(Array.isArray(d))for(t=0;t<d.length;t++){var h=d[t],p="cartesian"===r?i._plots[h]:i[h];for(n=0;n<f.length;n++)f[n](e,p,h)}else for(n=0;n<f.length;n++)f[n](e)}}v.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},v.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()},v.generalUpdatePerTraceModule=function(e,t,n,r){var i,o=t.traceHash,a={};for(i=0;i<n.length;i++){var s=n[i],u=s[0].trace;u.visible&&(a[u.type]=a[u.type]||[],a[u.type].push(s))}for(var c in o)if(!a[c]){var f=o[c][0];f[0].trace.visible=!1,a[c]=[f]}for(var d in a){var h=a[d];h[0][0].trace._module.plot(e,t,l.filterVisible(h),r)}t.traceHash=a},v.plotBasePlot=function(e,t,n,r,i){var a=o.getModule(e),s=p(t.calcdata,a)[0];a.plot(t,s,r,i)},v.cleanBasePlot=function(e,t,n,r,i){var o=i._has&&i._has(e),a=n._has&&n._has(e);o&&!a&&i["_"+e+"layer"].selectAll("g.trace").remove()}},{"../components/color":377,"../constants/numerical":476,"../lib":497,"../plot_api/plot_schema":532,"../plot_api/plot_template":533,"../plots/get_data":571,"../registry":595,"./animation_attributes":538,"./attributes":540,"./cartesian/axis_ids":546,"./command":567,"./font_attributes":569,"./frame_attributes":570,"./layout_attributes":584,d3:82,"fast-isnumeric":91}],587:[function(e,t,n){"use strict";var r=e("../../../traces/scatter/attributes"),i=r.marker,o=e("../../../lib/extend").extendFlat;["Area traces are deprecated!","Please switch to the *barpolar* trace type."].join(" "),t.exports={r:o({},r.r,{}),t:o({},r.t,{}),marker:{color:o({},i.color,{}),size:o({},i.size,{}),symbol:o({},i.symbol,{}),opacity:o({},i.opacity,{}),editType:"calc"}}},{"../../../lib/extend":491,"../../../traces/scatter/attributes":624}],588:[function(e,t,n){"use strict";var r=e("../../cartesian/layout_attributes"),i=e("../../../lib/extend").extendFlat,o=e("../../../plot_api/edit_types").overrideAll,a=["Legacy polar charts are deprecated!","Please switch to *polar* subplots."].join(" "),s=i({},r.domain,{});function l(e,t){return i({},t,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number",description:a},visible:{valType:"boolean"}})}t.exports=o({radialaxis:l(0,{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:s,orientation:{valType:"number"}}),angularaxis:l(0,{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:s}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},{"../../../lib/extend":491,"../../../plot_api/edit_types":526,"../../cartesian/layout_attributes":555}],589:[function(e,t,n){"use strict";(t.exports=e("./micropolar")).manager=e("./micropolar_manager")},{"./micropolar":590,"./micropolar_manager":591}],590:[function(e,t,n){var r=e("d3"),i=e("../../../lib").extendDeepAll,o=e("../../../constants/alignment").MID_SHIFT,a=t.exports={version:"0.2.2"};a.Axis=function(){var e,t,n,s,l={data:[],layout:{}},u={},c={},f=r.dispatch("hover"),d={render:function(u){return function(u){t=u||t;var f=l.data,d=l.layout;("string"==typeof t||t.nodeName)&&(t=r.select(t)),t.datum(f).each((function(t,l){var u=t.slice();c={data:a.util.cloneJson(u),layout:a.util.cloneJson(d)};var f=0;u.forEach((function(e,t){e.color||(e.color=d.defaultColorRange[f],f=(f+1)%d.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:r.rgb(e.color).darker().toString()),c.data[t].color=e.color,c.data[t].strokeColor=e.strokeColor,c.data[t].strokeDash=e.strokeDash,c.data[t].strokeSize=e.strokeSize}));var h=u.filter((function(e,t){var n=e.visible;return"undefined"==typeof n||!0===n})),p=!1,m=h.map((function(e,t){return p=p||"undefined"!=typeof e.groupId,e}));if(p){var g=r.nest().key((function(e,t){return"undefined"!=typeof e.groupId?e.groupId:"unstacked"})).entries(m),v=[],y=g.map((function(e,t){if("unstacked"===e.key)return e.values;var n=e.values[0].r.map((function(e,t){return 0}));return e.values.forEach((function(e,t,r){e.yStack=[n],v.push(n),n=a.util.sumArrays(e.r,n)})),e.values}));h=r.merge(y)}h.forEach((function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]}));var b=Math.min(d.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2;b=Math.max(10,b);var x,_=[d.margin.left+b,d.margin.top+b];x=p?[0,r.max(a.util.sumArrays(a.util.arrayLast(h).r[0],a.util.arrayLast(v)))]:r.extent(a.util.flattenArray(h.map((function(e,t){return e.r})))),d.radialAxis.domain!=a.DATAEXTENT&&(x[0]=0),n=r.scale.linear().domain(d.radialAxis.domain!=a.DATAEXTENT&&d.radialAxis.domain?d.radialAxis.domain:x).range([0,b]),c.layout.radialAxis.domain=n.domain();var w,k=a.util.flattenArray(h.map((function(e,t){return e.t}))),M="string"==typeof k[0];M&&(k=a.util.deduplicate(k),w=k.slice(),k=r.range(k.length),h=h.map((function(e,t){var n=e;return e.t=[k],p&&(n.yStack=e.yStack),n})));var T=h.filter((function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry})).length===h.length,S=null===d.needsEndSpacing?M||!T:d.needsEndSpacing,E=d.angularAxis.domain&&d.angularAxis.domain!=a.DATAEXTENT&&!M&&d.angularAxis.domain[0]>=0?d.angularAxis.domain:r.extent(k),A=Math.abs(k[1]-k[0]);T&&!M&&(A=0);var O=E.slice();S&&M&&(O[1]+=A);var C=d.angularAxis.ticksCount||4;C>8&&(C=C/(C/8)+C%8),d.angularAxis.ticksStep&&(C=(O[1]-O[0])/C);var N=d.angularAxis.ticksStep||(O[1]-O[0])/(C*(d.minorTicks+1));w&&(N=Math.max(Math.round(N),1)),O[2]||(O[2]=N);var D=r.range.apply(this,O);if(D=D.map((function(e,t){return parseFloat(e.toPrecision(12))})),s=r.scale.linear().domain(O.slice(0,2)).range("clockwise"===d.direction?[0,360]:[360,0]),c.layout.angularAxis.domain=s.domain(),c.layout.angularAxis.endPadding=S?A:0,"undefined"==typeof(e=r.select(this).select("svg.chart-root"))||e.empty()){var P=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),R=this.appendChild(this.ownerDocument.importNode(P.documentElement,!0));e=r.select(R)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var L,I=e.select(".chart-group"),j={fill:"none",stroke:d.tickColor},z={"font-size":d.font.size,"font-family":d.font.family,fill:d.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map((function(e,t){return" "+e+" 0 "+d.font.outlineColor})).join(",")};if(d.showLegend){L=e.select(".legend-group").attr({transform:"translate("+[b,d.margin.top]+")"}).style({display:"block"});var F=h.map((function(e,t){var n=a.util.cloneJson(e);return n.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",n.visibleInLegend="undefined"==typeof e.visibleInLegend||e.visibleInLegend,n.color="LinePlot"===e.geometry?e.strokeColor:e.color,n}));a.Legend().config({data:h.map((function(e,t){return e.name||"Element"+t})),legendConfig:i({},a.Legend.defaultConfig().legendConfig,{container:L,elements:F,reverseOrder:d.legend.reverseOrder})})();var B=L.node().getBBox();b=Math.min(d.width-B.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2,b=Math.max(10,b),_=[d.margin.left+b,d.margin.top+b],n.range([0,b]),c.layout.radialAxis.domain=n.domain(),L.attr("transform","translate("+[_[0]+b,_[1]-b]+")")}else L=e.select(".legend-group").style({display:"none"});e.attr({width:d.width,height:d.height}).style({opacity:d.opacity}),I.attr("transform","translate("+_+")").style({cursor:"crosshair"});var U=[(d.width-(d.margin.left+d.margin.right+2*b+(B?B.width:0)))/2,(d.height-(d.margin.top+d.margin.bottom+2*b))/2];if(U[0]=Math.max(0,U[0]),U[1]=Math.max(0,U[1]),e.select(".outer-group").attr("transform","translate("+U+")"),d.title&&d.title.text){var H=e.select("g.title-group text").style(z).text(d.title.text),q=H.node().getBBox();H.attr({x:_[0]-q.width/2,y:_[1]-b-20})}var V=e.select(".radial.axis-group");if(d.radialAxis.gridLinesVisible){var W=V.selectAll("circle.grid-circle").data(n.ticks(5));W.enter().append("circle").attr({class:"grid-circle"}).style(j),W.attr("r",n),W.exit().remove()}V.select("circle.outside-circle").attr({r:b}).style(j);var Y=e.select("circle.background-circle").attr({r:b}).style({fill:d.backgroundColor,stroke:d.stroke});function G(e,t){return s(e)%360+d.orientation}if(d.radialAxis.visible){var X=r.svg.axis().scale(n).ticks(5).tickSize(5);V.call(X).attr({transform:"rotate("+d.radialAxis.orientation+")"}),V.selectAll(".domain").style(j),V.selectAll("g>text").text((function(e,t){return this.textContent+d.radialAxis.ticksSuffix})).style(z).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===d.radialAxis.tickOrientation?"rotate("+-d.radialAxis.orientation+") translate("+[0,z["font-size"]]+")":"translate("+[0,z["font-size"]]+")"}}),V.selectAll("g>line").style({stroke:"black"})}var $=e.select(".angular.axis-group").selectAll("g.angular-tick").data(D),Z=$.enter().append("g").classed("angular-tick",!0);$.attr({transform:function(e,t){return"rotate("+G(e)+")"}}).style({display:d.angularAxis.visible?"block":"none"}),$.exit().remove(),Z.append("line").classed("grid-line",!0).classed("major",(function(e,t){return t%(d.minorTicks+1)==0})).classed("minor",(function(e,t){return!(t%(d.minorTicks+1)==0)})).style(j),Z.selectAll(".minor").style({stroke:d.minorTickColor}),$.select("line.grid-line").attr({x1:d.tickLength?b-d.tickLength:0,x2:b}).style({display:d.angularAxis.gridLinesVisible?"block":"none"}),Z.append("text").classed("axis-text",!0).style(z);var K=$.select("text.axis-text").attr({x:b+d.labelOffset,dy:o+"em",transform:function(e,t){var n=G(e),r=b+d.labelOffset,i=d.angularAxis.tickOrientation;return"horizontal"==i?"rotate("+-n+" "+r+" 0)":"radial"==i?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:d.angularAxis.labelsVisible?"block":"none"}).text((function(e,t){return t%(d.minorTicks+1)!=0?"":w?w[e]+d.angularAxis.ticksSuffix:e+d.angularAxis.ticksSuffix})).style(z);d.angularAxis.rewriteTicks&&K.text((function(e,t){return t%(d.minorTicks+1)!=0?"":d.angularAxis.rewriteTicks(this.textContent,t)}));var J=r.max(I.selectAll(".angular-tick text")[0].map((function(e,t){return e.getCTM().e+e.getBBox().width})));L.attr({transform:"translate("+[b+J,d.margin.top]+")"});var Q=e.select("g.geometry-group").selectAll("g").size()>0,ee=e.select("g.geometry-group").selectAll("g.geometry").data(h);if(ee.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),ee.exit().remove(),h[0]||Q){var te=[];h.forEach((function(e,t){var r={};r.radialScale=n,r.angularScale=s,r.container=ee.filter((function(e,n){return n==t})),r.geometry=e.geometry,r.orientation=d.orientation,r.direction=d.direction,r.index=t,te.push({data:e,geometryConfig:r})}));var ne=r.nest().key((function(e,t){return"undefined"!=typeof e.data.groupId||"unstacked"})).entries(te),re=[];ne.forEach((function(e,t){"unstacked"===e.key?re=re.concat(e.values.map((function(e,t){return[e]}))):re.push(e.values)})),re.forEach((function(e,t){var n;n=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var r=e.map((function(e,t){return i(a[n].defaultConfig(),e)}));a[n]().config(r)()}))}var ie,oe,ae=e.select(".guides-group"),se=e.select(".tooltips-group"),le=a.tooltipPanel().config({container:se,fontSize:8})(),ue=a.tooltipPanel().config({container:se,fontSize:8})(),ce=a.tooltipPanel().config({container:se,hasTick:!0})();if(!M){var fe=ae.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});I.on("mousemove.angular-guide",(function(e,t){var n=a.util.getMousePos(Y).angle;fe.attr({x2:-b,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-d.orientation)%360;ie=s.invert(r);var i=a.util.convertToCartesian(b+12,n+180);le.text(a.util.round(ie)).move([i[0]+_[0],i[1]+_[1]])})).on("mouseout.angular-guide",(function(e,t){ae.select("line").style({opacity:0})}))}var de=ae.select("circle").style({stroke:"grey",fill:"none"});I.on("mousemove.radial-guide",(function(e,t){var r=a.util.getMousePos(Y).radius;de.attr({r:r}).style({opacity:.5}),oe=n.invert(a.util.getMousePos(Y).radius);var i=a.util.convertToCartesian(r,d.radialAxis.orientation);ue.text(a.util.round(oe)).move([i[0]+_[0],i[1]+_[1]])})).on("mouseout.radial-guide",(function(e,t){de.style({opacity:0}),ce.hide(),le.hide(),ue.hide()})),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",(function(t,n){var i=r.select(this),o=this.style.fill,s="black",l=this.style.opacity||1;if(i.attr({"data-opacity":l}),o&&"none"!==o){i.attr({"data-fill":o}),s=r.hsl(o).darker().toString(),i.style({fill:s,opacity:1});var u={t:a.util.round(t[0]),r:a.util.round(t[1])};M&&(u.t=w[t[0]]);var c="t: "+u.t+", r: "+u.r,f=this.getBoundingClientRect(),d=e.node().getBoundingClientRect(),h=[f.left+f.width/2-U[0]-d.left,f.top+f.height/2-U[1]-d.top];ce.config({color:s}).text(c),ce.move(h)}else o=this.style.stroke||"black",i.attr({"data-stroke":o}),s=r.hsl(o).darker().toString(),i.style({stroke:s,opacity:1})})).on("mousemove.tooltip",(function(e,t){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&ce.show()})).on("mouseout.tooltip",(function(e,t){ce.hide();var n=r.select(this),i=n.attr("data-fill");i?n.style({fill:i,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})}))}))}(u),this},config:function(e){if(!arguments.length)return l;var t=a.util.cloneJson(e);return t.data.forEach((function(e,t){l.data[t]||(l.data[t]={}),i(l.data[t],a.Axis.defaultConfig().data[0]),i(l.data[t],e)})),i(l.layout,a.Axis.defaultConfig().layout),i(l.layout,t.layout),this},getLiveConfig:function(){return c},getinputConfig:function(){return u},radialScale:function(e){return n},angularScale:function(e){return s},svg:function(){return e}};return r.rebind(d,f,"on"),d},a.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},a.util={},a.DATAEXTENT="dataExtent",a.AREA="AreaChart",a.LINE="LinePlot",a.DOT="DotPlot",a.BAR="BarChart",a.util._override=function(e,t){for(var n in e)n in t&&(t[n]=e[n])},a.util._extend=function(e,t){for(var n in e)t[n]=e[n]},a.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},a.util.dataFromEquation2=function(e,t){var n=t||6;return r.range(0,360+n,n).map((function(t,n){var r=t*Math.PI/180;return[t,e(r)]}))},a.util.dataFromEquation=function(e,t,n){var i=t||6,o=[],a=[];r.range(0,360+i,i).forEach((function(t,n){var r=t*Math.PI/180,i=e(r);o.push(t),a.push(i)}));var s={t:o,r:a};return n&&(s.name=n),s},a.util.ensureArray=function(e,t){if("undefined"==typeof e)return null;var n=[].concat(e);return r.range(t).map((function(e,t){return n[t]||n[0]}))},a.util.fillArrays=function(e,t,n){return t.forEach((function(t,r){e[t]=a.util.ensureArray(e[t],n)})),e},a.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},a.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var n=t.shift();return e[n]&&(!t.length||objHasKeys(e[n],t))},a.util.sumArrays=function(e,t){return r.zip(e,t).map((function(e,t){return r.sum(e)}))},a.util.arrayLast=function(e){return e[e.length-1]},a.util.arrayEqual=function(e,t){for(var n=Math.max(e.length,t.length,1);n-- >=0&&e[n]===t[n];);return-2===n},a.util.flattenArray=function(e){for(var t=[];!a.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},a.util.deduplicate=function(e){return e.filter((function(e,t,n){return n.indexOf(e)==t}))},a.util.convertToCartesian=function(e,t){var n=t*Math.PI/180;return[e*Math.cos(n),e*Math.sin(n)]},a.util.round=function(e,t){var n=t||2,r=Math.pow(10,n);return Math.round(e*r)/r},a.util.getMousePos=function(e){var t=r.mouse(e.node()),n=t[0],i=t[1],o={};return o.x=n,o.y=i,o.pos=t,o.angle=180*(Math.atan2(i,n)+Math.PI)/Math.PI,o.radius=Math.sqrt(n*n+i*i),o},a.util.duplicatesCount=function(e){for(var t,n={},r={},i=0,o=e.length;i<o;i++)(t=e[i])in n?(n[t]++,r[t]=n[t]):n[t]=1;return r},a.util.duplicates=function(e){return Object.keys(a.util.duplicatesCount(e))},a.util.translator=function(e,t,n,r){if(r){var i=n.slice();n=t,t=i}var o=t.reduce((function(e,t){if("undefined"!=typeof e)return e[t]}),e);"undefined"!=typeof o&&(t.reduce((function(e,n,r){if("undefined"!=typeof e)return r===t.length-1&&delete e[n],e[n]}),e),n.reduce((function(e,t,r){return"undefined"==typeof e[t]&&(e[t]={}),r===n.length-1&&(e[t]=o),e[t]}),e))},a.PolyChart=function(){var e=[a.PolyChart.defaultConfig()],t=r.dispatch("hover"),n={solid:"none",dash:[5,2],dot:[2,5]};function o(){var t=e[0].geometryConfig,i=t.container;"string"==typeof i&&(i=r.select(i)),i.datum(e).each((function(e,i){var o=!!e[0].data.yStack,a=e.map((function(e,t){return o?r.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):r.zip(e.data.t[0],e.data.r[0])})),s=t.angularScale,l=t.radialScale.domain()[0],u={bar:function(n,i,o){var a=e[o].data,l=t.radialScale(n[1])-t.radialScale(0),u=t.radialScale(n[2]||0),c=a.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[l+u,-c/2],[l+u,c/2],[u,c/2],[u,-c/2]].join("L")+"Z",transform:function(e,n){return"rotate("+(t.orientation+s(e[0]))+")"}})},dot:function(n,i,o){var a=n[2]?[n[0],n[1]+n[2]]:n,s=r.svg.symbol().size(e[o].data.dotSize).type(e[o].data.dotType)(n,i);r.select(this).attr({class:"mark dot",d:s,transform:function(e,n){var r,i={x:(r=function(e,n){return{r:t.radialScale(e[1]),t:(t.angularScale(e[0])+t.orientation)*Math.PI/180}}(a)).r*Math.cos(r.t),y:r.r*Math.sin(r.t)};return"translate("+[i.x,i.y]+")"}})}},c=r.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius((function(e){return t.radialScale(e[1])})).angle((function(e){return t.angularScale(e[0])*Math.PI/180}));u.line=function(n,i,o){var s=n[2]?a[o].map((function(e,t){return[e[0],e[1]+e[2]]})):a[o];if(r.select(this).each(u.dot).style({opacity:function(t,n){return+e[o].data.dotVisible},fill:p.stroke(n,i,o)}).attr({class:"mark dot"}),!(i>0)){var l=r.select(this.parentNode).selectAll("path.line").data([0]);l.enter().insert("path"),l.attr({class:"line",d:c(s),transform:function(e,n){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return p.fill(n,i,o)},"fill-opacity":0,stroke:function(e,t){return p.stroke(n,i,o)},"stroke-width":function(e,t){return p["stroke-width"](n,i,o)},"stroke-dasharray":function(e,t){return p["stroke-dasharray"](n,i,o)},opacity:function(e,t){return p.opacity(n,i,o)},display:function(e,t){return p.display(n,i,o)}})}};var f=t.angularScale.range(),d=Math.abs(f[1]-f[0])/a[0].length*Math.PI/180,h=r.svg.arc().startAngle((function(e){return-d/2})).endAngle((function(e){return d/2})).innerRadius((function(e){return t.radialScale(l+(e[2]||0))})).outerRadius((function(e){return t.radialScale(l+(e[2]||0))+t.radialScale(e[1])}));u.arc=function(e,n,i){r.select(this).attr({class:"mark arc",d:h,transform:function(e,n){return"rotate("+(t.orientation+s(e[0])+90)+")"}})};var p={fill:function(t,n,r){return e[r].data.color},stroke:function(t,n,r){return e[r].data.strokeColor},"stroke-width":function(t,n,r){return e[r].data.strokeSize+"px"},"stroke-dasharray":function(t,r,i){return n[e[i].data.strokeDash]},opacity:function(t,n,r){return e[r].data.opacity},display:function(t,n,r){return"undefined"==typeof e[r].data.visible||e[r].data.visible?"block":"none"}},m=r.select(this).selectAll("g.layer").data(a);m.enter().append("g").attr({class:"layer"});var g=m.selectAll("path.mark").data((function(e,t){return e}));g.enter().append("path").attr({class:"mark"}),g.style(p).each(u[t.geometryType]),g.exit().remove(),m.exit().remove()}))}return o.config=function(t){return arguments.length?(t.forEach((function(t,n){e[n]||(e[n]={}),i(e[n],a.PolyChart.defaultConfig()),i(e[n],t)})),this):e},o.getColorScale=function(){},r.rebind(o,t,"on"),o},a.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}}},a.BarChart=function(){return a.PolyChart()},a.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},a.AreaChart=function(){return a.PolyChart()},a.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},a.DotPlot=function(){return a.PolyChart()},a.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},a.LinePlot=function(){return a.PolyChart()},a.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},a.Legend=function(){var e=a.Legend.defaultConfig(),t=r.dispatch("hover");function n(){var t=e.legendConfig,o=e.data.map((function(e,n){return[].concat(e).map((function(e,r){var o=i({},t.elements[n]);return o.name=e,o.color=[].concat(t.elements[n].color)[r],o}))})),a=r.merge(o);a=a.filter((function(e,n){return t.elements[n]&&(t.elements[n].visibleInLegend||"undefined"==typeof t.elements[n].visibleInLegend)})),t.reverseOrder&&(a=a.reverse());var s=t.container;("string"==typeof s||s.nodeName)&&(s=r.select(s));var l=a.map((function(e,t){return e.color})),u=t.fontSize,c=null==t.isContinuous?"number"==typeof a[0]:t.isContinuous,f=c?t.height:u*a.length,d=s.classed("legend-group",!0).selectAll("svg").data([0]),h=d.enter().append("svg").attr({width:300,height:f+u,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});h.append("g").classed("legend-axis",!0),h.append("g").classed("legend-marks",!0);var p=r.range(a.length),m=r.scale[c?"linear":"ordinal"]().domain(p).range(l),g=r.scale[c?"linear":"ordinal"]().domain(p)[c?"range":"rangePoints"]([0,f]);if(c){var v=d.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);v.enter().append("stop"),v.attr({offset:function(e,t){return t/(l.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),d.append("rect").classed("legend-mark",!0).attr({height:t.height,width:t.colorBandWidth,fill:"url(#grad1)"})}else{var y=d.select(".legend-marks").selectAll("path.legend-mark").data(a);y.enter().append("path").classed("legend-mark",!0),y.attr({transform:function(e,t){return"translate("+[u/2,g(t)+u/2]+")"},d:function(e,t){var n,i,o,a=e.symbol;return o=3*(i=u),"line"===(n=a)?"M"+[[-i/2,-i/12],[i/2,-i/12],[i/2,i/12],[-i/2,i/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(n)?r.svg.symbol().type(n).size(o)():r.svg.symbol().type("square").size(o)()},fill:function(e,t){return m(t)}}),y.exit().remove()}var b=r.svg.axis().scale(g).orient("right"),x=d.select("g.legend-axis").attr({transform:"translate("+[c?t.colorBandWidth:u,u/2]+")"}).call(b);return x.selectAll(".domain").style({fill:"none",stroke:"none"}),x.selectAll("line").style({fill:"none",stroke:c?t.textColor:"none"}),x.selectAll("text").style({fill:t.textColor,"font-size":t.fontSize}).text((function(e,t){return a[t].name})),n}return n.config=function(t){return arguments.length?(i(e,t),this):e},r.rebind(n,t,"on"),n},a.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},a.tooltipPanel=function(){var e,t,n,o={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},s="tooltip-"+a.tooltipPanel.uid++,l=10,u=function r(){var i=(e=o.container.selectAll("g."+s).data([0])).enter().append("g").classed(s,!0).style({"pointer-events":"none",display:"none"});return n=i.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=i.append("text").attr({dx:o.padding+l,dy:.3*+o.fontSize}),r};return u.text=function(i){var a=r.hsl(o.color).l,s=a>=.5?"#aaa":"white",c=a>=.5?"black":"white",f=i||"";t.style({fill:c,"font-size":o.fontSize+"px"}).text(f);var d=o.padding,h=t.node().getBBox(),p={fill:o.color,stroke:s,"stroke-width":"2px"},m=h.width+2*d+l,g=h.height+2*d;return n.attr({d:"M"+[[l,-g/2],[l,-g/4],[o.hasTick?0:l,0],[l,g/4],[l,g/2],[m,g/2],[m,-g/2]].join("L")+"Z"}).style(p),e.attr({transform:"translate("+[l,-g/2+2*d]+")"}),e.style({display:"block"}),u},u.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),u},u.hide=function(){if(e)return e.style({display:"none"}),u},u.show=function(){if(e)return e.style({display:"block"}),u},u.config=function(e){return i(o,e),u},u},a.tooltipPanel.uid=1,a.adapter={},a.adapter.plotly=function(){return{convert:function(e,t){var n={};if(e.data&&(n.data=e.data.map((function(e,n){var r=i({},e);return[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]].forEach((function(e,n){a.util.translator.apply(null,e.concat(t))})),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r})),!t&&e.layout&&"stack"===e.layout.barmode)){var o=a.util.duplicates(n.data.map((function(e,t){return e.geometry})));n.data.forEach((function(e,t){var r=o.indexOf(e.geometry);-1!=r&&(n.data[t].groupId=r)}))}if(e.layout){var s=i({},e.layout);if([[s,["plot_bgcolor"],["backgroundColor"]],[s,["showlegend"],["showLegend"]],[s,["radialaxis"],["radialAxis"]],[s,["angularaxis"],["angularAxis"]],[s.angularaxis,["showline"],["gridLinesVisible"]],[s.angularaxis,["showticklabels"],["labelsVisible"]],[s.angularaxis,["nticks"],["ticksCount"]],[s.angularaxis,["tickorientation"],["tickOrientation"]],[s.angularaxis,["ticksuffix"],["ticksSuffix"]],[s.angularaxis,["range"],["domain"]],[s.angularaxis,["endpadding"],["endPadding"]],[s.radialaxis,["showline"],["gridLinesVisible"]],[s.radialaxis,["tickorientation"],["tickOrientation"]],[s.radialaxis,["ticksuffix"],["ticksSuffix"]],[s.radialaxis,["range"],["domain"]],[s.angularAxis,["showline"],["gridLinesVisible"]],[s.angularAxis,["showticklabels"],["labelsVisible"]],[s.angularAxis,["nticks"],["ticksCount"]],[s.angularAxis,["tickorientation"],["tickOrientation"]],[s.angularAxis,["ticksuffix"],["ticksSuffix"]],[s.angularAxis,["range"],["domain"]],[s.angularAxis,["endpadding"],["endPadding"]],[s.radialAxis,["showline"],["gridLinesVisible"]],[s.radialAxis,["tickorientation"],["tickOrientation"]],[s.radialAxis,["ticksuffix"],["ticksSuffix"]],[s.radialAxis,["range"],["domain"]],[s.font,["outlinecolor"],["outlineColor"]],[s.legend,["traceorder"],["reverseOrder"]],[s,["labeloffset"],["labelOffset"]],[s,["defaultcolorrange"],["defaultColorRange"]]].forEach((function(e,n){a.util.translator.apply(null,e.concat(t))})),t?("undefined"!=typeof s.tickLength&&(s.angularaxis.ticklen=s.tickLength,delete s.tickLength),s.tickColor&&(s.angularaxis.tickcolor=s.tickColor,delete s.tickColor)):(s.angularAxis&&"undefined"!=typeof s.angularAxis.ticklen&&(s.tickLength=s.angularAxis.ticklen),s.angularAxis&&"undefined"!=typeof s.angularAxis.tickcolor&&(s.tickColor=s.angularAxis.tickcolor)),s.legend&&"boolean"!=typeof s.legend.reverseOrder&&(s.legend.reverseOrder="normal"!=s.legend.reverseOrder),s.legend&&"boolean"==typeof s.legend.traceorder&&(s.legend.traceorder=s.legend.traceorder?"reversed":"normal",delete s.legend.reverseOrder),s.margin&&"undefined"!=typeof s.margin.t){var l=["t","r","b","l","pad"],u=["top","right","bottom","left","pad"],c={};r.entries(s.margin).forEach((function(e,t){c[u[l.indexOf(e.key)]]=e.value})),s.margin=c}t&&(delete s.needsEndSpacing,delete s.minorTickColor,delete s.minorTicks,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksCount,delete s.angularaxis.ticksStep,delete s.angularaxis.rewriteTicks,delete s.angularaxis.nticks,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksCount,delete s.radialaxis.ticksStep,delete s.radialaxis.rewriteTicks,delete s.radialaxis.nticks),n.layout=s}return n}}}},{"../../../constants/alignment":471,"../../../lib":497,d3:82}],591:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../../lib"),o=e("../../../components/color"),a=e("./micropolar"),s=e("./undo_manager"),l=i.extendDeepAll,u=t.exports={};u.framework=function(e){var t,n,i,o,c,f=new s;function d(n,s){return s&&(c=s),r.select(r.select(c).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),t=t?l(t,n):n,i||(i=a.Axis()),o=a.adapter.plotly().convert(t),i.config(o).render(c),e.data=t.data,e.layout=t.layout,u.fillLayout(e),t}return d.isPolar=!0,d.svg=function(){return i.svg()},d.getConfig=function(){return t},d.getLiveConfig=function(){return a.adapter.plotly().convert(i.getLiveConfig(),!0)},d.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},d.setUndoPoint=function(){var e,r,i=this,o=a.util.cloneJson(t);e=o,r=n,f.add({undo:function(){r&&i(r)},redo:function(){i(e)}}),n=a.util.cloneJson(o)},d.undo=function(){f.undo()},d.redo=function(){f.redo()},d},u.fillLayout=function(e){var t=r.select(e).selectAll(".plot-container"),n=t.selectAll(".svg-container"),i=e.framework&&e.framework.svg&&e.framework.svg(),a={width:800,height:600,paper_bgcolor:o.background,_container:t,_paperdiv:n,_paper:i};e._fullLayout=l(a,e.layout)}},{"../../../components/color":377,"../../../lib":497,"./micropolar":590,"./undo_manager":592,d3:82}],592:[function(e,t,n){"use strict";t.exports=function(){var e,t=[],n=-1,r=!1;function i(e,t){return e?(r=!0,e[t](),r=!1,this):this}return{add:function(e){return r?this:(t.splice(n+1,t.length-n),t.push(e),n=t.length-1,this)},setCallback:function(t){e=t},undo:function(){var r=t[n];return r?(i(r,"undo"),n-=1,e&&e(r.undo),this):this},redo:function(){var r=t[n+1];return r?(i(r,"redo"),n+=1,e&&e(r.redo),this):this},clear:function(){t=[],n=-1},hasUndo:function(){return-1!==n},hasRedo:function(){return n<t.length-1},getCommands:function(){return t},getPreviousCommand:function(){return t[n-1]},getIndex:function(){return n}}}},{}],593:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/plot_template"),o=e("./domain").defaults;t.exports=function(e,t,n,a){var s,l,u=a.type,c=a.attributes,f=a.handleDefaults,d=a.partition||"x",h=t._subplots[u],p=h.length,m=p&&h[0].replace(/\d+$/,"");function g(e,t){return r.coerce(s,l,c,e,t)}for(var v=0;v<p;v++){var y=h[v];s=e[y]?e[y]:e[y]={},l=i.newContainer(t,y,m),g("uirevision",t.uirevision);var b={};b[d]=[v/p,(v+1)/p],o(l,t,g,b),a.id=y,f(s,l,g,a)}}},{"../lib":497,"../plot_api/plot_template":533,"./domain":568}],594:[function(e,t,n){"use strict";function r(e){var t=e.description?" "+e.description:"",n=e.keys||[];if(n.length>0){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";t+="Finally, the template string has access to ",t=1===n.length?"variable "+r[0]:"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return t}['Variables are inserted using %{variable}, for example "y: %{y}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',e("../constants/docs").FORMAT_LINK,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',e("../constants/docs").DATE_FORMAT_LINK,"for details on the date formatting syntax."].join(" "),n.hovertemplateAttrs=function(e,t){e=e||{},r(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"none"};return!1!==e.arrayOk&&(n.arrayOk=!0),n},n.texttemplateAttrs=function(e,t){e=e||{},r(t=t||{});var n={valType:"string",dflt:"",editType:e.editType||"calc"};return!1!==e.arrayOk&&(n.arrayOk=!0),n}},{"../constants/docs":472}],595:[function(e,t,n){"use strict";var r=e("./lib/loggers"),i=e("./lib/noop"),o=e("./lib/push_unique"),a=e("./lib/is_plain_object"),s=e("./lib/dom").addStyleRule,l=e("./lib/extend"),u=e("./plots/attributes"),c=e("./plots/layout_attributes"),f=l.extendFlat,d=l.extendDeepAll;function h(e){var t=e.name,i=e.categories,o=e.meta;if(n.modules[t])r.log("Type "+t+" already registered");else{n.subplotsRegistry[e.basePlotModule.name]||function(e){var t=e.name;if(n.subplotsRegistry[t])r.log("Plot type "+t+" already registered.");else for(var i in v(e),n.subplotsRegistry[t]=e,n.componentsRegistry)x(i,e.name)}(e.basePlotModule);for(var a={},l=0;l<i.length;l++)a[i[l]]=!0,n.allCategories[i[l]]=!0;for(var u in n.modules[t]={_module:e,categories:a},o&&Object.keys(o).length&&(n.modules[t].meta=o),n.allTypes.push(t),n.componentsRegistry)y(u,t);e.layoutAttributes&&f(n.traceLayoutAttributes,e.layoutAttributes);var c=e.basePlotModule,d=c.name;if("mapbox"===d){var h=c.constants.styleRules;for(var p in h)s(".js-plotly-plot .plotly .mapboxgl-"+p,h[p])}"geo"!==d&&"mapbox"!==d||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function p(e){if("string"!=typeof e.name)throw new Error("Component module *name* must be a string.");var t=e.name;for(var r in n.componentsRegistry[t]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&o(n.layoutArrayContainers,t),v(e)),n.modules)y(t,r);for(var i in n.subplotsRegistry)x(t,i);for(var a in n.transformsRegistry)b(t,a);e.schema&&e.schema.layout&&d(c,e.schema.layout)}function m(e){if("string"!=typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,i="function"==typeof e.transform,o="function"==typeof e.calcTransform;if(!i&&!o)throw new Error(t+" is missing a *transform* or *calcTransform* method.");for(var s in i&&o&&r.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(e.attributes)||r.log(t+" registered without an *attributes* object."),"function"!=typeof e.supplyDefaults&&r.log(t+" registered without a *supplyDefaults* method."),n.transformsRegistry[e.name]=e,n.componentsRegistry)b(s,e.name)}function g(e){var t=e.name,r=t.split("-")[0],i=e.dictionary,o=e.format,a=i&&Object.keys(i).length,s=o&&Object.keys(o).length,l=n.localeRegistry,u=l[t];if(u||(l[t]=u={}),r!==t){var c=l[r];c||(l[r]=c={}),a&&c.dictionary===u.dictionary&&(c.dictionary=i),s&&c.format===u.format&&(c.format=o)}a&&(u.dictionary=i),s&&(u.format=o)}function v(e){if(e.layoutAttributes){var t=e.layoutAttributes._arrayAttrRegexps;if(t)for(var r=0;r<t.length;r++)o(n.layoutArrayRegexes,t[r])}}function y(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.traces){var i=r.traces[t];i&&d(n.modules[t]._module.attributes,i)}}function b(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.transforms){var i=r.transforms[t];i&&d(n.transformsRegistry[t].attributes,i)}}function x(e,t){var r=n.componentsRegistry[e].schema;if(r&&r.subplots){var i=n.subplotsRegistry[t],o=i.layoutAttributes,a="subplot"===i.attr?i.name:i.attr;Array.isArray(a)&&(a=a[0]);var s=r.subplots[a];o&&s&&d(o,s)}}function _(e){return"object"==typeof e&&(e=e.type),e}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.collectableSubplotTypes=null,n.register=function(e){if(n.collectableSubplotTypes=null,!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(!r)throw new Error("Invalid module was attempted to be registered!");switch(r.moduleType){case"trace":h(r);break;case"transform":m(r);break;case"component":p(r);break;case"locale":g(r);break;case"apiMethod":var i=r.name;n.apiMethodRegistry[i]=r.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(e){var t=n.modules[_(e)];return!!t&&t._module},n.traceIs=function(e,t){if("various"===(e=_(e)))return!1;var i=n.modules[e];return i||(e&&"area"!==e&&r.log("Unrecognized trace type "+e+"."),i=n.modules[u.type.dflt]),!!i.categories[t]},n.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],i=0;i<r.length;i++)r[i].type===t&&n.push(i);return n},n.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},n.getComponentMethod=function(e,t){var r=n.componentsRegistry[e];return r&&r[t]||i},n.call=function(){var e=arguments[0],t=[].slice.call(arguments,1);return n.apiMethodRegistry[e].apply(null,t)}},{"./lib/dom":489,"./lib/extend":491,"./lib/is_plain_object":498,"./lib/loggers":501,"./lib/noop":506,"./lib/push_unique":510,"./plots/attributes":540,"./plots/layout_attributes":584}],596:[function(e,t,n){"use strict";var r=e("../registry"),i=e("../lib"),o=i.extendFlat,a=i.extendDeep;function s(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}t.exports=function(e,t){var n;e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var i,l=e.data,u=e.layout,c=a([],l),f=a({},u,s(t.tileClass)),d=e._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){f.annotations=[];var h=Object.keys(f);for(n=0;n<h.length;n++)i=h[n],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(f[h[n]].title={text:""});for(n=0;n<c.length;n++){var p=c[n];p.showscale=!1,p.marker&&(p.marker.showscale=!1),r.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)f.annotations.push(t.annotations[n]);var m=Object.keys(f).filter((function(e){return e.match(/^scene\d*$/)}));if(m.length){var g={};for("thumbnail"===t.tileClass&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<m.length;n++){var v=f[m[n]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),o(v.xaxis,g),o(v.yaxis,g),o(v.zaxis,g),v._scene=null}}var y=document.createElement("div");t.tileClass&&(y.className=t.tileClass);var b={gd:y,td:y,layout:f,data:c,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:d.mapboxAccessToken}};return"transparent"!==t.setBackground&&(b.config.setBackground=t.setBackground||"opaque"),b.gd.defaultLayout=s(t.tileClass),b}},{"../lib":497,"../registry":595}],597:[function(e,t,n){"use strict";var r=e("../lib"),i=e("../plot_api/to_image"),o=e("./filesaver"),a=e("./helpers");t.exports=function(e,t){var n;return r.isPlainObject(e)||(n=r.getGraphDiv(e)),(t=t||{}).format=t.format||"png",t.imageDataOnly=!0,new Promise((function(s,l){n&&n._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),r.isIE()&&"svg"!==t.format&&l(new Error(a.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var u=i(e,t),c=t.filename||e.fn||"newplot";c+="."+t.format,u.then((function(e){return n&&(n._snapshotInProgress=!1),o(e,c,t.format)})).then((function(e){s(e)})).catch((function(e){n&&(n._snapshotInProgress=!1),l(e)}))}))}},{"../lib":497,"../plot_api/to_image":536,"./filesaver":598,"./helpers":599}],598:[function(e,t,n){"use strict";var r=e("../lib"),i=e("./helpers");t.exports=function(e,t,n){var o=document.createElement("a"),a="download"in o;return new Promise((function(s,l){var u,c;if(r.isIE9orBelow()&&l(new Error("IE < 10 unsupported")),r.isSafari()){var f="svg"===n?",":";base64,";return i.octetStream(f+encodeURIComponent(e)),s(t)}return r.isIE()?(u=i.createBlob(e,"svg"),window.navigator.msSaveBlob(u,t),u=null,s(t)):a?(u=i.createBlob(e,n),c=i.createObjectURL(u),o.href=c,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),i.revokeObjectURL(c),u=null,s(t)):void l(new Error("download error"))}))}},{"../lib":497,"./helpers":599}],599:[function(e,t,n){"use strict";var r=e("../registry");n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},n.getRedrawFunc=function(e){return function(){var t=e._fullLayout||{};(!t._has||!t._has("polar"))&&e.data&&e.data[0]&&e.data[0].r||r.getComponentMethod("colorbar","draw")(e)}},n.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)};var i=window.URL||window.webkitURL;n.createObjectURL=function(e){return i.createObjectURL(e)},n.revokeObjectURL=function(e){return i.revokeObjectURL(e)},n.createBlob=function(e,t){if("svg"===t)return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});var n=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(window.atob(e));return new window.Blob([n],{type:"image/"+t})},n.octetStream=function(e){document.location.href="data:application/octet-stream"+e},n.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,n.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":595}],600:[function(e,t,n){"use strict";var r=e("./helpers"),i={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:e("./cloneplot"),toSVG:e("./tosvg"),svgToImg:e("./svgtoimg"),toImage:e("./toimage"),downloadImage:e("./download")};t.exports=i},{"./cloneplot":596,"./download":597,"./helpers":599,"./svgtoimg":601,"./toimage":602,"./tosvg":603}],601:[function(e,t,n){"use strict";var r=e("../lib"),i=e("events").EventEmitter,o=e("./helpers");t.exports=function(e){var t=e.emitter||new i,n=new Promise((function(i,a){var s=window.Image,l=e.svg,u=e.format||"png";if(r.isIE()&&"svg"!==u){var c=new Error(o.MSG_IE_BAD_FORMAT);return a(c),e.promise?n:t.emit("error",c)}var f,d,h=e.canvas,p=e.scale||1,m=e.width||300,g=e.height||150,v=p*m,y=p*g,b=h.getContext("2d"),x=new s;"svg"===u||r.isIE9orBelow()||r.isSafari()?d=o.encodeSVG(l):(f=o.createBlob(l,"svg"),d=o.createObjectURL(f)),h.width=v,h.height=y,x.onload=function(){var n;switch(f=null,o.revokeObjectURL(d),"svg"!==u&&b.drawImage(x,0,0,v,y),u){case"jpeg":n=h.toDataURL("image/jpeg");break;case"png":n=h.toDataURL("image/png");break;case"webp":n=h.toDataURL("image/webp");break;case"svg":n=d;break;default:var r="Image format is not jpeg, png, svg or webp.";if(a(new Error(r)),!e.promise)return t.emit("error",r)}i(n),e.promise||t.emit("success",n)},x.onerror=function(n){if(f=null,o.revokeObjectURL(d),a(n),!e.promise)return t.emit("error",n)},x.src=d}));return e.promise?n:t}},{"../lib":497,"./helpers":599,events:48}],602:[function(e,t,n){"use strict";var r=e("events").EventEmitter,i=e("../registry"),o=e("../lib"),a=e("./helpers"),s=e("./cloneplot"),l=e("./tosvg"),u=e("./svgtoimg");t.exports=function(e,t){var n=new r,c=s(e,{format:"png"}),f=c.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var d=a.getRedrawFunc(f);return i.call("plot",f,c.data,c.layout,c.config).then(d).then((function(){var e=a.getDelay(f._fullLayout);setTimeout((function(){var e=l(f),r=document.createElement("canvas");r.id=o.randstr(),(n=u({format:t.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:r,emitter:n,svg:e})).clean=function(){f&&document.body.removeChild(f)}}),e)})).catch((function(e){n.emit("error",e)})),n}},{"../lib":497,"../registry":595,"./cloneplot":596,"./helpers":599,"./svgtoimg":601,"./tosvg":603,events:48}],603:[function(e,t,n){"use strict";var r=e("d3"),i=e("../lib"),o=e("../components/drawing"),a=e("../components/color"),s=e("../constants/xmlns_namespaces"),l=/"/g,u=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");t.exports=function(e,t,n){var c,f=e._fullLayout,d=f._paper,h=f._toppaper,p=f.width,m=f.height;d.insert("rect",":first-child").call(o.setRect,0,0,p,m).call(a.fill,f.paper_bgcolor);var g=f._basePlotModules||[];for(c=0;c<g.length;c++){var v=g[c];v.toSVG&&v.toSVG(e)}if(h){var y=h.node().childNodes,b=Array.prototype.slice.call(y);for(c=0;c<b.length;c++){var x=b[c];x.childNodes.length&&d.node().appendChild(x)}}f._draggers&&f._draggers.remove(),d.node().style.background="",d.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var e=r.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(l,"TOBESTRIPPED"))}else e.remove()})),d.selectAll(".point, .scatterpts, .legendfill>path, .legendlines>path, .cbfill").each((function(){var e=r.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(l,"TOBESTRIPPED"));var n=this.style.stroke;n&&-1!==n.indexOf("url(")&&e.style("stroke",n.replace(l,"TOBESTRIPPED"))})),"pdf"!==t&&"eps"!==t||d.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),d.node().setAttributeNS(s.xmlns,"xmlns",s.svg),d.node().setAttributeNS(s.xmlns,"xmlns:xlink",s.xlink),"svg"===t&&n&&(d.attr("width",n*p),d.attr("height",n*m),d.attr("viewBox","0 0 "+p+" "+m));var _=(new window.XMLSerializer).serializeToString(d.node());return _=(_=(_=function(e){var t=r.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,(function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()}));return t.remove(),n}(_)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(u,"'"),i.isIE()&&(_=(_=(_=_.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),_}},{"../components/color":377,"../components/drawing":398,"../constants/xmlns_namespaces":477,"../lib":497,d3:82}],604:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../mesh3d/attributes"),a=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat,l={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["norm"]})};s(l,r("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach((function(e){l[e]=o[e]})),l.hoverinfo=s({},a.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),l.transforms=void 0,t.exports=l},{"../../components/colorscale/attributes":384,"../../lib/extend":491,"../../plots/attributes":540,"../../plots/template_attributes":594,"../mesh3d/attributes":616}],605:[function(e,t,n){"use strict";var r=e("../../components/colorscale/calc");t.exports=function(e,t){for(var n=t.u,i=t.v,o=t.w,a=Math.min(t.x.length,t.y.length,t.z.length,n.length,i.length,o.length),s=-1/0,l=1/0,u=0;u<a;u++){var c=n[u],f=i[u],d=o[u],h=Math.sqrt(c*c+f*f+d*d);s=Math.max(s,h),l=Math.min(l,h)}t._len=a,t._normMax=s,r(e,t,{vals:[l,s],containerStr:"",cLetter:"c"})}},{"../../components/colorscale/calc":385}],606:[function(e,t,n){"use strict";var r=e("gl-cone3d"),i=e("gl-cone3d").createConeMesh,o=e("../../lib").simpleMap,a=e("../../lib/gl_format_color").parseColorScale,s=e("../../components/colorscale").extractOpts,l=e("../../plots/gl3d/zip3");function u(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var c=u.prototype;c.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index,n=this.data.x[t],r=this.data.y[t],i=this.data.z[t],o=this.data.u[t],a=this.data.v[t],s=this.data.w[t];e.traceCoordinate=[n,r,i,o,a,s,Math.sqrt(o*o+a*a+s*s)];var l=this.data.hovertext||this.data.text;return Array.isArray(l)&&void 0!==l[t]?e.textLabel=l[t]:l&&(e.textLabel=l),!0}};var f={xaxis:0,yaxis:1,zaxis:2},d={tip:1,tail:0,cm:.25,center:.5},h={tip:1,tail:1,cm:.75,center:.5};function p(e,t){var n=e.fullSceneLayout,i=e.dataScale,u={};function c(e,t){var r=n[t],a=i[f[t]];return o(e,(function(e){return r.d2l(e)*a}))}u.vectors=l(c(t.u,"xaxis"),c(t.v,"yaxis"),c(t.w,"zaxis"),t._len),u.positions=l(c(t.x,"xaxis"),c(t.y,"yaxis"),c(t.z,"zaxis"),t._len);var p=s(t);u.colormap=a(t),u.vertexIntensityBounds=[p.min/t._normMax,p.max/t._normMax],u.coneOffset=d[t.anchor],"scaled"===t.sizemode?u.coneSize=t.sizeref||.5:u.coneSize=t.sizeref&&t._normMax?t.sizeref/t._normMax:.5;var m=r(u),g=t.lightposition;return m.lightPosition=[g.x,g.y,g.z],m.ambient=t.lighting.ambient,m.diffuse=t.lighting.diffuse,m.specular=t.lighting.specular,m.roughness=t.lighting.roughness,m.fresnel=t.lighting.fresnel,m.opacity=t.opacity,t._pad=h[t.anchor]*m.vectorScale*m.coneScale*t._normMax,m}c.update=function(e){this.data=e;var t=p(this.scene,e);this.mesh.update(t)},c.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports=function(e,t){var n=e.glplot.gl,r=p(e,t),o=i(n,r),a=new u(e,t.uid);return a.mesh=o,a.data=t,o._trace=a,e.glplot.add(o),a}},{"../../components/colorscale":389,"../../lib":497,"../../lib/gl_format_color":495,"../../plots/gl3d/zip3":583,"gl-cone3d":105}],607:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/colorscale/defaults"),o=e("./attributes");t.exports=function(e,t,n,a){function s(n,i){return r.coerce(e,t,o,n,i)}var l=s("u"),u=s("v"),c=s("w"),f=s("x"),d=s("y"),h=s("z");l&&l.length&&u&&u.length&&c&&c.length&&f&&f.length&&d&&d.length&&h&&h.length?(s("sizeref"),s("sizemode"),s("anchor"),s("lighting.ambient"),s("lighting.diffuse"),s("lighting.specular"),s("lighting.roughness"),s("lighting.fresnel"),s("lightposition.x"),s("lightposition.y"),s("lightposition.z"),i(e,t,a,s,{prefix:"",cLetter:"c"}),s("text"),s("hovertext"),s("hovertemplate"),t._length=null):t.visible=!1}},{"../../components/colorscale/defaults":387,"../../lib":497,"./attributes":604}],608:[function(e,t,n){"use strict";t.exports={moduleType:"trace",name:"cone",basePlotModule:e("../../plots/gl3d"),categories:["gl3d"],attributes:e("./attributes"),supplyDefaults:e("./defaults"),colorbar:{min:"cmin",max:"cmax"},calc:e("./calc"),plot:e("./convert"),eventData:function(e,t){return e.norm=t.traceCoordinate[6],e},meta:{}}},{"../../plots/gl3d":572,"./attributes":604,"./calc":605,"./convert":606,"./defaults":607}],609:[function(e,t,n){"use strict";var r=e("../../lib").maxRowLength;t.exports=function(e){var t,n,i,o,a,s,l,u,c=[],f={},d=[],h=e[0],p=[],m=[0,0,0],g=r(e);for(n=0;n<e.length;n++)for(t=p,p=h,h=e[n+1]||[],i=0;i<g;i++)void 0===p[i]&&((s=(void 0!==p[i-1]?1:0)+(void 0!==p[i+1]?1:0)+(void 0!==t[i]?1:0)+(void 0!==h[i]?1:0))?(0===n&&s++,0===i&&s++,n===e.length-1&&s++,i===p.length-1&&s++,s<4&&(f[[n,i]]=[n,i,s]),c.push([n,i,s])):d.push([n,i]));for(;d.length;){for(l={},u=!1,a=d.length-1;a>=0;a--)(s=((f[[(n=(o=d[a])[0])-1,i=o[1]]]||m)[2]+(f[[n+1,i]]||m)[2]+(f[[n,i-1]]||m)[2]+(f[[n,i+1]]||m)[2])/20)&&(l[o]=[n,i,s],d.splice(a,1),u=!0);if(!u)throw"findEmpties iterated with no new neighbors";for(o in l)f[o]=l[o],c.push(l[o])}return c.sort((function(e,t){return t[2]-e[2]}))}},{"../../lib":497}],610:[function(e,t,n){"use strict";var r=e("../../lib"),i=[[-1,0],[1,0],[0,-1],[0,1]];function o(e){return.5-.25*Math.min(1,.5*e)}function a(e,t,n){var r,o,a,s,l,u,c,f,d,h,p,m,g,v=0;for(s=0;s<t.length;s++){for(o=(r=t[s])[0],a=r[1],p=e[o][a],h=0,d=0,l=0;l<4;l++)(c=e[o+(u=i[l])[0]])&&void 0!==(f=c[a+u[1]])&&(0===h?m=g=f:(m=Math.min(m,f),g=Math.max(g,f)),d++,h+=f);if(0===d)throw"iterateInterp2d order is wrong: no defined neighbors";e[o][a]=h/d,void 0===p?d<4&&(v=1):(e[o][a]=(1+n)*e[o][a]-n*p,g>m&&(v=Math.max(v,Math.abs(e[o][a]-p)/(g-m))))}return v}t.exports=function(e,t){var n,i=1;for(a(e,t),n=0;n<t.length&&!(t[n][2]<4);n++);for(t=t.slice(n),n=0;n<100&&i>.01;n++)i=a(e,t,o(i));return i>.01&&r.log("interp2d didn't converge quickly",i),e}},{"../../lib":497}],611:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../mesh3d/attributes"),a=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat,l=e("../../plot_api/edit_types").overrideAll,u=t.exports=l(s({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:i()},r("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:o.opacity,lightposition:o.lightposition,lighting:o.lighting,flatshading:o.flatshading,contour:o.contour,hoverinfo:s({},a.hoverinfo)}),"calc","nested");u.flatshading.dflt=!0,u.lighting.facenormalsepsilon.dflt=0,u.x.editType=u.y.editType=u.z.editType=u.value.editType="calc+clearAxisTypes",u.transforms=void 0},{"../../components/colorscale/attributes":384,"../../lib/extend":491,"../../plot_api/edit_types":526,"../../plots/attributes":540,"../../plots/template_attributes":594,"../mesh3d/attributes":616}],612:[function(e,t,n){"use strict";var r=e("../../components/colorscale/calc");t.exports=function(e,t){t._len=Math.min(t.x.length,t.y.length,t.z.length,t.value.length);for(var n=1/0,i=-1/0,o=t.value.length,a=0;a<o;a++){var s=t.value[a];n=Math.min(n,s),i=Math.max(i,s)}t._minValues=n,t._maxValues=i,t._vMin=void 0===t.isomin||null===t.isomin?n:t.isomin,t._vMax=void 0===t.isomax||null===t.isomin?i:t.isomax,r(e,t,{vals:[t._vMin,t._vMax],containerStr:"",cLetter:"c"})}},{"../../components/colorscale/calc":385}],613:[function(e,t,n){"use strict";var r=e("gl-mesh3d"),i=e("../../lib"),o=e("../../lib/gl_format_color").parseColorScale,a=e("../../lib/str2rgbarray"),s=e("../../components/colorscale").extractOpts,l=e("../../plots/gl3d/zip3");function u(e){return i.distinctVals(e).vals}var c=function(e,t){for(var n=t.length-1;n>0;n--){var r=Math.min(t[n],t[n-1]),i=Math.max(t[n],t[n-1]);if(i>r&&r<e&&e<=i)return{id:n,distRatio:(i-e)/(i-r)}}return{id:0,distRatio:0}};function f(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name="",this.data=null,this.showContour=!1}var d=f.prototype;function h(e){e._i=[],e._j=[],e._k=[];var t,n,r=e.surface.show,i=e.spaceframe.show,o=e.surface.fill,a=e.spaceframe.fill,s=!1,l=!1,f=0,d=u(e.x.slice(0,e._len)),h=u(e.y.slice(0,e._len)),p=u(e.z.slice(0,e._len)),m=d.length,g=h.length,v=p.length;function y(e,t,n){return n+v*t+v*g*e}var b,x,_,w,k,M=e._minValues,T=e._maxValues,S=e._vMin,E=e._vMax;function A(e,t,r){for(var i=w.length,o=n;o<i;o++)if(e===b[o]&&t===x[o]&&r===_[o])return o;return-1}function O(){n=t}function C(){b=[],x=[],_=[],w=[],t=0,O()}function N(e,n,r,i){return b.push(e),x.push(n),_.push(r),w.push(i),++t-1}function D(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=e[i]*(1-n)+n*t[i];return r}function P(e){k=e}function R(e,t){return"all"===e||null===e||e.indexOf(t)>-1}function L(e,t){return null===e?t:e}function I(t,n,r){O();var i,o,a,s=[n],l=[r];if(k>=1)s=[n],l=[r];else if(k>0){var u=function(e,t){var n=e[0],r=e[1],i=e[2],o=function(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=(e[i]+t[i]+n[i])/3;return r}(n,r,i),a=Math.sqrt(1-k),s=D(o,n,a),l=D(o,r,a),u=D(o,i,a),c=t[0],f=t[1],d=t[2];return{xyzv:[[n,r,l],[l,s,n],[r,i,u],[u,l,r],[i,n,s],[s,u,i]],abc:[[c,f,-1],[-1,-1,c],[f,d,-1],[-1,-1,f],[d,c,-1],[-1,-1,d]]}}(n,r);s=u.xyzv,l=u.abc}for(var c=0;c<s.length;c++){n=s[c],r=l[c];for(var d=[],h=0;h<3;h++){var p=n[h][0],m=n[h][1],g=n[h][2],v=n[h][3],y=r[h]>-1?r[h]:A(p,m,g);d[h]=y>-1?y:N(p,m,g,L(t,v))}i=d[0],o=d[1],a=d[2],e._i.push(i),e._j.push(o),e._k.push(a),++f}}function j(e,t,n,r){var i=e[3];i<n&&(i=n),i>r&&(i=r);for(var o=(e[3]-i)/(e[3]-t[3]+1e-9),a=[],s=0;s<4;s++)a[s]=(1-o)*e[s]+o*t[s];return a}function z(e,t,n){return e>=t&&e<=n}function F(e){var t=.001*(E-S);return e>=S-t&&e<=E+t}function B(t){for(var n=[],r=0;r<4;r++){var i=t[r];n.push([e.x[i],e.y[i],e.z[i],e.value[i]])}return n}var U=3;function H(e,t,n,r,i,o){o||(o=1),n=[-1,-1,-1];var a=!1,s=[z(t[0][3],r,i),z(t[1][3],r,i),z(t[2][3],r,i)];if(!s[0]&&!s[1]&&!s[2])return!1;var l=function(e,t,n){return F(t[0][3])&&F(t[1][3])&&F(t[2][3])?(I(e,t,n),!0):o<U&&H(e,t,n,S,E,++o)};if(s[0]&&s[1]&&s[2])return l(e,t,n)||a;var u=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach((function(o){if(s[o[0]]&&s[o[1]]&&!s[o[2]]){var c=t[o[0]],f=t[o[1]],d=t[o[2]],h=j(d,c,r,i),p=j(d,f,r,i);a=l(e,[p,h,c],[-1,-1,n[o[0]]])||a,a=l(e,[c,f,p],[n[o[0]],n[o[1]],-1])||a,u=!0}})),u?a:([[0,1,2],[1,2,0],[2,0,1]].forEach((function(o){if(s[o[0]]&&!s[o[1]]&&!s[o[2]]){var c=t[o[0]],f=t[o[1]],d=t[o[2]],h=j(f,c,r,i),p=j(d,c,r,i);a=l(e,[p,h,c],[-1,-1,n[o[0]]])||a,u=!0}})),a)}function q(e,t,n,r){var i=!1,o=B(t),a=[z(o[0][3],n,r),z(o[1][3],n,r),z(o[2][3],n,r),z(o[3][3],n,r)];if(!(a[0]||a[1]||a[2]||a[3]))return i;if(a[0]&&a[1]&&a[2]&&a[3])return l&&(i=function(e,t,n){var r=function(r,i,o){I(e,[t[r],t[i],t[o]],[n[r],n[i],n[o]])};r(0,1,2),r(3,0,1),r(2,3,0),r(1,2,3)}(e,o,t)||i),i;var s=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach((function(u){if(a[u[0]]&&a[u[1]]&&a[u[2]]&&!a[u[3]]){var c=o[u[0]],f=o[u[1]],d=o[u[2]],h=o[u[3]];if(l)i=I(e,[c,f,d],[t[u[0]],t[u[1]],t[u[2]]])||i;else{var p=j(h,c,n,r),m=j(h,f,n,r),g=j(h,d,n,r);i=I(null,[p,m,g],[-1,-1,-1])||i}s=!0}})),s?i:([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach((function(u){if(a[u[0]]&&a[u[1]]&&!a[u[2]]&&!a[u[3]]){var c=o[u[0]],f=o[u[1]],d=o[u[2]],h=o[u[3]],p=j(d,c,n,r),m=j(d,f,n,r),g=j(h,f,n,r),v=j(h,c,n,r);l?(i=I(e,[c,v,p],[t[u[0]],-1,-1])||i,i=I(e,[f,m,g],[t[u[1]],-1,-1])||i):i=function(e,t,n){var r=function(e,r,i){I(null,[t[e],t[r],t[i]],[n[e],n[r],n[i]])};r(0,1,2),r(2,3,0)}(0,[p,m,g,v],[-1,-1,-1,-1])||i,s=!0}})),s?i:([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach((function(u){if(a[u[0]]&&!a[u[1]]&&!a[u[2]]&&!a[u[3]]){var c=o[u[0]],f=o[u[1]],d=o[u[2]],h=o[u[3]],p=j(f,c,n,r),m=j(d,c,n,r),g=j(h,c,n,r);l?(i=I(e,[c,p,m],[t[u[0]],-1,-1])||i,i=I(e,[c,m,g],[t[u[0]],-1,-1])||i,i=I(e,[c,g,p],[t[u[0]],-1,-1])||i):i=I(null,[p,m,g],[-1,-1,-1])||i,s=!0}})),i))}function V(e,t,n,r,i,o,a,u,c,f,d){var h=!1;return s&&(R(e,"A")&&(h=q(null,[t,n,r,o],f,d)||h),R(e,"B")&&(h=q(null,[n,r,i,c],f,d)||h),R(e,"C")&&(h=q(null,[n,o,a,c],f,d)||h),R(e,"D")&&(h=q(null,[r,o,u,c],f,d)||h),R(e,"E")&&(h=q(null,[n,r,o,c],f,d)||h)),l&&(h=q(e,[n,r,o,c],f,d)||h),h}function W(e,t,n,r,i,o,a,s){return[!0===s[0]||H(e,B([t,n,r]),[t,n,r],o,a),!0===s[1]||H(e,B([r,i,t]),[r,i,t],o,a)]}function Y(e,t,n,r,i,o,a,s,l){return s?W(e,t,n,i,r,o,a,l):W(e,n,i,r,t,o,a,l)}function G(e,t,n,r,i,o,a){var s,l,u,c,f=!1,d=function(){f=H(e,[s,l,u],[-1,-1,-1],i,o)||f,f=H(e,[u,c,s],[-1,-1,-1],i,o)||f},h=a[0],p=a[1],m=a[2];return h&&(s=D(B([y(t,n-0,r-0)])[0],B([y(t-1,n-0,r-0)])[0],h),l=D(B([y(t,n-0,r-1)])[0],B([y(t-1,n-0,r-1)])[0],h),u=D(B([y(t,n-1,r-1)])[0],B([y(t-1,n-1,r-1)])[0],h),c=D(B([y(t,n-1,r-0)])[0],B([y(t-1,n-1,r-0)])[0],h),d()),p&&(s=D(B([y(t-0,n,r-0)])[0],B([y(t-0,n-1,r-0)])[0],p),l=D(B([y(t-0,n,r-1)])[0],B([y(t-0,n-1,r-1)])[0],p),u=D(B([y(t-1,n,r-1)])[0],B([y(t-1,n-1,r-1)])[0],p),c=D(B([y(t-1,n,r-0)])[0],B([y(t-1,n-1,r-0)])[0],p),d()),m&&(s=D(B([y(t-0,n-0,r)])[0],B([y(t-0,n-0,r-1)])[0],m),l=D(B([y(t-0,n-1,r)])[0],B([y(t-0,n-1,r-1)])[0],m),u=D(B([y(t-1,n-1,r)])[0],B([y(t-1,n-1,r-1)])[0],m),c=D(B([y(t-1,n-0,r)])[0],B([y(t-1,n-0,r-1)])[0],m),d()),f}function X(e,t,n,r,i,o,a,l,u,c,f,d){var h=e;return d?(s&&"even"===e&&(h=null),V(h,t,n,r,i,o,a,l,u,c,f)):(s&&"odd"===e&&(h=null),V(h,u,l,a,o,i,r,n,t,c,f))}function $(e,t,n,r,i){for(var o=[],a=0,s=0;s<t.length;s++)for(var l=t[s],u=1;u<v;u++)for(var c=1;c<g;c++)o.push(Y(e,y(l,c-1,u-1),y(l,c-1,u),y(l,c,u-1),y(l,c,u),n,r,(l+c+u)%2,i&&i[a]?i[a]:[])),a++;return o}function Z(e,t,n,r,i){for(var o=[],a=0,s=0;s<t.length;s++)for(var l=t[s],u=1;u<m;u++)for(var c=1;c<v;c++)o.push(Y(e,y(u-1,l,c-1),y(u,l,c-1),y(u-1,l,c),y(u,l,c),n,r,(u+l+c)%2,i&&i[a]?i[a]:[])),a++;return o}function K(e,t,n,r,i){for(var o=[],a=0,s=0;s<t.length;s++)for(var l=t[s],u=1;u<g;u++)for(var c=1;c<m;c++)o.push(Y(e,y(c-1,u-1,l),y(c-1,u,l),y(c,u-1,l),y(c,u,l),n,r,(c+u+l)%2,i&&i[a]?i[a]:[])),a++;return o}function J(e,t,n){for(var r=1;r<v;r++)for(var i=1;i<g;i++)for(var o=1;o<m;o++)X(e,y(o-1,i-1,r-1),y(o-1,i-1,r),y(o-1,i,r-1),y(o-1,i,r),y(o,i-1,r-1),y(o,i-1,r),y(o,i,r-1),y(o,i,r),t,n,(o+i+r)%2)}function Q(e,t,n){s=!0,J(e,t,n),s=!1}function ee(e,t,n,r,i,o){for(var a=[],s=0,l=0;l<t.length;l++)for(var u=t[l],c=1;c<v;c++)for(var f=1;f<g;f++)a.push(G(e,u,f,c,n,r,i[l],o&&o[s]&&o[s])),s++;return a}function te(e,t,n,r,i,o){for(var a=[],s=0,l=0;l<t.length;l++)for(var u=t[l],c=1;c<m;c++)for(var f=1;f<v;f++)a.push(G(e,c,u,f,n,r,i[l],o&&o[s]&&o[s])),s++;return a}function ne(e,t,n,r,i,o){for(var a=[],s=0,l=0;l<t.length;l++)for(var u=t[l],c=1;c<g;c++)for(var f=1;f<m;f++)a.push(G(e,f,c,u,n,r,i[l],o&&o[s]&&o[s])),s++;return a}function re(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}return function(){if(C(),function(){for(var t=0;t<m;t++)for(var n=0;n<g;n++)for(var r=0;r<v;r++){var i=y(t,n,r);N(e.x[i],e.y[i],e.z[i],e.value[i])}}(),i&&a&&(P(a),l=!0,J(null,S,E),l=!1),r&&o){P(o);for(var t=e.surface.pattern,n=e.surface.count,s=0;s<n;s++){var u=1===n?.5:s/(n-1),k=(1-u)*S+u*E,A=Math.abs(k-M)>Math.abs(k-T)?[M,k]:[k,T];Q(t,A[0],A[1])}}var O=[[Math.min(S,T),Math.max(S,T)],[Math.min(M,E),Math.max(M,E)]];["x","y","z"].forEach((function(t){for(var n=[],r=0;r<O.length;r++){var i=0,o=O[r][0],a=O[r][1],s=e.slices[t];if(s.show&&s.fill){P(s.fill);var l=[],u=[],f=[];if(s.locations.length)for(var y=0;y<s.locations.length;y++){var b=c(s.locations[y],"x"===t?d:"y"===t?h:p);0===b.distRatio?l.push(b.id):b.id>0&&(u.push(b.id),"x"===t?f.push([b.distRatio,0,0]):"y"===t?f.push([0,b.distRatio,0]):f.push([0,0,b.distRatio]))}else l=re(1,"x"===t?m-1:"y"===t?g-1:v-1);u.length>0&&(n[i]="x"===t?ee(null,u,o,a,f,n[i]):"y"===t?te(null,u,o,a,f,n[i]):ne(null,u,o,a,f,n[i]),i++),l.length>0&&(n[i]="x"===t?$(null,l,o,a,n[i]):"y"===t?Z(null,l,o,a,n[i]):K(null,l,o,a,n[i]),i++)}var x=e.caps[t];x.show&&x.fill&&(P(x.fill),n[i]="x"===t?$(null,[0,m-1],o,a,n[i]):"y"===t?Z(null,[0,g-1],o,a,n[i]):K(null,[0,v-1],o,a,n[i]),i++)}})),0===f&&C(),e._x=b,e._y=x,e._z=_,e._intensity=w,e._Xs=d,e._Ys=h,e._Zs=p}(),e}d.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index,n=this.data._x[t],r=this.data._y[t],i=this.data._z[t],o=this.data._Ys.length,a=this.data._Zs.length,s=c(n,this.data._Xs).id,l=c(r,this.data._Ys).id,u=c(i,this.data._Zs).id,f=e.index=u+a*l+a*o*s;e.traceCoordinate=[this.data._x[f],this.data._y[f],this.data._z[f],this.data.value[f]];var d=this.data.hovertext||this.data.text;return Array.isArray(d)&&void 0!==d[f]?e.textLabel=d[f]:d&&(e.textLabel=d),!0}},d.update=function(e){var t=this.scene,n=t.fullSceneLayout;function r(e,t,n,r){return t.map((function(t){return e.d2l(t,0,r)*n}))}this.data=h(e);var i={positions:l(r(n.xaxis,e._x,t.dataScale[0],e.xcalendar),r(n.yaxis,e._y,t.dataScale[1],e.ycalendar),r(n.zaxis,e._z,t.dataScale[2],e.zcalendar)),cells:l(e._i,e._j,e._k),lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:a(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},u=s(e);i.vertexIntensity=e._intensity,i.vertexIntensityBounds=[u.min,u.max],i.colormap=o(e),this.mesh.update(i)},d.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports={findNearestOnAxis:c,generateIsoMeshes:h,createIsosurfaceTrace:function(e,t){var n=e.glplot.gl,i=r({gl:n}),o=new f(e,i,t.uid);return i._trace=o,o.update(t),e.glplot.add(i),o}}},{"../../components/colorscale":389,"../../lib":497,"../../lib/gl_format_color":495,"../../lib/str2rgbarray":519,"../../plots/gl3d/zip3":583,"gl-mesh3d":140}],614:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=e("./attributes"),a=e("../../components/colorscale/defaults");function s(e,t,n,r,o){var s=o("isomin"),l=o("isomax");null!=l&&null!=s&&s>l&&(t.isomin=null,t.isomax=null);var u=o("x"),c=o("y"),f=o("z"),d=o("value");u&&u.length&&c&&c.length&&f&&f.length&&d&&d.length?(i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],r),["x","y","z"].forEach((function(e){var t="caps."+e;o(t+".show")&&o(t+".fill");var n="slices."+e;o(n+".show")&&(o(n+".fill"),o(n+".locations"))})),o("spaceframe.show")&&o("spaceframe.fill"),o("surface.show")&&(o("surface.count"),o("surface.fill"),o("surface.pattern")),o("contour.show")&&(o("contour.color"),o("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach((function(e){o(e)})),a(e,t,r,o,{prefix:"",cLetter:"c"}),t._length=null):t.visible=!1}t.exports={supplyDefaults:function(e,t,n,i){s(e,t,0,i,(function(n,i){return r.coerce(e,t,o,n,i)}))},supplyIsoDefaults:s}},{"../../components/colorscale/defaults":387,"../../lib":497,"../../registry":595,"./attributes":611}],615:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults").supplyDefaults,calc:e("./calc"),colorbar:{min:"cmin",max:"cmax"},plot:e("./convert").createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e("../../plots/gl3d"),categories:["gl3d"],meta:{}}},{"../../plots/gl3d":572,"./attributes":611,"./calc":612,"./convert":613,"./defaults":614}],616:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../surface/attributes"),a=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat;t.exports=s({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:i({editType:"calc"}),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},r("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:o.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:s({},o.contours.x.show,{}),color:o.contours.x.color,width:o.contours.x.width,editType:"calc"},lightposition:{x:s({},o.lightposition.x,{dflt:1e5}),y:s({},o.lightposition.y,{dflt:1e5}),z:s({},o.lightposition.z,{dflt:0}),editType:"calc"},lighting:s({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},o.lighting),hoverinfo:s({},a.hoverinfo,{editType:"calc"})})},{"../../components/colorscale/attributes":384,"../../lib/extend":491,"../../plots/attributes":540,"../../plots/template_attributes":594,"../surface/attributes":661}],617:[function(e,t,n){"use strict";var r=e("../../components/colorscale/calc");t.exports=function(e,t){t.intensity&&r(e,t,{vals:t.intensity,containerStr:"",cLetter:"c"})}},{"../../components/colorscale/calc":385}],618:[function(e,t,n){"use strict";var r=e("gl-mesh3d"),i=e("delaunay-triangulate"),o=e("alpha-shape"),a=e("convex-hull"),s=e("../../lib/gl_format_color").parseColorScale,l=e("../../lib/str2rgbarray"),u=e("../../components/colorscale").extractOpts,c=e("../../plots/gl3d/zip3");function f(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var d=f.prototype;function h(e){for(var t=[],n=e.length,r=0;r<n;r++)t[r]=l(e[r]);return t}function p(e,t,n,r){for(var i=[],o=t.length,a=0;a<o;a++)i[a]=e.d2l(t[a],0,r)*n;return i}function m(e){for(var t=[],n=e.length,r=0;r<n;r++)t[r]=Math.round(e[r]);return t}function g(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]<=-.5||e[r]>=t-.5)return!1;return!0}d.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index;e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]];var n=this.data.hovertext||this.data.text;return Array.isArray(n)&&void 0!==n[t]?e.textLabel=n[t]:n&&(e.textLabel=n),!0}},d.update=function(e){var t=this.scene,n=t.fullSceneLayout;this.data=e;var r,f=e.x.length,d=c(p(n.xaxis,e.x,t.dataScale[0],e.xcalendar),p(n.yaxis,e.y,t.dataScale[1],e.ycalendar),p(n.zaxis,e.z,t.dataScale[2],e.zcalendar));if(e.i&&e.j&&e.k){if(e.i.length!==e.j.length||e.j.length!==e.k.length||!g(e.i,f)||!g(e.j,f)||!g(e.k,f))return;r=c(m(e.i),m(e.j),m(e.k))}else r=0===e.alphahull?a(d):e.alphahull>0?o(e.alphahull,d):function(e,t){for(var n=["x","y","z"].indexOf(e),r=[],o=t.length,a=0;a<o;a++)r[a]=[t[a][(n+1)%3],t[a][(n+2)%3]];return i(r)}(e.delaunayaxis,d);var v={positions:d,cells:r,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:l(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};if(e.intensity){var y=u(e);this.color="#fff",v.vertexIntensity=e.intensity,v.vertexIntensityBounds=[y.min,y.max],v.colormap=s(e)}else e.vertexcolor?(this.color=e.vertexcolor[0],v.vertexColors=h(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],v.cellColors=h(e.facecolor)):(this.color=e.color,v.meshColor=l(e.color));this.mesh.update(v)},d.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports=function(e,t){var n=e.glplot.gl,i=r({gl:n}),o=new f(e,i,t.uid);return i._trace=o,o.update(t),e.glplot.add(i),o}},{"../../components/colorscale":389,"../../lib/gl_format_color":495,"../../lib/str2rgbarray":519,"../../plots/gl3d/zip3":583,"alpha-shape":16,"convex-hull":73,"delaunay-triangulate":84,"gl-mesh3d":140}],619:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../components/colorscale/defaults"),a=e("./attributes");t.exports=function(e,t,n,s){function l(n,r){return i.coerce(e,t,a,n,r)}function u(e){var t=e.map((function(e){var t=l(e);return t&&i.isArrayOrTypedArray(t)?t:null}));return t.every((function(e){return e&&e.length===t[0].length}))&&t}u(["x","y","z"])?(u(["i","j","k"]),(!t.i||t.j&&t.k)&&(!t.j||t.k&&t.i)&&(!t.k||t.i&&t.j)?(r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],s),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","contour.show","contour.color","contour.width","colorscale","reversescale","flatshading","alphahull","delaunayaxis","opacity"].forEach((function(e){l(e)})),"intensity"in e?(l("intensity"),o(e,t,s,l,{prefix:"",cLetter:"c"})):(t.showscale=!1,"facecolor"in e?l("facecolor"):"vertexcolor"in e?l("vertexcolor"):l("color",n)),l("text"),l("hovertext"),l("hovertemplate"),t._length=null):t.visible=!1):t.visible=!1}},{"../../components/colorscale/defaults":387,"../../lib":497,"../../registry":595,"./attributes":616}],620:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),calc:e("./calc"),colorbar:{min:"cmin",max:"cmax"},plot:e("./convert"),moduleType:"trace",name:"mesh3d",basePlotModule:e("../../plots/gl3d"),categories:["gl3d"],meta:{}}},{"../../plots/gl3d":572,"./attributes":616,"./calc":617,"./convert":618,"./defaults":619}],621:[function(e,t,n){"use strict";var r=e("../../lib");n.formatPiePercent=function(e,t){var n=(100*e).toPrecision(3);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)+"%"},n.formatPieValue=function(e,t){var n=e.toPrecision(10);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,t)},n.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||0===r||""===r)return r}},n.castOption=function(e,t){return Array.isArray(e)?n.getFirstFilled(e,t):e||void 0}},{"../../lib":497}],622:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./helpers").castOption;t.exports=function(e,t,n){var o=n.marker.line,a=i(o.color,t.pts)||r.defaultLine,s=i(o.width,t.pts)||0;e.style("stroke-width",s).call(r.fill,t.color).call(r.stroke,a)}},{"../../components/color":377,"./helpers":621}],623:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.texttemplate,e,"txt"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArrayCastPositive(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var i=t.marker;if(i){r.mergeArrayCastPositive(i.size,e,"ms"),r.mergeArrayCastPositive(i.opacity,e,"mo"),r.mergeArray(i.symbol,e,"mx"),r.mergeArray(i.color,e,"mc");var o=i.line;i.line&&(r.mergeArray(o.color,e,"mlc"),r.mergeArrayCastPositive(o.width,e,"mlw"));var a=i.gradient;a&&"none"!==a.type&&(r.mergeArray(a.type,e,"mgt"),r.mergeArray(a.color,e,"mgc"))}}},{"../../lib":497}],624:[function(e,t,n){"use strict";var r=e("../../plots/template_attributes").texttemplateAttrs,i=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../../components/colorscale/attributes"),a=e("../../plots/font_attributes"),s=e("../../components/drawing/attributes").dash,l=e("../../components/drawing"),u=e("./constants"),c=e("../../lib/extend").extendFlat;t.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:r({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:c({},s,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:c({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:c({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},o("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},o("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:a({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"}}},{"../../components/colorscale/attributes":384,"../../components/drawing":398,"../../components/drawing/attributes":397,"../../lib/extend":491,"../../plots/font_attributes":569,"../../plots/template_attributes":594,"./constants":628}],625:[function(e,t,n){"use strict";var r=e("fast-isnumeric"),i=e("../../lib"),o=e("../../plots/cartesian/axes"),a=e("../../constants/numerical").BADNUM,s=e("./subtypes"),l=e("./colorscale_calc"),u=e("./arrays_to_calcdata"),c=e("./calc_selection");function f(e,t,n,r,i,a,l){var u=t._length,c=e._fullLayout,f=n._id,d=r._id,h=c._firstScatter[p(t)]===t.uid,g=(m(t,c,n,r)||{}).orientation,v=t.fill;n._minDtick=0,r._minDtick=0;var y={padded:!0},b={padded:!0};l&&(y.ppad=b.ppad=l);var x=u<2||i[0]!==i[u-1]||a[0]!==a[u-1];x&&("tozerox"===v||"tonextx"===v&&(h||"h"===g))?y.tozero=!0:(t.error_y||{}).visible||"tonexty"!==v&&"tozeroy"!==v&&(s.hasMarkers(t)||s.hasText(t))||(y.padded=!1,y.ppad=0),x&&("tozeroy"===v||"tonexty"===v&&(h||"v"===g))?b.tozero=!0:"tonextx"!==v&&"tozerox"!==v||(b.padded=!1),f&&(t._extremes[f]=o.findExtremes(n,i,y)),d&&(t._extremes[d]=o.findExtremes(r,a,b))}function d(e,t){if(s.hasMarkers(e)){var n,r=e.marker,a=1.6*(e.marker.sizeref||1);if(n="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/a),3)}:function(e){return Math.max((e||0)/a,3)},i.isArrayOrTypedArray(r.size)){var l={type:"linear"};o.setConvert(l);for(var u=l.makeCalcdata(e.marker,"size"),c=new Array(t),f=0;f<t;f++)c[f]=n(u[f]);return c}return n(r.size)}}function h(e,t){var n=p(t),r=e._firstScatter;r[n]||(r[n]=t.uid)}function p(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?"-"+t:"")}function m(e,t,n,r){var i=e.stackgroup;if(i){var o=t._scatterStackOpts[n._id+r._id][i],a="v"===o.orientation?r:n;return"linear"===a.type||"log"===a.type?o:void 0}}t.exports={calc:function(e,t){var n,s,p,g,v,y,b=e._fullLayout,x=o.getFromId(e,t.xaxis||"x"),_=o.getFromId(e,t.yaxis||"y"),w=x.makeCalcdata(t,"x"),k=_.makeCalcdata(t,"y"),M=t._length,T=new Array(M),S=t.ids,E=m(t,b,x,_),A=!1;h(b,t);var O,C="x",N="y";for(E?(i.pushUnique(E.traceIndices,t._expandedIndex),(n="v"===E.orientation)?(N="s",O="x"):(C="s",O="y"),v="interpolate"===E.stackgaps):f(e,t,x,_,w,k,d(t,M)),s=0;s<M;s++){var D=T[s]={},P=r(w[s]),R=r(k[s]);P&&R?(D[C]=w[s],D[N]=k[s]):E&&(n?P:R)?(D[O]=n?w[s]:k[s],D.gap=!0,v?(D.s=a,A=!0):D.s=0):D[C]=D[N]=a,S&&(D.id=String(S[s]))}if(u(T,t),l(e,t),c(T,t),E){for(s=0;s<T.length;)T[s][O]===a?T.splice(s,1):s++;if(i.sort(T,(function(e,t){return e[O]-t[O]||e.i-t.i})),A){for(s=0;s<T.length-1&&T[s].gap;)s++;for((y=T[s].s)||(y=T[s].s=0),p=0;p<s;p++)T[p].s=y;for(g=T.length-1;g>s&&T[g].gap;)g--;for(y=T[g].s,p=T.length-1;p>g;p--)T[p].s=y;for(;s<g;)if(T[++s].gap){for(p=s+1;T[p].gap;)p++;for(var L=T[s-1][O],I=T[s-1].s,j=(T[p].s-I)/(T[p][O]-L);s<p;)T[s].s=I+(T[s][O]-L)*j,s++}}}return T},calcMarkerSize:d,calcAxisExpansion:f,setFirstScatter:h,getStackOpts:m}},{"../../constants/numerical":476,"../../lib":497,"../../plots/cartesian/axes":543,"./arrays_to_calcdata":623,"./calc_selection":626,"./colorscale_calc":627,"./subtypes":647,"fast-isnumeric":91}],626:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t){r.isArrayOrTypedArray(t.selectedpoints)&&r.tagSelected(e,t)}},{"../../lib":497}],627:[function(e,t,n){"use strict";var r=e("../../components/colorscale/helpers").hasColorscale,i=e("../../components/colorscale/calc"),o=e("./subtypes");t.exports=function(e,t){o.hasLines(t)&&r(t,"line")&&i(e,t,{vals:t.line.color,containerStr:"line",cLetter:"c"}),o.hasMarkers(t)&&(r(t,"marker")&&i(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),r(t,"marker.line")&&i(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":385,"../../components/colorscale/helpers":388,"./subtypes":647}],628:[function(e,t,n){"use strict";t.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],629:[function(e,t,n){"use strict";var r=e("./calc");function i(e,t,n,r,i,o,a){i[r]=!0;var s={i:null,gap:!0,s:0};if(s[a]=n,e.splice(t,0,s),t&&n===e[t-1][a]){var l=e[t-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else o&&(s.s=function(e,t,n,r){var i=e[t-1],o=e[t+1];return o?i?i.s+(o.s-i.s)*(n-i[r])/(o[r]-i[r]):o.s:i.s}(e,t,n,a));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}t.exports=function(e,t){var n=t.xaxis,o=t.yaxis,a=n._id+o._id,s=e._fullLayout._scatterStackOpts[a];if(s){var l,u,c,f,d,h,p,m,g,v,y,b,x,_,w,k=e.calcdata;for(var M in s){var T=(v=s[M]).traceIndices;if(T.length){for(y="interpolate"===v.stackgaps,b=v.groupnorm,"v"===v.orientation?(x="x",_="y"):(x="y",_="x"),w=new Array(T.length),l=0;l<w.length;l++)w[l]=!1;h=k[T[0]];var S=new Array(h.length);for(l=0;l<h.length;l++)S[l]=h[l][x];for(l=1;l<T.length;l++){for(d=k[T[l]],u=c=0;u<d.length;u++){for(p=d[u][x];p>S[c]&&c<S.length;c++)i(d,u,S[c],l,w,y,x),u++;if(p!==S[c]){for(f=0;f<l;f++)i(k[T[f]],c,p,f,w,y,x);S.splice(c,0,p)}c++}for(;c<S.length;c++)i(d,u,S[c],l,w,y,x),u++}var E=S.length;for(u=0;u<h.length;u++){for(m=h[u][_]=h[u].s,l=1;l<T.length;l++)(d=k[T[l]])[0].trace._rawLength=d[0].trace._length,d[0].trace._length=E,m+=d[u].s,d[u][_]=m;if(b)for(g=("fraction"===b?m:m/100)||1,l=0;l<T.length;l++){var A=k[T[l]][u];A[_]/=g,A.sNorm=A.s/g}}for(l=0;l<T.length;l++){var O=(d=k[T[l]])[0].trace,C=r.calcMarkerSize(O,O._rawLength),N=Array.isArray(C);if(C&&w[l]||N){var D=C;for(C=new Array(E),u=0;u<E;u++)C[u]=d[u].gap?0:N?D[d[u].i]:D}var P=new Array(E),R=new Array(E);for(u=0;u<E;u++)P[u]=d[u].x,R[u]=d[u].y;r.calcAxisExpansion(e,O,n,o,P,R,C),d[0].t.orientation=v.orientation}}}}}},{"./calc":625}],630:[function(e,t,n){"use strict";t.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var i=t-1;i>=0;i--){var o=e[i];if("scatter"===o.type&&o.xaxis===n.xaxis&&o.yaxis===n.yaxis){o.opacity=void 0;break}}}}}},{}],631:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry"),o=e("./attributes"),a=e("./constants"),s=e("./subtypes"),l=e("./xy_defaults"),u=e("./stack_defaults"),c=e("./marker_defaults"),f=e("./line_defaults"),d=e("./line_shape_defaults"),h=e("./text_defaults"),p=e("./fillcolor_defaults");t.exports=function(e,t,n,m){function g(n,i){return r.coerce(e,t,o,n,i)}var v=l(e,t,m,g);if(v||(t.visible=!1),t.visible){var y=u(e,t,m,g),b=!y&&v<a.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("mode",b),s.hasLines(t)&&(f(e,t,n,m,g),d(e,t,g),g("connectgaps"),g("line.simplify")),s.hasMarkers(t)&&c(e,t,n,m,g,{gradient:!0}),s.hasText(t)&&(g("texttemplate"),h(e,t,m,g));var x=[];(s.hasMarkers(t)||s.hasText(t))&&(g("cliponaxis"),g("marker.maxdisplayed"),x.push("points")),g("fill",y?y.fillDflt:"none"),"none"!==t.fill&&(p(e,t,n,g),s.hasLines(t)||d(e,t,g));var _=(t.line||{}).color,w=(t.marker||{}).color;"tonext"!==t.fill&&"toself"!==t.fill||x.push("fills"),g("hoveron",x.join("+")||"points"),"fills"!==t.hoveron&&g("hovertemplate");var k=i.getComponentMethod("errorbars","supplyDefaults");k(e,t,_||w||n,{axis:"y"}),k(e,t,_||w||n,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(t,g)}}},{"../../lib":497,"../../registry":595,"./attributes":624,"./constants":628,"./fillcolor_defaults":632,"./line_defaults":636,"./line_shape_defaults":638,"./marker_defaults":642,"./stack_defaults":645,"./subtypes":647,"./text_defaults":648,"./xy_defaults":649}],632:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../lib").isArrayOrTypedArray;t.exports=function(e,t,n,o){var a=!1;if(t.marker){var s=t.marker.color,l=(t.marker.line||{}).color;s&&!i(s)?a=s:l&&!i(l)&&(a=l)}o("fillcolor",r.addOpacity((t.line||{}).color||a||n,.5))}},{"../../components/color":377,"../../lib":497}],633:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("./subtypes");t.exports=function(e,t){var n,o;if("lines"===e.mode)return(n=e.line.color)&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var a=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return(o=a&&r.opacity(a)?a:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:"")?r.opacity(o)<.3?r.addOpacity(o,.3):o:(n=(e.line||{}).color)&&r.opacity(n)&&i.hasLines(e)&&e.line.width?n:e.fillcolor}},{"../../components/color":377,"./subtypes":647}],634:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/fx"),o=e("../../registry"),a=e("./get_trace_color"),s=e("../../components/color"),l=r.fillText;t.exports=function(e,t,n,u){var c=e.cd,f=c[0].trace,d=e.xa,h=e.ya,p=d.c2p(t),m=h.c2p(n),g=[p,m],v=f.hoveron||"",y=-1!==f.mode.indexOf("markers")?3:.5;if(-1!==v.indexOf("points")){var b=function(e){var t=Math.max(y,e.mrc||0),n=d.c2p(e.x)-p,r=h.c2p(e.y)-m;return Math.max(Math.sqrt(n*n+r*r)-t,1-y/t)},x=i.getDistanceFunction(u,(function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(d.c2p(e.x)-p);return r<t?n*r/t:r-t+n}),(function(e){var t=Math.max(3,e.mrc||0),n=1-1/t,r=Math.abs(h.c2p(e.y)-m);return r<t?n*r/t:r-t+n}),b);if(i.getClosest(c,x,e),!1!==e.index){var _=c[e.index],w=d.c2p(_.x,!0),k=h.c2p(_.y,!0),M=_.mrc||1;e.index=_.i;var T=c[0].t.orientation,S=T&&(_.sNorm||_.s),E="h"===T?S:_.x,A="v"===T?S:_.y;return r.extendFlat(e,{color:a(f,_),x0:w-M,x1:w+M,xLabelVal:E,y0:k-M,y1:k+M,yLabelVal:A,spikeDistance:b(_),hovertemplate:f.hovertemplate}),l(_,f,e),o.getComponentMethod("errorbars","hoverInfo")(_,f,e),[e]}}if(-1!==v.indexOf("fills")&&f._polygons){var O,C,N,D,P,R,L,I,j,z=f._polygons,F=[],B=!1,U=1/0,H=-1/0,q=1/0,V=-1/0;for(O=0;O<z.length;O++)(N=z[O]).contains(g)&&(B=!B,F.push(N),q=Math.min(q,N.ymin),V=Math.max(V,N.ymax));if(B){var W=((q=Math.max(q,0))+(V=Math.min(V,h._length)))/2;for(O=0;O<F.length;O++)for(D=F[O].pts,C=1;C<D.length;C++)(I=D[C-1][1])>W!=(j=D[C][1])>=W&&(R=D[C-1][0],L=D[C][0],j-I&&(P=R+(L-R)*(W-I)/(j-I),U=Math.min(U,P),H=Math.max(H,P)));U=Math.max(U,0),H=Math.min(H,d._length);var Y=s.defaultLine;return s.opacity(f.fillcolor)?Y=f.fillcolor:s.opacity((f.line||{}).color)&&(Y=f.line.color),r.extendFlat(e,{distance:e.maxHoverDistance,x0:U,x1:H,y0:W,y1:W,color:Y,hovertemplate:!1}),delete e.index,f.text&&!Array.isArray(f.text)?e.text=String(f.text):e.text=f.name,[e]}}}},{"../../components/color":377,"../../components/fx":415,"../../lib":497,"../../registry":595,"./get_trace_color":633}],635:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:e("./attributes"),supplyDefaults:e("./defaults"),crossTraceDefaults:e("./cross_trace_defaults"),calc:e("./calc").calc,crossTraceCalc:e("./cross_trace_calc"),arraysToCalcdata:e("./arrays_to_calcdata"),plot:e("./plot"),colorbar:e("./marker_colorbar"),style:e("./style").style,styleOnSelect:e("./style").styleOnSelect,hoverPoints:e("./hover"),selectPoints:e("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":554,"./arrays_to_calcdata":623,"./attributes":624,"./calc":625,"./cross_trace_calc":629,"./cross_trace_defaults":630,"./defaults":631,"./hover":634,"./marker_colorbar":641,"./plot":643,"./select":644,"./style":646,"./subtypes":647}],636:[function(e,t,n){"use strict";var r=e("../../lib").isArrayOrTypedArray,i=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/defaults");t.exports=function(e,t,n,a,s,l){var u=(e.marker||{}).color;s("line.color",n),i(e,"line")?o(e,t,a,s,{prefix:"line.",cLetter:"c"}):s("line.color",!r(u)&&u||n),s("line.width"),(l||{}).noDash||s("line.dash")}},{"../../components/colorscale/defaults":387,"../../components/colorscale/helpers":388,"../../lib":497}],637:[function(e,t,n){"use strict";var r=e("../../constants/numerical"),i=r.BADNUM,o=r.LOG_CLIP,a=o+.5,s=o-.5,l=e("../../lib"),u=l.segmentsIntersect,c=l.constrain,f=e("./constants");t.exports=function(e,t){var n,r,o,d,h,p,m,g,v,y,b,x,_,w,k,M,T,S,E=t.xaxis,A=t.yaxis,O="log"===E.type,C="log"===A.type,N=E._length,D=A._length,P=t.connectGaps,R=t.baseTolerance,L=t.shape,I="linear"===L,j=t.fill&&"none"!==t.fill,z=[],F=f.minTolerance,B=e.length,U=new Array(B),H=0;function q(t){var n=e[t];if(!n)return!1;var r=E.c2p(n.x),o=A.c2p(n.y);if(r===i){if(O&&(r=E.c2p(n.x,!0)),r===i)return!1;C&&o===i&&(r*=Math.abs(E._m*D*(E._m>0?a:s)/(A._m*N*(A._m>0?a:s)))),r*=1e3}if(o===i){if(C&&(o=A.c2p(n.y,!0)),o===i)return!1;o*=1e3}return[r,o]}function V(e,t,n,r){var i=n-e,o=r-t,a=.5-e,s=.5-t,l=i*i+o*o,u=i*a+o*s;if(u>0&&u<l){var c=a*o-s*i;if(c*c<l)return!0}}function W(e,t){var n=e[0]/N,r=e[1]/D,i=Math.max(0,-n,n-1,-r,r-1);return i&&void 0!==T&&V(n,r,T,S)&&(i=0),i&&t&&V(n,r,t[0]/N,t[1]/D)&&(i=0),(1+f.toleranceGrowth*i)*R}function Y(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var G,X,$,Z,K,J,Q,ee=f.maxScreensAway,te=-N*ee,ne=N*(1+ee),re=-D*ee,ie=D*(1+ee),oe=[[te,re,ne,re],[ne,re,ne,ie],[ne,ie,te,ie],[te,ie,te,re]];function ae(e){if(e[0]<te||e[0]>ne||e[1]<re||e[1]>ie)return[c(e[0],te,ne),c(e[1],re,ie)]}function se(e,t){return e[0]===t[0]&&(e[0]===te||e[0]===ne)||e[1]===t[1]&&(e[1]===re||e[1]===ie)||void 0}function le(e,t,n){return function(r,i){var o=ae(r),a=ae(i),s=[];if(o&&a&&se(o,a))return s;o&&s.push(o),a&&s.push(a);var u=2*l.constrain((r[e]+i[e])/2,t,n)-((o||r)[e]+(a||i)[e]);return u&&((o&&a?u>0==o[e]>a[e]?o:a:o||a)[e]+=u),s}}function ue(e){var t=e[0],n=e[1],r=t===U[H-1][0],i=n===U[H-1][1];if(!r||!i)if(H>1){var o=t===U[H-2][0],a=n===U[H-2][1];r&&(t===te||t===ne)&&o?a?H--:U[H-1]=e:i&&(n===re||n===ie)&&a?o?H--:U[H-1]=e:U[H++]=e}else U[H++]=e}function ce(e){U[H-1][0]!==e[0]&&U[H-1][1]!==e[1]&&ue([$,Z]),ue(e),K=null,$=Z=0}function fe(e){if(T=e[0]/N,S=e[1]/D,G=e[0]<te?te:e[0]>ne?ne:0,X=e[1]<re?re:e[1]>ie?ie:0,G||X){if(H)if(K){var t=Q(K,e);t.length>1&&(ce(t[0]),U[H++]=t[1])}else J=Q(U[H-1],e)[0],U[H++]=J;else U[H++]=[G||e[0],X||e[1]];var n=U[H-1];G&&X&&(n[0]!==G||n[1]!==X)?(K&&($!==G&&Z!==X?ue($&&Z?(r=K,o=(i=e)[0]-r[0],a=(i[1]-r[1])/o,(r[1]*i[0]-i[1]*r[0])/o>0?[a>0?te:ne,ie]:[a>0?ne:te,re]):[$||G,Z||X]):$&&Z&&ue([$,Z])),ue([G,X])):$-G&&Z-X&&ue([G||$,X||Z]),K=e,$=G,Z=X}else K&&ce(Q(K,e)[0]),U[H++]=e;var r,i,o,a}for("linear"===L||"spline"===L?Q=function(e,t){for(var n=[],r=0,i=0;i<4;i++){var o=oe[i],a=u(e[0],e[1],t[0],t[1],o[0],o[1],o[2],o[3]);a&&(!r||Math.abs(a.x-n[0][0])>1||Math.abs(a.y-n[0][1])>1)&&(a=[a.x,a.y],r&&Y(a,e)<Y(n[0],e)?n.unshift(a):n.push(a),r++)}return n}:"hv"===L||"vh"===L?Q=function(e,t){var n=[],r=ae(e),i=ae(t);return r&&i&&se(r,i)?n:(r&&n.push(r),i&&n.push(i),n)}:"hvh"===L?Q=le(0,te,ne):"vhv"===L&&(Q=le(1,re,ie)),n=0;n<B;n++)if(r=q(n)){for(H=0,K=null,fe(r),n++;n<B;n++){if(!(d=q(n))){if(P)continue;break}if(I&&t.simplify){var de=q(n+1);if(y=Y(d,r),j&&(0===H||H===B-1)||!(y<W(d,de)*F)){for(g=[(d[0]-r[0])/y,(d[1]-r[1])/y],h=r,b=y,x=w=k=0,m=!1,o=d,n++;n<e.length;n++){if(p=de,de=q(n+1),!p){if(P)continue;break}if(M=(v=[p[0]-r[0],p[1]-r[1]])[0]*g[1]-v[1]*g[0],w=Math.min(w,M),(k=Math.max(k,M))-w>W(p,de))break;o=p,(_=v[0]*g[0]+v[1]*g[1])>b?(b=_,d=p,m=!1):_<x&&(x=_,h=p,m=!0)}if(m?(fe(d),o!==h&&fe(h)):(h!==r&&fe(h),o!==d&&fe(d)),fe(o),n>=e.length||!p)break;fe(p),r=p}}else fe(d)}K&&ue([$||K[0],Z||K[1]]),z.push(U.slice(0,H))}return z}},{"../../constants/numerical":476,"../../lib":497,"./constants":628}],638:[function(e,t,n){"use strict";t.exports=function(e,t,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],639:[function(e,t,n){"use strict";var r={tonextx:1,tonexty:1,tonext:1};t.exports=function(e,t,n){var i,o,a,s,l,u={},c=!1,f=-1,d=0,h=-1;for(o=0;o<n.length;o++)(a=(i=n[o][0].trace).stackgroup||"")?a in u?l=u[a]:(l=u[a]=d,d++):i.fill in r&&h>=0?l=h:(l=h=d,d++),l<f&&(c=!0),i._groupIndex=f=l;var p=n.slice();c&&p.sort((function(e,t){var n=e[0].trace,r=t[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index}));var m={};for(o=0;o<p.length;o++)a=(i=p[o][0].trace).stackgroup||"",!0===i.visible?(i._nexttrace=null,i.fill in r&&(s=m[a],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace),m[a]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return p}},{}],640:[function(e,t,n){"use strict";var r=e("fast-isnumeric");t.exports=function(e){var t=e.marker,n=t.sizeref||1,i=t.sizemin||0,o="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=o(e/2);return r(t)&&t>0?Math.max(t,i):0}}},{"fast-isnumeric":91}],641:[function(e,t,n){"use strict";t.exports={container:"marker",min:"cmin",max:"cmax"}},{}],642:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/helpers").hasColorscale,o=e("../../components/colorscale/defaults"),a=e("./subtypes");t.exports=function(e,t,n,s,l,u){var c=a.isBubble(e),f=(e.line||{}).color;u=u||{},f&&(n=f),l("marker.symbol"),l("marker.opacity",c?.7:1),l("marker.size"),l("marker.color",n),i(e,"marker")&&o(e,t,s,l,{prefix:"marker.",cLetter:"c"}),u.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),u.noLine||(l("marker.line.color",f&&!Array.isArray(f)&&t.marker.color!==f?f:c?r.background:r.defaultLine),i(e,"marker.line")&&o(e,t,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",c?1:0)),c&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),u.gradient&&"none"!==l("marker.gradient.type")&&l("marker.gradient.color")}},{"../../components/color":377,"../../components/colorscale/defaults":387,"../../components/colorscale/helpers":388,"./subtypes":647}],643:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../registry"),o=e("../../lib"),a=o.ensureSingle,s=o.identity,l=e("../../components/drawing"),u=e("./subtypes"),c=e("./line_points"),f=e("./link_traces"),d=e("../../lib/polygon").tester;function h(e,t,n,f,h,p,m){var g;!function(e,t,n,i,a){var s=n.xaxis,l=n.yaxis,c=r.extent(o.simpleMap(s.range,s.r2c)),f=r.extent(o.simpleMap(l.range,l.r2c)),d=i[0].trace;if(u.hasMarkers(d)){var h=d.marker.maxdisplayed;if(0!==h){var p=i.filter((function(e){return e.x>=c[0]&&e.x<=c[1]&&e.y>=f[0]&&e.y<=f[1]})),m=Math.ceil(p.length/h),g=0;a.forEach((function(e,n){var r=e[0].trace;u.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&g++}));var v=Math.round(g*m/3+Math.floor(g/3)*m/7.1);i.forEach((function(e){delete e.vis})),p.forEach((function(e,t){0===Math.round((t+v)%m)&&(e.vis=!0)}))}}}(0,t,n,f,h);var v=!!m&&m.duration>0;function y(e){return v?e.transition():e}var b=n.xaxis,x=n.yaxis,_=f[0].trace,w=_.line,k=r.select(p),M=a(k,"g","errorbars"),T=a(k,"g","lines"),S=a(k,"g","points"),E=a(k,"g","text");if(i.getComponentMethod("errorbars","plot")(e,M,n,m),!0===_.visible){var A,O;y(k).style("opacity",_.opacity);var C=_.fill.charAt(_.fill.length-1);"x"!==C&&"y"!==C&&(C=""),f[0][n.isRangePlot?"nodeRangePlot3":"node3"]=k;var N,D,P="",R=[],L=_._prevtrace;L&&(P=L._prevRevpath||"",O=L._nextFill,R=L._polygons);var I,j,z,F,B,U,H,q="",V="",W=[],Y=o.noop;if(A=_._ownFill,u.hasLines(_)||"none"!==_.fill){for(O&&O.datum(f),-1!==["hv","vh","hvh","vhv"].indexOf(w.shape)?(I=l.steps(w.shape),j=l.steps(w.shape.split("").reverse().join(""))):I=j="spline"===w.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?l.smoothclosed(e.slice(1),w.smoothing):l.smoothopen(e,w.smoothing)}:function(e){return"M"+e.join("L")},z=function(e){return j(e.reverse())},W=c(f,{xaxis:b,yaxis:x,connectGaps:_.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,simplify:w.simplify,fill:_.fill}),H=_._polygons=new Array(W.length),g=0;g<W.length;g++)_._polygons[g]=d(W[g]);W.length&&(F=W[0][0],U=(B=W[W.length-1])[B.length-1]),Y=function(e){return function(t){if(N=I(t),D=z(t),q?C?(q+="L"+N.substr(1),V=D+"L"+V.substr(1)):(q+="Z"+N,V=D+"Z"+V):(q=N,V=D),u.hasLines(_)&&t.length>1){var n=r.select(this);if(n.datum(f),e)y(n.style("opacity",0).attr("d",N).call(l.lineGroupStyle)).style("opacity",1);else{var i=y(n);i.attr("d",N),l.singleLineStyle(f,i)}}}}}var G=T.selectAll(".js-line").data(W);y(G.exit()).style("opacity",0).remove(),G.each(Y(!1)),G.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(Y(!0)),l.setClipUrl(G,n.layerClipId,e),W.length?(A?(A.datum(f),F&&U&&(C?("y"===C?F[1]=U[1]=x.c2p(0,!0):"x"===C&&(F[0]=U[0]=b.c2p(0,!0)),y(A).attr("d","M"+U+"L"+F+"L"+q.substr(1)).call(l.singleFillStyle)):y(A).attr("d",q+"Z").call(l.singleFillStyle))):O&&("tonext"===_.fill.substr(0,6)&&q&&P?("tonext"===_.fill?y(O).attr("d",q+"Z"+P+"Z").call(l.singleFillStyle):y(O).attr("d",q+"L"+P.substr(1)+"Z").call(l.singleFillStyle),_._polygons=_._polygons.concat(R)):($(O),_._polygons=null)),_._prevRevpath=V,_._prevPolygons=H):(A?$(A):O&&$(O),_._polygons=_._prevRevpath=_._prevPolygons=null),S.datum(f),E.datum(f),function(t,i,o){var a,c=o[0].trace,f=u.hasMarkers(c),d=u.hasText(c),h=function(e){if(e.ids)return Q}(c),p=ee,m=ee;if(f||d){var g=s,_=c.stackgroup,w=_&&"infer zero"===e._fullLayout._scatterStackOpts[b._id+x._id][_].stackgaps;c.marker.maxdisplayed||c._needsCull?g=w?K:Z:_&&!w&&(g=J),f&&(p=g),d&&(m=g)}var k,M=(a=t.selectAll("path.point").data(p,h)).enter().append("path").classed("point",!0);v&&M.call(l.pointStyle,c,e).call(l.translatePoints,b,x).style("opacity",0).transition().style("opacity",1),a.order(),f&&(k=l.makePointStyleFns(c)),a.each((function(t){var i=r.select(this),o=y(i);l.translatePoint(t,o,b,x)?(l.singlePointStyle(t,o,c,k,e),n.layerClipId&&l.hideOutsideRangePoint(t,o,b,x,c.xcalendar,c.ycalendar),c.customdata&&i.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):o.remove()})),v?a.exit().transition().style("opacity",0).remove():a.exit().remove(),(a=i.selectAll("g").data(m,h)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each((function(e){var t=r.select(this),i=y(t.select("text"));l.translatePoint(e,i,b,x)?n.layerClipId&&l.hideOutsideRangePoint(e,t,b,x,c.xcalendar,c.ycalendar):t.remove()})),a.selectAll("text").call(l.textPointStyle,c,e).each((function(e){var t=b.c2p(e.x),n=x.c2p(e.y);r.select(this).selectAll("tspan.line").each((function(){y(r.select(this)).attr({x:t,y:n})}))})),a.exit().remove()}(S,E,f);var X=!1===_.cliponaxis?null:n.layerClipId;l.setClipUrl(S,X,e),l.setClipUrl(E,X,e)}function $(e){y(e).attr("d","M0,0Z")}function Z(e){return e.filter((function(e){return!e.gap&&e.vis}))}function K(e){return e.filter((function(e){return e.vis}))}function J(e){return e.filter((function(e){return!e.gap}))}function Q(e){return e.id}function ee(){return!1}}t.exports=function(e,t,n,i,o,u){var c,d,p=!o,m=!!o&&o.duration>0,g=f(e,t,n);(c=i.selectAll("g.trace").data(g,(function(e){return e[0].trace.uid}))).enter().append("g").attr("class",(function(e){return"trace scatter trace"+e[0].trace.uid})).style("stroke-miterlimit",2),c.order(),function(e,t,n){t.each((function(t){var i=a(r.select(this),"g","fills");l.setClipUrl(i,n.layerClipId,e);var o=t[0].trace,u=[];o._ownfill&&u.push("_ownFill"),o._nexttrace&&u.push("_nextFill");var c=i.selectAll("g").data(u,s);c.enter().append("g"),c.exit().each((function(e){o[e]=null})).remove(),c.order().each((function(e){o[e]=a(r.select(this),"path","js-fill")}))}))}(e,c,t),m?(u&&(d=u()),r.transition().duration(o.duration).ease(o.easing).each("end",(function(){d&&d()})).each("interrupt",(function(){d&&d()})).each((function(){i.selectAll("g.trace").each((function(n,r){h(e,r,t,n,g,this,o)}))}))):c.each((function(n,r){h(e,r,t,n,g,this,o)})),p&&c.exit().remove(),i.selectAll("path:not([d])").remove()}},{"../../components/drawing":398,"../../lib":497,"../../lib/polygon":509,"../../registry":595,"./line_points":637,"./link_traces":639,"./subtypes":647,d3:82}],644:[function(e,t,n){"use strict";var r=e("./subtypes");t.exports=function(e,t){var n,i,o,a,s=e.cd,l=e.xaxis,u=e.yaxis,c=[],f=s[0].trace;if(!r.hasMarkers(f)&&!r.hasText(f))return[];if(!1===t)for(n=0;n<s.length;n++)s[n].selected=0;else for(n=0;n<s.length;n++)i=s[n],o=l.c2p(i.x),a=u.c2p(i.y),null!==i.i&&t.contains([o,a],!1,n,e)?(c.push({pointNumber:i.i,x:l.c2d(i.x),y:u.c2d(i.y)}),i.selected=1):i.selected=0;return c}},{"./subtypes":647}],645:[function(e,t,n){"use strict";var r=["orientation","groupnorm","stackgaps"];t.exports=function(e,t,n,i){var o=n._scatterStackOpts,a=i("stackgroup");if(a){var s=t.xaxis+t.yaxis,l=o[s];l||(l=o[s]={});var u=l[a],c=!1;u?u.traces.push(t):(u=l[a]={traceIndices:[],traces:[t]},c=!0);for(var f={orientation:t.x&&!t.y?"h":"v"},d=0;d<r.length;d++){var h=r[d],p=h+"Found";if(!u[p]){var m=void 0!==e[h],g="orientation"===h;if((m||c)&&(u[h]=i(h,f[h]),g&&(u.fillDflt="h"===u[h]?"tonextx":"tonexty"),m&&(u[p]=!0,!c&&(delete u.traces[0][h],g))))for(var v=0;v<u.traces.length-1;v++){var y=u.traces[v];y._input.fill!==y.fill&&(y.fill=u.fillDflt)}}}return u}}},{}],646:[function(e,t,n){"use strict";var r=e("d3"),i=e("../../components/drawing"),o=e("../../registry");function a(e,t,n){i.pointStyle(e.selectAll("path.point"),t,n)}function s(e,t,n){i.textPointStyle(e.selectAll("text"),t,n)}t.exports={style:function(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",(function(e){return e[0].trace.opacity})),t.selectAll("g.points").each((function(t){a(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.text").each((function(t){s(r.select(this),t.trace||t[0].trace,e)})),t.selectAll("g.trace path.js-line").call(i.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(i.fillGroupStyle),o.getComponentMethod("errorbars","style")(t)},stylePoints:a,styleText:s,styleOnSelect:function(e,t,n){var r=t[0].trace;r.selectedpoints?(i.selectedPointStyle(n.selectAll("path.point"),r),i.selectedTextStyle(n.selectAll("text"),r)):(a(n,r,e),s(n,r,e))}}},{"../../components/drawing":398,"../../registry":595,d3:82}],647:[function(e,t,n){"use strict";var r=e("../../lib");t.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&(e.mode&&-1!==e.mode.indexOf("markers")||"splom"===e.type)},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&r.isArrayOrTypedArray(e.marker.size)}}},{"../../lib":497}],648:[function(e,t,n){"use strict";var r=e("../../lib");t.exports=function(e,t,n,i,o){o=o||{},i("textposition"),r.coerceFont(i,"textfont",n.font),o.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}},{"../../lib":497}],649:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../registry");t.exports=function(e,t,n,o){var a,s=o("x"),l=o("y");if(i.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],n),s){var u=r.minRowLength(s);l?a=Math.min(u,r.minRowLength(l)):(a=u,o("y0"),o("dy"))}else{if(!l)return 0;a=r.minRowLength(l),o("x0"),o("dx")}return t._length=a,a}},{"../../lib":497,"../../registry":595}],650:[function(e,t,n){"use strict";var r=e("../scatter/attributes"),i=e("../../components/colorscale/attributes"),o=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../../plots/template_attributes").texttemplateAttrs,s=e("../../plots/attributes"),l=e("../../constants/gl3d_dashes"),u=e("../../constants/gl3d_markers"),c=e("../../lib/extend").extendFlat,f=e("../../plot_api/edit_types").overrideAll,d=r.line,h=r.marker,p=h.line,m=c({width:d.width,dash:{valType:"enumerated",values:Object.keys(l),dflt:"solid"}},i("line")),g=t.exports=f({x:r.x,y:r.y,z:{valType:"data_array"},text:c({},r.text,{}),texttemplate:a({},{}),hovertext:c({},r.hovertext,{}),hovertemplate:o(),mode:c({},r.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:r.connectgaps,line:m,marker:c({symbol:{valType:"enumerated",values:Object.keys(u),dflt:"circle",arrayOk:!0},size:c({},h.size,{dflt:8}),sizeref:h.sizeref,sizemin:h.sizemin,sizemode:h.sizemode,opacity:c({},h.opacity,{arrayOk:!1}),colorbar:h.colorbar,line:c({width:c({},p.width,{arrayOk:!1})},i("marker.line"))},i("marker")),textposition:c({},r.textposition,{dflt:"top center"}),textfont:{color:r.textfont.color,size:r.textfont.size,family:c({},r.textfont.family,{arrayOk:!1})},hoverinfo:c({},s.hoverinfo)},"calc","nested");g.x.editType=g.y.editType=g.z.editType="calc+clearAxisTypes"},{"../../components/colorscale/attributes":384,"../../constants/gl3d_dashes":473,"../../constants/gl3d_markers":474,"../../lib/extend":491,"../../plot_api/edit_types":526,"../../plots/attributes":540,"../../plots/template_attributes":594,"../scatter/attributes":624}],651:[function(e,t,n){"use strict";var r=e("../scatter/arrays_to_calcdata"),i=e("../scatter/colorscale_calc");t.exports=function(e,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return r(n,t),i(e,t),n}},{"../scatter/arrays_to_calcdata":623,"../scatter/colorscale_calc":627}],652:[function(e,t,n){"use strict";var r=e("../../registry");function i(e,t,n,i){if(!t||!t.visible)return null;for(var o=r.getComponentMethod("errorbars","makeComputeError")(t),a=new Array(e.length),s=0;s<e.length;s++){var l=o(+e[s],s);if("log"===i.type){var u=i.c2l(e[s]),c=e[s]-l[0],f=e[s]+l[1];if(a[s]=[(i.c2l(c,!0)-u)*n,(i.c2l(f,!0)-u)*n],c>0){var d=i.c2l(c);i._lowerLogErrorBound||(i._lowerLogErrorBound=d),i._lowerErrorBound=Math.min(i._lowerLogErrorBound,d)}}else a[s]=[-l[0]*n,l[1]*n]}return a}t.exports=function(e,t,n){var r=[i(e.x,e.error_x,t[0],n.xaxis),i(e.y,e.error_y,t[1],n.yaxis),i(e.z,e.error_z,t[2],n.zaxis)],o=function(e){for(var t=0;t<e.length;t++)if(e[t])return e[t].length;return 0}(r);if(0===o)return null;for(var a=new Array(o),s=0;s<o;s++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var c=0;c<2;c++)l[c][u]=r[u][s][c];a[s]=l}return a}},{"../../registry":595}],653:[function(e,t,n){"use strict";var r=e("gl-line3d"),i=e("gl-scatter3d"),o=e("gl-error3d"),a=e("gl-mesh3d"),s=e("delaunay-triangulate"),l=e("../../lib"),u=e("../../lib/str2rgbarray"),c=e("../../lib/gl_format_color").formatColor,f=e("../scatter/make_bubble_size_func"),d=e("../../constants/gl3d_dashes"),h=e("../../constants/gl3d_markers"),p=e("../../components/fx/helpers").appendArrayPointValue,m=e("./calc_errors");function g(e,t){this.scene=e,this.uid=t,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var v=g.prototype;function y(e){return null==e?0:e.indexOf("left")>-1?-1:e.indexOf("right")>-1?1:0}function b(e){return null==e?0:e.indexOf("top")>-1?-1:e.indexOf("bottom")>-1?1:0}function x(e,t){return t(4*e)}function _(e){return h[e]}function w(e,t,n,r,i){var o=null;if(l.isArrayOrTypedArray(e)){o=[];for(var a=0;a<t;a++)void 0===e[a]?o[a]=r:o[a]=n(e[a],i)}else o=n(e,l.identity);return o}function k(e,t){var n,r,i,o,a,s,d=[],h=e.fullSceneLayout,g=e.dataScale,v=h.xaxis,k=h.yaxis,M=h.zaxis,T=t.marker,S=t.line,E=t.x||[],A=t.y||[],O=t.z||[],C=E.length,N=t.xcalendar,D=t.ycalendar,P=t.zcalendar;for(a=0;a<C;a++)n=v.d2l(E[a],0,N)*g[0],r=k.d2l(A[a],0,D)*g[1],i=M.d2l(O[a],0,P)*g[2],d[a]=[n,r,i];if(Array.isArray(t.text))s=t.text;else if(void 0!==t.text)for(s=new Array(C),a=0;a<C;a++)s[a]=t.text;var R=t.texttemplate;if(R){var L=Array.isArray(R),I=L?Math.min(R.length,C):C,j=L?function(e){return R[e]}:function(){return R},z=e.fullLayout._d3locale;for(s=new Array(I),a=0;a<I;a++){var F={};F.text=s[a],p(F,t,a),s[a]=l.texttemplateString(j(a),F,z,F,t._meta||{})}}if(o={position:d,mode:t.mode,text:s},"line"in t&&(o.lineColor=c(S,1,C),o.lineWidth=S.width,o.lineDashes=S.dash),"marker"in t){var B=f(t);o.scatterColor=c(T,1,C),o.scatterSize=w(T.size,C,x,20,B),o.scatterMarker=w(T.symbol,C,_,"\u25cf"),o.scatterLineWidth=T.line.width,o.scatterLineColor=c(T.line,1,C),o.scatterAngle=0}"textposition"in t&&(o.textOffset=function(e){var t=[0,0];if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=[0,0],e[n]&&(t[n][0]=y(e[n]),t[n][1]=b(e[n]));else t[0]=y(e),t[1]=b(e);return t}(t.textposition),o.textColor=c(t.textfont,1,C),o.textSize=w(t.textfont.size,C,l.identity,12),o.textFont=t.textfont.family,o.textAngle=0);var U=["x","y","z"];for(o.project=[!1,!1,!1],o.projectScale=[1,1,1],o.projectOpacity=[1,1,1],a=0;a<3;++a){var H=t.projection[U[a]];(o.project[a]=H.show)&&(o.projectOpacity[a]=H.opacity,o.projectScale[a]=H.scale)}o.errorBounds=m(t,g,h);var q=function(e){for(var t=[0,0,0],n=[[0,0,0],[0,0,0],[0,0,0]],r=[1,1,1],i=0;i<3;i++){var o=e[i];o&&!1!==o.copy_zstyle&&!1!==e[2].visible&&(o=e[2]),o&&o.visible&&(t[i]=o.width/2,n[i]=u(o.color),r[i]=o.thickness)}return{capSize:t,color:n,lineWidth:r}}([t.error_x,t.error_y,t.error_z]);return o.errorColor=q.color,o.errorLineWidth=q.lineWidth,o.errorCapSize=q.capSize,o.delaunayAxis=t.surfaceaxis,o.delaunayColor=u(t.surfacecolor),o}function M(e){if(Array.isArray(e)){var t=e[0];return Array.isArray(t)&&(e=t),"rgb("+e.slice(0,3).map((function(e){return Math.round(255*e)}))+")"}return null}v.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){var t=e.index=e.data.index;return e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),e.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[t]||0===this.textLabels[t])&&(e.textLabel=this.textLabels[t]):e.textLabel=this.textLabels),e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]],!0}},v.update=function(e){var t,n,l,u,c=this.scene.glplot.gl,f=d.solid;this.data=e;var h=k(this.scene,e);"mode"in h&&(this.mode=h.mode),"lineDashes"in h&&h.lineDashes in d&&(f=d[h.lineDashes]),this.color=M(h.scatterColor)||M(h.lineColor),this.dataPoints=h.position,t={gl:this.scene.glplot.gl,position:h.position,color:h.lineColor,lineWidth:h.lineWidth||1,dashes:f[0],dashScale:f[1],opacity:e.opacity,connectGaps:e.connectgaps},-1!==this.mode.indexOf("lines")?this.linePlot?this.linePlot.update(t):(this.linePlot=r(t),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var p=e.opacity;if(e.marker&&e.marker.opacity&&(p*=e.marker.opacity),n={gl:this.scene.glplot.gl,position:h.position,color:h.scatterColor,size:h.scatterSize,glyph:h.scatterMarker,opacity:p,orthographic:!0,lineWidth:h.scatterLineWidth,lineColor:h.scatterLineColor,project:h.project,projectScale:h.projectScale,projectOpacity:h.projectOpacity},-1!==this.mode.indexOf("markers")?this.scatterPlot?this.scatterPlot.update(n):(this.scatterPlot=i(n),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),u={gl:this.scene.glplot.gl,position:h.position,glyph:h.text,color:h.textColor,size:h.textSize,angle:h.textAngle,alignment:h.textOffset,font:h.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,-1!==this.mode.indexOf("text")?this.textMarkers?this.textMarkers.update(u):(this.textMarkers=i(u),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),l={gl:this.scene.glplot.gl,position:h.position,color:h.errorColor,error:h.errorBounds,lineWidth:h.errorLineWidth,capSize:h.errorCapSize,opacity:e.opacity},this.errorBars?h.errorBounds?this.errorBars.update(l):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):h.errorBounds&&(this.errorBars=o(l),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),h.delaunayAxis>=0){var m=function(e,t,n){var r,i=(n+1)%3,o=(n+2)%3,a=[],l=[];for(r=0;r<e.length;++r){var u=e[r];!isNaN(u[i])&&isFinite(u[i])&&!isNaN(u[o])&&isFinite(u[o])&&(a.push([u[i],u[o]]),l.push(r))}var c=s(a);for(r=0;r<c.length;++r)for(var f=c[r],d=0;d<f.length;++d)f[d]=l[f[d]];return{positions:e,cells:c,meshColor:t}}(h.position,h.delaunayColor,h.delaunayAxis);m.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(m):(m.gl=c,this.delaunayMesh=a(m),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},v.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},t.exports=function(e,t){var n=new g(e,t.uid);return n.update(t),n}},{"../../components/fx/helpers":412,"../../constants/gl3d_dashes":473,"../../constants/gl3d_markers":474,"../../lib":497,"../../lib/gl_format_color":495,"../../lib/str2rgbarray":519,"../scatter/make_bubble_size_func":640,"./calc_errors":652,"delaunay-triangulate":84,"gl-error3d":110,"gl-line3d":115,"gl-mesh3d":140,"gl-scatter3d":148}],654:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../scatter/subtypes"),a=e("../scatter/marker_defaults"),s=e("../scatter/line_defaults"),l=e("../scatter/text_defaults"),u=e("./attributes");t.exports=function(e,t,n,c){function f(n,r){return i.coerce(e,t,u,n,r)}if(function(e,t,n,i){var o=0,a=n("x"),s=n("y"),l=n("z");return r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],i),a&&s&&l&&(o=Math.min(a.length,s.length,l.length),t._length=t._xlength=t._ylength=t._zlength=o),o}(e,t,f,c)){f("text"),f("hovertext"),f("hovertemplate"),f("mode"),o.hasLines(t)&&(f("connectgaps"),s(e,t,n,c,f)),o.hasMarkers(t)&&a(e,t,n,c,f,{noSelect:!0}),o.hasText(t)&&(f("texttemplate"),l(e,t,c,f,{noSelect:!0}));var d=(t.line||{}).color,h=(t.marker||{}).color;f("surfaceaxis")>=0&&f("surfacecolor",d||h);for(var p=["x","y","z"],m=0;m<3;++m){var g="projection."+p[m];f(g+".show")&&(f(g+".opacity"),f(g+".scale"))}var v=r.getComponentMethod("errorbars","supplyDefaults");v(e,t,d||h||n,{axis:"z"}),v(e,t,d||h||n,{axis:"y",inherit:"z"}),v(e,t,d||h||n,{axis:"x",inherit:"z"})}else t.visible=!1}},{"../../lib":497,"../../registry":595,"../scatter/line_defaults":636,"../scatter/marker_defaults":642,"../scatter/subtypes":647,"../scatter/text_defaults":648,"./attributes":650}],655:[function(e,t,n){"use strict";t.exports={plot:e("./convert"),attributes:e("./attributes"),markerSymbols:e("../../constants/gl3d_markers"),supplyDefaults:e("./defaults"),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e("./calc"),moduleType:"trace",name:"scatter3d",basePlotModule:e("../../plots/gl3d"),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},{"../../constants/gl3d_markers":474,"../../plots/gl3d":572,"./attributes":650,"./calc":651,"./convert":653,"./defaults":654}],656:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../../plots/template_attributes").hovertemplateAttrs,o=e("../mesh3d/attributes"),a=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat,l={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:i({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]})};s(l,r("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach((function(e){l[e]=o[e]})),l.hoverinfo=s({},a.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),l.transforms=void 0,t.exports=l},{"../../components/colorscale/attributes":384,"../../lib/extend":491,"../../plots/attributes":540,"../../plots/template_attributes":594,"../mesh3d/attributes":616}],657:[function(e,t,n){"use strict";var r=e("../../components/colorscale/calc");t.exports=function(e,t){var n,i,o,a,s=t.u,l=t.v,u=t.w,c=t.x,f=t.y,d=t.z,h=Math.min(c.length,f.length,d.length,s.length,l.length,u.length),p=0;t.starts&&(i=t.starts.x||[],o=t.starts.y||[],a=t.starts.z||[],p=Math.min(i.length,o.length,a.length));var m=0,g=1/0;for(n=0;n<h;n++){var v=s[n],y=l[n],b=u[n],x=Math.sqrt(v*v+y*y+b*b);m=Math.max(m,x),g=Math.min(g,x)}r(e,t,{vals:[g,m],containerStr:"",cLetter:"c"});var _=-1/0,w=1/0,k=-1/0,M=1/0,T=-1/0,S=1/0;for(n=0;n<h;n++){var E=c[n];_=Math.max(_,E),w=Math.min(w,E);var A=f[n];k=Math.max(k,A),M=Math.min(M,A);var O=d[n];T=Math.max(T,O),S=Math.min(S,O)}for(n=0;n<p;n++){var C=i[n];_=Math.max(_,C),w=Math.min(w,C);var N=o[n];k=Math.max(k,N),M=Math.min(M,N);var D=a[n];T=Math.max(T,D),S=Math.min(S,D)}t._len=h,t._slen=p,t._normMax=m,t._xbnds=[w,_],t._ybnds=[M,k],t._zbnds=[S,T]}},{"../../components/colorscale/calc":385}],658:[function(e,t,n){"use strict";var r=e("gl-streamtube3d"),i=r.createTubeMesh,o=e("../../lib"),a=e("../../lib/gl_format_color").parseColorScale,s=e("../../components/colorscale").extractOpts,l=e("../../plots/gl3d/zip3"),u={xaxis:0,yaxis:1,zaxis:2};function c(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var f=c.prototype;function d(e){return o.distinctVals(e).vals}function h(e){var t=e.length;return t>2?e.slice(1,t-1):2===t?[(e[0]+e[1])/2]:e}function p(e){var t=e.length;return 1===t?[.5,.5]:[e[1]-e[0],e[t-1]-e[t-2]]}function m(e,t){var n=e.fullSceneLayout,i=e.dataScale,c=t._len,f={};function m(e,t){var r=n[t],a=i[u[t]];return o.simpleMap(e,(function(e){return r.d2l(e)*a}))}f.vectors=l(m(t.u,"xaxis"),m(t.v,"yaxis"),m(t.w,"zaxis"),c);var g=d(t.x.slice(0,c)),v=d(t.y.slice(0,c)),y=d(t.z.slice(0,c));if(g.length*v.length*y.length>c)return{positions:[],cells:[]};var b=m(g,"xaxis"),x=m(v,"yaxis"),_=m(y,"zaxis");f.meshgrid=[b,x,_];var w=t._slen;if(w)f.startingPositions=l(m(t.starts.x.slice(0,w),"xaxis"),m(t.starts.y.slice(0,w),"yaxis"),m(t.starts.z.slice(0,w),"zaxis"));else{for(var k=x[0],M=h(b),T=h(_),S=new Array(M.length*T.length),E=0,A=0;A<M.length;A++)for(var O=0;O<T.length;O++)S[E++]=[M[A],k,T[O]];f.startingPositions=S}f.colormap=a(t),f.tubeSize=t.sizeref,f.maxLength=t.maxdisplayed;var C=m(t._xbnds,"xaxis"),N=m(t._ybnds,"yaxis"),D=m(t._zbnds,"zaxis"),P=p(b),R=p(x),L=p(_),I=[[C[0]-P[0],N[0]-R[0],D[0]-L[0]],[C[1]+P[1],N[1]+R[1],D[1]+L[1]]],j=r(f,I),z=s(t);j.vertexIntensityBounds=[z.min/t._normMax,z.max/t._normMax];var F=t.lightposition;return j.lightPosition=[F.x,F.y,F.z],j.ambient=t.lighting.ambient,j.diffuse=t.lighting.diffuse,j.specular=t.lighting.specular,j.roughness=t.lighting.roughness,j.fresnel=t.lighting.fresnel,j.opacity=t.opacity,t._pad=j.tubeScale*t.sizeref*2,j}f.handlePick=function(e){var t=this.scene.fullSceneLayout,n=this.scene.dataScale;function r(e,r){var i=t[r],o=n[u[r]];return i.l2c(e)/o}if(e.object===this.mesh){var i=e.data.position,o=e.data.velocity;return e.traceCoordinate=[r(i[0],"xaxis"),r(i[1],"yaxis"),r(i[2],"zaxis"),r(o[0],"xaxis"),r(o[1],"yaxis"),r(o[2],"zaxis"),e.data.intensity*this.data._normMax,e.data.divergence],e.textLabel=this.data.hovertext||this.data.text,!0}},f.update=function(e){this.data=e;var t=m(this.scene,e);this.mesh.update(t)},f.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports=function(e,t){var n=e.glplot.gl,r=m(e,t),o=i(n,r),a=new c(e,t.uid);return a.mesh=o,a.data=t,o._trace=a,e.glplot.add(o),a}},{"../../components/colorscale":389,"../../lib":497,"../../lib/gl_format_color":495,"../../plots/gl3d/zip3":583,"gl-streamtube3d":161}],659:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("../../components/colorscale/defaults"),o=e("./attributes");t.exports=function(e,t,n,a){function s(n,i){return r.coerce(e,t,o,n,i)}var l=s("u"),u=s("v"),c=s("w"),f=s("x"),d=s("y"),h=s("z");l&&l.length&&u&&u.length&&c&&c.length&&f&&f.length&&d&&d.length&&h&&h.length?(s("starts.x"),s("starts.y"),s("starts.z"),s("maxdisplayed"),s("sizeref"),s("lighting.ambient"),s("lighting.diffuse"),s("lighting.specular"),s("lighting.roughness"),s("lighting.fresnel"),s("lightposition.x"),s("lightposition.y"),s("lightposition.z"),i(e,t,a,s,{prefix:"",cLetter:"c"}),s("text"),s("hovertext"),s("hovertemplate"),t._length=null):t.visible=!1}},{"../../components/colorscale/defaults":387,"../../lib":497,"./attributes":656}],660:[function(e,t,n){"use strict";t.exports={moduleType:"trace",name:"streamtube",basePlotModule:e("../../plots/gl3d"),categories:["gl3d"],attributes:e("./attributes"),supplyDefaults:e("./defaults"),colorbar:{min:"cmin",max:"cmax"},calc:e("./calc"),plot:e("./convert"),eventData:function(e,t){return e.tubex=e.x,e.tubey=e.y,e.tubez=e.z,e.tubeu=t.traceCoordinate[3],e.tubev=t.traceCoordinate[4],e.tubew=t.traceCoordinate[5],e.norm=t.traceCoordinate[6],e.divergence=t.traceCoordinate[7],delete e.x,delete e.y,delete e.z,e},meta:{}}},{"../../plots/gl3d":572,"./attributes":656,"./calc":657,"./convert":658,"./defaults":659}],661:[function(e,t,n){"use strict";var r=e("../../components/color"),i=e("../../components/colorscale/attributes"),o=e("../../plots/template_attributes").hovertemplateAttrs,a=e("../../plots/attributes"),s=e("../../lib/extend").extendFlat,l=e("../../plot_api/edit_types").overrideAll;function u(e){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:r.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:r.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var c=t.exports=l(s({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:o(),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},i("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:u(),y:u(),z:u()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},_deprecated:{zauto:s({},i.zauto,{}),zmin:s({},i.zmin,{}),zmax:s({},i.zmax,{})},hoverinfo:s({},a.hoverinfo)}),"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes",c.transforms=void 0},{"../../components/color":377,"../../components/colorscale/attributes":384,"../../lib/extend":491,"../../plot_api/edit_types":526,"../../plots/attributes":540,"../../plots/template_attributes":594}],662:[function(e,t,n){"use strict";var r=e("../../components/colorscale/calc");t.exports=function(e,t){t.surfacecolor?r(e,t,{vals:t.surfacecolor,containerStr:"",cLetter:"c"}):r(e,t,{vals:t.z,containerStr:"",cLetter:"c"})}},{"../../components/colorscale/calc":385}],663:[function(e,t,n){"use strict";var r=e("gl-surface3d"),i=e("ndarray"),o=e("ndarray-homography"),a=e("ndarray-fill"),s=e("../../lib").isArrayOrTypedArray,l=e("../../lib/gl_format_color").parseColorScale,u=e("../../lib/str2rgbarray"),c=e("../../components/colorscale").extractOpts,f=e("../heatmap/interp2d"),d=e("../heatmap/find_empties");function h(e,t,n){this.scene=e,this.uid=n,this.surface=t,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var p=h.prototype;p.getXat=function(e,t,n,r){var i=s(this.data.x)?s(this.data.x[0])?this.data.x[t][e]:this.data.x[e]:e;return void 0===n?i:r.d2l(i,0,n)},p.getYat=function(e,t,n,r){var i=s(this.data.y)?s(this.data.y[0])?this.data.y[t][e]:this.data.y[t]:t;return void 0===n?i:r.d2l(i,0,n)},p.getZat=function(e,t,n,r){var i=this.data.z[t][e];return null===i&&this.data.connectgaps&&this.data._interpolatedZ&&(i=this.data._interpolatedZ[t][e]),void 0===n?i:r.d2l(i,0,n)},p.handlePick=function(e){if(e.object===this.surface){var t=(e.data.index[0]-1)/this.dataScaleX-1,n=(e.data.index[1]-1)/this.dataScaleY-1,r=Math.max(Math.min(Math.round(t),this.data.z[0].length-1),0),i=Math.max(Math.min(Math.round(n),this.data._ylength-1),0);e.index=[r,i],e.traceCoordinate=[this.getXat(r,i),this.getYat(r,i),this.getZat(r,i)],e.dataCoordinate=[this.getXat(r,i,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(r,i,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(r,i,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var o=0;o<3;o++)null!=e.dataCoordinate[o]&&(e.dataCoordinate[o]*=this.scene.dataScale[o]);var a=this.data.hovertext||this.data.text;return Array.isArray(a)&&a[i]&&void 0!==a[i][r]?e.textLabel=a[i][r]:e.textLabel=a||"",e.data.dataCoordinate=e.dataCoordinate.slice(),this.surface.highlight(e.data),this.scene.glplot.spikes.position=e.dataCoordinate,!0}};var m=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function g(e,t){if(e<t)return 0;for(var n=0;0===Math.floor(e%t);)e/=t,n++;return n}function v(e){for(var t=[],n=0;n<m.length;n++){var r=m[n];t.push(g(e,r))}return t}function y(e){for(var t=v(e),n=e,r=0;r<m.length;r++)if(t[r]>0){n=m[r];break}return n}function b(e,t){if(!(e<1||t<1)){for(var n=v(e),r=v(t),i=1,o=0;o<m.length;o++)i*=Math.pow(m[o],Math.max(n[o],r[o]));return i}}p.calcXnums=function(e){var t,n=[];for(t=1;t<e;t++){var r=this.getXat(t-1,0),i=this.getXat(t,0);n[t-1]=i!==r&&null!=r&&null!=i?Math.abs(i-r):0}var o=0;for(t=1;t<e;t++)o+=n[t-1];for(t=1;t<e;t++)0===n[t-1]?n[t-1]=1:n[t-1]=Math.round(o/n[t-1]);return n},p.calcYnums=function(e){var t,n=[];for(t=1;t<e;t++){var r=this.getYat(0,t-1),i=this.getYat(0,t);n[t-1]=i!==r&&null!=r&&null!=i?Math.abs(i-r):0}var o=0;for(t=1;t<e;t++)o+=n[t-1];for(t=1;t<e;t++)0===n[t-1]?n[t-1]=1:n[t-1]=Math.round(o/n[t-1]);return n};var x=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],_=x[9],w=x[13];function k(e,t){for(var n=!1,r=0;r<e.length;r++)if(t===e[r]){n=!0;break}!1===n&&e.push(t)}p.estimateScale=function(e,t){for(var n=1+function(e){if(0!==e.length){for(var t=1,n=0;n<e.length;n++)t=b(t,e[n]);return t}}(0===t?this.calcXnums(e):this.calcYnums(e));n<_;)n*=2;for(;n>w;)n--,n/=y(n),++n<_&&(n=w);var r=Math.round(n/e);return r>1?r:1},p.refineCoords=function(e){for(var t=this.dataScaleX,n=this.dataScaleY,r=e[0].shape[0],a=e[0].shape[1],s=0|Math.floor(e[0].shape[0]*t+1),l=0|Math.floor(e[0].shape[1]*n+1),u=1+r+1,c=1+a+1,f=i(new Float32Array(u*c),[u,c]),d=0;d<e.length;++d){this.surface.padField(f,e[d]);var h=i(new Float32Array(s*l),[s,l]);o(h,f,[t,0,0,0,n,0,0,0,1]),e[d]=h}},p.setContourLevels=function(){var e,t,n,r=[[],[],[]],i=[!1,!1,!1],o=!1;for(e=0;e<3;++e)if(this.showContour[e]&&(o=!0,this.contourSize[e]>0&&null!==this.contourStart[e]&&null!==this.contourEnd[e]&&this.contourEnd[e]>this.contourStart[e]))for(i[e]=!0,t=this.contourStart[e];t<this.contourEnd[e];t+=this.contourSize[e])n=t*this.scene.dataScale[e],k(r[e],n);if(o){var a=[[],[],[]];for(e=0;e<3;++e)this.showContour[e]&&(a[e]=i[e]?r[e]:this.scene.contourLevels[e]);this.surface.update({levels:a})}},p.update=function(e){var t,n,r,o,s=this.scene,h=s.fullSceneLayout,p=this.surface,m=e.opacity,g=l(e,m),v=s.dataScale,y=e.z[0].length,b=e._ylength,x=s.contourLevels;this.data=e;var _=[];for(t=0;t<3;t++)for(_[t]=[],n=0;n<y;n++)_[t][n]=[];for(n=0;n<y;n++)for(r=0;r<b;r++)_[0][n][r]=this.getXat(n,r,e.xcalendar,h.xaxis),_[1][n][r]=this.getYat(n,r,e.ycalendar,h.yaxis),_[2][n][r]=this.getZat(n,r,e.zcalendar,h.zaxis);if(e.connectgaps)for(e._emptypoints=d(_[2]),f(_[2],e._emptypoints),e._interpolatedZ=[],n=0;n<y;n++)for(e._interpolatedZ[n]=[],r=0;r<b;r++)e._interpolatedZ[n][r]=_[2][n][r];for(t=0;t<3;t++)for(n=0;n<y;n++)for(r=0;r<b;r++)null==(o=_[t][n][r])?_[t][n][r]=NaN:o=_[t][n][r]*=v[t];for(t=0;t<3;t++)for(n=0;n<y;n++)for(r=0;r<b;r++)null!=(o=_[t][n][r])&&(this.minValues[t]>o&&(this.minValues[t]=o),this.maxValues[t]<o&&(this.maxValues[t]=o));for(t=0;t<3;t++)this.objectOffset[t]=.5*(this.minValues[t]+this.maxValues[t]);for(t=0;t<3;t++)for(n=0;n<y;n++)for(r=0;r<b;r++)null!=(o=_[t][n][r])&&(_[t][n][r]-=this.objectOffset[t]);var k=[i(new Float32Array(y*b),[y,b]),i(new Float32Array(y*b),[y,b]),i(new Float32Array(y*b),[y,b])];a(k[0],(function(e,t){return _[0][e][t]})),a(k[1],(function(e,t){return _[1][e][t]})),a(k[2],(function(e,t){return _[2][e][t]})),_=[];var M={colormap:g,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!e.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacity:e.opacity},T=c(e);if(M.intensityBounds=[T.min,T.max],e.surfacecolor){var S=i(new Float32Array(y*b),[y,b]);a(S,(function(t,n){return e.surfacecolor[n][t]})),k.push(S)}else M.intensityBounds[0]*=v[2],M.intensityBounds[1]*=v[2];(w<k[0].shape[0]||w<k[0].shape[1])&&(this.refineData=!1),!0===this.refineData&&(this.dataScaleX=this.estimateScale(k[0].shape[0],0),this.dataScaleY=this.estimateScale(k[0].shape[1],1),1===this.dataScaleX&&1===this.dataScaleY||this.refineCoords(k)),e.surfacecolor&&(M.intensity=k.pop());var E=[!0,!0,!0],A=["x","y","z"];for(t=0;t<3;++t){var O=e.contours[A[t]];E[t]=O.highlight,M.showContour[t]=O.show||O.highlight,M.showContour[t]&&(M.contourProject[t]=[O.project.x,O.project.y,O.project.z],O.show?(this.showContour[t]=!0,M.levels[t]=x[t],p.highlightColor[t]=M.contourColor[t]=u(O.color),O.usecolormap?p.highlightTint[t]=M.contourTint[t]=0:p.highlightTint[t]=M.contourTint[t]=1,M.contourWidth[t]=O.width,this.contourStart[t]=O.start,this.contourEnd[t]=O.end,this.contourSize[t]=O.size):(this.showContour[t]=!1,this.contourStart[t]=null,this.contourEnd[t]=null,this.contourSize[t]=0),O.highlight&&(M.dynamicColor[t]=u(O.highlightcolor),M.dynamicWidth[t]=O.highlightwidth))}(function(e){var t=e[0].rgb,n=e[e.length-1].rgb;return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]})(g)&&(M.vertexColor=!0),M.objectOffset=this.objectOffset,M.coords=k,p.update(M),p.visible=e.visible,p.enableDynamic=E,p.enableHighlight=E,p.snapToData=!0,"lighting"in e&&(p.ambientLight=e.lighting.ambient,p.diffuseLight=e.lighting.diffuse,p.specularLight=e.lighting.specular,p.roughness=e.lighting.roughness,p.fresnel=e.lighting.fresnel),"lightposition"in e&&(p.lightPosition=[e.lightposition.x,e.lightposition.y,e.lightposition.z]),m&&m<1&&(p.supportsTransparency=!0)},p.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},t.exports=function(e,t){var n=e.glplot.gl,i=r({gl:n}),o=new h(e,i,t.uid);return i._trace=o,o.update(t),e.glplot.add(i),o}},{"../../components/colorscale":389,"../../lib":497,"../../lib/gl_format_color":495,"../../lib/str2rgbarray":519,"../heatmap/find_empties":609,"../heatmap/interp2d":610,"gl-surface3d":164,ndarray:287,"ndarray-fill":277,"ndarray-homography":279}],664:[function(e,t,n){"use strict";var r=e("../../registry"),i=e("../../lib"),o=e("../../components/colorscale/defaults"),a=e("./attributes");function s(e,t,n){t in e&&!(n in e)&&(e[n]=e[t])}t.exports=function(e,t,n,l){var u,c;function f(n,r){return i.coerce(e,t,a,n,r)}var d=f("x"),h=f("y"),p=f("z");if(!p||!p.length||d&&d.length<1||h&&h.length<1)t.visible=!1;else{t._xlength=Array.isArray(d)&&i.isArrayOrTypedArray(d[0])?p.length:p[0].length,t._ylength=p.length,r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y","z"],l),f("text"),f("hovertext"),f("hovertemplate"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach((function(e){f(e)}));var m=f("surfacecolor"),g=["x","y","z"];for(u=0;u<3;++u){var v="contours."+g[u],y=f(v+".show"),b=f(v+".highlight");if(y||b)for(c=0;c<3;++c)f(v+".project."+g[c]);y&&(f(v+".color"),f(v+".width"),f(v+".usecolormap")),b&&(f(v+".highlightcolor"),f(v+".highlightwidth")),f(v+".start"),f(v+".end"),f(v+".size")}m||(s(e,"zmin","cmin"),s(e,"zmax","cmax"),s(e,"zauto","cauto")),o(e,t,l,f,{prefix:"",cLetter:"c"}),t._length=null}}},{"../../components/colorscale/defaults":387,"../../lib":497,"../../registry":595,"./attributes":661}],665:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),colorbar:{min:"cmin",max:"cmax"},calc:e("./calc"),plot:e("./convert"),moduleType:"trace",name:"surface",basePlotModule:e("../../plots/gl3d"),categories:["gl3d","2dMap","noOpacity"],meta:{}}},{"../../plots/gl3d":572,"./attributes":661,"./calc":662,"./convert":663,"./defaults":664}],666:[function(e,t,n){"use strict";var r=e("../../components/colorscale/attributes"),i=e("../isosurface/attributes"),o=e("../../plots/attributes"),a=e("../../lib/extend").extendFlat,s=e("../../plot_api/edit_types").overrideAll,l=t.exports=s(a({x:i.x,y:i.y,z:i.z,value:i.value,isomin:i.isomin,isomax:i.isomax,surface:i.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:i.slices,caps:i.caps,text:i.text,hovertext:i.hovertext,hovertemplate:i.hovertemplate},r("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:i.colorbar,opacity:i.opacity,opacityscale:{valType:"any",editType:"calc"},lightposition:i.lightposition,lighting:i.lighting,flatshading:i.flatshading,contour:i.contour,hoverinfo:a({},o.hoverinfo)}),"calc","nested");l.x.editType=l.y.editType=l.z.editType=l.value.editType="calc+clearAxisTypes",l.transforms=void 0},{"../../components/colorscale/attributes":384,"../../lib/extend":491,"../../plot_api/edit_types":526,"../../plots/attributes":540,"../isosurface/attributes":611}],667:[function(e,t,n){"use strict";var r=e("gl-mesh3d"),i=e("../../lib/gl_format_color").parseColorScale,o=e("../../lib/str2rgbarray"),a=e("../../components/colorscale").extractOpts,s=e("../../plots/gl3d/zip3"),l=e("../isosurface/convert").findNearestOnAxis,u=e("../isosurface/convert").generateIsoMeshes;function c(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name="",this.data=null,this.showContour=!1}var f=c.prototype;f.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index,n=this.data._x[t],r=this.data._y[t],i=this.data._z[t],o=this.data._Ys.length,a=this.data._Zs.length,s=l(n,this.data._Xs).id,u=l(r,this.data._Ys).id,c=l(i,this.data._Zs).id,f=e.index=c+a*u+a*o*s;e.traceCoordinate=[this.data._x[f],this.data._y[f],this.data._z[f],this.data.value[f]];var d=this.data.hovertext||this.data.text;return Array.isArray(d)&&void 0!==d[f]?e.textLabel=d[f]:d&&(e.textLabel=d),!0}},f.update=function(e){var t=this.scene,n=t.fullSceneLayout;function r(e,t,n,r){return t.map((function(t){return e.d2l(t,0,r)*n}))}this.data=u(e);var l={positions:s(r(n.xaxis,e._x,t.dataScale[0],e.xcalendar),r(n.yaxis,e._y,t.dataScale[1],e.ycalendar),r(n.zaxis,e._z,t.dataScale[2],e.zcalendar)),cells:s(e._i,e._j,e._k),lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,opacityscale:e.opacityscale,contourEnable:e.contour.show,contourColor:o(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},c=a(e);l.vertexIntensity=e._intensity,l.vertexIntensityBounds=[c.min,c.max],l.colormap=i(e),this.mesh.update(l)},f.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},t.exports=function(e,t){var n=e.glplot.gl,i=r({gl:n}),o=new c(e,i,t.uid);return i._trace=o,o.update(t),e.glplot.add(i),o}},{"../../components/colorscale":389,"../../lib/gl_format_color":495,"../../lib/str2rgbarray":519,"../../plots/gl3d/zip3":583,"../isosurface/convert":613,"gl-mesh3d":140}],668:[function(e,t,n){"use strict";var r=e("../../lib"),i=e("./attributes"),o=e("../isosurface/defaults").supplyIsoDefaults;t.exports=function(e,t,n,a){function s(n,o){return r.coerce(e,t,i,n,o)}o(e,t,n,a,s);var l=s("opacityscale");"max"===l?t.opacityscale=[[0,.1],[1,1]]:"min"===l?t.opacityscale=[[0,1],[1,.1]]:"extremes"===l?t.opacityscale=function(e,t){for(var n=[],r=0;r<32;r++){var i=r/31,o=.1+.9*(1-Math.pow(Math.sin(1*i*Math.PI),2));n.push([i,Math.max(1,Math.min(0,o))])}return n}():function(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!=+e[0][0]||1!=+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var r=e[n];if(2!==r.length||+r[0]<t)return!1;t=+r[0]}return!0}(l)||(t.opacityscale=void 0)}},{"../../lib":497,"../isosurface/defaults":614,"./attributes":666}],669:[function(e,t,n){"use strict";t.exports={attributes:e("./attributes"),supplyDefaults:e("./defaults"),calc:e("../isosurface/calc"),colorbar:{min:"cmin",max:"cmax"},plot:e("./convert"),moduleType:"trace",name:"volume",basePlotModule:e("../../plots/gl3d"),categories:["gl3d"],meta:{}}},{"../../plots/gl3d":572,"../isosurface/calc":612,"./attributes":666,"./convert":667,"./defaults":668}]},{},[4])(4)}).call(this,n(36))},18:function(e,t,n){var r=n(127),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},180:function(e,t,n){var r;!function(i){"use strict";var o,a,s,l=9e15,u=1e9,c="0123456789abcdef",f="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",d="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",h={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-l,maxE:l,crypto:!1},p=!0,m="[DecimalError] ",g=m+"Invalid argument: ",v=m+"Precision limit exceeded",y=m+"crypto unavailable",b=Math.floor,x=Math.pow,_=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,w=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,k=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,M=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,T=1e7,S=7,E=f.length-1,A=d.length-1,O={name:"[object Decimal]"};function C(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",(n=S-r.length)&&(o+=U(n)),o+=r;a=e[t],(n=S-(r=a+"").length)&&(o+=U(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function N(e,t,n){if(e!==~~e||e<t||e>n)throw Error(g+e)}function D(e,t,n,r){var i,o,a,s;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=S,i=0):(i=Math.ceil((t+1)/S),t%=S),o=x(10,S-t),s=e[i]%o|0,null==r?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(e[i+1]/o/100|0)==x(10,t-2)-1||(s==o/2||0==s)&&0==(e[i+1]/o/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(e[i+1]/o/1e3|0)==x(10,t-3)-1,a}function P(e,t,n){for(var r,i,o=[0],a=0,s=e.length;a<s;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=c.indexOf(e.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}O.absoluteValue=O.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),L(e)},O.ceil=function(){return L(new this.constructor(this),this.e+1,2)},O.comparedTo=O.cmp=function(e){var t,n,r,i,o=this,a=o.d,s=(e=new o.constructor(e)).d,l=o.s,u=e.s;if(!a||!s)return l&&u?l!==u?l:a===s?0:!a^l<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?l:s[0]?-u:0;if(l!==u)return l;if(o.e!==e.e)return o.e>e.e^l<0?1:-1;for(t=0,n=(r=a.length)<(i=s.length)?r:i;t<n;++t)if(a[t]!==s[t])return a[t]>s[t]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},O.cosine=O.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+S,r.rounding=1,n=function(e,t){var n,r,i=t.d.length;i<32?(n=Math.ceil(i/3),r=(1/K(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10");e.precision+=n,t=Z(e,1,t.times(r),new e(1));for(var o=n;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,J(r,n)),r.precision=e,r.rounding=t,L(2==s||3==s?n.neg():n,e,t,!0)):new r(1):new r(NaN)},O.cubeRoot=O.cbrt=function(){var e,t,n,r,i,o,a,s,l,u,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(p=!1,(o=c.s*x(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new f(o.toString()):(n=C(c.d),(o=((e=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=x(n,1/3),e=b((e+1)/3)-(e%3==(e<0?-1:2)),(r=new f(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=c.s),a=(e=f.precision)+3;;)if(u=(l=(s=r).times(s).times(s)).plus(c),r=R(u.plus(c).times(s),u.plus(l),a+2,1),C(s.d).slice(0,a)===(n=C(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(L(r,e+1,1),t=!r.times(r).times(r).eq(c));break}if(!i&&(L(s,e+1,0),s.times(s).times(s).eq(c))){r=s;break}a+=4,i=1}return p=!0,L(r,e,f.rounding,t)},O.decimalPlaces=O.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=((e=t.length-1)-b(this.e/S))*S,e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},O.dividedBy=O.div=function(e){return R(this,new this.constructor(e))},O.dividedToIntegerBy=O.divToInt=function(e){var t=this.constructor;return L(R(this,new t(e),0,1,1),t.precision,t.rounding)},O.equals=O.eq=function(e){return 0===this.cmp(e)},O.floor=function(){return L(new this.constructor(this),this.e+1,3)},O.greaterThan=O.gt=function(e){return this.cmp(e)>0},O.greaterThanOrEqualTo=O.gte=function(e){var t=this.cmp(e);return 1==t||0===t},O.hyperbolicCosine=O.cosh=function(){var e,t,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?t=(1/K(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=Z(a,1,o.times(t),new a(1),!0);for(var l,u=e,c=new a(8);u--;)l=o.times(o),o=s.minus(l.times(c.minus(l.times(c))));return L(o,a.precision=n,a.rounding=r,!0)},O.hyperbolicSine=O.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Z(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=Z(o,2,i=i.times(1/K(5,e)),i,!0);for(var a,s=new o(5),l=new o(16),u=new o(20);e--;)a=i.times(i),i=i.times(s.plus(a.times(l.times(a).plus(u))))}return o.precision=t,o.rounding=n,L(i,t,n,!0)},O.hyperbolicTangent=O.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,R(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},O.inverseCosine=O.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?F(n,i,o):new n(0):new n(NaN):t.isZero()?F(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=F(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},O.inverseHyperbolicCosine=O.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,p=!1,n=n.times(n).minus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},O.inverseHyperbolicSine=O.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,p=!1,n=n.times(n).plus(1).sqrt().plus(n),p=!0,r.precision=e,r.rounding=t,n.ln())},O.inverseHyperbolicTangent=O.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?L(new o(i),e,t,!0):(o.precision=n=r-i.e,i=R(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},O.inverseSine=O.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=F(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},O.inverseTangent=O.atan=function(){var e,t,n,r,i,o,a,s,l,u=this,c=u.constructor,f=c.precision,d=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&f+4<=A)return(a=F(c,f+4,d).times(.25)).s=u.s,a}else{if(!u.s)return new c(NaN);if(f+4<=A)return(a=F(c,f+4,d).times(.5)).s=u.s,a}for(c.precision=s=f+10,c.rounding=1,e=n=Math.min(28,s/S+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(p=!1,t=Math.ceil(s/S),r=1,l=u.times(u),a=new c(u),i=u;-1!==e;)if(i=i.times(l),o=a.minus(i.div(r+=2)),i=i.times(l),void 0!==(a=o.plus(i.div(r+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),p=!0,L(a,c.precision=f,c.rounding=d,!0)},O.isFinite=function(){return!!this.d},O.isInteger=O.isInt=function(){return!!this.d&&b(this.e/S)>this.d.length-2},O.isNaN=function(){return!this.s},O.isNegative=O.isNeg=function(){return this.s<0},O.isPositive=O.isPos=function(){return this.s>0},O.isZero=function(){return!!this.d&&0===this.d[0]},O.lessThan=O.lt=function(e){return this.cmp(e)<0},O.lessThanOrEqualTo=O.lte=function(e){return this.cmp(e)<1},O.logarithm=O.log=function(e){var t,n,r,i,o,a,s,l,u=this.constructor,c=u.precision,f=u.rounding;if(null==e)e=new u(10),t=!0;else{if(n=(e=new u(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new u(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=1!==i}if(p=!1,a=Y(this,s=c+5),r=t?z(u,s+10):Y(e,s),D((l=R(a,r,s,1)).d,i=c,f))do{if(a=Y(this,s+=10),r=t?z(u,s+10):Y(e,s),l=R(a,r,s,1),!o){+C(l.d).slice(i+1,i+15)+1==1e14&&(l=L(l,c+1,0));break}}while(D(l.d,i+=10,f));return p=!0,L(l,c,f)},O.minus=O.sub=function(e){var t,n,r,i,o,a,s,l,u,c,f,d,h=this,m=h.constructor;if(e=new m(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new m(e.d||h.s!==e.s?h:NaN):e=new m(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(u=h.d,d=e.d,s=m.precision,l=m.rounding,!u[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!u[0])return new m(3===l?-0:0);e=new m(h)}return p?L(e,s,l):e}if(n=b(e.e/S),c=b(h.e/S),u=u.slice(),o=c-n){for((f=o<0)?(t=u,o=-o,a=d.length):(t=d,n=c,a=u.length),o>(r=Math.max(Math.ceil(s/S),a)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((f=(r=u.length)<(a=d.length))&&(a=r),r=0;r<a;r++)if(u[r]!=d[r]){f=u[r]<d[r];break}o=0}for(f&&(t=u,u=d,d=t,e.s=-e.s),a=u.length,r=d.length-a;r>0;--r)u[a++]=0;for(r=d.length;r>o;){if(u[--r]<d[r]){for(i=r;i&&0===u[--i];)u[i]=T-1;--u[i],u[r]+=T}u[r]-=d[r]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=j(u,n),p?L(e,s,l):e):new m(3===l?-0:0)},O.modulo=O.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?L(new r(n),r.precision,r.rounding):(p=!1,9==r.modulo?(t=R(n,e.abs(),0,3,1)).s*=e.s:t=R(n,e,0,r.modulo,1),t=t.times(e),p=!0,n.minus(t))},O.naturalExponential=O.exp=function(){return W(this)},O.naturalLogarithm=O.ln=function(){return Y(this)},O.negated=O.neg=function(){var e=new this.constructor(this);return e.s=-e.s,L(e)},O.plus=O.add=function(e){var t,n,r,i,o,a,s,l,u,c,f=this,d=f.constructor;if(e=new d(e),!f.d||!e.d)return f.s&&e.s?f.d||(e=new d(e.d||f.s===e.s?f:NaN)):e=new d(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.minus(e);if(u=f.d,c=e.d,s=d.precision,l=d.rounding,!u[0]||!c[0])return c[0]||(e=new d(f)),p?L(e,s,l):e;if(o=b(f.e/S),r=b(e.e/S),u=u.slice(),i=o-r){for(i<0?(n=u,i=-i,a=c.length):(n=c,r=o,a=u.length),i>(a=(o=Math.ceil(s/S))>a?o+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=u.length)-(i=c.length)<0&&(i=a,n=c,c=u,u=n),t=0;i;)t=(u[--i]=u[i]+c[i]+t)/T|0,u[i]%=T;for(t&&(u.unshift(t),++r),a=u.length;0==u[--a];)u.pop();return e.d=u,e.e=j(u,r),p?L(e,s,l):e},O.precision=O.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(g+e);return n.d?(t=B(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},O.round=function(){var e=this,t=e.constructor;return L(new t(e),e.e+1,t.rounding)},O.sine=O.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+S,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return Z(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/K(5,n)),t=Z(e,2,t,t);for(var i,o=new e(5),a=new e(16),s=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(s))));return t}(r,J(r,n)),r.precision=e,r.rounding=t,L(s>2?n.neg():n,e,t,!0)):new r(NaN)},O.squareRoot=O.sqrt=function(){var e,t,n,r,i,o,a=this,s=a.d,l=a.e,u=a.s,c=a.constructor;if(1!==u||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);for(p=!1,0==(u=Math.sqrt(+a))||u==1/0?(((t=C(s)).length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=b((l+1)/2)-(l<0||l%2),r=new c(t=u==1/0?"1e"+l:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new c(u.toString()),n=(l=c.precision)+3;;)if(r=(o=r).plus(R(a,o,n+2,1)).times(.5),C(o.d).slice(0,n)===(t=C(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(L(r,l+1,1),e=!r.times(r).eq(a));break}if(!i&&(L(o,l+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return p=!0,L(r,l,c.rounding,e)},O.tangent=O.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=R(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,L(2==s||4==s?n.neg():n,e,t,!0)):new r(NaN)},O.times=O.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,h=(e=new f(e)).d;if(e.s*=c.s,!d||!d[0]||!h||!h[0])return new f(!e.s||d&&!d[0]&&!h||h&&!h[0]&&!d?NaN:d&&h?0*e.s:e.s/0);for(n=b(c.e/S)+b(e.e/S),(l=d.length)<(u=h.length)&&(o=d,d=h,h=o,a=l,l=u,u=a),o=[],r=a=l+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+h[r]*d[i-r-1]+t,o[i--]=s%T|0,t=s/T|0;o[i]=(o[i]+t)%T|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=j(o,n),p?L(e,f.precision,f.rounding):e},O.toBinary=function(e,t){return Q(this,2,e,t)},O.toDecimalPlaces=O.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(N(e,0,u),void 0===t?t=r.rounding:N(t,0,8),L(n,e+n.e+1,t))},O.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=I(r,!0):(N(e,0,u),void 0===t?t=i.rounding:N(t,0,8),n=I(r=L(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},O.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=I(i):(N(e,0,u),void 0===t?t=o.rounding:N(t,0,8),n=I(r=L(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},O.toFraction=function(e){var t,n,r,i,o,a,s,l,u,c,f,d,h=this,m=h.d,v=h.constructor;if(!m)return new v(h);if(u=n=new v(1),r=l=new v(0),a=(o=(t=new v(r)).e=B(m)-h.e-1)%S,t.d[0]=x(10,a<0?S+a:a),null==e)e=o>0?t:u;else{if(!(s=new v(e)).isInt()||s.lt(u))throw Error(g+s);e=s.gt(t)?o>0?t:u:s}for(p=!1,s=new v(C(m)),c=v.precision,v.precision=o=m.length*S*2;f=R(s,t,0,1,1),1!=(i=n.plus(f.times(r))).cmp(e);)n=r,r=i,i=u,u=l.plus(f.times(i)),l=i,i=t,t=s.minus(f.times(i)),s=i;return i=R(e.minus(n),r,0,1,1),l=l.plus(i.times(u)),n=n.plus(i.times(r)),l.s=u.s=h.s,d=R(u,r,o,1).minus(h).abs().cmp(R(l,n,o,1).minus(h).abs())<1?[u,r]:[l,n],v.precision=c,p=!0,d},O.toHexadecimal=O.toHex=function(e,t){return Q(this,16,e,t)},O.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:N(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(p=!1,n=R(n,e,0,t,1).times(e),p=!0,L(n)):(e.s=n.s,n=e),n},O.toNumber=function(){return+this},O.toOctal=function(e,t){return Q(this,8,e,t)},O.toPower=O.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(x(+s,u));if((s=new l(s)).eq(1))return s;if(r=l.precision,o=l.rounding,e.eq(1))return L(s,r,o);if((t=b(e.e/S))>=e.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return i=H(l,s,n,r),e.s<0?new l(1).div(i):L(i,r,o);if((a=s.s)<0){if(t<e.d.length-1)return new l(NaN);if(0==(1&e.d[t])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(n=x(+s,u))&&isFinite(n)?new l(n+"").e:b(u*(Math.log("0."+C(s.d))/Math.LN10+s.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(p=!1,l.rounding=s.s=1,n=Math.min(12,(t+"").length),(i=W(e.times(Y(s,r+n)),r)).d&&D((i=L(i,r+5,1)).d,r,o)&&(t=r+10,+C((i=L(W(e.times(Y(s,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=L(i,r+1,0))),i.s=a,p=!0,l.rounding=o,L(i,r,o))},O.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=I(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(N(e,1,u),void 0===t?t=i.rounding:N(t,0,8),n=I(r=L(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},O.toSignificantDigits=O.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(N(e,1,u),void 0===t?t=n.rounding:N(t,0,8)),L(new n(this),e,t)},O.toString=function(){var e=this,t=e.constructor,n=I(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},O.truncated=O.trunc=function(){return L(new this.constructor(this),this.e+1,1)},O.valueOf=O.toJSON=function(){var e=this,t=e.constructor,n=I(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var R=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,s,l,u){var c,f,d,h,p,m,g,v,y,x,_,w,k,M,E,A,O,C,N,D,P=r.constructor,R=r.s==i.s?1:-1,I=r.d,j=i.d;if(!I||!I[0]||!j||!j[0])return new P(r.s&&i.s&&(I?!j||I[0]!=j[0]:j)?I&&0==I[0]||!j?0*R:R/0:NaN);for(u?(p=1,f=r.e-i.e):(u=T,p=S,f=b(r.e/p)-b(i.e/p)),N=j.length,O=I.length,x=(y=new P(R)).d=[],d=0;j[d]==(I[d]||0);d++);if(j[d]>(I[d]||0)&&f--,null==o?(M=o=P.precision,s=P.rounding):M=l?o+(r.e-i.e)+1:o,M<0)x.push(1),m=!0;else{if(M=M/p+2|0,d=0,1==N){for(h=0,j=j[0],M++;(d<O||h)&&M--;d++)E=h*u+(I[d]||0),x[d]=E/j|0,h=E%j|0;m=h||d<O}else{for((h=u/(j[0]+1)|0)>1&&(j=e(j,h,u),I=e(I,h,u),N=j.length,O=I.length),A=N,w=(_=I.slice(0,N)).length;w<N;)_[w++]=0;(D=j.slice()).unshift(0),C=j[0],j[1]>=u/2&&++C;do{h=0,(c=t(j,_,N,w))<0?(k=_[0],N!=w&&(k=k*u+(_[1]||0)),(h=k/C|0)>1?(h>=u&&(h=u-1),1==(c=t(g=e(j,h,u),_,v=g.length,w=_.length))&&(h--,n(g,N<v?D:j,v,u))):(0==h&&(c=h=1),g=j.slice()),(v=g.length)<w&&g.unshift(0),n(_,g,w,u),-1==c&&(c=t(j,_,N,w=_.length))<1&&(h++,n(_,N<w?D:j,w,u)),w=_.length):0===c&&(h++,_=[0]),x[d++]=h,c&&_[0]?_[w++]=I[A]||0:(_=[I[A]],w=1)}while((A++<O||void 0!==_[0])&&M--);m=void 0!==_[0]}x[0]||x.shift()}if(1==p)y.e=f,a=m;else{for(d=1,h=x[0];h>=10;h/=10)d++;y.e=d+f*p-1,L(y,l?o+y.e+1:o,s,m)}return y}}();function L(e,t,n,r){var i,o,a,s,l,u,c,f,d,h=e.constructor;e:if(null!=t){if(!(f=e.d))return e;for(i=1,s=f[0];s>=10;s/=10)i++;if((o=t-i)<0)o+=S,a=t,l=(c=f[d=0])/x(10,i-a-1)%10|0;else if((d=Math.ceil((o+1)/S))>=(s=f.length)){if(!r)break e;for(;s++<=d;)f.push(0);c=l=0,i=1,a=(o%=S)-S+1}else{for(c=s=f[d],i=1;s>=10;s/=10)i++;l=(a=(o%=S)-S+i)<0?0:c/x(10,i-a-1)%10|0}if(r=r||t<0||void 0!==f[d+1]||(a<0?c:c%x(10,i-a-1)),u=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(o>0?a>0?c/x(10,i-a):0:f[d-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,u?(t-=e.e+1,f[0]=x(10,(S-t%S)%S),e.e=-t||0):f[0]=e.e=0,e;if(0==o?(f.length=d,s=1,d--):(f.length=d+1,s=x(10,S-o),f[d]=a>0?(c/x(10,i-a)%x(10,a)|0)*s:0),u)for(;;){if(0==d){for(o=1,a=f[0];a>=10;a/=10)o++;for(a=f[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,f[0]==T&&(f[0]=1));break}if(f[d]+=s,f[d]!=T)break;f[d--]=0,s=1}for(o=f.length;0===f[--o];)f.pop()}return p&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function I(e,t,n){if(!e.isFinite())return G(e);var r,i=e.e,o=C(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+U(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+U(-i-1)+o,n&&(r=n-a)>0&&(o+=U(r))):i>=a?(o+=U(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+U(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=U(r))),o}function j(e,t){var n=e[0];for(t*=S;n>=10;n/=10)t++;return t}function z(e,t,n){if(t>E)throw p=!0,n&&(e.precision=n),Error(v);return L(new e(f),t,1,!0)}function F(e,t,n){if(t>A)throw Error(v);return L(new e(d),t,n,!0)}function B(e){var t=e.length-1,n=t*S+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function U(e){for(var t="";e--;)t+="0";return t}function H(e,t,n,r){var i,o=new e(1),a=Math.ceil(r/S+4);for(p=!1;;){if(n%2&&ee((o=o.times(t)).d,a)&&(i=!0),0===(n=b(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}ee((t=t.times(t)).d,a)}return p=!0,o}function q(e){return 1&e.d[e.d.length-1]}function V(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function W(e,t){var n,r,i,o,a,s,l,u=0,c=0,f=0,d=e.constructor,h=d.rounding,m=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(p=!1,l=m):l=t,s=new d(.03125);e.e>-2;)e=e.times(s),f+=5;for(l+=r=Math.log(x(2,f))/Math.LN10*2+5|0,n=o=a=new d(1),d.precision=l;;){if(o=L(o.times(e),l,1),n=n.times(++c),C((s=a.plus(R(o,n,l,1))).d).slice(0,l)===C(a.d).slice(0,l)){for(i=f;i--;)a=L(a.times(a),l,1);if(null!=t)return d.precision=m,a;if(!(u<3&&D(a.d,l-r,h,u)))return L(a,d.precision=m,h,p=!0);d.precision=l+=10,n=o=s=new d(1),c=0,u++}a=s}}function Y(e,t){var n,r,i,o,a,s,l,u,c,f,d,h=1,m=e,g=m.d,v=m.constructor,y=v.rounding,b=v.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new v(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(p=!1,c=b):c=t,v.precision=c+=10,r=(n=C(g)).charAt(0),!(Math.abs(o=m.e)<15e14))return u=z(v,c+2,b).times(o+""),m=Y(new v(r+"."+n.slice(1)),c-10).plus(u),v.precision=b,null==t?L(m,b,y,p=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=C((m=m.times(e)).d)).charAt(0),h++;for(o=m.e,r>1?(m=new v("0."+n),o++):m=new v(r+"."+n.slice(1)),f=m,l=a=m=R(m.minus(1),m.plus(1),c,1),d=L(m.times(m),c,1),i=3;;){if(a=L(a.times(d),c,1),C((u=l.plus(R(a,new v(i),c,1))).d).slice(0,c)===C(l.d).slice(0,c)){if(l=l.times(2),0!==o&&(l=l.plus(z(v,c+2,b).times(o+""))),l=R(l,new v(h),c,1),null!=t)return v.precision=b,l;if(!D(l.d,c-10,y,s))return L(l,v.precision=b,y,p=!0);v.precision=c+=10,u=a=m=R(f.minus(1),f.plus(1),c,1),d=L(m.times(m),c,1),i=s=1}l=u,i+=2}}function G(e){return String(e.s*e.s/0)}function X(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%S,n<0&&(r+=S),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=S;r<i;)e.d.push(+t.slice(r,r+=S));t=t.slice(r),r=S-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),p&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function $(e,t){var n,r,i,a,s,l,u,c,f;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(w.test(t))n=16,t=t.toLowerCase();else if(_.test(t))n=2;else{if(!k.test(t))throw Error(g+t);n=8}for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),s=(a=t.indexOf("."))>=0,r=e.constructor,s&&(a=(l=(t=t.replace(".","")).length)-a,i=H(r,new r(n),a,2*a)),a=f=(c=P(t,n,T)).length-1;0===c[a];--a)c.pop();return a<0?new r(0*e.s):(e.e=j(c,f),e.d=c,p=!1,s&&(e=R(e,i,4*l)),u&&(e=e.times(Math.abs(u)<54?x(2,u):o.pow(2,u))),p=!0,e)}function Z(e,t,n,r,i){var o,a,s,l,u=e.precision,c=Math.ceil(u/S);for(p=!1,l=n.times(n),s=new e(r);;){if(a=R(s.times(l),new e(t++*t++),u,1),s=i?r.plus(a):r.minus(a),r=R(a.times(l),new e(t++*t++),u,1),void 0!==(a=s.plus(r)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o}return p=!0,a.d.length=c+1,a}function K(e,t){for(var n=e;--t;)n*=e;return n}function J(e,t){var n,r=t.s<0,i=F(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return s=r?4:1,t;if((n=t.divToInt(i)).isZero())s=r?3:2;else{if((t=t.minus(n.times(i))).lte(o))return s=q(n)?r?2:3:r?4:1,t;s=q(n)?r?1:4:r?3:2}return t.minus(i).abs()}function Q(e,t,n,r){var i,o,s,l,f,d,h,p,m,g=e.constructor,v=void 0!==n;if(v?(N(n,1,u),void 0===r?r=g.rounding:N(r,0,8)):(n=g.precision,r=g.rounding),e.isFinite()){for(v?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(s=(h=I(e)).indexOf("."))>=0&&(h=h.replace(".",""),(m=new g(1)).e=h.length-s,m.d=P(I(m),10,i),m.e=m.d.length),o=f=(p=P(h,10,i)).length;0==p[--f];)p.pop();if(p[0]){if(s<0?o--:((e=new g(e)).d=p,e.e=o,p=(e=R(e,m,n,r,0,i)).d,o=e.e,d=a),s=p[n],l=i/2,d=d||void 0!==p[n+1],d=r<4?(void 0!==s||d)&&(0===r||r===(e.s<0?3:2)):s>l||s===l&&(4===r||d||6===r&&1&p[n-1]||r===(e.s<0?8:7)),p.length=n,d)for(;++p[--n]>i-1;)p[n]=0,n||(++o,p.unshift(1));for(f=p.length;!p[f-1];--f);for(s=0,h="";s<f;s++)h+=c.charAt(p[s]);if(v){if(f>1)if(16==t||8==t){for(s=16==t?4:3,--f;f%s;f++)h+="0";for(f=(p=P(h,i,t)).length;!p[f-1];--f);for(s=1,h="1.";s<f;s++)h+=c.charAt(p[s])}else h=h.charAt(0)+"."+h.slice(1);h=h+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)h="0"+h;h="0."+h}else if(++o>f)for(o-=f;o--;)h+="0";else o<f&&(h=h.slice(0,o)+"."+h.slice(o))}else h=v?"0p+0":"0";h=(16==t?"0x":2==t?"0b":8==t?"0o":"")+h}else h=G(e);return e.s<0?"-"+h:h}function ee(e,t){if(e.length>t)return e.length=t,!0}function te(e){return new this(e).abs()}function ne(e){return new this(e).acos()}function re(e){return new this(e).acosh()}function ie(e,t){return new this(e).plus(t)}function oe(e){return new this(e).asin()}function ae(e){return new this(e).asinh()}function se(e){return new this(e).atan()}function le(e){return new this(e).atanh()}function ue(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?F(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=F(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(R(e,t,o,1)),t=F(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(R(e,t,o,1)):(n=F(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function ce(e){return new this(e).cbrt()}function fe(e){return L(e=new this(e),e.e+1,2)}function de(e){if(!e||"object"!==typeof e)throw Error(m+"Object expected");var t,n,r,i=!0===e.defaults,o=["precision",1,u,"rounding",0,8,"toExpNeg",-l,0,"toExpPos",0,l,"maxE",0,l,"minE",-l,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=h[n]),void 0!==(r=e[n])){if(!(b(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(g+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=h[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(g+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(y);this[n]=!0}else this[n]=!1}return this}function he(e){return new this(e).cos()}function pe(e){return new this(e).cosh()}function me(e,t){return new this(e).div(t)}function ge(e){return new this(e).exp()}function ve(e){return L(e=new this(e),e.e+1,3)}function ye(){var e,t,n=new this(0);for(p=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return p=!0,new this(1/0);n=t}return p=!0,n.sqrt()}function be(e){return e instanceof o||e&&"[object Decimal]"===e.name||!1}function xe(e){return new this(e).ln()}function _e(e,t){return new this(e).log(t)}function we(e){return new this(e).log(2)}function ke(e){return new this(e).log(10)}function Me(){return V(this,arguments,"lt")}function Te(){return V(this,arguments,"gt")}function Se(e,t){return new this(e).mod(t)}function Ee(e,t){return new this(e).mul(t)}function Ae(e,t){return new this(e).pow(t)}function Oe(e){var t,n,r,i,o=0,a=new this(1),s=[];if(void 0===e?e=this.precision:N(e,1,u),r=Math.ceil(e/S),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(y);for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(s.push(i%1e7),o+=4);o=r/4}else for(;o<r;)s[o++]=1e7*Math.random()|0;for(r=s[--o],e%=S,r&&e&&(i=x(10,S-e),s[o]=(r/i|0)*i);0===s[o];o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=S)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<S&&(n-=S-r)}return a.e=n,a.d=s,a}function Ce(e){return L(e=new this(e),e.e+1,this.rounding)}function Ne(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function De(e){return new this(e).sin()}function Pe(e){return new this(e).sinh()}function Re(e){return new this(e).sqrt()}function Le(e,t){return new this(e).sub(t)}function Ie(e){return new this(e).tan()}function je(e){return new this(e).tanh()}function ze(e){return L(e=new this(e),e.e+1,1)}(o=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,e instanceof o)return i.s=e.s,void(p?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(p?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!==0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):X(i,e.toString())}if("string"!==r)throw Error(g+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),M.test(e)?X(i,e):$(i,e)}if(o.prototype=O,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=de,o.clone=e,o.isDecimal=be,o.abs=te,o.acos=ne,o.acosh=re,o.add=ie,o.asin=oe,o.asinh=ae,o.atan=se,o.atanh=le,o.atan2=ue,o.cbrt=ce,o.ceil=fe,o.cos=he,o.cosh=pe,o.div=me,o.exp=ge,o.floor=ve,o.hypot=ye,o.ln=xe,o.log=_e,o.log10=ke,o.log2=we,o.max=Me,o.min=Te,o.mod=Se,o.mul=Ee,o.pow=Ae,o.random=Oe,o.round=Ce,o.sign=Ne,o.sin=De,o.sinh=Pe,o.sqrt=Re,o.sub=Le,o.tan=Ie,o.tanh=je,o.trunc=ze,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(h)).default=o.Decimal=o,f=new o(f),d=new o(d),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},181:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},o={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(e,t){return r({},e,t)};e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preserveFormatting,s=void 0!==n&&n,l=t.escapeMapFn,u=void 0===l?a:l,c=String(e),f="",d=u(r({},i),s?r({},o):{}),h=Object.keys(d),p=function(){var e=!1;h.forEach((function(t,n){e||c.length>=t.length&&c.slice(0,t.length)===t&&(f+=d[h[n]],c=c.slice(t.length,c.length),e=!0)})),e||(f+=c.slice(0,1),c=c.slice(1,c.length))};c;)p();return f}},182:function(e,t,n){"use strict";var r=n(43);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(52)).default)(i.default.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");t.default=o},183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=d(i),a=d(n(4810)),s=d(n(4933)),l=d(n(4934)),u=d(n(4938)),c=d(n(4939)),f=d(n(4));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.identifier;return n.updateGraph=n.updateGraph.bind(n),n.state={identifier:void 0!==r?r:c.default.v4()},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.edges=new u.default.DataSet,this.edges.add(this.props.graph.edges),this.nodes=new u.default.DataSet,this.nodes.add(this.props.graph.nodes),this.updateGraph()}},{key:"shouldComponentUpdate",value:function(e,t){var n=!(0,s.default)(this.props.graph.nodes,e.graph.nodes),r=!(0,s.default)(this.props.graph.edges,e.graph.edges),i=!(0,s.default)(this.props.options,e.options),o=!(0,s.default)(this.props.events,e.events);if(n){var a=function(e,t){return e.id===t.id},u=(0,l.default)(this.props.graph.nodes,e.graph.nodes,a),c=(0,l.default)(e.graph.nodes,this.props.graph.nodes,a),f=(0,l.default)((0,l.default)(e.graph.nodes,this.props.graph.nodes,s.default),c);this.patchNodes({nodesRemoved:u,nodesAdded:c,nodesChanged:f})}if(r){var d=(0,l.default)(this.props.graph.edges,e.graph.edges,s.default),h=(0,l.default)(e.graph.edges,this.props.graph.edges,s.default),p=(0,l.default)((0,l.default)(e.graph.edges,this.props.graph.edges,s.default),h);this.patchEdges({edgesRemoved:d,edgesAdded:h,edgesChanged:p})}if(i&&this.Network.setOptions(e.options),o){var m=this.props.events||{},g=!0,v=!1,y=void 0;try{for(var b,x=Object.keys(m)[Symbol.iterator]();!(g=(b=x.next()).done);g=!0){var _=b.value;this.Network.off(_,m[_])}}catch(A){v=!0,y=A}finally{try{!g&&x.return&&x.return()}finally{if(v)throw y}}m=e.events||{};var w=!0,k=!1,M=void 0;try{for(var T,S=Object.keys(m)[Symbol.iterator]();!(w=(T=S.next()).done);w=!0){var E=T.value;this.Network.on(E,m[E])}}catch(A){k=!0,M=A}finally{try{!w&&S.return&&S.return()}finally{if(k)throw M}}}return!1}},{key:"componentDidUpdate",value:function(){this.updateGraph()}},{key:"patchEdges",value:function(e){var t=e.edgesRemoved,n=e.edgesAdded,r=e.edgesChanged;this.edges.remove(t),this.edges.add(n),this.edges.update(r)}},{key:"patchNodes",value:function(e){var t=e.nodesRemoved,n=e.nodesAdded,r=e.nodesChanged;this.nodes.remove(t),this.nodes.add(n),this.nodes.update(r)}},{key:"updateGraph",value:function(){var e=document.getElementById(this.state.identifier),t=(0,a.default)({physics:{stabilization:!1},autoResize:!1,edges:{smooth:!1,color:"#000000",width:.5,arrows:{to:{enabled:!0,scaleFactor:.5}}}},this.props.options);this.Network=new u.default.Network(e,Object.assign({},this.props.graph,{edges:this.edges,nodes:this.nodes}),t),this.props.getNetwork&&this.props.getNetwork(this.Network),this.props.getNodes&&this.props.getNodes(this.nodes),this.props.getEdges&&this.props.getEdges(this.edges);var n=this.props.events||{},r=!0,i=!1,o=void 0;try{for(var s,l=Object.keys(n)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;this.Network.on(c,n[c])}}catch(f){i=!0,o=f}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}}},{key:"render",value:function(){var e=this.state.identifier,t=this.props.style;return o.default.createElement("div",{id:e,style:t},e)}}]),t}(i.Component);h.defaultProps={graph:{},style:{width:"100%",height:"100%"}},h.propTypes={graph:f.default.object,style:f.default.object,getNetwork:f.default.func,getNodes:f.default.func,getEdges:f.default.func},t.default=h},184:function(e,t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=n&&/blob:/i.test((t.location||{}).protocol),i={},o=0,a={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(_(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!_(r.transform)&&r.transform,r.worker&&a.WORKERS_SUPPORTED){var l=function(){if(!a.WORKERS_SUPPORTED)return!1;var n,r,s=(n=t.URL||t.webkitURL||null,r=e.toString(),a.BLOB_URL||(a.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(s);return l.onmessage=g,l.id=o++,i[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=_(r.step),r.chunk=_(r.chunk),r.complete=_(r.complete),r.error=_(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var h=null;return a.NODE_STREAM_INPUT,"string"==typeof n?h=r.download?new u(r):new f(r):!0===n.readable&&_(n.read)&&_(n.on)?h=new d(r):(t.File&&n instanceof File||n instanceof Object)&&(h=new c(r)),h.stream(n)},unparse:function(e,t){var n=!1,r=!0,i=",",o="\r\n",s='"',l=s+s,u=!1,c=null;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||a.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(i=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(u=t.skipEmptyLines),"string"==typeof t.newline&&(o=t.newline),"string"==typeof t.quoteChar&&(s=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");c=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+s)}}();var f=new RegExp(p(s),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return h(null,e,u);if("object"==typeof e[0])return h(c||d(e[0]),e,u)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:d(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),h(e.fields||[],e.data||[],u);throw new Error("Unable to serialize unrecognized input");function d(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function h(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&r){for(var u=0;u<e.length;u++)0<u&&(a+=i),a+=m(e[u],u);0<t.length&&(a+=o)}for(var c=0;c<t.length;c++){var f=s?e.length:t[c].length,d=!1,h=s?0===Object.keys(t[c]).length:0===t[c].length;if(n&&!s&&(d="greedy"===n?""===t[c].join("").trim():1===t[c].length&&0===t[c][0].length),"greedy"===n&&s){for(var p=[],g=0;g<f;g++){var v=l?e[g]:g;p.push(t[c][v])}d=""===p.join("").trim()}if(!d){for(var y=0;y<f;y++){0<y&&!h&&(a+=i);var b=s&&l?e[y]:y;a+=m(t[c][b],y)}c<t.length-1&&(!n||0<f&&!h)&&(a+=o)}}return a}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=e.toString().replace(f,l);return"boolean"==typeof n&&n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(r,a.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?s+r+s:r}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\ufeff",a.BAD_DELIMITERS=["\r","\n",'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!n&&!!t.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=m,a.ParserHandle=h,a.NetworkStreamer=u,a.FileStreamer=c,a.StringStreamer=f,a.ReadableStreamStreamer=d,t.jQuery){var s=t.jQuery;s.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})})),i(),this;function i(){if(0!==r.length){var t,n,i,l=r[0];if(_(e.before)){var u=e.before(l.file,l.inputElem);if("object"==typeof u){if("abort"===u.action)return t=l.file,n=l.inputElem,i=u.reason,void(_(e.error)&&e.error({name:"AbortError"},t,n,i));if("skip"===u.action)return void o();"object"==typeof u.config&&(l.instanceConfig=s.extend(l.instanceConfig,u.config))}else if("skip"===u)return void o()}var c=l.instanceConfig.complete;l.instanceConfig.complete=function(e){_(c)&&c(e,l.file,l.inputElem),o()},a.parse(l.file,l.instanceConfig)}else _(e.complete)&&e.complete()}function o(){r.splice(0,1),i()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new h(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=o.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:s,workerId:a.WORKER_ID,finished:u});else if(_(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!_(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){_(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:a.WORKER_ID,error:e,finished:!1})}}function u(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)),t.open("GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{t.send()}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substr(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function c(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=x(this._chunkLoaded,this),t.onerror=x(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,i)}var o=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function f(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,n=e?t.substr(0,e):t;return t=e?t.substr(e):"",this._finished=!t,this.parseChunk(n)}}}function d(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=x((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=x((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=x((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=x((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function h(e){var t,n,r,i=Math.pow(2,53),o=-i,s=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,l=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,u=this,c=0,f=0,d=!1,h=!1,g=[],v={data:[],errors:[],meta:{}};if(_(e.step)){var y=e.step;e.step=function(t){if(v=t,k())w();else{if(w(),0===v.data.length)return;c+=t.data.length,e.preview&&c>e.preview?n.abort():y(v,u)}}}function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function w(){if(v&&r&&(T("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<v.data.length;t++)x(v.data[t])&&v.data.splice(t--,1);return k()&&function(){if(v)if(Array.isArray(v.data[0])){for(var t=0;k()&&t<v.data.length;t++)v.data[t].forEach(n);v.data.splice(0,1)}else v.data.forEach(n);function n(t){_(e.transformHeader)&&(t=e.transformHeader(t)),g.push(t)}}(),function(){if(!v||!e.header&&!e.dynamicTyping&&!e.transform)return v;function t(t,n){var r,i=e.header?{}:[];for(r=0;r<t.length;r++){var o=r,a=t[r];e.header&&(o=r>=g.length?"__parsed_extra":g[r]),e.transform&&(a=e.transform(a,o)),a=M(o,a),"__parsed_extra"===o?(i[o]=i[o]||[],i[o].push(a)):i[o]=a}return e.header&&(r>g.length?T("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,f+n):r<g.length&&T("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,f+n)),i}var n=1;return!v.data.length||Array.isArray(v.data[0])?(v.data=v.data.map(t),n=v.data.length):v.data=t(v.data,0),e.header&&v.meta&&(v.meta.fields=g),f+=n,v}()}function k(){return e.header&&0===g.length}function M(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(s.test(e)){var t=parseFloat(e);if(o<t&&t<i)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function T(e,t,n,r){v.errors.push({type:e,code:t,message:n,row:r})}this.parse=function(i,o,s){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substr(0,1048576);var n=new RegExp(p(t)+"([^]*?)"+p(t),"gm"),r=(e=e.replace(n,"")).split("\r"),i=e.split("\n"),o=1<i.length&&i[0].length<r[0].length;if(1===r.length||o)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(i,l)),r=!1,e.delimiter)_(e.delimiter)&&(e.delimiter=e.delimiter(i),v.meta.delimiter=e.delimiter);else{var u=function(t,n,r,i,o){var s,l,u,c;o=o||[",","\t","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var f=0;f<o.length;f++){var d=o[f],h=0,p=0,g=0;u=void 0;for(var v=new m({comments:i,delimiter:d,newline:n,preview:10}).parse(t),y=0;y<v.data.length;y++)if(r&&x(v.data[y]))g++;else{var b=v.data[y].length;p+=b,void 0!==u?0<b&&(h+=Math.abs(b-u),u=b):u=b}0<v.data.length&&(p/=v.data.length-g),(void 0===l||h<=l)&&(void 0===c||c<p)&&1.99<p&&(l=h,s=d,c=p)}return{successful:!!(e.delimiter=s),bestDelimiter:s}}(i,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);u.successful?e.delimiter=u.bestDelimiter:(r=!0,e.delimiter=a.DefaultDelimiter),v.meta.delimiter=e.delimiter}var c=b(e);return e.preview&&e.header&&c.preview++,t=i,n=new m(c),v=n.parse(t,o,s),w(),d?{meta:{paused:!0}}:v||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,n.abort(),t=t.substr(n.getCharIndex())},this.resume=function(){u.streamer._halted?(d=!1,u.streamer.parseChunk(t,!0)):setTimeout(this.resume,3)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),v.meta.aborted=!0,_(e.complete)&&e.complete(v),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,n=(e=e||{}).delimiter,r=e.newline,i=e.comments,o=e.step,s=e.preview,l=e.fastMode,u=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof n||-1<a.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<a.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var c=0,f=!1;this.parse=function(e,a,d){if("string"!=typeof e)throw new Error("Input must be a string");var h=e.length,m=n.length,g=r.length,v=i.length,y=_(o),b=[],x=[],w=[],k=c=0;if(!e)return j();if(l||!1!==l&&-1===e.indexOf(t)){for(var M=e.split(r),T=0;T<M.length;T++){if(w=M[T],c+=w.length,T!==M.length-1)c+=r.length;else if(d)return j();if(!i||w.substr(0,v)!==i){if(y){if(b=[],P(w.split(n)),z(),f)return j()}else P(w.split(n));if(s&&s<=T)return b=b.slice(0,s),j(!0)}}return j()}for(var S=e.indexOf(n,c),E=e.indexOf(r,c),A=new RegExp(p(u)+p(t),"g"),O=e.indexOf(t,c);;)if(e[c]!==t)if(i&&0===w.length&&e.substr(c,v)===i){if(-1===E)return j();c=E+g,E=e.indexOf(r,c),S=e.indexOf(n,c)}else{if(-1!==S&&(S<E||-1===E)){if(!(S<O)){w.push(e.substring(c,S)),c=S+m,S=e.indexOf(n,c);continue}var C=F(S,O,E);if(C&&void 0!==C.nextDelim){S=C.nextDelim,O=C.quoteSearch,w.push(e.substring(c,S)),c=S+m,S=e.indexOf(n,c);continue}}if(-1===E)break;if(w.push(e.substring(c,E)),I(E+g),y&&(z(),f))return j();if(s&&b.length>=s)return j(!0)}else for(O=c,c++;;){if(-1===(O=e.indexOf(t,O+1)))return d||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:c}),L();if(O===h-1)return L(e.substring(c,O).replace(A,t));if(t!==u||e[O+1]!==u){if(t===u||0===O||e[O-1]!==u){var N=R(-1===E?S:Math.min(S,E));if(e[O+1+N]===n){w.push(e.substring(c,O).replace(A,t)),e[c=O+1+N+m]!==t&&(O=e.indexOf(t,c)),S=e.indexOf(n,c),E=e.indexOf(r,c);break}var D=R(E);if(e.substr(O+1+D,g)===r){if(w.push(e.substring(c,O).replace(A,t)),I(O+1+D+g),S=e.indexOf(n,c),O=e.indexOf(t,c),y&&(z(),f))return j();if(s&&b.length>=s)return j(!0);break}x.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:c}),O++}}else O++}return L();function P(e){b.push(e),k=c}function R(t){var n=0;if(-1!==t){var r=e.substring(O+1,t);r&&""===r.trim()&&(n=r.length)}return n}function L(t){return d||(void 0===t&&(t=e.substr(c)),w.push(t),c=h,P(w),y&&z()),j()}function I(t){c=t,P(w),w=[],E=e.indexOf(r,c)}function j(e,t){return{data:t?b[0]:b,errors:x,meta:{delimiter:n,linebreak:r,aborted:f,truncated:!!e,cursor:k+(a||0)}}}function z(){o(j(void 0,!0)),b=[],x=[]}function F(r,i,o){var a={nextDelim:void 0,quoteSearch:void 0},s=e.indexOf(t,i+1);if(i<r&&r<s&&(s<o||-1===o)){var l=e.indexOf(n,s);if(-1===l)return a;s<l&&(s=e.indexOf(t,s+1)),a=F(l,s,o)}else a={nextDelim:r,quoteSearch:i};return a}},this.abort=function(){f=!0},this.getCharIndex=function(){return c}}function g(e){var t=e.data,n=i[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(_(n.userStep)){for(var a=0;a<t.results.data.length&&(n.userStep({data:t.results.data[a],errors:t.results.errors,meta:t.results.meta},o),!r);a++);delete t.results}else _(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=i[e];_(n.userComplete)&&n.userComplete(t),n.terminate(),delete i[e]}function y(){throw new Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=b(e[n]);return t}function x(e,t){return function(){e.apply(t,arguments)}}function _(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===a.WORKER_ID&&n&&(a.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:a.WORKER_ID,results:a.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=a.parse(n.input,n.config);r&&t.postMessage({workerId:a.WORKER_ID,results:r,finished:!0})}}),(u.prototype=Object.create(l.prototype)).constructor=u,(c.prototype=Object.create(l.prototype)).constructor=c,(f.prototype=Object.create(f.prototype)).constructor=f,(d.prototype=Object.create(l.prototype)).constructor=d,a})?r.apply(t,i):r)||(e.exports=o)},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(42),i=n(15),o=n(0),a=n.n(o),s=n(27),l=(n(4),n(1)),u=n(11),c=n(21);a.a.Component;var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.b)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);var d=function(e,t){return"function"===typeof e?e(t):e},h=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},m=a.a.forwardRef;"undefined"===typeof m&&(m=p);var g=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(u.a)(e,["innerRef","navigate","onClick"]),s=o.target,c=Object(l.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return c.ref=p!==m&&t||n,a.a.createElement("a",c)}));var v=m((function(e,t){var n=e.component,i=void 0===n?g:n,o=e.replace,s=e.to,f=e.innerRef,v=Object(u.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.c.Consumer,null,(function(e){e||Object(c.a)(!1);var n=e.history,r=h(d(s,e.location),e.location),u=r?n.createHref(r):"",g=Object(l.a)({},v,{href:u,navigate:function(){var t=d(s,e.location);(o?n.replace:n.push)(t)}});return p!==m?g.ref=t||f:g.innerRef=f,a.a.createElement(i,g)}))})),y=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=y);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,p=e.className,m=e.exact,g=e.isActive,x=e.location,_=e.strict,w=e.style,k=e.to,M=e.innerRef,T=Object(u.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return a.a.createElement(r.c.Consumer,null,(function(e){e||Object(c.a)(!1);var n=x||e.location,o=h(d(k,n),n),u=o.pathname,S=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=S?Object(r.d)(n.pathname,{path:S,exact:m,strict:_}):null,A=!!(g?g(E,n):E),O=A?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(p,s):p,C=A?Object(l.a)({},w,{},f):w,N=Object(l.a)({"aria-current":A&&i||null,className:O,style:C,to:o},T);return y!==b?N.ref=t||M:N.innerRef=M,a.a.createElement(v,N)}))}))},186:function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(36))},187:function(e,t,n){"use strict";var r=n(61).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},188:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(0),a=n.n(o),s=(n(4),n(9)),l=n.n(s),u=n(3),c=n(10),f=n(26),d=n(6),h="undefined"!==typeof window?a.a.useLayoutEffect:a.a.useEffect;var p=function(e){var t=e.children,n=e.defer,r=void 0!==n&&n,i=e.fallback,o=void 0===i?null:i,s=a.a.useState(!1),l=s[0],u=s[1];return h((function(){r||u(!0)}),[r]),a.a.useEffect((function(){r&&u(!0)}),[r]),a.a.createElement(a.a.Fragment,null,l?t:o)},m=!0,g=!1,v=null,y={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function b(){m=!0}function x(){m=!1}function _(){"hidden"===this.visibilityState&&g&&(m=!0)}function w(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return m||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!y[t]||e.readOnly)||("TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable)}(t)}function k(){g=!0,window.clearTimeout(v),v=window.setTimeout((function(){g=!1,window.clearTimeout(v)}),100)}function M(){return{isFocusVisible:w,onBlurVisible:k,ref:a.a.useCallback((function(e){var t,n=l.a.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",b,!0),t.addEventListener("mousedown",x,!0),t.addEventListener("pointerdown",x,!0),t.addEventListener("touchstart",x,!0),t.addEventListener("visibilitychange",_,!0))}),[])}}var T=n(31),S=n(11),E=n(15),A=n(40),O=n(49);function C(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function N(e,t,n){return null!=n[t]?n[t]:e.props[t]}function D(e,t,n){var r=C(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if(Object(o.isValidElement)(s)){var l=a in t,u=a in r,c=t[a],f=Object(o.isValidElement)(c)&&!c.props.in;!u||l&&!f?u||!l||f?u&&l&&Object(o.isValidElement)(c)&&(i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:N(s,"exit",e),enter:N(s,"enter",e)})):i[a]=Object(o.cloneElement)(s,{in:!1}):i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:N(s,"exit",e),enter:N(s,"enter",e)})}})),i}var P=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},R=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(A.a)(Object(A.a)(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(E.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,C(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:N(e,"appear",n),enter:N(e,"enter",n),exit:N(e,"exit",n)})}))):D(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=C(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(S.a)(e,["component","childFactory"]),i=this.state.contextValue,o=P(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a.a.createElement(O.a.Provider,{value:i},o):a.a.createElement(O.a.Provider,{value:i},a.a.createElement(t,r,o))},t}(a.a.Component);R.propTypes={},R.defaultProps={component:"div",childFactory:function(e){return e}};var L=R,I="undefined"===typeof window?a.a.useEffect:a.a.useLayoutEffect;var j=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,o=e.rippleY,s=e.rippleSize,l=e.in,c=e.onExited,d=void 0===c?function(){}:c,h=e.timeout,p=a.a.useState(!1),m=p[0],g=p[1],v=Object(u.a)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:s,height:s,top:-s/2+o,left:-s/2+i},b=Object(u.a)(t.child,m&&t.childLeaving,r&&t.childPulsate),x=Object(f.a)(d);return I((function(){if(!l){g(!0);var e=setTimeout(x,h);return function(){clearTimeout(e)}}}),[x,l,h]),a.a.createElement("span",{className:v,style:y},a.a.createElement("span",{className:b}))},z=a.a.forwardRef((function(e,t){var n=e.center,o=void 0!==n&&n,s=e.classes,l=e.className,c=Object(i.a)(e,["center","classes","className"]),f=a.a.useState([]),d=f[0],h=f[1],p=a.a.useRef(0),m=a.a.useRef(null);a.a.useEffect((function(){m.current&&(m.current(),m.current=null)}),[d]);var g=a.a.useRef(!1),v=a.a.useRef(null),y=a.a.useRef(null),b=a.a.useRef(null);a.a.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var x=a.a.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;h((function(e){return[].concat(Object(T.a)(e),[a.a.createElement(j,{key:p.current,classes:s,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),p.current+=1,m.current=o}),[s]),_=a.a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&g.current)g.current=!1;else{"touchstart"===e.type&&(g.current=!0);var c,f,d,h=u?null:b.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),f=Math.round(p.height/2);else{var m=e.clientX?e.clientX:e.touches[0].clientX,_=e.clientY?e.clientY:e.touches[0].clientY;c=Math.round(m-p.left),f=Math.round(_-p.top)}if(s)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var w=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,k=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(w,2)+Math.pow(k,2))}e.touches?(y.current=function(){x({pulsate:i,rippleX:c,rippleY:f,rippleSize:d,cb:n})},v.current=setTimeout((function(){y.current&&(y.current(),y.current=null)}),80)):x({pulsate:i,rippleX:c,rippleY:f,rippleSize:d,cb:n})}}),[o,x]),w=a.a.useCallback((function(){_({},{pulsate:!0})}),[_]),k=a.a.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&y.current)return e.persist(),y.current(),y.current=null,void(v.current=setTimeout((function(){k(e,t)})));y.current=null,h((function(e){return e.length>0?e.slice(1):e})),m.current=t}),[]);return a.a.useImperativeHandle(t,(function(){return{pulsate:w,start:_,stop:k}}),[w,_,k]),a.a.createElement("span",Object(r.a)({className:Object(u.a)(s.root,l),ref:b},c),a.a.createElement(L,{component:null,exit:!0},d))}));var F,B=Object(d.a)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(((F=a.a.memo(z)).muiName="MuiTouchRipple",F)),U=a.a.forwardRef((function(e,t){var n=e.action,o=e.buttonRef,s=e.centerRipple,d=void 0!==s&&s,h=e.children,m=e.classes,g=e.className,v=e.component,y=void 0===v?"button":v,b=e.disabled,x=void 0!==b&&b,_=e.disableRipple,w=void 0!==_&&_,k=e.disableTouchRipple,T=void 0!==k&&k,S=e.focusRipple,E=void 0!==S&&S,A=e.focusVisibleClassName,O=e.onBlur,C=e.onClick,N=e.onFocus,D=e.onFocusVisible,P=e.onKeyDown,R=e.onKeyUp,L=e.onMouseDown,I=e.onMouseLeave,j=e.onMouseUp,z=e.onTouchEnd,F=e.onTouchMove,U=e.onTouchStart,H=e.onDragLeave,q=e.tabIndex,V=void 0===q?0:q,W=e.TouchRippleProps,Y=e.type,G=void 0===Y?"button":Y,X=Object(i.a)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),$=a.a.useRef(null);var Z=a.a.useRef(null),K=a.a.useState(!1),J=K[0],Q=K[1];x&&J&&Q(!1);var ee=M(),te=ee.isFocusVisible,ne=ee.onBlurVisible,re=ee.ref;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;return Object(f.a)((function(r){return t&&t(r),!(r.defaultPrevented||n)&&Z.current&&Z.current[e](r),!0}))}a.a.useImperativeHandle(n,(function(){return{focusVisible:function(){Q(!0),$.current.focus()}}}),[]),a.a.useEffect((function(){J&&E&&!w&&Z.current.pulsate()}),[w,E,J]);var oe=ie("start",L),ae=ie("stop",H),se=ie("stop",j),le=ie("stop",(function(e){J&&e.preventDefault(),I&&I(e)})),ue=ie("start",U),ce=ie("stop",z),fe=ie("stop",F),de=ie("stop",(function(e){J&&(ne(e),Q(!1)),O&&O(e)}),!1),he=Object(f.a)((function(e){x||($.current||($.current=e.currentTarget),te(e)&&(Q(!0),D&&D(e)),N&&N(e))})),pe=a.a.useRef(!1),me=Object(f.a)((function(e){E&&!pe.current&&J&&Z.current&&" "===e.key&&(pe.current=!0,e.persist(),Z.current.stop(e,(function(){Z.current.start(e)}))),P&&P(e);var t=l.a.findDOMNode($.current);e.target!==e.currentTarget||!y||"button"===y||" "!==e.key&&"Enter"!==e.key||"A"===t.tagName&&t.href||(e.preventDefault(),C&&C(e))})),ge=Object(f.a)((function(e){E&&" "===e.key&&Z.current&&J&&(pe.current=!1,e.persist(),Z.current.stop(e,(function(){Z.current.pulsate(e)}))),R&&R(e)})),ve=y;"button"===ve&&X.href&&(ve="a");var ye={};"button"===ve?(ye.type=G,ye.disabled=x):("a"===ve&&X.href||(ye.role="button"),ye["aria-disabled"]=x);var be=Object(c.a)(o,t),xe=Object(c.a)(re,$),_e=Object(c.a)(be,xe);return a.a.createElement(ve,Object(r.a)({className:Object(u.a)(m.root,g,J&&[m.focusVisible,A],x&&m.disabled),onBlur:de,onClick:C,onFocus:he,onKeyDown:me,onKeyUp:ge,onMouseDown:oe,onMouseLeave:le,onMouseUp:se,onDragLeave:ae,onTouchEnd:ce,onTouchMove:fe,onTouchStart:ue,ref:_e,tabIndex:x?-1:V},ye,X),h,w||x?null:a.a.createElement(p,null,a.a.createElement(B,Object(r.a)({ref:Z,center:d},W))))}));t.a=Object(d.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(U)},19:function(e,t){var n=Array.isArray;e.exports=n},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11);function i(e,t){if(null==e)return{};var n,i,o=Object(r.a)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},20:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},21:function(e,t,n){"use strict";var r=!0,i="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(i):new Error(i+": "+(t||""))}},22:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},23:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},24:function(e,t,n){"use strict";function r(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}n.d(t,"a",(function(){return r}))},25:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=n(4),a=n.n(o),s=i.a.createContext(null);var l=function(e){e()},u=function(){return l},c=null,f={notify:function(){}};var d=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=f,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=u(),t=[],n=[];return{clear:function(){n=c,t=c},notify:function(){var r=t=n;e((function(){for(var e=0;e<r.length;e++)r[e]()}))},get:function(){return n},subscribe:function(e){var r=!0;return n===t&&(n=t.slice()),n.push(e),function(){r&&t!==c&&(r=!1,n===t&&(n=t.slice()),n.splice(n.indexOf(e),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=f)},e}();function h(e){var t=e.store,n=e.context,o=e.children,a=Object(r.useMemo)((function(){var e=new d(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=a.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,l]);var u=n||s;return i.a.createElement(u.Provider,{value:a},o)}h.propTypes={store:a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired}),context:a.a.object,children:a.a.any};var p=h,m=n(1),g=n(11),v=n(34),y=n.n(v),b=n(35),x=n.n(b),_=n(84),w=[],k=[null,null];function M(e,t){var n=e[1];return[t.payload,n+1]}var T=function(){return[null,0]},S="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function E(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,a=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,l=n.methodName,u=void 0===l?"connectAdvanced":l,c=n.renderCountProp,f=void 0===c?void 0:c,h=n.shouldHandleStateChanges,p=void 0===h||h,v=n.storeKey,b=void 0===v?"store":v,E=n.withRef,A=void 0!==E&&E,O=n.forwardRef,C=void 0!==O&&O,N=n.context,D=void 0===N?s:N,P=Object(g.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);x()(void 0===f,"renderCountProp is removed. render counting is built into the latest React Dev Tools profiling extension"),x()(!A,"withRef is removed. To access the wrapped instance, use a ref on the connected component");x()("store"===b,"storeKey has been removed and does not do anything. To use a custom Redux store for specific components, create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like: <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect");var R=D;return function(t){var n=t.displayName||t.name||"Component",o=a(n),s=Object(m.a)({},P,{getDisplayName:a,methodName:u,renderCountProp:f,shouldHandleStateChanges:p,storeKey:b,displayName:o,wrappedComponentName:n,WrappedComponent:t}),l=P.pure;var c=l?r.useMemo:function(e){return e()};function h(n){var a=Object(r.useMemo)((function(){var e=n.forwardedRef,t=Object(g.a)(n,["forwardedRef"]);return[n.context,e,t]}),[n]),l=a[0],u=a[1],f=a[2],h=Object(r.useMemo)((function(){return l&&l.Consumer&&Object(_.isContextConsumer)(i.a.createElement(l.Consumer,null))?l:R}),[l,R]),v=Object(r.useContext)(h),y=Boolean(n.store),b=Boolean(v)&&Boolean(v.store);x()(y||b,'Could not find "store" in the context of "'+o+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+o+" in connect options.");var E=n.store||v.store,A=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,s)}(E)}),[E]),O=Object(r.useMemo)((function(){if(!p)return k;var e=new d(E,y?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[E,y,v]),C=O[0],N=O[1],D=Object(r.useMemo)((function(){return y?v:Object(m.a)({},v,{subscription:C})}),[y,v,C]),P=Object(r.useReducer)(M,w,T),L=P[0][0],I=P[1];if(L&&L.error)throw L.error;var j=Object(r.useRef)(),z=Object(r.useRef)(f),F=Object(r.useRef)(),B=Object(r.useRef)(!1),U=c((function(){return F.current&&f===z.current?F.current:A(E.getState(),f)}),[E,L,f]);S((function(){z.current=f,j.current=U,B.current=!1,F.current&&(F.current=null,N())})),S((function(){if(p){var e=!1,t=null,n=function(){if(!e){var n,r,i=E.getState();try{n=A(i,z.current)}catch(o){r=o,t=o}r||(t=null),n===j.current?B.current||N():(j.current=n,F.current=n,B.current=!0,I({type:"STORE_UPDATED",payload:{latestStoreState:i,error:r}}))}};C.onStateChange=n,C.trySubscribe(),n();return function(){if(e=!0,C.tryUnsubscribe(),C.onStateChange=null,t)throw t}}}),[E,C,A]);var H=Object(r.useMemo)((function(){return i.a.createElement(t,Object(m.a)({},U,{ref:u}))}),[u,t,U]);return Object(r.useMemo)((function(){return p?i.a.createElement(h.Provider,{value:D},H):H}),[h,H,D])}var v=l?i.a.memo(h):h;if(v.WrappedComponent=t,v.displayName=o,C){var E=i.a.forwardRef((function(e,t){return i.a.createElement(v,Object(m.a)({},e,{forwardedRef:t}))}));return E.displayName=o,E.WrappedComponent=t,y()(E,t)}return y()(v,t)}}var A=Object.prototype.hasOwnProperty;function O(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function C(e,t){if(O(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!A.call(t,n[i])||!O(e[n[i]],t[n[i]]))return!1;return!0}var N=n(61);function D(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function P(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=P(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=P(i),i=r(t,n)),i},r}}var L=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:D((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?D((function(t){return Object(N.bindActionCreators)(e,t)})):void 0}];var I=[function(e){return"function"===typeof e?R(e):void 0},function(e){return e?void 0:D((function(){return{}}))}];function j(e,t,n){return Object(m.a)({},n,{},e,{},t)}var z=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return j}}];function F(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function B(e,t,n,r,i){var o,a,s,l,u,c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,h=!1;function p(i,h){var p=!f(h,a),m=!c(i,o);return o=i,a=h,p&&m?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):p?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):m?function(){var t=e(o,a),r=!d(t,s);return s=t,r&&(u=n(s,l,a)),u}():u}return function(i,c){return h?p(i,c):(s=e(o=i,a=c),l=t(r,a),u=n(s,l,a),h=!0,u)}}function U(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(g.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?B:F)(a,s,l,e,o)}function H(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(e,t){return e===t}var V=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?E:n,i=t.mapStateToPropsFactories,o=void 0===i?I:i,a=t.mapDispatchToPropsFactories,s=void 0===a?L:a,l=t.mergePropsFactories,u=void 0===l?z:l,c=t.selectorFactory,f=void 0===c?U:c;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,c=void 0===l||l,d=a.areStatesEqual,h=void 0===d?q:d,p=a.areOwnPropsEqual,v=void 0===p?C:p,y=a.areStatePropsEqual,b=void 0===y?C:y,x=a.areMergedPropsEqual,_=void 0===x?C:x,w=Object(g.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=H(e,o,"mapStateToProps"),M=H(t,s,"mapDispatchToProps"),T=H(n,u,"mergeProps");return r(f,Object(m.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:M,initMergeProps:T,pure:c,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:b,areMergedPropsEqual:_},w))}}();function W(){var e=Object(r.useContext)(s);return x()(e,"could not find react-redux context value; please ensure the component is wrapped in a <Provider>"),e}function Y(e){void 0===e&&(e=s);var t=e===s?W:function(){return Object(r.useContext)(e)};return function(){return t().store}}var G=Y();!function(e){void 0===e&&(e=s);var t=e===s?G:Y(e)}();var X="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,$=function(e,t){return e===t};!function(e){void 0===e&&(e=s);var t=e===s?W:function(){return Object(r.useContext)(e)}}();var Z,K=n(9);n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return V})),Z=K.unstable_batchedUpdates,l=Z},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),i=n.n(r),o="undefined"!==typeof window?i.a.useLayoutEffect:i.a.useEffect;function a(e){var t=i.a.useRef(e);return o((function(){t.current=e})),i.a.useCallback((function(e){return(0,t.current)(e)}),[])}},27:function(e,t,n){"use strict";var r=n(1);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),l=t&&i(t),u=s||l;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var f=0,d=a.length;d>=0;d--){var h=a[d];"."===h?o(a,d):".."===h?(o(a,d),f++):f&&(o(a,d),f--)}if(!u)for(;f--;f)a.unshift("..");!u||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},u=n(21);function c(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function d(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return p}));var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var x="popstate",_="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function k(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,f=void 0===l?b:l,g=o.keyLength,k=void 0===g?6:g,M=e.basename?h(c(e.basename)):"";function T(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return M&&(o=d(o,M)),m(o,r,n)}function S(){return Math.random().toString(36).substr(2,k)}var E=v();function A(e){Object(r.a)(B,e),B.length=t.length,E.notifyListeners(B.location,B.action)}function O(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(T(e.state))}function C(){D(T(w()))}var N=!1;function D(e){if(N)N=!1,A();else{E.confirmTransitionTo(e,"POP",f,(function(t){t?A({action:"POP",location:e}):function(e){var t=B.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,I(i))}(e)}))}}var P=T(w()),R=[P.key];function L(e){return M+p(e)}function I(e){t.go(e)}var j=0;function z(e){1===(j+=e)&&1===e?(window.addEventListener(x,O),i&&window.addEventListener(_,C)):0===j&&(window.removeEventListener(x,O),i&&window.removeEventListener(_,C))}var F=!1;var B={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i=m(e,r,S(),B.location);E.confirmTransitionTo(i,"PUSH",f,(function(e){if(e){var r=L(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var l=R.indexOf(B.location.key),u=R.slice(0,l+1);u.push(i.key),R=u,A({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=m(e,r,S(),B.location);E.confirmTransitionTo(i,"REPLACE",f,(function(e){if(e){var r=L(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var l=R.indexOf(B.location.key);-1!==l&&(R[l]=i.key),A({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return F||(z(1),F=!0),function(){return F&&(F=!1,z(-1)),t()}},listen:function(e){var t=E.appendListener(e);return z(1),function(){z(-1),t()}}};return B}var M="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:c},slash:{encodePath:c,decodePath:c}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function A(e){window.location.replace(S(window.location.href)+"#"+e)}function O(e){void 0===e&&(e={}),y||Object(u.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?h(c(e.basename)):"",f=T[s],g=f.encodePath,x=f.decodePath;function _(){var e=x(E());return l&&(e=d(e,l)),m(e)}var w=v();function k(e){Object(r.a)(B,e),B.length=t.length,w.notifyListeners(B.location,B.action)}var O=!1,C=null;function N(){var e,t,n=E(),r=g(n);if(n!==r)A(r);else{var i=_(),a=B.location;if(!O&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(C===p(i))return;C=null,function(e){if(O)O=!1,k();else{w.confirmTransitionTo(e,"POP",o,(function(t){t?k({action:"POP",location:e}):function(e){var t=B.location,n=L.lastIndexOf(p(t));-1===n&&(n=0);var r=L.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(O=!0,I(i))}(e)}))}}(i)}}var D=E(),P=g(D);D!==P&&A(P);var R=_(),L=[p(R)];function I(e){t.go(e)}var j=0;function z(e){1===(j+=e)&&1===e?window.addEventListener(M,N):0===j&&window.removeEventListener(M,N)}var F=!1;var B={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+g(l+p(e))},push:function(e,t){var n=m(e,void 0,void 0,B.location);w.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=p(n),r=g(l+t);if(E()!==r){C=t,function(e){window.location.hash=e}(r);var i=L.lastIndexOf(p(B.location)),o=L.slice(0,i+1);o.push(t),L=o,k({action:"PUSH",location:n})}else k()}}))},replace:function(e,t){var n=m(e,void 0,void 0,B.location);w.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=p(n),r=g(l+t);E()!==r&&(C=t,A(r));var i=L.indexOf(p(B.location));-1!==i&&(L[i]=t),k({action:"REPLACE",location:n})}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=w.setPrompt(e);return F||(z(1),F=!0),function(){return F&&(F=!1,z(-1)),t()}},listen:function(e){var t=w.appendListener(e);return z(1),function(){z(-1),t()}}};return B}function C(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,u=void 0===l?6:l,c=v();function f(e){Object(r.a)(x,e),x.length=x.entries.length,c.notifyListeners(x.location,x.action)}function d(){return Math.random().toString(36).substr(2,u)}var h=C(s,0,o.length-1),g=o.map((function(e){return m(e,void 0,"string"===typeof e?d():e.key||d())})),y=p;function b(e){var t=C(x.index+e,0,x.entries.length-1),r=x.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var x={length:g.length,action:"POP",location:g[h],index:h,entries:g,createHref:y,push:function(e,t){var r=m(e,t,d(),x.location);c.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=x.index+1,n=x.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,d(),x.location);c.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(x.entries[x.index]=r,f({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=x.index+e;return t>=0&&t<x.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return x}},28:function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)};var i="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t,n){var r={};return n.isMergeableObject(e)&&s(e).forEach((function(t){r[t]=o(e[t],n)})),s(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"===typeof n?n:u}(i,n)(e[i],t[i],n):r[i]=o(t[i],n)})),r}function u(e,t,n){n=Object.assign({arrayMerge:a,isMergeableObject:r},n,{cloneUnlessOtherwiseSpecified:o});var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):l(e,t,n):o(t,n)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var c=u;e.exports=c},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(46),i=n(40);function o(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?Object(i.a)(e):t}},3:function(e,t,n){"use strict";function r(e){var t,n,i="";if(e)if("object"===typeof e)if(e.push)for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(n=r(t))&&(i&&(i+=" "),i+=n);else"boolean"===typeof e||e.call||(i&&(i+=" "),i+=e);return i}t.a=function(){for(var e,t=0,n="";t<arguments.length;)(e=r(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}},30:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},31:function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return r}))},32:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return i}))},33:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},34:function(e,t,n){"use strict";var r=n(84),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=c(n);f&&(a=a.concat(f(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=d(n,v);try{u(t,v,y)}catch(b){}}}return t}return t}},35:function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},36:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},37:function(e,t,n){"use strict";var r=!0;t.a=function(e,t){if(!r){if(e)return;var n="Warning: "+t;"undefined"!==typeof console&&console.warn(n);try{throw Error(n)}catch(i){}}}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4948),i=n(39);function o(){return Object(r.a)()||i.a}},39:function(e,t,n){"use strict";var r=n(8),i=n(1),o=n(2),a=n(28),s=n.n(a);function l(e){return!0===(null!=(t=e)&&"object"===typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}function u(e){var t,n;return!1!==l(e)&&("function"===typeof(t=e.constructor)&&(!1!==l(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}var c=["xs","sm","md","lg","xl"];function f(e,t,n){var o;return Object(i.a)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)({paddingLeft:t(2),paddingRight:t(2)},n,Object(r.a)({},e.up("sm"),Object(i.a)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(o={minHeight:56},Object(r.a)(o,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(o,e.up("sm"),{minHeight:64}),o)},n)}var d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},h={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},m={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={black:"#000",white:"#fff"},v=n(12),y={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:g.white,default:p[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},b={text:{primary:g.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:p[800],default:"#303030"},action:{active:g.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function x(e,t,n,r){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(v.e)(e.main,r):"dark"===t&&(e.dark=Object(v.a)(e.main,1.5*r)))}function _(e){return Math.round(1e5*e)/1e5}var w={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function M(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,a=void 0===r?k:r,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,f=void 0===c?300:c,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,m=void 0===p?500:p,g=n.fontWeightBold,v=void 0===g?700:g,y=n.htmlFontSize,b=void 0===y?16:y,x=n.allVariants,M=n.pxToRem,T=Object(o.a)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var S=u/14,E=M||function(e){return"".concat(e/b*S,"rem")},A=function(e,t,n,r,o){return Object(i.a)({fontFamily:a,fontWeight:e,fontSize:E(t),lineHeight:n},a===k?{letterSpacing:"".concat(_(r/t),"em")}:{},{},o,{},x)},O={h1:A(f,96,1,-1.5),h2:A(f,60,1,-.5),h3:A(h,48,1.04,0),h4:A(h,34,1.17,.25),h5:A(h,24,1.33,0),h6:A(m,20,1.6,.15),subtitle1:A(h,16,1.75,.15),subtitle2:A(m,14,1.57,.1),body1:A(h,16,1.5,.15),body2:A(h,14,1.43,.15),button:A(m,14,1.75,.4,w),caption:A(h,12,1.66,.4),overline:A(h,12,2.66,1,w)};return s()(Object(i.a)({htmlFontSize:b,pxToRem:E,round:_,fontFamily:a,fontSize:u,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:v},O),T,{clone:!1})}var T=.2,S=.14,E=.12;function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(T,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(S,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(E,")")].join(",")}var O=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],C={borderRadius:4};var N=n(62),D=n(85);var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,a=void 0===r?{}:r,l=e.palette,_=void 0===l?{}:l,w=e.shadows,k=e.spacing,T=e.typography,S=void 0===T?{}:T,E=Object(o.a)(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),A=function(e){var t=e.primary,n=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,r=e.secondary,a=void 0===r?{light:h.A200,main:h.A400,dark:h.A700}:r,l=e.error,u=void 0===l?{light:m[300],main:m[500],dark:m[700]}:l,c=e.type,f=void 0===c?"light":c,_=e.contrastThreshold,w=void 0===_?3:_,k=e.tonalOffset,M=void 0===k?.2:k,T=Object(o.a)(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function S(e){return Object(v.d)(e,b.text.primary)>=w?b.text.primary:y.text.primary}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(e=Object(i.a)({},e)).main&&e[t]&&(e.main=e[t]),x(e,"light",n,M),x(e,"dark",r,M),e.contrastText||(e.contrastText=S(e.main)),e}var A={dark:b,light:y};return s()(Object(i.a)({common:g,type:f,primary:E(n),secondary:E(a,"A400","A200","A700"),error:E(u),grey:p,contrastThreshold:w,getContrastText:S,augmentColor:E,tonalOffset:M},A[f]),T,{clone:!1})}(_),P=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,a=void 0===r?"px":r,s=e.step,l=void 0===s?5:s,u=Object(o.a)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function d(e,t){var r=c.indexOf(t)+1;return r===c.length?f(e):"@media (min-width:".concat(n[e]).concat(a,") and ")+"(max-width:".concat(n[c[r]]-l/100).concat(a,")")}return Object(i.a)({keys:c,values:n,up:f,down:function(e){var t=c.indexOf(e)+1,r=n[c[t]];return t===c.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-l/100).concat(a,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},u)}(n),R=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;e="function"===typeof t?t:function(e){return t*e};var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map((function(t){var n=e(t);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}(k);return Object(i.a)({breakpoints:P,direction:"ltr",mixins:f(P,R,a),overrides:{},palette:A,props:{},shadows:w||O,typography:M(A,S),spacing:R},s()({shape:C,transitions:N.a,zIndex:D.a},E,{isMergeableObject:u}))}();t.a=P},4:function(e,t,n){e.exports=n(4801)()},40:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},41:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,"a",(function(){return r}))},42:function(e,t,n){"use strict";var r=n(15),i=n(0),o=n.n(i),a=n(4),s=n.n(a),l=n(27),u=n(116),c=n.n(u),f=n(186),d=n.n(f),h=1073741823;var p=o.a.createContext||function(e,t){var n,r,o="__create-react-context-"+d()()+"__",a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}c()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):h,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=s.a.object.isRequired,n);var l=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}c()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?h:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?h:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return l.contextTypes=((r={})[o]=s.a.object,r),{Provider:a,Consumer:l}},m=n(21),g=n(1),v=n(117),y=n.n(v),b=(n(84),n(11));n(34);n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return T}));var x=function(e){var t=p();return t.displayName=e,t}("Router"),_=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(x.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;o.a.Component;var w={},k=1e4,M=0;function T(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=w[n]||(w[n]={});if(r[e])return r[e];var i=[],o={regexp:y()(e,i,t),keys:i};return M<k&&(r[e]=o,M++),o}(n,{end:o,strict:s,sensitive:u}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var c=l[0],f=l.slice(1),d=e===c;return o&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var S=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(x.Consumer,null,(function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?T(n.pathname,e.props):t.match,i=Object(g.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,u=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(x.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):u?u(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function E(e){return"/"===e.charAt(0)?e:"/"+e}function A(e,t){if(!e)return t;var n=E(e);return 0!==t.pathname.indexOf(n)?t:Object(g.a)({},t,{pathname:t.pathname.substr(n.length)})}function O(e){return"string"===typeof e?e:Object(l.e)(e)}function C(e){return function(){Object(m.a)(!1)}}function N(){}o.a.Component;o.a.Component;o.a.useContext},43:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},44:function(e,t,n){var r=n(4816),i=n(4821);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},45:function(e,t,n){var r=n(53),i=n(4817),o=n(4818),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}},46:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}n.d(t,"a",(function(){return i}))},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(0),i=n.n(r),o=i.a.createContext();function a(){return i.a.useContext(o)}t.a=o},4797:function(e,t,n){"use strict";var r=n(120),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var v="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x={};function _(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||b}function w(){}function k(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw y(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var M=k.prototype=new w;M.constructor=k,r(M,_.prototype),M.isPureReactComponent=!0;var T={current:null},S={suspense:null},E={current:null},A=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)A.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:E.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var D=/\/+/g,P=[];function R(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function I(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+j(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+j(s=t[u],u);l+=e(s,c,r,i)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=v&&t[v]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+j(s,u++),r,i);else if("object"===s)throw r=""+t,y(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function z(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),I(e,F,t=R(t,o,r,i)),L(t)}function U(){var e=T.current;if(null===e)throw y(Error(321));return e}var H={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;I(e,z,t=R(null,null,t,n)),L(t)},count:function(e){return I(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!N(e))throw y(Error(143));return e}},createRef:function(){return{current:null}},Component:_,PureComponent:k,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return U().useCallback(e,t)},useContext:function(e,t){return U().useContext(e,t)},useEffect:function(e,t){return U().useEffect(e,t)},useImperativeHandle:function(e,t,n){return U().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return U().useLayoutEffect(e,t)},useMemo:function(e,t){return U().useMemo(e,t)},useReducer:function(e,t,n){return U().useReducer(e,t,n)},useRef:function(e){return U().useRef(e)},useState:function(e){return U().useState(e)},Fragment:s,Profiler:u,StrictMode:l,Suspense:h,unstable_SuspenseList:p,createElement:C,cloneElement:function(e,t,n){if(null===e||void 0===e)throw y(Error(267),e);var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)A.call(t,c)&&!O.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},createFactory:function(e){var t=C.bind(null,e);return t.type=e,t},isValidElement:N,version:"16.10.2",unstable_withSuspenseConfig:function(e,t){var n=S.suspense;S.suspense=void 0===t?null:t;try{e()}finally{S.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:T,ReactCurrentBatchConfig:S,ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r}},q={default:H},V=q&&H||q;e.exports=V.default||V},4798:function(e,t,n){"use strict";var r=n(0),i=n(120),o=n(4799);function a(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!r)throw a(Error(227));var s=null,l={};function u(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(!(-1<n))throw a(Error(96),e);if(!f[n]){if(!t.extractEvents)throw a(Error(97),e);for(var r in f[n]=t,n=t.eventTypes){var i=void 0,o=n[r],u=t,h=r;if(d.hasOwnProperty(h))throw a(Error(99),h);d[h]=o;var p=o.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&c(p[i],u,h);i=!0}else o.registrationName?(c(o.registrationName,u,h),i=!0):i=!1;if(!i)throw a(Error(98),r,e)}}}}function c(e,t,n){if(h[e])throw a(Error(100),e);h[e]=t,p[e]=t.eventTypes[n].dependencies}var f=[],d={},h={},p={};function m(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var g=!1,v=null,y=!1,b=null,x={onError:function(e){g=!0,v=e}};function _(e,t,n,r,i,o,a,s,l){g=!1,v=null,m.apply(x,arguments)}var w=null,k=null,M=null;function T(e,t,n){var r=e.type||"unknown-event";e.currentTarget=M(n),function(e,t,n,r,i,o,s,l,u){if(_.apply(this,arguments),g){if(!g)throw a(Error(198));var c=v;g=!1,v=null,y||(y=!0,b=c)}}(r,t,void 0,e),e.currentTarget=null}function S(e,t){if(null==t)throw a(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function E(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var A=null;function O(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)T(e,t[r],n[r]);else t&&T(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function C(e){if(null!==e&&(A=S(A,e)),e=A,A=null,e){if(E(e,O),A)throw a(Error(95));if(y)throw e=b,y=!1,b=null,e}}var N={injectEventPluginOrder:function(e){if(s)throw a(Error(101));s=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!l.hasOwnProperty(t)||l[t]!==r){if(l[t])throw a(Error(102),t);l[t]=r,n=!0}}n&&u()}};function D(e,t){var n=e.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw a(Error(231),t,typeof n);return n}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;P.hasOwnProperty("ReactCurrentDispatcher")||(P.ReactCurrentDispatcher={current:null}),P.hasOwnProperty("ReactCurrentBatchConfig")||(P.ReactCurrentBatchConfig={suspense:null});var R=/^(.*)[\\\/]/,L="function"===typeof Symbol&&Symbol.for,I=L?Symbol.for("react.element"):60103,j=L?Symbol.for("react.portal"):60106,z=L?Symbol.for("react.fragment"):60107,F=L?Symbol.for("react.strict_mode"):60108,B=L?Symbol.for("react.profiler"):60114,U=L?Symbol.for("react.provider"):60109,H=L?Symbol.for("react.context"):60110,q=L?Symbol.for("react.concurrent_mode"):60111,V=L?Symbol.for("react.forward_ref"):60112,W=L?Symbol.for("react.suspense"):60113,Y=L?Symbol.for("react.suspense_list"):60120,G=L?Symbol.for("react.memo"):60115,X=L?Symbol.for("react.lazy"):60116;L&&Symbol.for("react.fundamental"),L&&Symbol.for("react.responder"),L&&Symbol.for("react.scope");var $="function"===typeof Symbol&&Symbol.iterator;function Z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=$&&e[$]||e["@@iterator"])?e:null}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case z:return"Fragment";case j:return"Portal";case B:return"Profiler";case F:return"StrictMode";case W:return"Suspense";case Y:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case H:return"Context.Consumer";case U:return"Context.Provider";case V:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case G:return K(e.type);case X:if(e=1===e._status?e._result:null)return K(e)}return null}function J(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=K(e.type);n=null,r&&(n=K(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(R,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Q=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ee=null,te=null,ne=null;function re(e){if(e=k(e)){if("function"!==typeof ee)throw a(Error(280));var t=w(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?ne?ne.push(e):ne=[e]:te=e}function oe(){if(te){var e=te,t=ne;if(ne=te=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function ae(e,t){return e(t)}function se(e,t,n,r){return e(t,n,r)}function le(){}var ue=ae,ce=!1,fe=!1;function de(){null===te&&null===ne||(le(),oe())}new Map,new Map,new Map;var he=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,me={},ge={};function ve(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ye[e]=new ve(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ye[t]=new ve(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ye[e]=new ve(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ye[e]=new ve(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ye[e]=new ve(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ye[e]=new ve(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ye[e]=new ve(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ye[e]=new ve(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ye[e]=new ve(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function xe(e){return e[1].toUpperCase()}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e,t,n,r){var i=ye.hasOwnProperty(t)?ye[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!pe.call(ge,e)||!pe.call(me,e)&&(he.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Me(e){e._valueTracker||(e._valueTracker=function(e){var t=ke(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ke(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Se(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ae(e,t){null!=(t=t.checked)&&we(e,"checked",t,!1)}function Oe(e,t){Ae(e,t);var n=_e(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ne(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ne(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ne(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function De(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Pe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Re(e,t){if(null!=t.dangerouslySetInnerHTML)throw a(Error(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Le(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw a(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw a(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:_e(n)}}function Ie(e,t){var n=_e(t.value),r=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function je(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,xe);ye[t]=new ve(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,xe);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,xe);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!1)})),ye.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!0)}));var ze={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ue,He=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==ze.svg||"innerHTML"in e)e.innerHTML=t;else{for((Ue=Ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function qe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Ye={},Ge={};function Xe(e){if(Ye[e])return Ye[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ge)return Ye[e]=n[t];return e}Q&&(Ge=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var $e=Xe("animationend"),Ze=Xe("animationiteration"),Ke=Xe("animationstart"),Je=Xe("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),et=!1,tt=[],nt=null,rt=null,it=null,ot=new Map,at=new Map,st="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),lt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function ut(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function ct(e,t){switch(e){case"focus":case"blur":nt=null;break;case"dragenter":case"dragleave":rt=null;break;case"mouseover":case"mouseout":it=null;break;case"pointerover":case"pointerout":ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":at.delete(t.pointerId)}}function ft(e,t,n,r,i){return null===e||e.nativeEvent!==i?ut(t,n,r,i):(e.eventSystemFlags|=r,e)}function dt(e){if(null!==e.blockedOn)return!1;var t=Sn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);return null===t||(e.blockedOn=t,!1)}function ht(e,t,n){dt(e)&&n.delete(t)}function pt(){for(et=!1;0<tt.length;){var e=tt[0];if(null!==e.blockedOn)break;var t=Sn(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:tt.shift()}null!==nt&&dt(nt)&&(nt=null),null!==rt&&dt(rt)&&(rt=null),null!==it&&dt(it)&&(it=null),ot.forEach(ht),at.forEach(ht)}function mt(e,t){e.blockedOn===t&&(e.blockedOn=null,et||(et=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,pt)))}function gt(e){function t(t){return mt(t,e)}if(0<tt.length){mt(tt[0],e);for(var n=1;n<tt.length;n++){var r=tt[n];r.blockedOn===e&&(r.blockedOn=null)}}null!==nt&&mt(nt,e),null!==rt&&mt(rt,e),null!==it&&mt(it,e),ot.forEach(t),at.forEach(t)}var vt=0,yt=2,bt=1024;function xt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{((t=e).effectTag&(yt|bt))!==vt&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function _t(e){if(xt(e)!==e)throw a(Error(188))}function wt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=xt(e)))throw a(Error(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _t(i),e;if(o===r)return _t(i),t;o=o.sibling}throw a(Error(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw a(Error(189))}}if(n.alternate!==r)throw a(Error(190))}if(3!==n.tag)throw a(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function kt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Mt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Tt(e,t,n){(t=D(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function St(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Mt(t);for(t=n.length;0<t--;)Tt(n[t],"captured",e);for(t=0;t<n.length;t++)Tt(n[t],"bubbled",e)}}function Et(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=D(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function At(e){e&&e.dispatchConfig.registrationName&&Et(e._targetInst,null,e)}function Ot(e){E(e,St)}function Ct(){return!0}function Nt(){return!1}function Dt(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Ct:Nt,this.isPropagationStopped=Nt,this}function Pt(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Rt(e){if(!(e instanceof this))throw a(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Lt(e){e.eventPool=[],e.getPooled=Pt,e.release=Rt}i(Dt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ct)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ct)},persist:function(){this.isPersistent=Ct},isPersistent:Nt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Nt,this._dispatchInstances=this._dispatchListeners=null}}),Dt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Dt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Lt(n),n},Lt(Dt);var It=Dt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),jt=Dt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zt=Dt.extend({view:null,detail:null}),Ft=zt.extend({relatedTarget:null});function Bt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Ut={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qt[e])&&!!t[e]}function Wt(){return Vt}for(var Yt=zt.extend({key:function(e){if(e.key){var t=Ut[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Bt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ht[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wt,charCode:function(e){return"keypress"===e.type?Bt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Bt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Gt=0,Xt=0,$t=!1,Zt=!1,Kt=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Gt;return Gt=e.screenX,$t?"mousemove"===e.type?e.screenX-t:0:($t=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Xt;return Xt=e.screenY,Zt?"mousemove"===e.type?e.screenY-t:0:(Zt=!0,0)}}),Jt=Kt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Qt=Kt.extend({dataTransfer:null}),en=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wt}),tn=Dt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),nn=Kt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),rn=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[$e,"animationEnd",2],[Ze,"animationIteration",2],[Ke,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],on={},an={},sn=0;sn<rn.length;sn++){var ln=rn[sn],un=ln[0],cn=ln[1],fn=ln[2],dn="on"+(cn[0].toUpperCase()+cn.slice(1)),hn={phasedRegistrationNames:{bubbled:dn,captured:dn+"Capture"},dependencies:[un],eventPriority:fn};on[cn]=hn,an[un]=hn}var pn={eventTypes:on,getEventPriority:function(e){return void 0!==(e=an[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=an[e];if(!i)return null;switch(e){case"keypress":if(0===Bt(n))return null;case"keydown":case"keyup":e=Yt;break;case"blur":case"focus":e=Ft;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Kt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=Qt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=en;break;case $e:case Ze:case Ke:e=It;break;case Je:e=tn;break;case"scroll":e=zt;break;case"wheel":e=nn;break;case"copy":case"cut":case"paste":e=jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Jt;break;default:e=Dt}return Ot(t=e.getPooled(i,t,n,r)),t}},mn=pn.getEventPriority,gn=10,vn=[];function yn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=sr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=kt(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,l=0;l<f.length;l++){var u=f[l];u&&(u=u.extractEvents(r,t,o,i,a))&&(s=S(s,u))}C(s)}}var bn=!0;function xn(e,t){_n(t,e,!1)}function _n(e,t,n){switch(mn(t)){case 0:var r=wn.bind(null,t,1);break;case 1:r=kn.bind(null,t,1);break;default:r=Tn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function wn(e,t,n){ce||le();var r=Tn,i=ce;ce=!0;try{se(r,e,t,n)}finally{(ce=i)||de()}}function kn(e,t,n){Tn(e,t,n)}function Mn(e,t,n,r){if(vn.length){var i=vn.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=n,i.targetInst=r,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=yn,n=e,fe)t(n,void 0);else{fe=!0;try{ue(t,n,void 0)}finally{fe=!1,de()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,vn.length<gn&&vn.push(e)}}function Tn(e,t,n){if(bn)if(0<tt.length&&-1<st.indexOf(e))e=ut(null,e,t,n),tt.push(e);else{var r=Sn(e,t,n);null===r?ct(e,n):-1<st.indexOf(e)?(e=ut(r,e,t,n),tt.push(e)):function(e,t,n,r){switch(t){case"focus":return nt=ft(nt,e,t,n,r),!0;case"dragenter":return rt=ft(rt,e,t,n,r),!0;case"mouseover":return it=ft(it,e,t,n,r),!0;case"pointerover":var i=r.pointerId;return ot.set(i,ft(ot.get(i)||null,e,t,n,r)),!0;case"gotpointercapture":return i=r.pointerId,at.set(i,ft(at.get(i)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(ct(e,n),Mn(e,t,n,null))}}function Sn(e,t,n){var r=kt(n),i=sr(r);if(null!==i)if(null===(r=xt(i)))i=null;else{var o=r.tag;if(13===o){if(null!==(r=13!==r.tag||(null===(i=r.memoizedState)&&(null!==(r=r.alternate)&&(i=r.memoizedState)),null===i)?null:i.dehydrated))return r;i=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}return Mn(e,t,n,i),null}function En(e){if(!Q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var An=new("function"===typeof WeakMap?WeakMap:Map);function On(e){var t=An.get(e);return void 0===t&&(t=new Set,An.set(e,t)),t}function Cn(e,t,n){if(!n.has(e)){switch(e){case"scroll":_n(t,"scroll",!0);break;case"focus":case"blur":_n(t,"focus",!0),_n(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":En(e)&&_n(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&xn(e,t)}n.add(e)}}var Nn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dn=["Webkit","ms","Moz","O"];function Pn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Nn.hasOwnProperty(e)&&Nn[e]?(""+t).trim():t+"px"}function Rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Pn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Nn).forEach((function(e){Dn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Nn[t]=Nn[e]}))}));var Ln=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function In(e,t){if(t){if(Ln[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw a(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw a(Error(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw a(Error(61))}if(null!=t.style&&"object"!==typeof t.style)throw a(Error(62),"")}}function jn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function zn(e,t){var n=On(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var r=0;r<t.length;r++)Cn(t[r],e,n)}function Fn(){}function Bn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hn(e,t){var n,r=Un(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Un(r)}}function qn(){for(var e=window,t=Bn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Bn((e=t.contentWindow).document)}return t}function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Wn="$",Yn="/$",Gn="$?",Xn="$!",$n=null,Zn=null;function Kn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Jn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qn="function"===typeof setTimeout?setTimeout:void 0,er="function"===typeof clearTimeout?clearTimeout:void 0;function tr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function nr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Wn||n===Xn||n===Gn){if(0===t)return e;t--}else n===Yn&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),ir="__reactInternalInstance$"+rr,or="__reactEventHandlers$"+rr,ar="__reactContainere$"+rr;function sr(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ar]||n[ir]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=nr(e);null!==e;){if(n=e[ir])return n;e=nr(e)}return t}n=(e=n).parentNode}return null}function lr(e){return!(e=e[ir]||e[ar])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ur(e){if(5===e.tag||6===e.tag)return e.stateNode;throw a(Error(33))}function cr(e){return e[or]||null}var fr=null,dr=null,hr=null;function pr(){if(hr)return hr;var e,t,n=dr,r=n.length,i="value"in fr?fr.value:fr.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return hr=i.slice(e,1<t?1-t:void 0)}var mr=Dt.extend({data:null}),gr=Dt.extend({data:null}),vr=[9,13,27,32],yr=Q&&"CompositionEvent"in window,br=null;Q&&"documentMode"in document&&(br=document.documentMode);var xr=Q&&"TextEvent"in window&&!br,_r=Q&&(!yr||br&&8<br&&11>=br),wr=String.fromCharCode(32),kr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Mr=!1;function Tr(e,t){switch(e){case"keyup":return-1!==vr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Sr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Er=!1;var Ar={eventTypes:kr,extractEvents:function(e,t,n,r){var i;if(yr)e:{switch(e){case"compositionstart":var o=kr.compositionStart;break e;case"compositionend":o=kr.compositionEnd;break e;case"compositionupdate":o=kr.compositionUpdate;break e}o=void 0}else Er?Tr(e,n)&&(o=kr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=kr.compositionStart);return o?(_r&&"ko"!==n.locale&&(Er||o!==kr.compositionStart?o===kr.compositionEnd&&Er&&(i=pr()):(dr="value"in(fr=r)?fr.value:fr.textContent,Er=!0)),o=mr.getPooled(o,t,n,r),i?o.data=i:null!==(i=Sr(n))&&(o.data=i),Ot(o),i=o):i=null,(e=xr?function(e,t){switch(e){case"compositionend":return Sr(t);case"keypress":return 32!==t.which?null:(Mr=!0,wr);case"textInput":return(e=t.data)===wr&&Mr?null:e;default:return null}}(e,n):function(e,t){if(Er)return"compositionend"===e||!yr&&Tr(e,t)?(e=pr(),hr=dr=fr=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _r&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=gr.getPooled(kr.beforeInput,t,n,r)).data=e,Ot(t)):t=null,null===i?t:null===t?i:[i,t]}},Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Or[e.type]:"textarea"===t}var Nr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Dr(e,t,n){return(e=Dt.getPooled(Nr.change,e,t,n)).type="change",ie(n),Ot(e),e}var Pr=null,Rr=null;function Lr(e){C(e)}function Ir(e){if(Te(ur(e)))return e}function jr(e,t){if("change"===e)return t}var zr=!1;function Fr(){Pr&&(Pr.detachEvent("onpropertychange",Br),Rr=Pr=null)}function Br(e){if("value"===e.propertyName&&Ir(Rr))if(e=Dr(Rr,e,kt(e)),ce)C(e);else{ce=!0;try{ae(Lr,e)}finally{ce=!1,de()}}}function Ur(e,t,n){"focus"===e?(Fr(),Rr=n,(Pr=t).attachEvent("onpropertychange",Br)):"blur"===e&&Fr()}function Hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ir(Rr)}function qr(e,t){if("click"===e)return Ir(t)}function Vr(e,t){if("input"===e||"change"===e)return Ir(t)}Q&&(zr=En("input")&&(!document.documentMode||9<document.documentMode));var Wr={eventTypes:Nr,_isInputEventSupported:zr,extractEvents:function(e,t,n,r){var i=t?ur(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=jr;else if(Cr(i))if(zr)a=Vr;else{a=Hr;var s=Ur}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=qr);if(a&&(a=a(e,t)))return Dr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ne(i,"number",i.value)}},Yr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Gr={eventTypes:Yr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?sr(t):null)&&(t!==(o=xt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Kt,l=Yr.mouseLeave,u=Yr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Jt,l=Yr.pointerLeave,u=Yr.pointerEnter,c="pointer");if(e=null==a?i:ur(a),i=null==t?i:ur(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=i,(n=s.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,e=0,a=s=r;a;a=Mt(a))e++;for(a=0,t=u;t;t=Mt(t))a++;for(;0<e-a;)s=Mt(s),e--;for(;0<a-e;)u=Mt(u),a--;for(;e--;){if(s===u||s===u.alternate)break e;s=Mt(s),u=Mt(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(e=r.alternate)||e!==u);)s.push(r),r=Mt(r);for(r=[];c&&c!==u&&(null===(e=c.alternate)||e!==u);)r.push(c),c=Mt(c);for(c=0;c<s.length;c++)Et(s[c],"bubbled",l);for(c=r.length;0<c--;)Et(r[c],"captured",n);return[l,n]}};var Xr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},$r=Object.prototype.hasOwnProperty;function Zr(e,t){if(Xr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!$r.call(t,n[r])||!Xr(e[n[r]],t[n[r]]))return!1;return!0}var Kr=Q&&"documentMode"in document&&11>=document.documentMode,Jr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qr=null,ei=null,ti=null,ni=!1;function ri(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ni||null==Qr||Qr!==Bn(n)?null:("selectionStart"in(n=Qr)&&Vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ti&&Zr(ti,n)?null:(ti=n,(e=Dt.getPooled(Jr.select,ei,e,t)).type="select",e.target=Qr,Ot(e),e))}var ii={eventTypes:Jr,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=On(o),i=p.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?ur(t):window,e){case"focus":(Cr(o)||"true"===o.contentEditable)&&(Qr=o,ei=t,ti=null);break;case"blur":ti=ei=Qr=null;break;case"mousedown":ni=!0;break;case"contextmenu":case"mouseup":case"dragend":return ni=!1,ri(n,r);case"selectionchange":if(Kr)break;case"keydown":case"keyup":return ri(n,r)}return null}};N.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=cr,k=lr,M=ur,N.injectEventPluginsByName({SimpleEventPlugin:pn,EnterLeaveEventPlugin:Gr,ChangeEventPlugin:Wr,SelectEventPlugin:ii,BeforeInputEventPlugin:Ar}),new Set;var oi=[],ai=-1;function si(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function li(e,t){oi[++ai]=e.current,e.current=t}var ui={},ci={current:ui},fi={current:!1},di=ui;function hi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(e){si(fi),si(ci)}function gi(e){si(fi),si(ci)}function vi(e,t,n){if(ci.current!==ui)throw a(Error(168));li(ci,t),li(fi,n)}function yi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw a(Error(108),K(t)||"Unknown",o);return i({},n,{},r)}function bi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||ui,di=ci.current,li(ci,t),li(fi,fi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw a(Error(169));n?(t=yi(e,t,di),r.__reactInternalMemoizedMergedChildContext=t,si(fi),si(ci),li(ci,t)):si(fi),li(fi,n)}var _i=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Mi=o.unstable_shouldYield,Ti=o.unstable_requestPaint,Si=o.unstable_now,Ei=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Ci=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Di=o.unstable_IdlePriority,Pi={},Ri=void 0!==Ti?Ti:function(){},Li=null,Ii=null,ji=!1,zi=Si(),Fi=1e4>zi?Si:function(){return Si()-zi};function Bi(){switch(Ei()){case Ai:return 99;case Oi:return 98;case Ci:return 97;case Ni:return 96;case Di:return 95;default:throw a(Error(332))}}function Ui(e){switch(e){case 99:return Ai;case 98:return Oi;case 97:return Ci;case 96:return Ni;case 95:return Di;default:throw a(Error(332))}}function Hi(e,t){return e=Ui(e),_i(e,t)}function qi(e,t,n){return e=Ui(e),wi(e,t,n)}function Vi(e){return null===Li?(Li=[e],Ii=wi(Ai,Yi)):Li.push(e),Pi}function Wi(){if(null!==Ii){var e=Ii;Ii=null,ki(e)}Yi()}function Yi(){if(!ji&&null!==Li){ji=!0;var e=0;try{var t=Li;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),wi(Ai,Wi),n}finally{ji=!1}}}function Gi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xi={current:null},$i=null,Zi=null,Ki=null;function Ji(){Ki=Zi=$i=null}function Qi(e,t){var n=e.type._context;li(Xi,n._currentValue),n._currentValue=t}function eo(e){var t=Xi.current;si(Xi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){$i=e,Ki=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ca=!0),e.firstContext=null)}function ro(e,t){if(Ki!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ki=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===$i)throw a(Error(308));Zi=t,$i.dependencies={expirationTime:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var io=!1;function oo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ao(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function so(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function lo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function uo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=oo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=oo(e.memoizedState),i=n.updateQueue=oo(n.memoizedState)):r=e.updateQueue=ao(i):null===i&&(i=n.updateQueue=ao(r));null===i||r===i?lo(r,t):null===r.lastUpdate||null===i.lastUpdate?(lo(r,t),lo(i,t)):(lo(r,t),i.lastUpdate=t)}function co(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=oo(e.memoizedState):fo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function fo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=ao(t)),t}function ho(e,t,n,r,o,a){switch(n.tag){case 1:return"function"===typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null===(o="function"===typeof(e=n.payload)?e.call(a,r,o):e)||void 0===o)break;return i({},r,o);case 2:io=!0}return r}function po(e,t,n,r,i){io=!1;for(var o=(t=fo(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<i?(null===a&&(a=l,o=u),s<c&&(s=c)):(gl(c,l.suspenseConfig),u=ho(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var f=l.expirationTime;f<i?(null===c&&(c=l,null===a&&(o=u)),s<f&&(s=f)):(u=ho(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,vl(s),e.expirationTime=s,e.memoizedState=u}function mo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),go(t.firstEffect,n),t.firstEffect=t.lastEffect=null,go(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function go(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!==typeof n)throw a(Error(191),n);n.call(r)}e=e.nextEffect}}var vo=P.ReactCurrentBatchConfig,yo=(new r.Component).refs;function bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var xo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&xt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Js(),i=vo.suspense;(i=so(r=Qs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),nl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Js(),i=vo.suspense;(i=so(r=Qs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),nl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Js(),r=vo.suspense;(r=so(n=Qs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),uo(e,r),nl(e,n)}};function _o(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zr(n,r)||!Zr(i,o))}function wo(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=pi(t)?di:ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?hi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function Mo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yo;var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=pi(t)?di:ci.current,i.context=hi(e,o)),null!==(o=e.updateQueue)&&(po(e,o,n,i,r),i.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&xo.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(po(e,o,n,i,r),i.state=e.memoizedState)),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var To=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw a(Error(309));var r=n.stateNode}if(!r)throw a(Error(147),e);var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===yo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw a(Error(284));if(!n._owner)throw a(Error(290),e)}return e}function Eo(e,t){if("textarea"!==e.type)throw a(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Ao(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=yt,n):r:(t.effectTag=yt,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=yt),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=zl(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Fl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Bl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case I:return(n=zl(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case j:return(t=Ul(t,e.mode,n)).return=e,t}if(To(t)||Z(t))return(t=Fl(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===i?n.type===z?f(e,t,n.props.children,r,i):u(e,t,n,r):null;case j:return n.key===i?c(e,t,n,r):null}if(To(n)||Z(n))return null!==i?null:f(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case I:return e=e.get(null===r.key?n:r.key)||null,r.type===z?f(t,e,r.props.children,i,r.key):u(t,e,r,i);case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(To(r)||Z(r))return f(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function m(i,a,s,l){for(var u=null,c=null,f=a,m=a=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var v=h(i,f,s[m],l);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(i,f),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,f=g}if(m===s.length)return n(i,f),u;if(null===f){for(;m<s.length;m++)null!==(f=d(i,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=r(i,f);m<s.length;m++)null!==(g=p(f,i,m,s[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(i,e)})),u}function g(i,s,l,u){var c=Z(l);if("function"!==typeof c)throw a(Error(150));if(null==(l=c.call(l)))throw a(Error(151));for(var f=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=h(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===f?c=b:f.sibling=b,f=b,m=v}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===z&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case I:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?o.type===z:u.elementType===o.type){n(e,u.sibling),(r=i(u,o.type===z?o.props.children:o.props)).ref=So(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===z?((r=Fl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=zl(o.type,o.key,o.props,null,e.mode,l)).ref=So(e,r,o),l.return=e,e=l)}return s(e);case j:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ul(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Bl(o,e.mode,l)).return=e,e=r),s(e);if(To(o))return m(e,r,o,l);if(Z(o))return g(e,r,o,l);if(c&&Eo(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,a(Error(152),e.displayName||e.name||"Component")}return n(e,r)}}var Oo=Ao(!0),Co=Ao(!1),No={},Do={current:No},Po={current:No},Ro={current:No};function Lo(e){if(e===No)throw a(Error(174));return e}function Io(e,t){li(Ro,t),li(Po,e),li(Do,No);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}si(Do),li(Do,t)}function jo(e){si(Do),si(Po),si(Ro)}function zo(e){Lo(Ro.current);var t=Lo(Do.current),n=Be(t,e.type);t!==n&&(li(Po,e),li(Do,n))}function Fo(e){Po.current===e&&(si(Do),si(Po))}var Bo={current:0};function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===Gn||n.data===Xn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if((64&t.effectTag)!==vt)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ho(e,t){return{responder:e,props:t}}var qo=P.ReactCurrentDispatcher,Vo=0,Wo=null,Yo=null,Go=null,Xo=null,$o=null,Zo=null,Ko=0,Jo=null,Qo=0,ea=!1,ta=null,na=0;function ra(){throw a(Error(321))}function ia(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xr(e[n],t[n]))return!1;return!0}function oa(e,t,n,r,i,o){if(Vo=o,Wo=t,Go=null!==e?e.memoizedState:null,qo.current=null===Go?ya:ba,t=n(r,i),ea){do{ea=!1,na+=1,Go=null!==e?e.memoizedState:null,Zo=Xo,Jo=$o=Yo=null,qo.current=ba,t=n(r,i)}while(ea);ta=null,na=0}if(qo.current=va,(e=Wo).memoizedState=Xo,e.expirationTime=Ko,e.updateQueue=Jo,e.effectTag|=Qo,e=null!==Yo&&null!==Yo.next,Vo=0,Zo=$o=Xo=Go=Yo=Wo=null,Ko=0,Jo=null,Qo=0,e)throw a(Error(300));return t}function aa(){qo.current=va,Vo=0,Zo=$o=Xo=Go=Yo=Wo=null,Ko=0,Jo=null,Qo=0,ea=!1,ta=null,na=0}function sa(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===$o?Xo=$o=e:$o=$o.next=e,$o}function la(){if(null!==Zo)Zo=($o=Zo).next,Go=null!==(Yo=Go)?Yo.next:null;else{if(null===Go)throw a(Error(310));var e={memoizedState:(Yo=Go).memoizedState,baseState:Yo.baseState,queue:Yo.queue,baseUpdate:Yo.baseUpdate,next:null};$o=null===$o?Xo=e:$o.next=e,Go=Yo.next}return $o}function ua(e,t){return"function"===typeof t?t(e):t}function ca(e){var t=la(),n=t.queue;if(null===n)throw a(Error(311));if(n.lastRenderedReducer=e,0<na){var r=n.dispatch;if(null!==ta){var i=ta.get(n);if(void 0!==i){ta.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return Xr(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=i=null,u=r,c=!1;do{var f=u.expirationTime;f<Vo?(c||(c=!0,l=s,i=o),f>Ko&&vl(Ko=f)):(gl(f,u.suspenseConfig),o=u.eagerReducer===e?u.eagerState:e(o,u.action)),s=u,u=u.next}while(null!==u&&u!==r);c||(l=s,i=o),Xr(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Jo?(Jo={lastEffect:null}).lastEffect=e.next=e:null===(t=Jo.lastEffect)?Jo.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Jo.lastEffect=e),e}function da(e,t,n,r){var i=sa();Qo|=e,i.memoizedState=fa(t,n,void 0,void 0===r?null:r)}function ha(e,t,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==Yo){var a=Yo.memoizedState;if(o=a.destroy,null!==r&&ia(r,a.deps))return void fa(0,n,o,r)}Qo|=e,i.memoizedState=fa(t,n,o,r)}function pa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ma(){}function ga(e,t,n){if(!(25>na))throw a(Error(301));var r=e.alternate;if(e===Wo||null!==r&&r===Wo)if(ea=!0,e={expirationTime:Vo,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===ta&&(ta=new Map),void 0===(n=ta.get(t)))ta.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=Js(),o=vo.suspense;o={expirationTime:i=Qs(i,e,o),suspenseConfig:o,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(o.eagerReducer=r,o.eagerState=c,Xr(c,u))return}catch(f){}nl(e,i)}}var va={readContext:ro,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useResponder:ra},ya={readContext:ro,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:ro,useEffect:function(e,t){return da(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,da(4,36,pa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return da(4,36,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,Wo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sa().memoizedState=e},useState:function(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e}).dispatch=ga.bind(null,Wo,e),[t.memoizedState,e]},useDebugValue:ma,useResponder:Ho},ba={readContext:ro,useCallback:function(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:ro,useEffect:function(e,t){return ha(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ha(4,36,pa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ha(4,36,e,t)},useMemo:function(e,t){var n=la();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ia(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ca,useRef:function(){return la().memoizedState},useState:function(e){return ca(ua)},useDebugValue:ma,useResponder:Ho},xa=null,_a=null,wa=!1;function ka(e,t){var n=Ll(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ma(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ta(e){if(wa){var t=_a;if(t){var n=t;if(!Ma(e,t)){if(!(t=tr(n.nextSibling))||!Ma(e,t))return e.effectTag=e.effectTag&~bt|yt,wa=!1,void(xa=e);ka(xa,n)}xa=e,_a=tr(t.firstChild)}else e.effectTag=e.effectTag&~bt|yt,wa=!1,xa=e}}function Sa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xa=e}function Ea(e){if(e!==xa)return!1;if(!wa)return Sa(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Jn(t,e.memoizedProps))for(t=_a;t;)ka(e,t),t=tr(t.nextSibling);if(Sa(e),13===e.tag)if(null===(e=null!==(e=e.memoizedState)?e.dehydrated:null))e=_a;else e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===Yn){if(0===t){e=tr(e.nextSibling);break e}t--}else n!==Wn&&n!==Xn&&n!==Gn||t++}e=e.nextSibling}e=null}else e=xa?tr(e.stateNode.nextSibling):null;return _a=e,!0}function Aa(){_a=xa=null,wa=!1}var Oa=P.ReactCurrentOwner,Ca=!1;function Na(e,t,n,r){t.child=null===e?Co(t,null,n,r):Oo(t,e.child,n,r)}function Da(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=oa(e,t,n,r,o,i),null===e||Ca?(t.effectTag|=1,Na(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Pa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Il(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zl(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Zr)(i,r)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=jl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,n,r,i,o){return null!==e&&Zr(e.memoizedProps,r)&&e.ref===t.ref&&(Ca=!1,i<o)?Xa(e,t,o):Ia(e,t,n,r,o)}function La(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ia(e,t,n,r,i){var o=pi(n)?di:ci.current;return o=hi(t,o),no(t,i),n=oa(e,t,n,r,o,i),null===e||Ca?(t.effectTag|=1,Na(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function ja(e,t,n,r,i){if(pi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=yt),wo(t,n,r),Mo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ro(u):u=hi(t,u=pi(n)?di:ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ko(t,a,r,u),io=!1;var d=t.memoizedState;l=a.state=d;var h=t.updateQueue;null!==h&&(po(t,h,r,a,i),l=t.memoizedState),s!==r||d!==l||fi.current||io?("function"===typeof c&&(bo(t,n,c,r),l=t.memoizedState),(s=io||_o(t,n,s,r,d,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Gi(t.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ro(u):u=hi(t,u=pi(n)?di:ci.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ko(t,a,r,u),io=!1,l=t.memoizedState,d=a.state=l,null!==(h=t.updateQueue)&&(po(t,h,r,a,i),d=t.memoizedState),s!==r||l!==d||fi.current||io?("function"===typeof c&&(bo(t,n,c,r),d=t.memoizedState),(c=io||_o(t,n,s,r,l,d,u))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return za(e,t,n,r,o,i)}function za(e,t,n,r,i,o){La(e,t);var a=(64&t.effectTag)!==vt;if(!r&&!a)return i&&xi(t,n,!1),Xa(e,t,o);r=t.stateNode,Oa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,s,o)):Na(e,t,s,o),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Io(e,t.containerInfo)}var Ba,Ua,Ha,qa,Va={dehydrated:null,retryTime:1};function Wa(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Bo.current,s=!1;if((r=(64&t.effectTag)!==vt)||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),li(Bo,1&a),null===e){if(s){if(s=o.fallback,(o=Fl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Fl(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Va,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Co(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=jl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=jl(i,o,i.expirationTime)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Va,t.child=n,i}return n=Oo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Fl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Fl(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=yt,o.childExpirationTime=0,t.memoizedState=Va,t.child=o,n}return t.memoizedState=null,t.child=Oo(t,e,o.children,n)}function Ya(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i)}function Ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Na(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&(64&e.effectTag)!==vt)e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var a=e.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),to(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===Uo(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===Uo(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}Ya(t,!0,n,null,o);break;case"together":Ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&vl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw a(Error(153));if(null!==t.child){for(n=jl(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jl(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function $a(e){e.effectTag|=4}function Za(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){switch(e.tag){case 1:pi(e.type)&&mi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(jo(),gi(),(64&(t=e.effectTag))!==vt)throw a(Error(285));return e.effectTag=-4097&t|64,e;case 5:return Fo(e),null;case 13:return si(Bo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return si(Bo),null;case 4:return jo(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:J(t)}}Ba=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(){},Ha=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,l,u=t.stateNode;switch(Lo(Do.current),e=null,n){case"input":a=Se(u,a),r=Se(u,r),e=[];break;case"option":a=De(u,a),r=De(u,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Re(u,a),r=Re(u,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(u.onclick=Fn)}for(s in In(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(h.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,""+c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(h.hasOwnProperty(s)?(null!=c&&zn(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&$a(t)}},qa=function(e,t,n,r){n!==r&&$a(t)};var Qa="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=J(n)),null!==n&&K(n.type),t=t.value,null!==e&&1===e.tag&&K(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ol(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:rs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw a(Error(163))}}function rs(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!==(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!==(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function is(e,t,n){switch("function"===typeof Pl&&Pl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Hi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){Ol(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ol(e,n)}}(t,n);break;case 5:ts(t);break;case 4:ls(e,t,n)}}function os(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&os(t)}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:{for(var t=e.return;null!==t;){if(as(t)){var n=t;break e}t=t.return}throw a(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw a(Error(161))}16&n.effectTag&&(qe(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||as(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(n.effectTag&yt)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&yt)){n=n.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(n)if(r){var l=s;s=n,8===(o=t).nodeType?o.parentNode.insertBefore(l,s):o.insertBefore(l,s)}else t.insertBefore(s,n);else r?(8===(l=t).nodeType?(o=l.parentNode).insertBefore(s,l):(o=l).appendChild(s),null!==(l=l._reactRootContainer)&&void 0!==l||null!==o.onclick||(o.onclick=Fn)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function ls(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw a(Error(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,f=u;;)if(is(l,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(l=r,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(is(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function us(e,t){switch(t.tag){case 0:case 11:case 14:case 15:rs(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[or]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ae(n,r),jn(e,i),t=jn(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?Rn(n,l):"dangerouslySetInnerHTML"===s?He(n,l):"children"===s?qe(n,l):we(n,s,l,t)}switch(e){case"input":Oe(n,r);break;case"textarea":Ie(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Pe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Pe(n,!!r.multiple,r.defaultValue,!0):Pe(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw a(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,gt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Fs=Fi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=Pn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}cs(t);break;case 19:cs(t);break;case 17:case 20:case 21:break;default:throw a(Error(163))}}function cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,qs=r),es(e,t)},n}function hs(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Vs?Vs=new Set([this]):Vs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var ps=Math.ceil,ms=P.ReactCurrentDispatcher,gs=P.ReactCurrentOwner,vs=0,ys=8,bs=16,xs=32,_s=0,ws=1,ks=2,Ms=3,Ts=4,Ss=5,Es=6,As=vs,Os=null,Cs=null,Ns=0,Ds=_s,Ps=null,Rs=1073741823,Ls=1073741823,Is=null,js=0,zs=!1,Fs=0,Bs=500,Us=null,Hs=!1,qs=null,Vs=null,Ws=!1,Ys=null,Gs=90,Xs=null,$s=0,Zs=null,Ks=0;function Js(){return(As&(bs|xs))!==vs?1073741821-(Fi()/10|0):0!==Ks?Ks:Ks=1073741821-(Fi()/10|0)}function Qs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Bi();if(0===(4&t))return 99===r?1073741823:1073741822;if((As&bs)!==vs)return Ns;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=2;break;default:throw a(Error(326))}return null!==Os&&e===Ns&&--e,e}var el,tl=0;function nl(e,t){if(50<$s)throw $s=0,Zs=null,a(Error(185));if(null!==(e=rl(e,t))){var n=Bi();1073741823===t?(As&ys)!==vs&&(As&(bs|xs))===vs?sl(e):(ol(e),As===vs&&Wi()):ol(e),(4&As)===vs||98!==n&&99!==n||(null===Xs?Xs=new Map([[e,t]]):(void 0===(n=Xs.get(e))||n>t)&&Xs.set(e,t))}}function rl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Os===i&&(vl(t),Ds===Ts&&Vl(i,Ns)),Wl(i,t)),i}function il(e){var t=e.lastExpiredTime;return 0!==t?t:ql(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function ol(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Vi(sl.bind(null,e));else{var t=il(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Js();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Pi&&ki(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Vi(sl.bind(null,e)):qi(r,al.bind(null,e),{timeout:10*(1073741821-t)-Fi()}),e.callbackNode=t}}}function al(e,t){if(Ks=0,t)return Yl(e,t=Js()),ol(e),null;var n=il(e);if(0!==n){if(t=e.callbackNode,(As&(bs|xs))!==vs)throw a(Error(327));if(Sl(),e===Os&&n===Ns||hl(e,n),null!==Cs){var r=As;As|=bs;for(var i=ml();;)try{bl();break}catch(l){pl(e,l)}if(Ji(),As=r,ms.current=i,Ds===ws)throw t=Ps,hl(e,n),Vl(e,n),ol(e),t;if(null===Cs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,ul(e,n),r=Ds,Os=null,r){case _s:case ws:throw a(Error(345));case ks:if(2!==n){Yl(e,2);break}kl(e);break;case Ms:if(Vl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=wl(i)),1073741823===Rs&&10<(i=Fs+Bs-Fi())){if(zs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,hl(e,n);break}}if(0!==(o=il(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Qn(kl.bind(null,e),i);break}kl(e);break;case Ts:if(Vl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=wl(i)),zs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,hl(e,n);break}if(0!==(i=il(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ls?r=10*(1073741821-Ls)-Fi():1073741823===Rs?r=0:(r=10*(1073741821-Rs)-5e3,0>(r=(i=Fi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ps(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Qn(kl.bind(null,e),r);break}kl(e);break;case Ss:if(1073741823!==Rs&&null!==Is){o=Rs;var s=Is;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Fi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Vl(e,n),e.timeoutHandle=Qn(kl.bind(null,e),r);break}}kl(e);break;case Es:Vl(e,n);break;default:throw a(Error(329))}if(ol(e),e.callbackNode===t)return al.bind(null,e)}}return null}function sl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)kl(e);else{if((As&(bs|xs))!==vs)throw a(Error(327));if(Sl(),e===Os&&t===Ns||hl(e,t),null!==Cs){var n=As;As|=bs;for(var r=ml();;)try{yl();break}catch(i){pl(e,i)}if(Ji(),As=n,ms.current=r,Ds===ws)throw n=Ps,hl(e,t),Vl(e,t),ol(e),n;if(null!==Cs)throw a(Error(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ul(e,t),Ds===Es?Vl(e,t):(Os=null,kl(e)),ol(e)}}return null}function ll(){(As&(1|bs|xs))===vs&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e,t){Yl(t,e),ol(t)})),Wi()}}(),Sl())}function ul(e,t){var n=e.firstBatch;null!==n&&n._defer&&n._expirationTime>=t&&(qi(97,(function(){return n._onComplete(),null})),Ds=Es)}function cl(e,t){var n=As;As|=1;try{return e(t)}finally{(As=n)===vs&&Wi()}}function fl(e,t,n,r){var i=As;As|=4;try{return Hi(98,e.bind(null,t,n,r))}finally{(As=i)===vs&&Wi()}}function dl(e,t){var n=As;As&=-2,As|=ys;try{return e(t)}finally{(As=n)===vs&&Wi()}}function hl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,er(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!==i&&void 0!==i&&mi();break;case 3:jo(),gi();break;case 5:Fo(r);break;case 4:jo();break;case 13:case 19:si(Bo);break;case 10:eo(r)}n=n.return}Os=e,Cs=jl(e.current,null),Ns=t,Ds=_s,Ps=null,Ls=Rs=1073741823,Is=null,js=0,zs=!1}function pl(e,t){for(;;){try{if(Ji(),aa(),null===Cs||null===Cs.return)return Ds=ws,Ps=t,null;e:{var n=e,r=Cs.return,i=Cs,o=t;if(t=Ns,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"===typeof o&&"function"===typeof o.then){var a=o,s=0!==(1&Bo.current),l=r;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var f=l.memoizedProps;u=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!s)}}if(u){var d=l.updateQueue;if(null===d){var h=new Set;h.add(a),l.updateQueue=h}else d.add(a);if(0===(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var p=so(1073741823,null);p.tag=2,uo(i,p)}i.expirationTime=1073741823;break e}o=void 0,i=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new fs,o=new Set,m.set(a,o)):void 0===(o=m.get(a))&&(o=new Set,m.set(a,o)),!o.has(i)){o.add(i);var g=Cl.bind(null,n,a,i);a.then(g,g)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);o=Error((K(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+J(i))}Ds!==Ss&&(Ds=ks),o=Ja(o,i),l=r;do{switch(l.tag){case 3:a=o,l.effectTag|=4096,l.expirationTime=t,co(l,ds(l,a,t));break e;case 1:a=o;var v=l.type,y=l.stateNode;if((64&l.effectTag)===vt&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Vs||!Vs.has(y)))){l.effectTag|=4096,l.expirationTime=t,co(l,hs(l,a,t));break e}}l=l.return}while(null!==l)}Cs=_l(Cs)}catch(b){t=b;continue}break}}function ml(){var e=ms.current;return ms.current=va,null===e?va:e}function gl(e,t){e<Rs&&2<e&&(Rs=e),null!==t&&e<Ls&&2<e&&(Ls=e,Is=t)}function vl(e){e>js&&(js=e)}function yl(){for(;null!==Cs;)Cs=xl(Cs)}function bl(){for(;null!==Cs&&!Mi();)Cs=xl(Cs)}function xl(e){var t=el(e.alternate,e,Ns);return e.memoizedProps=e.pendingProps,null===t&&(t=_l(e)),gs.current=null,t}function _l(e){Cs=e;do{var t=Cs.alternate;if(e=Cs.return,(2048&Cs.effectTag)===vt){e:{var n=t,r=Ns,o=(t=Cs).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:pi(t.type)&&mi();break;case 3:jo(),gi(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===n||null===n.child)&&Ea(t)&&$a(t),Ua(t);break;case 5:Fo(t),r=Lo(Ro.current);var s=t.type;if(null!==n&&null!=t.stateNode)Ha(n,t,s,o,r),n.ref!==t.ref&&(t.effectTag|=128);else if(o){var l=Lo(Do.current);if(Ea(t)){s=void 0,n=(o=t).stateNode;var u=o.type,c=o.memoizedProps;switch(n[ir]=o,n[or]=c,u){case"iframe":case"object":case"embed":xn("load",n);break;case"video":case"audio":for(var f=0;f<Qe.length;f++)xn(Qe[f],n);break;case"source":xn("error",n);break;case"img":case"image":case"link":xn("error",n),xn("load",n);break;case"form":xn("reset",n),xn("submit",n);break;case"details":xn("toggle",n);break;case"input":Ee(n,c),xn("invalid",n),zn(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!c.multiple},xn("invalid",n),zn(r,"onChange");break;case"textarea":Le(n,c),xn("invalid",n),zn(r,"onChange")}for(s in In(u,c),f=null,c)c.hasOwnProperty(s)&&(l=c[s],"children"===s?"string"===typeof l?n.textContent!==l&&(f=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(f=["children",""+l]):h.hasOwnProperty(s)&&null!=l&&zn(r,s));switch(u){case"input":Me(n),Ce(n,c,!0);break;case"textarea":Me(n),je(n);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(n.onclick=Fn)}r=f,o.updateQueue=r,null!==r&&$a(t)}else{c=s,n=o,u=t,f=9===r.nodeType?r:r.ownerDocument,l===ze.html&&(l=Fe(c)),l===ze.html?"script"===c?((c=f.createElement("div")).innerHTML="<script><\/script>",f=c.removeChild(c.firstChild)):"string"===typeof n.is?f=f.createElement(c,{is:n.is}):(f=f.createElement(c),"select"===c&&(c=f,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):f=f.createElementNS(l,c),(c=f)[ir]=u,c[or]=n,Ba(n=c,t,!1,!1),t.stateNode=n,l=r;var d=jn(s,o);switch(s){case"iframe":case"object":case"embed":xn("load",n),r=o;break;case"video":case"audio":for(r=0;r<Qe.length;r++)xn(Qe[r],n);r=o;break;case"source":xn("error",n),r=o;break;case"img":case"image":case"link":xn("error",n),xn("load",n),r=o;break;case"form":xn("reset",n),xn("submit",n),r=o;break;case"details":xn("toggle",n),r=o;break;case"input":Ee(n,o),r=Se(n,o),xn("invalid",n),zn(l,"onChange");break;case"option":r=De(n,o);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},r=i({},o,{value:void 0}),xn("invalid",n),zn(l,"onChange");break;case"textarea":Le(n,o),r=Re(n,o),xn("invalid",n),zn(l,"onChange");break;default:r=o}In(s,r),u=void 0,c=s,f=n;var p=r;for(u in p)if(p.hasOwnProperty(u)){var m=p[u];"style"===u?Rn(f,m):"dangerouslySetInnerHTML"===u?null!=(m=m?m.__html:void 0)&&He(f,m):"children"===u?"string"===typeof m?("textarea"!==c||""!==m)&&qe(f,m):"number"===typeof m&&qe(f,""+m):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(h.hasOwnProperty(u)?null!=m&&zn(l,u):null!=m&&we(f,u,m,d))}switch(s){case"input":Me(n),Ce(n,o,!1);break;case"textarea":Me(n),je(n);break;case"option":null!=o.value&&n.setAttribute("value",""+_e(o.value));break;case"select":r=n,n=o,r.multiple=!!n.multiple,null!=(u=n.value)?Pe(r,!!n.multiple,u,!1):null!=n.defaultValue&&Pe(r,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof r.onClick&&(n.onclick=Fn)}Kn(s,o)&&$a(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw a(Error(166));break;case 6:if(n&&null!=t.stateNode)qa(n,t,n.memoizedProps,o);else{if("string"!==typeof o&&null===t.stateNode)throw a(Error(166));s=Lo(Ro.current),Lo(Do.current),Ea(t)?(r=t.stateNode,o=t.memoizedProps,r[ir]=t,r.nodeValue!==o&&$a(t)):(r=t,(o=(9===s.nodeType?s:s.ownerDocument).createTextNode(o))[ir]=t,r.stateNode=o)}break;case 11:break;case 13:if(si(Bo),o=t.memoizedState,(64&t.effectTag)!==vt){t.expirationTime=r;break e}r=null!==o,o=!1,null===n?Ea(t):(o=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=s,s.nextEffect=u):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!o&&0!==(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?Ds===_s&&(Ds=Ms):(Ds!==_s&&Ds!==Ms||(Ds=Ts),0!==js&&null!==Os&&(Vl(Os,Ns),Wl(Os,js)))),(r||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:jo(),Ua(t);break;case 10:eo(t);break;case 9:case 14:break;case 17:pi(t.type)&&mi();break;case 19:if(si(Bo),null===(o=t.memoizedState))break;if(s=(64&t.effectTag)!==vt,null===(u=o.rendering)){if(s)Za(o,!1);else if(Ds!==_s||null!==n&&(64&n.effectTag)!==vt)for(n=t.child;null!==n;){if(null!==(u=Uo(n))){for(t.effectTag|=64,Za(o,!1),null!==(o=u.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),t.firstEffect=t.lastEffect=null,o=t.child;null!==o;)n=r,(s=o).effectTag&=yt,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childExpirationTime=0,s.expirationTime=n,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=u.childExpirationTime,s.expirationTime=u.expirationTime,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,n=u.dependencies,s.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),o=o.sibling;li(Bo,1&Bo.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Uo(u))){if(t.effectTag|=64,s=!0,Za(o,!0),null===o.tail&&"hidden"===o.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else Fi()>o.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,Za(o,!1),t.expirationTime=t.childExpirationTime=r-1);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=o.last)?r.sibling=u:t.child=u,o.last=u)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=Fi()+500),r=o.tail,o.rendering=r,o.tail=r.sibling,o.lastEffect=t.lastEffect,r.sibling=null,o=Bo.current,li(Bo,o=s?1&o|2:1&o),t=r;break e}break;case 20:case 21:break;default:throw a(Error(156),t.tag)}t=null}if(r=Cs,1===Ns||1!==r.childExpirationTime){for(o=0,s=r.child;null!==s;)(n=s.expirationTime)>o&&(o=n),(u=s.childExpirationTime)>o&&(o=u),s=s.sibling;r.childExpirationTime=o}if(null!==t)return t;null!==e&&(2048&e.effectTag)===vt&&(null===e.firstEffect&&(e.firstEffect=Cs.firstEffect),null!==Cs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Cs.firstEffect),e.lastEffect=Cs.lastEffect),1<Cs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Cs:e.firstEffect=Cs,e.lastEffect=Cs))}else{if(null!==(t=Ka(Cs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Cs.sibling))return t;Cs=e}while(null!==Cs);return Ds===_s&&(Ds=Ss),null}function wl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function kl(e){var t=Bi();return Hi(99,Ml.bind(null,e,t)),null}function Ml(e,t){if(Sl(),(As&(bs|xs))!==vs)throw a(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw a(Error(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=wl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Os&&(Cs=Os=null,Ns=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=As;As|=xs,gs.current=null,$n=bn;var s=qn();if(Vn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch(I){l=null;break e}var d=0,h=-1,p=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==c&&3!==v.nodeType||(h=d+c),v!==f||0!==u&&3!==v.nodeType||(p=d+u),3===v.nodeType&&(d+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++m===c&&(h=d),y===f&&++g===u&&(p=d),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;Zn={focusedElem:s,selectionRange:l},bn=!1,Us=i;do{try{Tl()}catch(I){if(null===Us)throw a(Error(330));Ol(Us,I),Us=Us.nextEffect}}while(null!==Us);Us=i;do{try{for(s=e,l=t;null!==Us;){var x=Us.effectTag;if(16&x&&qe(Us.stateNode,""),128&x){var _=Us.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(x&(12|yt|bt)){case yt:ss(Us),Us.effectTag&=~yt;break;case 6:ss(Us),Us.effectTag&=~yt,us(Us.alternate,Us);break;case bt:Us.effectTag&=~bt;break;case 1028:Us.effectTag&=~bt,us(Us.alternate,Us);break;case 4:us(Us.alternate,Us);break;case 8:ls(s,c=Us,l),os(c)}Us=Us.nextEffect}}catch(I){if(null===Us)throw a(Error(330));Ol(Us,I),Us=Us.nextEffect}}while(null!==Us);if(w=Zn,_=qn(),x=w.focusedElem,l=w.selectionRange,_!==x&&x&&x.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(x.ownerDocument.documentElement,x)){null!==l&&Vn(x)&&(_=l.start,void 0===(w=l.end)&&(w=_),"selectionStart"in x?(x.selectionStart=_,x.selectionEnd=Math.min(w,x.value.length)):(w=(_=x.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),c=x.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!w.extend&&s>l&&(c=l,l=s,s=c),c=Hn(x,s),f=Hn(x,l),c&&f&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==f.node||w.focusOffset!==f.offset)&&((_=_.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),s>l?(w.addRange(_),w.extend(f.node,f.offset)):(_.setEnd(f.node,f.offset),w.addRange(_))))),_=[];for(w=x;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof x.focus&&x.focus(),x=0;x<_.length;x++)(w=_[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Zn=null,bn=!!$n,$n=null,e.current=n,Us=i;do{try{for(x=r;null!==Us;){var k=Us.effectTag;if(36&k){var M=Us.alternate;switch(w=x,(_=Us).tag){case 0:case 11:case 15:rs(16,32,_);break;case 1:var T=_.stateNode;if(4&_.effectTag)if(null===M)T.componentDidMount();else{var S=_.elementType===_.type?M.memoizedProps:Gi(_.type,M.memoizedProps);T.componentDidUpdate(S,M.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var E=_.updateQueue;null!==E&&mo(0,E,T);break;case 3:var A=_.updateQueue;if(null!==A){if(s=null,null!==_.child)switch(_.child.tag){case 5:s=_.child.stateNode;break;case 1:s=_.child.stateNode}mo(0,A,s)}break;case 5:var O=_.stateNode;null===M&&4&_.effectTag&&(w=O,Kn(_.type,_.memoizedProps)&&w.focus());break;case 6:case 4:case 12:break;case 13:if(null===_.memoizedState){var C=_.alternate;if(null!==C){var N=C.memoizedState;if(null!==N){var D=N.dehydrated;null!==D&&gt(D)}}}break;case 19:case 17:case 20:case 21:break;default:throw a(Error(163))}}if(128&k){var P=(_=Us).ref;if(null!==P){var R=_.stateNode;switch(_.tag){case 5:var L=R;break;default:L=R}"function"===typeof P?P(L):P.current=L}}Us=Us.nextEffect}}catch(I){if(null===Us)throw a(Error(330));Ol(Us,I),Us=Us.nextEffect}}while(null!==Us);Us=null,Ri(),As=o}else e.current=n;if(Ws)Ws=!1,Ys=e,Gs=t;else for(Us=i;null!==Us;)t=Us.nextEffect,Us.nextEffect=null,Us=t;if(0===(t=e.firstPendingTime)&&(Vs=null),1073741823===t?e===Zs?$s++:($s=0,Zs=e):$s=0,"function"===typeof Dl&&Dl(n.stateNode,r),ol(e),Hs)throw Hs=!1,e=qs,qs=null,e;return(As&ys)!==vs?null:(Wi(),null)}function Tl(){for(;null!==Us;){var e=Us.effectTag;(256&e)!==vt&&ns(Us.alternate,Us),(512&e)===vt||Ws||(Ws=!0,qi(97,(function(){return Sl(),null}))),Us=Us.nextEffect}}function Sl(){if(90!==Gs){var e=97<Gs?97:Gs;return Gs=90,Hi(e,El)}}function El(){if(null===Ys)return!1;var e=Ys;if(Ys=null,(As&(bs|xs))!==vs)throw a(Error(331));var t=As;for(As|=xs,e=e.current.firstEffect;null!==e;){try{var n=e;if((512&n.effectTag)!==vt)switch(n.tag){case 0:case 11:case 15:rs(128,0,n),rs(0,64,n)}}catch(r){if(null===e)throw a(Error(330));Ol(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return As=t,Wi(),!0}function Al(e,t,n){uo(e,t=ds(e,t=Ja(n,t),1073741823)),null!==(e=rl(e,1073741823))&&ol(e)}function Ol(e,t){if(3===e.tag)Al(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Al(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vs||!Vs.has(r))){uo(n,e=hs(n,e=Ja(t,e),1073741823)),null!==(n=rl(n,1073741823))&&ol(n);break}}n=n.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Os===e&&Ns===n?Ds===Ts||Ds===Ms&&1073741823===Rs&&Fi()-Fs<Bs?hl(e,Ns):zs=!0:ql(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),ol(e)))}function Nl(e,t){var n=e.stateNode;null!==n&&n.delete(t),1===(t=1)&&(t=Qs(t=Js(),e,null)),null!==(e=rl(e,t))&&ol(e)}el=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||fi.current)Ca=!0;else{if(r<n){switch(Ca=!1,t.tag){case 3:Fa(t),Aa();break;case 5:if(zo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:pi(t.type)&&bi(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:Qi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Wa(e,t,n):(li(Bo,1&Bo.current),null!==(t=Xa(e,t,n))?t.sibling:null);li(Bo,1&Bo.current);break;case 19:if(r=t.childExpirationTime>=n,(64&e.effectTag)!==vt){if(r)return Ga(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),li(Bo,Bo.current),!r)return null}return Xa(e,t,n)}Ca=!1}}else Ca=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=yt),e=t.pendingProps,i=hi(t,ci.current),no(t,n),i=oa(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,aa(),pi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&bo(t,r,s,e),i.updater=xo,t.stateNode=i,i._reactInternalFiber=t,Mo(t,r,e,n),t=za(null,t,r,!0,o,n)}else t.tag=0,Na(null,t,i,n),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=yt),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Il(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===V)return 11;if(e===G)return 14}return 2}(i),e=Gi(i,e),o){case 0:t=Ia(null,t,i,e,n);break;case 1:t=ja(null,t,i,e,n);break;case 11:t=Da(null,t,i,e,n);break;case 14:t=Pa(null,t,i,Gi(i.type,e),r,n);break;default:throw a(Error(306),i,"")}return t;case 0:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 3:if(Fa(t),null===(r=t.updateQueue))throw a(Error(282));if(i=null!==(i=t.memoizedState)?i.element:null,po(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i)Aa(),t=Xa(e,t,n);else{if((i=t.stateNode.hydrate)&&(_a=tr(t.stateNode.containerInfo.firstChild),xa=t,i=wa=!0),i)for(n=Co(t,null,r,n),t.child=n;n;)n.effectTag=n.effectTag&~yt|bt,n=n.sibling;else Na(e,t,r,n),Aa();t=t.child}return t;case 5:return zo(t),null===e&&Ta(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Jn(r,i)?s=null:null!==o&&Jn(r,o)&&(t.effectTag|=16),La(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Na(e,t,s,n),t=t.child),t;case 6:return null===e&&Ta(t),null;case 13:return Wa(e,t,n);case 4:return Io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oo(t,null,r,n):Na(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:Gi(r,i),n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Qi(t,o=i.value),null!==s){var l=s.value;if(0===(o=Xr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!fi.current){t=Xa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=so(n,null)).tag=2,uo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Na(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Na(e,t,r,n),t.child;case 14:return o=Gi(i=t.type,t.pendingProps),Pa(e,t,i,o=Gi(i.type,o),r,n);case 15:return Ra(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Gi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=yt),t.tag=1,pi(r)?(e=!0,bi(t)):e=!1,no(t,n),wo(t,r,i),Mo(t,r,i,n),za(null,t,r,!0,e,n);case 19:return Ga(e,t,n)}throw a(Error(156),t.tag)};var Dl=null,Pl=null;function Rl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=vt,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ll(e,t,n,r){return new Rl(e,t,n,r)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var n=e.alternate;return null===n?((n=Ll(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=vt,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Il(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case z:return Fl(n.children,i,o,t);case q:s=8,i|=7;break;case F:s=8,i|=1;break;case B:return(e=Ll(12,n,t,8|i)).elementType=B,e.type=B,e.expirationTime=o,e;case W:return(e=Ll(13,n,t,i)).type=W,e.elementType=W,e.expirationTime=o,e;case Y:return(e=Ll(19,n,t,i)).elementType=Y,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case U:s=10;break e;case H:s=9;break e;case V:s=11;break e;case G:s=14;break e;case X:s=16,r=null;break e}throw a(Error(130),null==e?e:typeof e,"")}return(t=Ll(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Fl(e,t,n,r){return(e=Ll(7,e,r,t)).expirationTime=n,e}function Bl(e,t,n){return(e=Ll(6,e,null,t)).expirationTime=n,e}function Ul(e,t,n){return(t=Ll(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ql(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Vl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Wl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Yl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Gl(e,t,n,r,i,o){var s=t.current;e:if(n){t:{if(xt(n=n._reactInternalFiber)!==n||1!==n.tag)throw a(Error(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw a(Error(171))}if(1===n.tag){var u=n.type;if(pi(u)){n=yi(n,u,l);break e}}n=l}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,t=o,(i=so(r,i)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),uo(s,i),nl(s,r),r}function Xl(e,t,n,r){var i=t.current,o=Js(),a=vo.suspense;return Gl(e,t,n,i=Qs(o,i,a),a,r)}function $l(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Zl(e){var t=1073741821-25*(1+((1073741821-Js()+500)/25|0));t<=tl&&--t,this._expirationTime=tl=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Kl(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Jl(e,t,n){var r=new Hl(e,t,n=null!=n&&!0===n.hydrate),i=Ll(3,null,null,2===t?7:1===t?3:0);return r.current=i,i.stateNode=r,e[ar]=r.current,n&&0!==t&&function(e){var t=On(e);st.forEach((function(n){Cn(n,e,t)})),lt.forEach((function(n){Cn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),r}function Ql(e,t,n){this._internalRoot=Jl(e,t,n)}function eu(e,t){this._internalRoot=Jl(e,2,t)}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function nu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=$l(a);s.call(e)}}Xl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ql(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=$l(a);l.call(e)}}dl((function(){Xl(t,a,e,i)}))}return $l(a)}function ru(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tu(t))throw a(Error(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ee=function(e,t,n){switch(t){case"input":if(Oe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=cr(r);if(!i)throw a(Error(90));Te(r),Oe(r,i)}}}break;case"textarea":Ie(e,n);break;case"select":null!=(t=n.value)&&Pe(e,!!n.multiple,t,!1)}},Zl.prototype.render=function(e){if(!this._defer)throw a(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Kl;return Gl(e,t,null,n,null,r._onCommit),r},Zl.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Zl.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw a(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;if(null===r)throw a(Error(251));r._next=i._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,(As&(bs|xs))!==vs)throw a(Error(253));Yl(e,t),ol(e),Wi(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Zl.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Kl.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Kl.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)throw a(Error(191),n);n()}}},eu.prototype.render=Ql.prototype.render=function(e,t){var n=this._internalRoot,r=new Kl;return null!==(t=void 0===t?null:t)&&r.then(t),Xl(e,n,null,r._onCommit),r},eu.prototype.unmount=Ql.prototype.unmount=function(e){var t=this._internalRoot,n=new Kl;return null!==(e=void 0===e?null:e)&&n.then(e),Xl(null,t,null,n._onCommit),n},eu.prototype.createBatch=function(){var e=new Zl(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},ae=cl,se=fl,le=ll,ue=function(e,t){var n=As;As|=2;try{return e(t)}finally{(As=n)===vs&&Wi()}};var iu={createPortal:ru,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw a(Error(188));throw a(Error(268),Object.keys(e))}e=null===(e=wt(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!tu(t))throw a(Error(200));return nu(null,e,t,!0,n)},render:function(e,t,n){if(!tu(t))throw a(Error(200));return nu(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!tu(n))throw a(Error(200));if(null==e||void 0===e._reactInternalFiber)throw a(Error(38));return nu(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!tu(e))throw a(Error(40));return!!e._reactRootContainer&&(dl((function(){nu(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return ru.apply(void 0,arguments)},unstable_batchedUpdates:cl,unstable_interactiveUpdates:function(e,t,n,r){return ll(),fl(e,t,n,r)},unstable_discreteUpdates:fl,unstable_flushDiscreteUpdates:ll,flushSync:function(e,t){if((As&(bs|xs))!==vs)throw a(Error(187));var n=As;As|=1;try{return Hi(99,e.bind(null,t))}finally{As=n,Wi()}},unstable_createRoot:function(e,t){if(!tu(e))throw a(Error(299),"unstable_createRoot");return new eu(e,t)},unstable_createSyncRoot:function(e,t){if(!tu(e))throw a(Error(299),"unstable_createRoot");return new Ql(e,1,t)},unstable_flushControlled:function(e){var t=As;As|=1;try{Hi(99,e)}finally{(As=t)===vs&&Wi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[lr,ur,cr,N.injectEventPluginsByName,d,Ot,function(e){E(e,At)},ie,oe,Tn,C,Sl,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Dl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Pl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=wt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:sr,bundleType:0,version:"16.10.2",rendererPackageName:"react-dom"});var ou={default:iu},au=ou&&iu||ou;e.exports=au.default||au},4799:function(e,t,n){"use strict";e.exports=n(4800)},48:function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function o(e){return e.startAdornment}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}))},4800:function(e,t,n){"use strict";var r,i,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,p=window.setTimeout,m=window.clearTimeout,g=window.requestAnimationFrame,v=window.cancelAnimationFrame;if("undefined"!==typeof console&&("function"!==typeof g&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),"object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var y=h.now();t.unstable_now=function(){return h.now()-y}}var b=!1,x=null,_=-1,w=5,k=0;a=function(){return t.unstable_now()>=k},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):33.33};var M=new MessageChannel,T=M.port2;M.port1.onmessage=function(){if(null!==x){var e=t.unstable_now();k=e+w;try{x(!0,e)?T.postMessage(null):(b=!1,x=null)}catch(n){throw T.postMessage(null),n}}else b=!1},r=function(e){x=e,b||(b=!0,T.postMessage(null))},i=function(e,n){_=p((function(){e(t.unstable_now())}),n)},o=function(){m(_),_=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),i=e[r];if(!(void 0!==i&&0<O(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>O(a,n))void 0!==l&&0>O(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>O(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function O(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],N=[],D=1,P=null,R=3,L=!1,I=!1,j=!1;function z(e){for(var t=E(N);null!==t;){if(null===t.callback)A(N);else{if(!(t.startTime<=e))break;A(N),t.sortIndex=t.expirationTime,S(C,t)}t=E(N)}}function F(e){if(j=!1,z(e),!I)if(null!==E(C))I=!0,r(B);else{var t=E(N);null!==t&&i(F,t.startTime-e)}}function B(e,n){I=!1,j&&(j=!1,o()),L=!0;var r=R;try{for(z(n),P=E(C);null!==P&&(!(P.expirationTime>n)||e&&!a());){var s=P.callback;if(null!==s){P.callback=null,R=P.priorityLevel;var l=s(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?P.callback=l:P===E(C)&&A(C),z(n)}else A(C);P=E(C)}if(null!==P)var u=!0;else{var c=E(N);null!==c&&i(F,c.startTime-n),u=!1}return u}finally{P=null,R=r,L=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var H=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:D++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(N,e),null===E(C)&&e===E(N)&&(j?o():j=!0,i(F,l-s))):(e.sortIndex=a,S(C,e),I||L||(I=!0,r(B))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_shouldYield=function(){var e=t.unstable_now();z(e);var n=E(C);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||a()},t.unstable_requestPaint=H,t.unstable_continueExecution=function(){I||L||(I=!0,r(B))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_Profiling=null},4801:function(e,t,n){"use strict";var r=n(4802);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},4802:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4803:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case u:return e;default:return t}}case v:case g:case o:return t}}}function w(e){return _(e)===d}t.typeOf=_,t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===l||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x)},t.isAsyncMode=function(e){return w(e)||_(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p}},4804:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},4805:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},4806:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return h})),n.d(t,"__read",(function(){return p})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return y})),n.d(t,"__asyncDelegator",(function(){return b})),n.d(t,"__asyncValues",(function(){return x})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return w})),n.d(t,"__importDefault",(function(){return k}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}},4807:function(e,t,n){},4808:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(0)),i=o(n(65));function o(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=r.default.memo(r.default.forwardRef((function(t,n){return r.default.createElement(i.default,a({},t,{ref:n}),r.default.createElement("path",{d:e}))})));return t.muiName="SvgIcon",t}},4809:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4810:function(e,t,n){var r=n(4811)("defaultsDeep",n(4924));r.placeholder=n(123),e.exports=r},4811:function(e,t,n){var r=n(4812),i=n(4814);e.exports=function(e,t,n){return r(i,e,t,n)}},4812:function(e,t,n){var r=n(4813),i=n(123),o=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function l(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=t.apply(void 0,r);return e.apply(void 0,r),i}}}e.exports=function e(t,n,u,c){var f="function"==typeof n,d=n===Object(n);if(d&&(c=u,u=n,n=void 0),null==u)throw new TypeError;c||(c={});var h={cap:!("cap"in c)||c.cap,curry:!("curry"in c)||c.curry,fixed:!("fixed"in c)||c.fixed,immutable:!("immutable"in c)||c.immutable,rearg:!("rearg"in c)||c.rearg},p=f?u:i,m="curry"in c&&c.curry,g="fixed"in c&&c.fixed,v="rearg"in c&&c.rearg,y=f?u.runInContext():void 0,b=f?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},x=b.ary,_=b.assign,w=b.clone,k=b.curry,M=b.forEach,T=b.isArray,S=b.isError,E=b.isFunction,A=b.isWeakMap,O=b.keys,C=b.rearg,N=b.toInteger,D=b.toPath,P=O(r.aryMethod),R={castArray:function(e){return function(){var t=arguments[0];return T(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),i=r.length;return h.cap&&"number"==typeof n?(n=n>2?n-2:1,i&&i<=n?r:a(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!E(n))return e(n,Object(t));var r=[];return M(O(t),(function(e){E(t[e])&&r.push([e,n.prototype[e]])})),e(n,Object(t)),M(r,(function(e){var t=e[1];E(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:N(t)+1;return k(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return k(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),c)}}};function L(e,t){if(h.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return B(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(C(a(e,n),t),n)}))}(t,n);var i=!f&&r.iterateeAry[e];if(i)return function(e,t){return B(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,i)}return t}function I(e,t,n){if(h.fixed&&(g||!r.skipFixed[e])){var i=r.methodSpread[e],a=i&&i.start;return void 0===a?x(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var a=i[t],s=i.slice(0,t);return a&&o.apply(s,a),t!=r&&o.apply(s,i.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function j(e,t,n){return h.rearg&&n>1&&(v||!r.skipRearg[e])?C(t,r.methodRearg[e]||r.aryRearg[n]):t}function z(e,t){for(var n=-1,r=(t=D(t)).length,i=r-1,o=w(Object(e)),a=o;null!=a&&++n<r;){var s=t[n],l=a[s];null==l||E(l)||S(l)||A(l)||(a[s]=w(n==i?l:Object(l))),a=a[s]}return o}function F(t,n){var i=r.aliasToReal[t]||t,o=r.remap[i]||i,a=c;return function(t){var r=f?y:b,s=f?y[o]:n,l=_(_({},a),t);return e(r,i,s,l)}}function B(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var i=h.rearg?0:n-1;return r[i]=t(r[i]),e.apply(void 0,r)}}function U(e,t,n){var i,o=r.aliasToReal[e]||e,a=t,u=R[o];return u?a=u(t):h.immutable&&(r.mutate.array[o]?a=l(t,s):r.mutate.object[o]?a=l(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[o]&&(a=l(t,z))),M(P,(function(e){return M(r.aryMethod[e],(function(t){if(o==t){var n=r.methodSpread[o],s=n&&n.afterRearg;return i=s?I(o,j(o,a,e),e):j(o,I(o,a,e),e),i=function(e,t,n){return m||h.curry&&n>1?k(t,n):t}(0,i=L(o,i),e),!1}})),!i})),i||(i=a),i==t&&(i=m?k(i,1):function(){return t.apply(this,arguments)}),i.convert=F(o,t),i.placeholder=t.placeholder=n,i}if(!d)return U(n,u,p);var H=u,q=[];return M(P,(function(e){M(r.aryMethod[e],(function(e){var t=H[r.remap[e]||e];t&&q.push([e,U(e,t,H)])}))})),M(O(H),(function(e){var t=H[e];if("function"==typeof t){for(var n=q.length;n--;)if(q[n][0]==e)return;t.convert=F(e,t),q.push([e,t])}})),M(q,(function(e){H[e[0]]=e[1]})),H.convert=function(e){return H.runInContext.convert(e)(void 0)},H.placeholder=H,M(O(H),(function(e){M(r.realToAlias[e]||[],(function(t){H[t]=H[e]}))})),H}},4813:function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},4814:function(e,t,n){e.exports={ary:n(4815),assign:n(142),clone:n(4850),curry:n(4892),forEach:n(95),isArray:n(19),isError:n(4893),isFunction:n(68),isWeakMap:n(4894),iteratee:n(4895),keys:n(145),rearg:n(4919),toInteger:n(141),toPath:n(4923)}},4815:function(e,t,n){var r=n(91),i=128;e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,i,void 0,void 0,void 0,void 0,t)}},4816:function(e,t,n){var r=n(68),i=n(4819),o=n(22),a=n(128),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},4817:function(e,t,n){var r=n(53),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4818:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},4819:function(e,t,n){var r=n(4820),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},4820:function(e,t,n){var r=n(18)["__core-js_shared__"];e.exports=r},4821:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},4822:function(e,t,n){var r=n(69),i=n(18),o=1;e.exports=function(e,t,n){var a=t&o,s=r(e);return function t(){return(this&&this!==i&&this instanceof t?s:e).apply(a?n:this,arguments)}}},4823:function(e,t,n){var r=n(71),i=n(69),o=n(129),a=n(132),s=n(140),l=n(96),u=n(18);e.exports=function(e,t,n){var c=i(e);return function i(){for(var f=arguments.length,d=Array(f),h=f,p=s(i);h--;)d[h]=arguments[h];var m=f<3&&d[0]!==p&&d[f-1]!==p?[]:l(d,p);return(f-=m.length)<n?a(e,t,o,i.placeholder,void 0,d,m,void 0,void 0,n-f):r(this&&this!==u&&this instanceof i?c:e,this,d)}}},4824:function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},4825:function(e,t,n){var r=n(92),i=n(133),o=n(4827),a=n(4829);e.exports=function(e){var t=o(e),n=a[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=i(n);return!!s&&e===s[0]}},4826:function(e,t){e.exports=function(){}},4827:function(e,t,n){var r=n(4828),i=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=i.call(r,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},4828:function(e,t){e.exports={}},4829:function(e,t,n){var r=n(92),i=n(134),o=n(93),a=n(19),s=n(23),l=n(4830),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return l(e)}return new i(e)}c.prototype=o.prototype,c.prototype.constructor=c,e.exports=c},4830:function(e,t,n){var r=n(92),i=n(134),o=n(55);e.exports=function(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},4831:function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},4832:function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},4833:function(e,t,n){var r=n(4834),i=n(138),o=n(67),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},4834:function(e,t){e.exports=function(e){return function(){return e}}},4835:function(e,t,n){var r=n(95),i=n(139),o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(o,(function(n){var r="_."+n[0];t&n[1]&&!i(e,r)&&e.push(r)})),e.sort()}},4836:function(e,t,n){var r=n(4837),i=n(4838),o=n(4839);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},4837:function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},4838:function(e,t){e.exports=function(e){return e!==e}},4839:function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4840:function(e,t,n){var r=n(55),i=n(72),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=r(e);a--;){var l=t[a];e[a]=i(l,n)?s[l]:void 0}return e}},4841:function(e,t,n){var r=n(71),i=n(69),o=n(18),a=1;e.exports=function(e,t,n,s){var l=t&a,u=i(e);return function t(){for(var i=-1,a=arguments.length,c=-1,f=s.length,d=Array(f+a),h=this&&this!==o&&this instanceof t?u:e;++c<f;)d[c]=s[c];for(;a--;)d[c++]=arguments[++i];return r(h,l?n:this,d)}}},4842:function(e,t,n){var r=n(130),i=n(131),o=n(96),a="__lodash_placeholder__",s=1,l=2,u=4,c=8,f=128,d=256,h=Math.min;e.exports=function(e,t){var n=e[1],p=t[1],m=n|p,g=m<(s|l|f),v=p==f&&n==c||p==f&&n==d&&e[7].length<=t[8]||p==(f|d)&&t[7].length<=t[8]&&n==c;if(!g&&!v)return e;p&s&&(e[2]=t[2],m|=n&s?0:u);var y=t[3];if(y){var b=e[3];e[3]=b?r(b,y,t[4]):y,e[4]=b?o(e[3],a):t[4]}return(y=t[5])&&(b=e[5],e[5]=b?i(b,y,t[6]):y,e[6]=b?o(e[5],a):t[6]),(y=t[7])&&(e[7]=y),p&f&&(e[8]=null==e[8]?t[8]:h(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}},4843:function(e,t,n){var r=n(4844),i=1/0,o=17976931348623157e292;e.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*o:e===e?e:0:0===e?e:0}},4844:function(e,t,n){var r=n(22),i=n(56),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}},4845:function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},4846:function(e,t,n){var r=n(45),i=n(23),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},4847:function(e,t){e.exports=function(){return!1}},4848:function(e,t,n){var r=n(45),i=n(99),o=n(23),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},4849:function(e,t,n){var r=n(146)(Object.keys,Object);e.exports=r},4850:function(e,t,n){var r=n(147),i=4;e.exports=function(e){return r(e,i)}},4851:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},4852:function(e,t,n){var r=n(80),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4853:function(e,t,n){var r=n(80);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4854:function(e,t,n){var r=n(80);e.exports=function(e){return r(this.__data__,e)>-1}},4855:function(e,t,n){var r=n(80);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4856:function(e,t,n){var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},4857:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4858:function(e,t){e.exports=function(e){return this.__data__.get(e)}},4859:function(e,t){e.exports=function(e){return this.__data__.has(e)}},4860:function(e,t,n){var r=n(79),i=n(102),o=n(103),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},4861:function(e,t,n){var r=n(4862),i=n(79),o=n(102);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},4862:function(e,t,n){var r=n(4863),i=n(4864),o=n(4865),a=n(4866),s=n(4867);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},4863:function(e,t,n){var r=n(81);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},4864:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},4865:function(e,t,n){var r=n(81),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},4866:function(e,t,n){var r=n(81),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},4867:function(e,t,n){var r=n(81),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},4868:function(e,t,n){var r=n(82);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},4869:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4870:function(e,t,n){var r=n(82);e.exports=function(e){return r(this,e).get(e)}},4871:function(e,t,n){var r=n(82);e.exports=function(e){return r(this,e).has(e)}},4872:function(e,t,n){var r=n(82);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},4873:function(e,t,n){var r=n(57),i=n(83);e.exports=function(e,t){return e&&r(t,i(t),e)}},4874:function(e,t,n){var r=n(22),i=n(101),o=n(4875),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},4875:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},4876:function(e,t,n){var r=n(57),i=n(104);e.exports=function(e,t){return r(e,i(e),t)}},4877:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},4878:function(e,t,n){var r=n(57),i=n(150);e.exports=function(e,t){return r(e,i(e),t)}},4879:function(e,t,n){var r=n(152),i=n(150),o=n(83);e.exports=function(e){return r(e,o,i)}},4880:function(e,t,n){var r=n(44)(n(18),"DataView");e.exports=r},4881:function(e,t,n){var r=n(44)(n(18),"Promise");e.exports=r},4882:function(e,t,n){var r=n(44)(n(18),"Set");e.exports=r},4883:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},4884:function(e,t,n){var r=n(107),i=n(4885),o=n(4886),a=n(4887),s=n(154),l="[object Boolean]",u="[object Date]",c="[object Map]",f="[object Number]",d="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",k="[object Uint8Array]",M="[object Uint8ClampedArray]",T="[object Uint16Array]",S="[object Uint32Array]";e.exports=function(e,t,n){var E=e.constructor;switch(t){case g:return r(e);case l:case u:return new E(+e);case v:return i(e,n);case y:case b:case x:case _:case w:case k:case M:case T:case S:return s(e,n);case c:return new E;case f:case p:return new E(e);case d:return o(e);case h:return new E;case m:return a(e)}}},4885:function(e,t,n){var r=n(107);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},4886:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},4887:function(e,t,n){var r=n(53),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},4888:function(e,t,n){var r=n(4889),i=n(76),o=n(100),a=o&&o.isMap,s=a?i(a):r;e.exports=s},4889:function(e,t,n){var r=n(59),i=n(23),o="[object Map]";e.exports=function(e){return i(e)&&r(e)==o}},4890:function(e,t,n){var r=n(4891),i=n(76),o=n(100),a=o&&o.isSet,s=a?i(a):r;e.exports=s},4891:function(e,t,n){var r=n(59),i=n(23),o="[object Set]";e.exports=function(e){return i(e)&&r(e)==o}},4892:function(e,t,n){var r=n(91),i=8;function o(e,t,n){var a=r(e,i,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return a.placeholder=o.placeholder,a}o.placeholder={},e.exports=o},4893:function(e,t,n){var r=n(45),i=n(23),o=n(156),a="[object DOMException]",s="[object Error]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==s||t==a||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}},4894:function(e,t,n){var r=n(59),i=n(23),o="[object WeakMap]";e.exports=function(e){return i(e)&&r(e)==o}},4895:function(e,t,n){var r=n(147),i=n(4896),o=1;e.exports=function(e){return i("function"==typeof e?e:r(e,o))}},4896:function(e,t,n){var r=n(4897),i=n(4908),o=n(67),a=n(19),s=n(4916);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},4897:function(e,t,n){var r=n(4898),i=n(4907),o=n(161);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4898:function(e,t,n){var r=n(78),i=n(108),o=1,a=2;e.exports=function(e,t,n,s){var l=n.length,u=l,c=!s;if(null==e)return!u;for(e=Object(e);l--;){var f=n[l];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++l<u;){var d=(f=n[l])[0],h=e[d],p=f[1];if(c&&f[2]){if(void 0===h&&!(d in e))return!1}else{var m=new r;if(s)var g=s(h,p,d,e,t,m);if(!(void 0===g?i(p,h,o|a,s,m):g))return!1}}return!0}},4899:function(e,t,n){var r=n(78),i=n(157),o=n(4903),a=n(4906),s=n(59),l=n(19),u=n(75),c=n(98),f=1,d="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,y){var b=l(e),x=l(t),_=b?h:s(e),w=x?h:s(t),k=(_=_==d?p:_)==p,M=(w=w==d?p:w)==p,T=_==w;if(T&&u(e)){if(!u(t))return!1;b=!0,k=!1}if(T&&!k)return y||(y=new r),b||c(e)?i(e,t,n,g,v,y):o(e,t,_,n,g,v,y);if(!(n&f)){var S=k&&m.call(e,"__wrapped__"),E=M&&m.call(t,"__wrapped__");if(S||E){var A=S?e.value():e,O=E?t.value():t;return y||(y=new r),v(A,O,n,g,y)}}return!!T&&(y||(y=new r),a(e,t,n,g,v,y))}},49:function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},4900:function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},4901:function(e,t){e.exports=function(e){return this.__data__.has(e)}},4902:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4903:function(e,t,n){var r=n(53),i=n(153),o=n(58),a=n(157),s=n(4904),l=n(4905),u=1,c=2,f="[object Boolean]",d="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",_="[object DataView]",w=r?r.prototype:void 0,k=w?w.valueOf:void 0;e.exports=function(e,t,n,r,w,M,T){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!M(new i(e),new i(t)));case f:case d:case m:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case p:var S=s;case v:var E=r&u;if(S||(S=l),e.size!=t.size&&!E)return!1;var A=T.get(e);if(A)return A==t;r|=c,T.set(e,t);var O=a(S(e),S(t),r,w,M,T);return T.delete(e),O;case b:if(k)return k.call(e)==k.call(t)}return!1}},4904:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4905:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},4906:function(e,t,n){var r=n(151),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,l){var u=n&i,c=r(e),f=c.length;if(f!=r(t).length&&!u)return!1;for(var d=f;d--;){var h=c[d];if(!(u?h in t:o.call(t,h)))return!1}var p=l.get(e);if(p&&l.get(t))return p==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=u;++d<f;){var v=e[h=c[d]],y=t[h];if(a)var b=u?a(y,v,h,t,e,l):a(v,y,h,e,t,l);if(!(void 0===b?v===y||s(v,y,n,a,l):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,_=t.constructor;x!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return l.delete(e),l.delete(t),m}},4907:function(e,t,n){var r=n(160),i=n(73);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},4908:function(e,t,n){var r=n(108),i=n(4909),o=n(4913),a=n(109),s=n(160),l=n(161),u=n(60),c=1,f=2;e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,c|f)}}},4909:function(e,t,n){var r=n(162);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},4910:function(e,t,n){var r=n(4911),i=500;e.exports=function(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}},4911:function(e,t,n){var r=n(103),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},4912:function(e,t,n){var r=n(53),i=n(110),o=n(19),a=n(56),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},4913:function(e,t,n){var r=n(4914),i=n(4915);e.exports=function(e,t){return null!=e&&i(e,t,r)}},4914:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},4915:function(e,t,n){var r=n(163),i=n(74),o=n(19),a=n(72),s=n(99),l=n(60);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(o(e)||i(e))}},4916:function(e,t,n){var r=n(4917),i=n(4918),o=n(109),a=n(60);e.exports=function(e){return o(e)?r(a(e)):i(e)}},4917:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4918:function(e,t,n){var r=n(162);e.exports=function(e){return function(t){return r(t,e)}}},4919:function(e,t,n){var r=n(91),i=n(4920),o=i((function(e,t){return r(e,256,void 0,void 0,void 0,t)}));e.exports=o},4920:function(e,t,n){var r=n(4921),i=n(167),o=n(94);e.exports=function(e){return o(i(e,void 0,r),e+"")}},4921:function(e,t,n){var r=n(166);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},4922:function(e,t,n){var r=n(53),i=n(74),o=n(19),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},4923:function(e,t,n){var r=n(110),i=n(55),o=n(19),a=n(56),s=n(164),l=n(60),u=n(165);e.exports=function(e){return o(e)?r(e,l):a(e)?[e]:i(s(u(e)))}},4924:function(e,t,n){var r=n(71),i=n(111),o=n(4925),a=n(4930),s=i((function(e){return e.push(void 0,o),r(a,void 0,e)}));e.exports=s},4925:function(e,t,n){var r=n(168),i=n(22);e.exports=function e(t,n,o,a,s,l){return i(t)&&i(n)&&(l.set(n,t),r(t,n,void 0,e,l),l.delete(n)),t}},4926:function(e,t,n){var r=n(4927)();e.exports=r},4927:function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},4928:function(e,t,n){var r=n(169),i=n(148),o=n(154),a=n(55),s=n(155),l=n(74),u=n(19),c=n(170),f=n(75),d=n(68),h=n(22),p=n(156),m=n(98),g=n(171),v=n(4929);e.exports=function(e,t,n,y,b,x,_){var w=g(e,n),k=g(t,n),M=_.get(k);if(M)r(e,n,M);else{var T=x?x(w,k,n+"",e,t,_):void 0,S=void 0===T;if(S){var E=u(k),A=!E&&f(k),O=!E&&!A&&m(k);T=k,E||A||O?u(w)?T=w:c(w)?T=a(w):A?(S=!1,T=i(k,!0)):O?(S=!1,T=o(k,!0)):T=[]:p(k)||l(k)?(T=w,l(w)?T=v(w):h(w)&&!d(w)||(T=s(k))):S=!1}S&&(_.set(k,T),b(T,k,y,x,_),_.delete(k)),r(e,n,T)}}},4929:function(e,t,n){var r=n(57),i=n(83);e.exports=function(e){return r(e,i(e))}},4930:function(e,t,n){var r=n(168),i=n(4931)((function(e,t,n,i){r(e,t,n,i)}));e.exports=i},4931:function(e,t,n){var r=n(111),i=n(4932);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}},4932:function(e,t,n){var r=n(58),i=n(77),o=n(72),a=n(22);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},4933:function(e,t,n){var r=n(108);e.exports=function(e,t){return r(e,t)}},4934:function(e,t,n){var r=n(4935),i=n(166),o=n(111),a=n(170),s=n(4937),l=o((function(e,t){var n=s(t);return a(n)&&(n=void 0),a(e)?r(e,i(t,1,a,!0),void 0,n):[]}));e.exports=l},4935:function(e,t,n){var r=n(158),i=n(139),o=n(4936),a=n(110),s=n(76),l=n(159),u=200;e.exports=function(e,t,n,c){var f=-1,d=i,h=!0,p=e.length,m=[],g=t.length;if(!p)return m;n&&(t=a(t,s(n))),c?(d=o,h=!1):t.length>=u&&(d=l,h=!1,t=new r(t));e:for(;++f<p;){var v=e[f],y=null==n?v:n(v);if(v=c||0!==v?v:0,h&&y===y){for(var b=g;b--;)if(t[b]===y)continue e;m.push(v)}else d(t,y,c)||m.push(v)}return m}},4936:function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},4937:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4938:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"DOMutil",(function(){return tc})),n.d(t,"DataSet",(function(){return ji})),n.d(t,"DataView",(function(){return zi})),n.d(t,"Hammer",(function(){return Rs})),n.d(t,"Network",(function(){return Yu})),n.d(t,"Queue",(function(){return Ci})),n.d(t,"data",(function(){return Bi})),n.d(t,"keycharm",(function(){return Eo})),n.d(t,"moment",(function(){return ic})),n.d(t,"network",(function(){return oc})),n.d(t,"util",(function(){return Zr}));"undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof e&&("undefined"==typeof self||self):window:globalThis;function r(e,t){return e(t={exports:{}},t.exports),t.exports}var i=r((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),o=r((function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)})),a=(o.version,r((function(e){var t=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0===n?{}:n)})("versions",[]).push({version:o.version,mode:"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})}))),s=0,l=Math.random(),u=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++s+l).toString(36))},c=r((function(e){var t=a("wks"),n=i.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:u)("Symbol."+e))}).store=t})),f={f:c},d=function(e){return"object"==typeof e?null!==e:"function"==typeof e},h=function(e){if(!d(e))throw TypeError(e+" is not an object!");return e},p=function(e){try{return!!e()}catch(t){return!0}},m=!p((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),g=i.document,v=d(g)&&d(g.createElement),y=function(e){return v?g.createElement(e):{}},b=!m&&!p((function(){return 7!=Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a})),x=function(e,t){if(!d(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!d(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!d(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!d(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},_=Object.defineProperty,w={f:m?Object.defineProperty:function(e,t,n){if(h(e),t=x(t,!0),h(n),b)try{return _(e,t,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},k=w.f,M=function(e){var t=o.Symbol||(o.Symbol=i.Symbol||{});"_"==e.charAt(0)||e in t||k(t,e,{value:f.f(e)})};M("asyncIterator");var T={}.hasOwnProperty,S=function(e,t){return T.call(e,t)},E=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},A=m?function(e,t,n){return w.f(e,t,E(1,n))}:function(e,t,n){return e[t]=n,e},O=a("native-function-to-string",Function.toString),C=r((function(e){var t=u("src"),n="toString",r=(""+O).split(n);o.inspectSource=function(e){return O.call(e)},(e.exports=function(e,n,o,a){var s="function"==typeof o;s&&(S(o,"name")||A(o,"name",n)),e[n]===o||(s&&(S(o,t)||A(o,t,e[n]?""+e[n]:r.join(n+""))),e===i?e[n]=o:a?e[n]?e[n]=o:A(e,n,o):(delete e[n],A(e,n,o)))})(Function.prototype,n,(function(){return"function"==typeof this&&this[t]||O.call(this)}))})),N=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},D=function(e,t,n){return N(e),void 0===t?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:3===n?function(n,r,i){return e.call(t,n,r,i)}:function(){return e.apply(t,arguments)}},P=function e(t,n,r){var a,s,l,u,c=t&e.F,f=t&e.G,d=t&e.P,h=t&e.B,p=f?i:t&e.S?i[n]||(i[n]={}):(i[n]||{}).prototype,m=f?o:o[n]||(o[n]={}),g=m.prototype||(m.prototype={});for(a in f&&(r=n),r)l=((s=!c&&p&&void 0!==p[a])?p:r)[a],u=h&&s?D(l,i):d&&"function"==typeof l?D(Function.call,l):l,p&&C(p,a,l,t&e.U),m[a]!=l&&A(m,a,u),d&&g[a]!=l&&(g[a]=l)};i.core=o,P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128;var R,L=P,I=r((function(e){var t=u("meta"),n=w.f,r=0,i=Object.isExtensible||function(){return!0},o=!p((function(){return i(Object.preventExtensions({}))})),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},s=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!d(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!S(e,t)){if(!i(e))return"F";if(!n)return"E";a(e)}return e[t].i},getWeak:function(e,n){if(!S(e,t)){if(!i(e))return!0;if(!n)return!1;a(e)}return e[t].w},onFreeze:function(e){return o&&s.NEED&&i(e)&&!S(e,t)&&a(e),e}}})),j=(I.KEY,I.NEED,I.fastKey,I.getWeak,I.onFreeze,w.f),z=c("toStringTag"),F=function(e,t,n){e&&!S(e=n?e:e.prototype,z)&&j(e,z,{configurable:!0,value:t})},B={}.toString,U=function(e){return B.call(e).slice(8,-1)},H=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==U(e)?e.split(""):Object(e)},q=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},V=function(e){return H(q(e))},W=Math.ceil,Y=Math.floor,G=function(e){return isNaN(e=+e)?0:(0<e?Y:W)(e)},X=Math.min,$=function(e){return 0<e?X(G(e),9007199254740991):0},Z=Math.max,K=Math.min,J=a("keys"),Q=function(e){return J[e]||(J[e]=u(e))},ee=(R=!1,function(e,t,n){var r,i=V(e),o=$(i.length),a=function(e,t){return 0>(e=G(e))?Z(e+t,0):K(e,t)}(n,o);if(R&&t!=t){for(;o>a;)if((r=i[a++])!=r)return!0}else for(;o>a;a++)if((R||a in i)&&i[a]===t)return R||a||0;return!R&&-1}),te=Q("IE_PROTO"),ne=function(e,t){var n,r=V(e),i=0,o=[];for(n in r)n!=te&&S(r,n)&&o.push(n);for(;t.length>i;)S(r,n=t[i++])&&(~ee(o,n)||o.push(n));return o},re=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ie=Object.keys||function(e){return ne(e,re)},oe={f:Object.getOwnPropertySymbols},ae={f:{}.propertyIsEnumerable},se=Array.isArray||function(e){return"Array"==U(e)},le=function(e){return Object(q(e))},ue=m?Object.defineProperties:function(e,t){h(e);for(var n,r=ie(t),i=r.length,o=0;i>o;)w.f(e,n=r[o++],t[n]);return e},ce=i.document,fe=ce&&ce.documentElement,de=Q("IE_PROTO"),he=function(){},pe=function(){var e,t=y("iframe"),n=re.length;for(t.style.display="none",fe.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),pe=e.F;n--;)delete pe.prototype[re[n]];return pe()},me=Object.create||function(e,t){var n;return null===e?n=pe():(he.prototype=h(e),n=new he,he.prototype=null,n[de]=e),void 0===t?n:ue(n,t)},ge=re.concat("length","prototype"),ve={f:Object.getOwnPropertyNames||function(e){return ne(e,ge)}},ye=ve.f,be={}.toString,xe="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],_e={f:function(e){return xe&&"[object Window]"==be.call(e)?function(e){try{return ye(e)}catch(t){return xe.slice()}}(e):ye(V(e))}},we=Object.getOwnPropertyDescriptor,ke={f:m?we:function(e,t){if(e=V(e),t=x(t,!0),b)try{return we(e,t)}catch(t){}return S(e,t)?E(!ae.f.call(e,t),e[t]):void 0}},Me=I.KEY,Te=ke.f,Se=w.f,Ee=_e.f,Ae=i.Symbol,Oe=i.JSON,Ce=Oe&&Oe.stringify,Ne=c("_hidden"),De=c("toPrimitive"),Pe={}.propertyIsEnumerable,Re=a("symbol-registry"),Le=a("symbols"),Ie=a("op-symbols"),je=Object.prototype,ze="function"==typeof Ae&&!!oe.f,Fe=i.QObject,Be=!Fe||!Fe.prototype||!Fe.prototype.findChild,Ue=m&&p((function(){return 7!=me(Se({},"a",{get:function(){return Se(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Te(je,t);r&&delete je[t],Se(e,t,n),r&&e!==je&&Se(je,t,r)}:Se,He=function(e){var t=Le[e]=me(Ae.prototype);return t._k=e,t},qe=ze&&"symbol"==typeof Ae.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof Ae},Ve=function e(t,n,r){return t===je&&e(Ie,n,r),h(t),n=x(n,!0),h(r),S(Le,n)?(r.enumerable?(S(t,Ne)&&t[Ne][n]&&(t[Ne][n]=!1),r=me(r,{enumerable:E(0,!1)})):(!S(t,Ne)&&Se(t,Ne,E(1,{})),t[Ne][n]=!0),Ue(t,n,r)):Se(t,n,r)},We=function(e,t){h(e);for(var n,r=function(e){var t=ie(e),n=oe.f;if(n)for(var r,i=n(e),o=ae.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}(t=V(t)),i=0,o=r.length;o>i;)Ve(e,n=r[i++],t[n]);return e},Ye=function(e){var t=Pe.call(this,e=x(e,!0));return(this!==je||!S(Le,e)||S(Ie,e))&&(!(t||!S(this,e)||!S(Le,e)||S(this,Ne)&&this[Ne][e])||t)},Ge=function(e,t){if(e=V(e),t=x(t,!0),e!==je||!S(Le,t)||S(Ie,t)){var n=Te(e,t);return n&&S(Le,t)&&!(S(e,Ne)&&e[Ne][t])&&(n.enumerable=!0),n}},Xe=function(e){for(var t,n=Ee(V(e)),r=[],i=0;n.length>i;)S(Le,t=n[i++])||t==Ne||t==Me||r.push(t);return r},$e=function(e){for(var t,n=e===je,r=Ee(n?Ie:V(e)),i=[],o=0;r.length>o;)S(Le,t=r[o++])&&(!n||S(je,t))&&i.push(Le[t]);return i};ze||(C((Ae=function(){if(this instanceof Ae)throw TypeError("Symbol is not a constructor!");var e=u(0<arguments.length?arguments[0]:void 0),t=function t(n){this===je&&t.call(Ie,n),S(this,Ne)&&S(this[Ne],e)&&(this[Ne][e]=!1),Ue(this,e,E(1,n))};return m&&Be&&Ue(je,e,{configurable:!0,set:t}),He(e)}).prototype,"toString",(function(){return this._k})),ke.f=Ge,w.f=Ve,ve.f=_e.f=Xe,ae.f=Ye,oe.f=$e,m&&C(je,"propertyIsEnumerable",Ye,!0),f.f=function(e){return He(c(e))}),L(L.G+L.W+L.F*!ze,{Symbol:Ae});for(var Ze=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],Ke=0;Ze.length>Ke;)c(Ze[Ke++]);for(var Je=ie(c.store),Qe=0;Je.length>Qe;)M(Je[Qe++]);L(L.S+L.F*!ze,"Symbol",{for:function(e){return S(Re,e+="")?Re[e]:Re[e]=Ae(e)},keyFor:function(e){if(!qe(e))throw TypeError(e+" is not a symbol!");for(var t in Re)if(Re[t]===e)return t},useSetter:function(){Be=!0},useSimple:function(){Be=!1}}),L(L.S+L.F*!ze,"Object",{create:function(e,t){return void 0===t?me(e):We(me(e),t)},defineProperty:Ve,defineProperties:We,getOwnPropertyDescriptor:Ge,getOwnPropertyNames:Xe,getOwnPropertySymbols:$e});var et=p((function(){oe.f(1)}));function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function it(e){return function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}L(L.S+L.F*et,"Object",{getOwnPropertySymbols:function(e){return oe.f(le(e))}}),Oe&&L(L.S+L.F*(!ze||p((function(){var e=Ae();return"[null]"!=Ce([e])||"{}"!=Ce({a:e})||"{}"!=Ce(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(d(t)||void 0!==e)&&!qe(e))return se(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!qe(t))return t}),r[1]=t,Ce.apply(Oe,r)}}),Ae.prototype[De]||A(Ae.prototype,De,Ae.prototype.valueOf),F(Ae,"Symbol"),F(Math,"Math",!0),F(i.JSON,"JSON",!0);!function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),L(L.S+L.F*p((function(){n(1)})),"Object",r)}("keys",(function(){return function(e){return ie(le(e))}}));var ot=function(){var e=h(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};m&&"g"!=/./g.flags&&w.f(RegExp.prototype,"flags",{configurable:!0,get:ot});var at=/./.toString,st=function(e){C(RegExp.prototype,"toString",e,!0)};p((function(){return"/a/b"!=at.call({source:"a",flags:"b"})}))?st((function(){var e=h(this);return"/".concat(e.source,"/","flags"in e?e.flags:!m&&e instanceof RegExp?ot.call(e):void 0)})):"toString"!=at.name&&st((function(){return at.call(this)}));var lt=function(e){return function(t,n){var r,i,o=q(t)+"",a=G(n),s=o.length;return 0>a||a>=s?e?"":void 0:55296>(r=o.charCodeAt(a))||56319<r||a+1===s||56320>(i=o.charCodeAt(a+1))||57343<i?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}}(!0),ut=function(e,t,n){return t+(n?lt(e,t).length:1)},ct=c("toStringTag"),ft="Arguments"==U(function(){return arguments}()),dt=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(t){}}(t=Object(e),ct))?n:ft?U(t):"Object"==(r=U(t))&&"function"==typeof t.callee?"Arguments":r},ht=RegExp.prototype.exec,pt=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==dt(e))throw new TypeError("RegExp#exec called on incompatible receiver");return ht.call(e,t)},mt=RegExp.prototype.exec,gt=String.prototype.replace,vt=mt,yt=function(){var e=/a/,t=/b*/g;return mt.call(e,"a"),mt.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),bt=void 0!==/()??/.exec("")[1];(yt||bt)&&(vt=function(e){var t,n,r,i,o=this;return bt&&(n=new RegExp("^"+o.source+"$(?!\\s)",ot.call(o))),yt&&(t=o.lastIndex),r=mt.call(o,e),yt&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),bt&&r&&1<r.length&&gt.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var xt=vt;L({target:"RegExp",proto:!0,forced:xt!==/./.exec},{exec:xt});var _t=c("species"),wt=!p((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),kt=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),Mt=function(e,t,n){var r=c(e),i=!p((function(){var t={};return t[r]=function(){return 7},7!=""[e](t)})),o=i?!p((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[_t]=function(){return n}),n[r](""),!t})):void 0;if(!i||!o||"replace"===e&&!wt||"split"===e&&!kt){var a=/./[r],s=n(q,r,""[e],(function(e,t,n,r,o){return t.exec===xt?i&&!o?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),l=s[0],u=s[1];C(String.prototype,e,l),A(RegExp.prototype,r,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}},Tt=Math.max,St=Math.min,Et=Math.floor,At=/\$([$&`']|\d\d?|<[^>]*>)/g,Ot=/\$([$&`']|\d\d?)/g,Ct=function(e){return void 0===e?e:e+""};Mt("replace",2,(function(e,t,n,r){function i(e,t,r,i,o,a){var s=r+e.length,l=i.length,u=Ot;return void 0!==o&&(o=le(o),u=At),n.call(a,u,(function(n,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var c=+a;if(0==c)return n;if(c>l){var f=Et(c/10);return 0===f?n:f<=l?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):n}u=i[c-1]}return void 0===u?"":u}))}return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0===a?n.call(o+"",r,i):a.call(r,o,i)},function(e,t){var o=r(n,e,this,t);if(o.done)return o.value;var a=h(e),s=this+"",l="function"==typeof t;l||(t+="");var u=a.global;if(u){var c=a.unicode;a.lastIndex=0}for(var f,d=[];null!==(f=pt(a,s))&&(d.push(f),u);){""==f[0]+""&&(a.lastIndex=ut(s,$(a.lastIndex),c))}for(var p="",m=0,g=0;g<d.length;g++){for(var v=(f=d[g])[0]+"",y=Tt(St(G(f.index),s.length),0),b=[],x=1;x<f.length;x++)b.push(Ct(f[x]));var _=f.groups;if(l){var w=[v].concat(b,y,s);void 0!==_&&w.push(_);var k=t.apply(void 0,w)+""}else k=i(v,s,y,b,_,t);y>=m&&(p+=s.slice(m,y)+k,m=y+v.length)}return p+s.slice(m)}]}));var Nt=c("unscopables"),Dt=Array.prototype;null==Dt[Nt]&&A(Dt,Nt,{});var Pt=function(e){Dt[Nt][e]=!0},Rt=function(e,t){return{value:t,done:!!e}},Lt={},It={};A(It,c("iterator"),(function(){return this}));var jt=Q("IE_PROTO"),zt=Object.prototype,Ft=Object.getPrototypeOf||function(e){return e=le(e),S(e,jt)?e[jt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?zt:null},Bt=c("iterator"),Ut=!([].keys&&"next"in[].keys()),Ht=function(){return this},qt=function(e,t,n,r,i,o,a){!function(e,t,n){e.prototype=me(It,{next:E(1,n)}),F(e,t+" Iterator")}(n,t,r);var s,l,u,c=function(e){return!Ut&&e in p?p[e]:function(){return new n(this,e)}},f=t+" Iterator",d="values"==i,h=!1,p=e.prototype,m=p[Bt]||p["@@iterator"]||i&&p[i],g=m||c(i),v=i?d?c("entries"):g:void 0,y="Array"==t&&p.entries||m;if(y&&((u=Ft(y.call(new e)))!==Object.prototype&&u.next&&(F(u,f,!0),"function"!=typeof u[Bt]&&A(u,Bt,Ht))),d&&m&&"values"!==m.name&&(h=!0,g=function(){return m.call(this)}),(Ut||h||!p[Bt])&&A(p,Bt,g),Lt[t]=g,Lt[f]=Ht,i)if(s={values:d?g:c("values"),keys:o?g:c("keys"),entries:v},a)for(l in s)l in p||C(p,l,s[l]);else L(L.P+L.F*(Ut||h),t,s);return s}(Array,"Array",(function(e,t){this._t=V(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Rt(1)):Rt(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values");Lt.Arguments=Lt.Array,Pt("keys"),Pt("values"),Pt("entries");for(var Vt=c("iterator"),Wt=c("toStringTag"),Yt=Lt.Array,Gt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Xt=ie(Gt),$t=0;$t<Xt.length;$t++){var Zt,Kt=Xt[$t],Jt=Gt[Kt],Qt=i[Kt],en=Qt&&Qt.prototype;if(en&&(en[Vt]||A(en,Vt,Yt),en[Wt]||A(en,Wt,Kt),Lt[Kt]=Yt,Jt))for(Zt in qt)en[Zt]||C(en,Zt,qt[Zt],!0)}({})[c("toStringTag")]="z",C(Object.prototype,"toString",(function(){return"[object "+dt(this)+"]"}),!0);var tn=ae.f,nn=function(e){return function(t){for(var n,r=V(t),i=ie(r),o=i.length,a=0,s=[];o>a;)n=i[a++],(!m||tn.call(r,n))&&s.push(e?[n,r[n]]:r[n]);return s}}(!1);L(L.S,"Object",{values:function(e){return nn(e)}});var rn=c("match"),on=c("species"),an=Math.min,sn=[].push,ln=!p((function(){RegExp(4294967295,"y")}));Mt("split",2,(function(e,t,n,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,t){var r=this+"";if(void 0===e&&0===t)return[];if(!function(e){var t;return d(e)&&(void 0===(t=e[rn])?"RegExp"==U(e):!!t)}(e))return n.call(r,e,t);for(var i,o,a,s=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,c=void 0===t?4294967295:t>>>0,f=new RegExp(e.source,l+"g");(i=xt.call(f,r))&&!((o=f.lastIndex)>u&&(s.push(r.slice(u,i.index)),1<i.length&&i.index<r.length&&sn.apply(s,i.slice(1)),a=i[0].length,u=o,s.length>=c));)f.lastIndex===i.index&&f.lastIndex++;return u===r.length?(a||!f.test(""))&&s.push(""):s.push(r.slice(u)),s.length>c?s.slice(0,c):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),a=null==n?void 0:n[t];return void 0===a?i.call(o+"",n,r):a.call(n,o,r)},function(e,t){var o=r(i,e,this,t,i!==n);if(o.done)return o.value;var a=h(e),s=this+"",l=function(e,t){var n,r=h(e).constructor;return void 0===r||null==(n=h(r)[on])?t:N(n)}(a,RegExp),u=a.unicode,c=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(ln?"y":"g"),f=new l(ln?a:"^(?:"+a.source+")",c),d=void 0===t?4294967295:t>>>0;if(0===d)return[];if(0===s.length)return null===pt(f,s)?[s]:[];for(var p=0,m=0,g=[];m<s.length;){f.lastIndex=ln?m:0;var v,y=pt(f,ln?s:s.slice(m));if(null===y||(v=an($(f.lastIndex+(ln?0:m)),s.length))===p)m=ut(s,m,u);else{if(g.push(s.slice(p,m)),g.length===d)return g;for(var b=1;b<=y.length-1;b++)if(g.push(y[b]),g.length===d)return g;m=p=v}}return g.push(s.slice(p)),g}]}));var un=Object.assign,cn=!un||p((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=un({},e)[n]||Object.keys(un({},t)).join("")!=r}))?function(e){for(var t=le(e),n=arguments.length,r=1,i=oe.f,o=ae.f;n>r;)for(var a,s=H(arguments[r++]),l=i?ie(s).concat(i(s)):ie(s),u=l.length,c=0;u>c;)a=l[c++],(!m||o.call(s,a))&&(t[a]=s[a]);return t}:un;L(L.S+L.F,"Object",{assign:cn});var fn=function(e,t){if(h(e),!d(t)&&null!==t)throw TypeError(t+": can't set as prototype!")},dn={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=D(Function.call,ke.f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,r){return fn(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:fn}.set,hn=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&d(r)&&dn&&dn(e,r),e},pn="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",mn="["+pn+"]",gn=RegExp("^"+mn+mn+"*"),vn=RegExp(mn+mn+"*$"),yn=function(e,t,n){var r={},i=p((function(){return!!pn[e]()||"\u200b\x85"!="\u200b\x85"[e]()})),o=r[e]=i?t(bn):pn[e];n&&(r[n]=o),L(L.P+L.F*i,"String",r)},bn=yn.trim=function(e,t){return e=q(e)+"",1&t&&(e=e.replace(gn,"")),2&t&&(e=e.replace(vn,"")),e},xn=yn,_n=ve.f,wn=ke.f,kn=w.f,Mn=xn.trim,Tn=i.Number,Sn=Tn,En=Tn.prototype,An="Number"==U(me(En)),On="trim"in String.prototype,Cn=function(e){var t=x(e,!1);if("string"==typeof t&&2<t.length){var n,r,i,o=(t=On?t.trim():Mn(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,s=t.slice(2),l=0,u=s.length;l<u;l++)if(48>(a=s.charCodeAt(l))||a>i)return NaN;return parseInt(s,r)}}return+t};if(!Tn(" 0o1")||!Tn("0b1")||Tn("+0x1")){Tn=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof Tn&&(An?p((function(){En.valueOf.call(n)})):"Number"!=U(n))?hn(new Sn(Cn(t)),n,Tn):Cn(t)};for(var Nn,Dn=m?_n(Sn):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Pn=0;Dn.length>Pn;Pn++)S(Sn,Nn=Dn[Pn])&&!S(Tn,Nn)&&kn(Tn,Nn,wn(Sn,Nn));Tn.prototype=En,En.constructor=Tn,C(i,"Number",Tn)}for(var Rn=r((function(e){var t=Math.round,n=Math.pow,r=Math.max,i=Math.abs,o=Math.min,a=Math.floor,s=Math.ceil;!function(t,n){e.exports=n()}(0,(function(){function l(){return pt.apply(null,arguments)}function u(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function c(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function f(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e}function v(e,t,n,r){return Oe(e,t,n,r,!0).utc()}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function b(e){if(null==e._isValid){var t=y(e),n=mt.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function x(e){var t=v(NaN);return null==e?y(t).userInvalidated=!0:g(y(t),e),t}function _(e,t){var n,r,i;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=y(t)),f(t._locale)||(e._locale=t._locale),0<gt.length)for(n=0;n<gt.length;n++)f(i=t[r=gt[n]])||(e[r]=i);return e}function w(e){_(this,e),this._d=new Date(null==e._d?NaN:e._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===vt&&(vt=!0,l.updateOffset(this),vt=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function M(e){return 0>e?s(e)||0:a(e)}function T(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=M(t)),n}function S(e,t,n){var r,a=o(e.length,t.length),s=i(e.length-t.length),l=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&T(e[r])!==T(t[r]))&&l++;return l+s}function E(e){!1===l.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function A(e,t){var n=!0;return g((function(){if(null!=l.deprecationHandler&&l.deprecationHandler(null,e),n){for(var r,i=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];i.push(r)}E(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}function O(e,t){null!=l.deprecationHandler&&l.deprecationHandler(e,t),yt[e]||(E(t),yt[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e,t){var n,r=g({},e);for(n in t)m(t,n)&&(c(e[n])&&c(t[n])?(r[n]={},g(r[n],e[n]),g(r[n],t[n])):null==t[n]?delete r[n]:r[n]=t[n]);for(n in e)m(e,n)&&!m(t,n)&&c(e[n])&&(r[n]=g({},r[n]));return r}function D(e){null!=e&&this.set(e)}function P(e,t){var n=e.toLowerCase();xt[n]=xt[n+"s"]=xt[t]=e}function R(e){return"string"==typeof e?xt[e]||xt[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)m(e,n)&&((t=R(n))&&(r[t]=e[n]));return r}function I(e,t){_t[e]=t}function j(e,t,o){var a=""+i(e);return(0<=e?o?"+":"":"-")+n(10,r(0,t-a.length)).toString().substr(1)+a}function z(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Tt[e]=i),t&&(Tt[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(Tt[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function F(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e,t){return e.isValid()?(t=U(t,e.localeData()),Mt[t]=Mt[t]||function(e){var t,n,r=e.match(wt);for(t=0,n=r.length;t<n;t++)r[t]=Tt[r[t]]?Tt[r[t]]:F(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=C(r[i])?r[i].call(t,e):r[i];return o}}(t),Mt[t](e)):e.localeData().invalidDate()}function U(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(kt.lastIndex=0;0<=r&&kt.test(e);)e=e.replace(kt,n),kt.lastIndex=0,r-=1;return e}function H(e,t,n){Ht[e]=C(t)?t:function(e){return e&&n?n:t}}function q(e,t){return m(Ht,e)?Ht[e](t._strict,t._locale):new RegExp(function(e){return V(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}(e))}function V(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),d(t)&&(r=function(e,n){n[t]=T(e)}),n=0;n<e.length;n++)qt[e[n]]=r}function Y(e,t){W(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function G(e,t,n){null!=t&&m(qt,e)&&qt[e](t,n._a,n,e)}function X(e){return $(e)?366:365}function $(e){return 0==e%4&&0!=e%100||0==e%400}function Z(e,t){return function(n){return null==n?K(this,e):(J(this,e,n),l.updateOffset(this,t),this)}}function K(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&$(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Q(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Q(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?$(e)?29:28:31-n%7%2}function ee(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)o=v([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1===(i=Vt.call(this._shortMonthsParse,a))?null:i:-1===(i=Vt.call(this._longMonthsParse,a))?null:i:"MMM"===t?-1!==(i=Vt.call(this._shortMonthsParse,a))?i:-1===(i=Vt.call(this._longMonthsParse,a))?null:i:-1!==(i=Vt.call(this._longMonthsParse,a))?i:-1===(i=Vt.call(this._shortMonthsParse,a))?null:i}function te(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=T(t);else if(!d(t=e.localeData().monthsParse(t)))return e;return n=o(e.date(),Q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ne(e){return null==e?K(this,"Month"):(te(this,e),l.updateOffset(this,!0),this)}function re(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=v([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=V(r[t]),i[t]=V(i[t]);for(t=0;24>t;t++)o[t]=V(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ie(e,t,n,r,i,o,a){var s;return 100>e&&0<=e?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function oe(e){var t;if(100>e&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function ae(e,t,n){var r=7+t-n;return-((7+oe(e,0,r).getUTCDay()-t)%7)+r-1}function se(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+ae(e,r,i);return 0>=s?a=X(o=e-1)+s:s>X(e)?(o=e+1,a=s-X(e)):(o=e,a=s),{year:o,dayOfYear:a}}function le(e,t,n){var r,i,o=ae(e.year(),t,n),s=a((e.dayOfYear()-o-1)/7)+1;return 1>s?r=s+ue(i=e.year()-1,t,n):s>ue(e.year(),t,n)?(r=s-ue(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function ue(e,t,n){var r=ae(e,t,n),i=ae(e+1,t,n);return(X(e)-r+i)/7}function ce(e,t){return e.slice(t,7).concat(e.slice(0,t))}function fe(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)o=v([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1===(i=Vt.call(this._weekdaysParse,a))?null:i:"ddd"===t?-1===(i=Vt.call(this._shortWeekdaysParse,a))?null:i:-1===(i=Vt.call(this._minWeekdaysParse,a))?null:i:"dddd"===t?-1!==(i=Vt.call(this._weekdaysParse,a))?i:-1!==(i=Vt.call(this._shortWeekdaysParse,a))?i:-1===(i=Vt.call(this._minWeekdaysParse,a))?null:i:"ddd"===t?-1!==(i=Vt.call(this._shortWeekdaysParse,a))?i:-1!==(i=Vt.call(this._weekdaysParse,a))?i:-1===(i=Vt.call(this._minWeekdaysParse,a))?null:i:-1!==(i=Vt.call(this._minWeekdaysParse,a))?i:-1!==(i=Vt.call(this._weekdaysParse,a))?i:-1===(i=Vt.call(this._shortWeekdaysParse,a))?null:i}function de(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;7>t;t++)n=v([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)s[t]=V(s[t]),l[t]=V(l[t]),u[t]=V(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function he(){return this.hours()%12||12}function pe(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function me(e,t){return t._meridiemParse}function ge(e){return e?e.toLowerCase().replace("_","-"):e}function ve(t){var n=null;if(!Jt[t]&&e&&e.exports)try{n=$t._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),ye(n)}catch(t){}return Jt[t]}function ye(e,t){var n;return e&&((n=f(t)?xe(e):be(e,t))?$t=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),$t._abbr}function be(e,t){if(null!==t){var n,r=Kt;if(t.abbr=e,null!=Jt[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Jt[e]._config;else if(null!=t.parentLocale)if(null!=Jt[t.parentLocale])r=Jt[t.parentLocale]._config;else{if(null==(n=ve(t.parentLocale)))return Qt[t.parentLocale]||(Qt[t.parentLocale]=[]),Qt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Jt[e]=new D(N(r,t)),Qt[e]&&Qt[e].forEach((function(e){be(e.name,e.config)})),ye(e),Jt[e]}return delete Jt[e],null}function xe(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $t;if(!u(e)){if(t=ve(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=ge(e[o]).split("-")).length,n=(n=ge(e[o+1]))?n.split("-"):null;0<t;){if(r=ve(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}o++}return $t}(e)}function _e(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=0>n[1]||11<n[1]?1:1>n[2]||n[2]>Q(n[0],n[1])?2:0>n[3]||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:0>n[4]||59<n[4]?4:0>n[5]||59<n[5]?5:0>n[6]||999<n[6]?6:-1,y(e)._overflowDayOfYear&&(0>t||2<t)&&(t=2),y(e)._overflowWeeks&&-1===t&&(t=7),y(e)._overflowWeekday&&-1===t&&(t=8),y(e).overflow=t),e}function we(e,t,n){return null==e?null==t?n:t:e}function ke(e){var t,n,r,i,o,a=[];if(!e._d){for(r=function(e){var t=new Date(l.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=we(t.GG,e._a[0],le(Ce(),1,4).year),r=we(t.W,1),(1>(i=we(t.E,1))||7<i)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=le(Ce(),o,a);n=we(t.gg,e._a[0],u.year),r=we(t.w,u.week),null==t.d?null==t.e?i=o:(i=t.e+o,(0>t.e||6<t.e)&&(l=!0)):(0>(i=t.d)||6<i)&&(l=!0)}1>r||r>ue(n,o,a)?y(e)._overflowWeeks=!0:null==l?(s=se(n,r,i,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear):y(e)._overflowWeekday=!0}(e),null!=e._dayOfYear&&(o=we(e._a[0],r[0]),(e._dayOfYear>X(o)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=oe(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?oe:ie).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function Me(e){var t,n,r,i,o,a,s=e._i,l=en.exec(s)||tn.exec(s);if(l){for(y(e).iso=!0,t=0,n=rn.length;t<n;t++)if(rn[t][1].exec(l[1])){i=rn[t][0],r=!1!==rn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=on.length;t<n;t++)if(on[t][1].exec(l[3])){o=(l[2]||" ")+on[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!nn.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Ee(e)}else e._isValid=!1}function Te(e){var t=parseInt(e,10);return 49>=t?2e3+t:999>=t?1900+t:t}function Se(e){var t=sn.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(t){var n=function(e,t,n,r,i,o){var a=[Te(e),Gt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Xt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return ln[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(t[8],t[9],t[10]),e._d=oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Ee(e){if(e._f!==l.ISO_8601)if(e._f!==l.RFC_2822){e._a=[],y(e).empty=!0;var t,n,r,i,o,a=""+e._i,s=a.length,u=0;for(r=U(e._f,e._locale).match(wt)||[],t=0;t<r.length;t++)i=r[t],(n=(a.match(q(i,e))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&y(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),Tt[i]?(n?y(e).empty=!1:y(e).unusedTokens.push(i),G(i,n,e)):e._strict&&!n&&y(e).unusedTokens.push(i);y(e).charsLeftOver=s-u,0<a.length&&y(e).unusedInput.push(a),12>=e._a[3]&&!0===y(e).bigHour&&0<e._a[3]&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null==e.meridiemHour?null==e.isPM?t:((r=e.isPM(n))&&12>t&&(t+=12),r||12!==t||(t=0),t):e.meridiemHour(t,n)}(e._locale,e._a[3],e._meridiem),ke(e),_e(e)}else Se(e);else Me(e)}function Ae(e){var t=e._i,n=e._f;return e._locale=e._locale||xe(e._l),null===t||void 0===n&&""===t?x({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new w(_e(t)):(h(t)?e._d=t:u(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ee(t),b(t)&&(o+=y(t).charsLeftOver,o+=10*y(t).unusedTokens.length,y(t).score=o,(null==r||o<r)&&(r=o,n=t));g(e,n||t)}(e):n?Ee(e):function(e){var t=e._i;f(t)?e._d=new Date(l.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=an.exec(e._i);null===t?(Me(e),!1===e._isValid&&(delete e._isValid,Se(e),!1===e._isValid&&(delete e._isValid,l.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):u(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),ke(e)):c(t)?function(e){if(!e._d){var t=L(e._i);e._a=p([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ke(e)}}(e):d(t)?e._d=new Date(t):l.createFromInputFallback(e)}(e),b(e)||(e._d=null),e))}function Oe(e,t,n,r,i){var o={};return(!0===n||!1===n)&&(r=n,n=void 0),(c(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||u(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,function(e){var t=new w(_e(Ae(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(o)}function Ce(e,t,n,r){return Oe(e,t,n,r,!1)}function Ne(e,t){var n,r;if(1===t.length&&u(t[0])&&(t=t[0]),!t.length)return Ce();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function De(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Vt.call(fn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<fn.length;++r)if(e[fn[r]]){if(n)return!1;parseFloat(e[fn[r]])!==T(e[fn[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=xe(),this._bubble()}function Pe(e){return e instanceof De}function Re(e){return 0>e?-1*t(-1*e):t(e)}function Le(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)}))}function Ie(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(dn)||["-",0,0],i=60*r[1]+T(r[2]);return 0===i?0:"+"===r[0]?i:-i}function je(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(k(e)||h(e)?e.valueOf():Ce(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),l.updateOffset(n,!1),n):Ce(e).local()}function ze(e){return 15*-t(e._d.getTimezoneOffset()/15)}function Fe(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Be(e,t){var n,r,i,o=e,a=null;return Pe(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:d(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=hn.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:T(a[2])*n,h:T(a[3])*n,m:T(a[4])*n,s:T(a[5])*n,ms:T(Re(1e3*a[6]))*n}):(a=pn.exec(e))?(n="-"===a[1]?-1:1,o={y:Ue(a[2],n),M:Ue(a[3],n),w:Ue(a[4],n),d:Ue(a[5],n),h:Ue(a[6],n),m:Ue(a[7],n),s:Ue(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=je(t,e),e.isBefore(t)?n=He(e,t):((n=He(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Ce(o.from),Ce(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new De(o),Pe(e)&&m(e,"_locale")&&(r._locale=e._locale),r}function Ue(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function He(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qe(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ve(this,Be(n="string"==typeof n?+n:n,r),e),this}}function Ve(e,t,n,r){var i=t._milliseconds,o=Re(t._days),a=Re(t._months);e.isValid()&&(r=null==r||r,a&&te(e,K(e,"Month")+a*n),o&&J(e,"Date",K(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&l.updateOffset(e,o||a))}function We(e,t){var n,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return 0>t-i?n=(t-i)/(i-e.clone().add(r-1,"months")):n=(t-i)/(e.clone().add(r+1,"months")-i),-(r+n)||0}function Ye(e){var t;return void 0===e?this._locale._abbr:(null!=(t=xe(e))&&(this._locale=t),this)}function Ge(){return this._locale}function Xe(e,t){return(e%t+t)%t}function $e(e,t,n){return 100>e&&0<=e?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function Ze(e,t,n){return 100>e&&0<=e?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function Ke(e,t){z(0,[e,e.length],0,t)}function Je(e,t,n,r,i){var o;return null==e?le(this,r,i).year:(t>(o=ue(e,r,i))&&(t=o),Qe.call(this,e,t,n,r,i))}function Qe(e,t,n,r,i){var o=se(e,t,n,r,i),a=oe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function et(e,t){t[6]=T(1e3*("0."+e))}function tt(e){return e}function nt(e,t,n,r){var i=xe(),o=v().set(r,t);return i[n](o,e)}function rt(e,t,n){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return nt(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=nt(e,r,n,"month");return i}function it(e,t,n,r){"boolean"==typeof e?(d(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,d(t)&&(n=t,t=void 0),t=t||"");var i=xe(),o=e?i._week.dow:0;if(null!=n)return nt(t,(n+o)%7,r,"day");var a,s=[];for(a=0;7>a;a++)s[a]=nt(t,(a+o)%7,r,"day");return s}function ot(e,t,n,r){var i=Be(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function at(e){return 0>e?a(e):s(e)}function st(e){return 4800*e/146097}function lt(e){return 146097*e/4800}function ut(e){return function(){return this.as(e)}}function ct(e){return function(){return this.isValid()?this._data[e]:NaN}}function ft(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function dt(e){return(0<e)-(0>e)||+e}function ht(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Vn(this._milliseconds)/1e3,r=Vn(this._days),i=Vn(this._months);e=M(n/60),t=M(e/60),n%=60,e%=60;var o=M(i/12),a=i%=12,s=r,l=t,u=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=0>f?"-":"",h=dt(this._months)===dt(f)?"":"-",p=dt(this._days)===dt(f)?"":"-",m=dt(this._milliseconds)===dt(f)?"":"-";return d+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?p+s+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var pt,mt;mt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var gt=l.momentProperties=[],vt=!1,yt={};l.suppressDeprecationWarnings=!1,l.deprecationHandler=null;var bt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)m(e,t)&&n.push(t);return n},xt={},_t={},wt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mt={},Tt={},St=/\d/,Et=/\d\d/,At=/\d{3}/,Ot=/\d{4}/,Ct=/[+-]?\d{6}/,Nt=/\d\d?/,Dt=/\d\d\d\d?/,Pt=/\d\d\d\d\d\d?/,Rt=/\d{1,3}/,Lt=/\d{1,4}/,It=/[+-]?\d{1,6}/,jt=/\d+/,zt=/[+-]?\d+/,Ft=/Z|[+-]\d\d:?\d\d/gi,Bt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ut=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ht={},qt={};z("Y",0,0,(function(){var e=this.year();return 9999>=e?""+e:"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),P("year","y"),I("year",1),H("Y",zt),H("YY",Nt,Et),H("YYYY",Lt,Ot),H("YYYYY",It,Ct),H("YYYYYY",It,Ct),W(["YYYYY","YYYYYY"],0),W("YYYY",(function(e,t){t[0]=2===e.length?l.parseTwoDigitYear(e):T(e)})),W("YY",(function(e,t){t[0]=l.parseTwoDigitYear(e)})),W("Y",(function(e,t){t[0]=parseInt(e,10)})),l.parseTwoDigitYear=function(e){return T(e)+(68<T(e)?1900:2e3)};var Vt,Wt=Z("FullYear",!0);Vt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),P("month","M"),I("month",8),H("M",Nt),H("MM",Nt,Et),H("MMM",(function(e,t){return t.monthsShortRegex(e)})),H("MMMM",(function(e,t){return t.monthsRegex(e)})),W(["M","MM"],(function(e,t){t[1]=T(e)-1})),W(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null==i?y(n).invalidMonth=e:t[1]=i}));var Yt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),I("week",5),I("isoWeek",5),H("w",Nt),H("ww",Nt,Et),H("W",Nt),H("WW",Nt,Et),Y(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=T(e)})),z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),I("day",11),I("weekday",11),I("isoWeekday",11),H("d",Nt),H("e",Nt),H("E",Nt),H("dd",(function(e,t){return t.weekdaysMinRegex(e)})),H("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),H("dddd",(function(e,t){return t.weekdaysRegex(e)})),Y(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null==i?y(n).invalidWeekday=e:t.d=i})),Y(["d","e","E"],(function(e,t,n,r){t[r]=T(e)}));var Xt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];z("H",["HH",2],0,"hour"),z("h",["hh",2],0,he),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+he.apply(this)+j(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+he.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),pe("a",!0),pe("A",!1),P("hour","h"),I("hour",13),H("a",me),H("A",me),H("H",Nt),H("h",Nt),H("k",Nt),H("HH",Nt,Et),H("hh",Nt,Et),H("kk",Nt,Et),H("hmm",Dt),H("hmmss",Pt),H("Hmm",Dt),H("Hmmss",Pt),W(["H","HH"],3),W(["k","kk"],(function(e,t){var n=T(e);t[3]=24===n?0:n})),W(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),W(["h","hh"],(function(e,t,n){t[3]=T(e),y(n).bigHour=!0})),W("hmm",(function(e,t,n){var r=e.length-2;t[3]=T(e.substr(0,r)),t[4]=T(e.substr(r)),y(n).bigHour=!0})),W("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=T(e.substr(0,r)),t[4]=T(e.substr(r,2)),t[5]=T(e.substr(i)),y(n).bigHour=!0})),W("Hmm",(function(e,t){var n=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n))})),W("Hmmss",(function(e,t){var n=e.length-4,r=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n,2)),t[5]=T(e.substr(r))}));var $t,Zt=Z("Hours",!0),Kt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:Gt,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Xt,meridiemParse:/[ap]\.?m?\.?/i},Jt={},Qt={},en=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nn=/Z|[+-]\d\d(?::?\d\d)?/,rn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],on=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],an=/^\/?Date\((\-?\d+)/i,sn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ln={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};l.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),l.ISO_8601=function(){},l.RFC_2822=function(){};var un=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ce.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:x()})),cn=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ce.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:x()})),fn=["year","quarter","month","week","day","hour","minute","second","millisecond"];Le("Z",":"),Le("ZZ",""),H("Z",Bt),H("ZZ",Bt),W(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ie(Bt,e)}));var dn=/([\+\-]|\d\d)/gi;l.updateOffset=function(){};var hn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,pn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Be.fn=De.prototype,Be.invalid=function(){return Be(NaN)};var mn=qe(1,"add"),gn=qe(-1,"subtract");l.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",l.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var vn=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ke("gggg","weekYear"),Ke("ggggg","weekYear"),Ke("GGGG","isoWeekYear"),Ke("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),I("weekYear",1),I("isoWeekYear",1),H("G",zt),H("g",zt),H("GG",Nt,Et),H("gg",Nt,Et),H("GGGG",Lt,Ot),H("gggg",Lt,Ot),H("GGGGG",It,Ct),H("ggggg",It,Ct),Y(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=T(e)})),Y(["gg","GG"],(function(e,t,n,r){t[r]=l.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),P("quarter","Q"),I("quarter",7),H("Q",St),W("Q",(function(e,t){t[1]=3*(T(e)-1)})),z("D",["DD",2],"Do","date"),P("date","D"),I("date",9),H("D",Nt),H("DD",Nt,Et),H("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),W(["D","DD"],2),W("Do",(function(e,t){t[2]=T(e.match(Nt)[0])}));var yn=Z("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),I("dayOfYear",4),H("DDD",Rt),H("DDDD",At),W(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=T(e)})),z("m",["mm",2],0,"minute"),P("minute","m"),I("minute",14),H("m",Nt),H("mm",Nt,Et),W(["m","mm"],4);var bn=Z("Minutes",!1);z("s",["ss",2],0,"second"),P("second","s"),I("second",15),H("s",Nt),H("ss",Nt,Et),W(["s","ss"],5);var xn,_n=Z("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),P("millisecond","ms"),I("millisecond",16),H("S",Rt,St),H("SS",Rt,Et),H("SSS",Rt,At),xn="SSSS";9>=xn.length;xn+="S")H(xn,jt);for(xn="S";9>=xn.length;xn+="S")W(xn,et);var wn=Z("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var kn=w.prototype;kn.add=mn,kn.calendar=function(e,t){var n=e||Ce(),r=je(n,this).startOf("day"),i=l.calendarFormat(this,r)||"sameElse",o=t&&(C(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Ce(n)))},kn.clone=function(){return new w(this)},kn.diff=function(e,t,n){var r,i,o;return this.isValid()?(r=je(e,this)).isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),o="year"===(t=R(t))?We(this,r)/12:"month"===t?We(this,r):"quarter"===t?We(this,r)/3:"second"===t?(this-r)/1e3:"minute"===t?(this-r)/6e4:"hour"===t?(this-r)/36e5:"day"===t?(this-r-i)/864e5:"week"===t?(this-r-i)/6048e5:this-r,n?o:M(o)):NaN:NaN},kn.endOf=function(e){var t;if(void 0===(e=R(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Ze:$e;return"year"===e?t=n(this.year()+1,0,1)-1:"quarter"===e?t=n(this.year(),this.month()-this.month()%3+3,1)-1:"month"===e?t=n(this.year(),this.month()+1,1)-1:"week"===e?t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:"isoWeek"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:"day"===e||"date"===e?t=n(this.year(),this.month(),this.date()+1)-1:"hour"===e?(t=this._d.valueOf(),t+=36e5-Xe(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):"minute"===e?(t=this._d.valueOf(),t+=6e4-Xe(t,6e4)-1):"second"===e&&(t=this._d.valueOf(),t+=1e3-Xe(t,1e3)-1),this._d.setTime(t),l.updateOffset(this,!0),this},kn.format=function(e){e||(e=this.isUtc()?l.defaultFormatUtc:l.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)},kn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ce(e).isValid())?Be({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.fromNow=function(e){return this.from(Ce(),e)},kn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ce(e).isValid())?Be({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.toNow=function(e){return this.to(Ce(),e)},kn.get=function(e){return C(this[e=R(e)])?this[e]():this},kn.invalidAt=function(){return y(this).overflow},kn.isAfter=function(e,t){var n=k(e)?e:Ce(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},kn.isBefore=function(e,t){var n=k(e)?e:Ce(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},kn.isBetween=function(e,t,n,r){var i=k(e)?e:Ce(e),o=k(t)?t:Ce(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))},kn.isSame=function(e,t){var n,r=k(e)?e:Ce(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},kn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},kn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},kn.isValid=function(){return b(this)},kn.lang=vn,kn.locale=Ye,kn.localeData=Ge,kn.max=cn,kn.min=un,kn.parsingFlags=function(){return g({},y(this))},kn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:_t[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=L(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(C(this[e=R(e)]))return this[e](t);return this},kn.startOf=function(e){var t;if(void 0===(e=R(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Ze:$e;return"year"===e?t=n(this.year(),0,1):"quarter"===e?t=n(this.year(),this.month()-this.month()%3,1):"month"===e?t=n(this.year(),this.month(),1):"week"===e?t=n(this.year(),this.month(),this.date()-this.weekday()):"isoWeek"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):"day"===e||"date"===e?t=n(this.year(),this.month(),this.date()):"hour"===e?(t=this._d.valueOf(),t-=Xe(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)):"minute"===e?(t=this._d.valueOf(),t-=Xe(t,6e4)):"second"===e&&(t=this._d.valueOf(),t-=Xe(t,1e3)),this._d.setTime(t),l.updateOffset(this,!0),this},kn.subtract=gn,kn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},kn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},kn.toDate=function(){return new Date(this.valueOf())},kn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||9999<n.year()?B(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},kn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},kn.toJSON=function(){return this.isValid()?this.toISOString():null},kn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},kn.unix=function(){return a(this.valueOf()/1e3)},kn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},kn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},kn.year=Wt,kn.isLeapYear=function(){return $(this.year())},kn.weekYear=function(e){return Je.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},kn.isoWeekYear=function(e){return Je.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},kn.quarter=kn.quarters=function(e){return null==e?s((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},kn.month=ne,kn.daysInMonth=function(){return Q(this.year(),this.month())},kn.week=kn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},kn.isoWeek=kn.isoWeeks=function(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},kn.weeksInYear=function(){var e=this.localeData()._week;return ue(this.year(),e.dow,e.doy)},kn.isoWeeksInYear=function(){return ue(this.year(),1,4)},kn.date=yn,kn.day=kn.days=function(e){if(!this.isValid())return null==e?NaN:this;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:(e=function(e,t){return"string"==typeof e?isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10):e}(e,this.localeData()),this.add(e-t,"d"))},kn.weekday=function(e){if(!this.isValid())return null==e?NaN:this;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},kn.isoWeekday=function(e){if(!this.isValid())return null==e?NaN:this;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},kn.dayOfYear=function(e){var n=t((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?n:this.add(e-n,"d")},kn.hour=kn.hours=Zt,kn.minute=kn.minutes=bn,kn.second=kn.seconds=_n,kn.millisecond=kn.milliseconds=wn,kn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null==e?NaN:this;if(null!=e){if("string"!=typeof e)16>i(e)&&!n&&(e*=60);else if(null===(e=Ie(Bt,e)))return this;return!this._isUTC&&t&&(r=ze(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Ve(this,Be(e-o,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:ze(this)},kn.utc=function(e){return this.utcOffset(0,e)},kn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ze(this),"m")),this},kn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ie(Ft,this._i);null==e?this.utcOffset(0,!0):this.utcOffset(e)}return this},kn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ce(e).utcOffset():0,0==(this.utcOffset()-e)%60)},kn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},kn.isLocal=function(){return!!this.isValid()&&!this._isUTC},kn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},kn.isUtc=Fe,kn.isUTC=Fe,kn.zoneAbbr=function(){return this._isUTC?"UTC":""},kn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},kn.dates=A("dates accessor is deprecated. Use date instead.",yn),kn.months=A("months accessor is deprecated. Use month instead",ne),kn.years=A("years accessor is deprecated. Use year instead",Wt),kn.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null==e?-this.utcOffset():("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this)})),kn.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),(e=Ae(e))._a){var t=e._isUTC?v(e._a):Ce(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var Mn=D.prototype;Mn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r},Mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},Mn.invalidDate=function(){return this._invalidDate},Mn.ordinal=function(e){return this._ordinal.replace("%d",e)},Mn.preparse=tt,Mn.postformat=tt,Mn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)},Mn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)},Mn.set=function(e){var t,n;for(n in e)C(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Mn.months=function(e,t){return e?u(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Yt).test(t)?"format":"standalone"][e.month()]:u(this._months)?this._months:this._months.standalone},Mn.monthsShort=function(e,t){return e?u(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Yt.test(t)?"format":"standalone"][e.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Mn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return ee.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=v([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Mn.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||re.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Ut),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Mn.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||re.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=Ut),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Mn.week=function(e){return le(e,this._week.dow,this._week.doy).week},Mn.firstDayOfYear=function(){return this._week.doy},Mn.firstDayOfWeek=function(){return this._week.dow},Mn.weekdays=function(e,t){var n=u(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?ce(n,this._week.dow):e?n[e.day()]:n},Mn.weekdaysMin=function(e){return!0===e?ce(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Mn.weekdaysShort=function(e){return!0===e?ce(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Mn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return fe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=v([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=Ut),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Mn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ye("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===T(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),l.lang=A("moment.lang is deprecated. Use moment.locale instead.",ye),l.langData=A("moment.langData is deprecated. Use moment.localeData instead.",xe);var Tn=i,Sn=ut("ms"),En=ut("s"),An=ut("m"),On=ut("h"),Cn=ut("d"),Nn=ut("w"),Dn=ut("M"),Pn=ut("Q"),Rn=ut("y"),Ln=ct("milliseconds"),In=ct("seconds"),jn=ct("minutes"),zn=ct("hours"),Fn=ct("days"),Bn=ct("months"),Un=ct("years"),Hn=t,qn={ss:44,s:45,m:45,h:22,d:26,M:11},Vn=i,Wn=De.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var e=this._data;return this._milliseconds=Tn(this._milliseconds),this._days=Tn(this._days),this._months=Tn(this._months),e.milliseconds=Tn(e.milliseconds),e.seconds=Tn(e.seconds),e.minutes=Tn(e.minutes),e.hours=Tn(e.hours),e.months=Tn(e.months),e.years=Tn(e.years),this},Wn.add=function(e,t){return ot(this,e,t,1)},Wn.subtract=function(e,t){return ot(this,e,t,-1)},Wn.as=function(e){if(!this.isValid())return NaN;var n,r,i=this._milliseconds;if("month"===(e=R(e))||"quarter"===e||"year"===e)switch(n=this._days+i/864e5,r=this._months+st(n),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(n=this._days+t(lt(this._months)),e){case"week":return n/7+i/6048e5;case"day":return n+i/864e5;case"hour":return 24*n+i/36e5;case"minute":return 1440*n+i/6e4;case"second":return 86400*n+i/1e3;case"millisecond":return a(864e5*n)+i;default:throw new Error("Unknown unit "+e)}},Wn.asMilliseconds=Sn,Wn.asSeconds=En,Wn.asMinutes=An,Wn.asHours=On,Wn.asDays=Cn,Wn.asWeeks=Nn,Wn.asMonths=Dn,Wn.asQuarters=Pn,Wn.asYears=Rn,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12):NaN},Wn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||0>=o&&0>=a&&0>=s||(o+=864e5*at(lt(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=M(o/1e3),l.seconds=e%60,t=M(e/60),l.minutes=t%60,n=M(t/60),l.hours=n%24,a+=M(n/24),s+=i=M(st(a)),a-=at(lt(i)),r=M(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},Wn.clone=function(){return Be(this)},Wn.get=function(e){return e=R(e),this.isValid()?this[e+"s"]():NaN},Wn.milliseconds=Ln,Wn.seconds=In,Wn.minutes=jn,Wn.hours=zn,Wn.days=Fn,Wn.weeks=function(){return M(this.days()/7)},Wn.months=Bn,Wn.years=Un,Wn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Be(e).abs(),i=Hn(r.as("s")),o=Hn(r.as("m")),a=Hn(r.as("h")),s=Hn(r.as("d")),l=Hn(r.as("M")),u=Hn(r.as("y")),c=i<=qn.ss&&["s",i]||i<qn.s&&["ss",i]||1>=o&&["m"]||o<qn.m&&["mm",o]||1>=a&&["h"]||a<qn.h&&["hh",a]||1>=s&&["d"]||s<qn.d&&["dd",s]||1>=l&&["M"]||l<qn.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=0<+e,c[4]=n,ft.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Wn.toISOString=ht,Wn.toString=ht,Wn.toJSON=ht,Wn.locale=Ye,Wn.localeData=Ge,Wn.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ht),Wn.lang=vn,z("X",0,0,"unix"),z("x",0,0,"valueOf"),H("x",zt),H("X",/[+-]?\d+(\.\d{1,3})?/),W("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),W("x",(function(e,t,n){n._d=new Date(T(e))})),l.version="2.24.0",function(e){pt=e}(Ce),l.fn=kn,l.min=function(){var e=[].slice.call(arguments,0);return Ne("isBefore",e)},l.max=function(){var e=[].slice.call(arguments,0);return Ne("isAfter",e)},l.now=function(){return Date.now?Date.now():+new Date},l.utc=v,l.unix=function(e){return Ce(1e3*e)},l.months=function(e,t){return rt(e,t,"months")},l.isDate=h,l.locale=ye,l.invalid=x,l.duration=Be,l.isMoment=k,l.weekdays=function(e,t,n){return it(e,t,n,"weekdays")},l.parseZone=function(){return Ce.apply(null,arguments).parseZone()},l.localeData=xe,l.isDuration=Pe,l.monthsShort=function(e,t){return rt(e,t,"monthsShort")},l.weekdaysMin=function(e,t,n){return it(e,t,n,"weekdaysMin")},l.defineLocale=be,l.updateLocale=function(e,t){if(null!=t){var n,r,i=Kt;null!=(r=ve(e))&&(i=r._config),(n=new D(t=N(i,t))).parentLocale=Jt[e],Jt[e]=n,ye(e)}else null!=Jt[e]&&(null==Jt[e].parentLocale?null!=Jt[e]&&delete Jt[e]:Jt[e]=Jt[e].parentLocale);return Jt[e]},l.locales=function(){return bt(Jt)},l.weekdaysShort=function(e,t,n){return it(e,t,n,"weekdaysShort")},l.normalizeUnits=R,l.relativeTimeRounding=function(e){return void 0===e?Hn:"function"==typeof e&&(Hn=e,!0)},l.relativeTimeThreshold=function(e,t){return void 0!==qn[e]&&(void 0===t?qn[e]:(qn[e]=t,"s"===e&&(qn.ss=t-1),!0))},l.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"},l.prototype=kn,l.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},l}))})),Ln=[],In=0;256>In;In++)Ln[In]=(In+256).toString(16).substr(1);for(var jn=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var e=new Uint8Array(16);return function(){return crypto.getRandomValues(e),e}}var t=Array(16);return function(){for(var e,n=0;16>n;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=255&e>>>((3&n)<<3);return t}}(),zn=[],Fn=0;256>Fn;Fn++)zn[Fn]=(Fn+256).toString(16).substr(1);var Bn=jn();Bn[0],Bn[1],Bn[2],Bn[3],Bn[4],Bn[5],Bn[6],Bn[7];function Un(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,r=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):void 0,e={});var i=e.random||(e.rng||jn)();if(i[6]=64|15&i[6],i[8]=128|63&i[8],t)for(var o=0;16>o;o++)t[r+o]=i[o];return t||function(e,t){var n=t||0,r=Ln;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}(i)}var Hn=/^\/?Date\((-?\d+)/i,qn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Vn=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Wn=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Yn=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Gn(e){return e instanceof Number||"number"==typeof e}function Xn(e){if(e)for(;!0===e.hasChildNodes();){var t=e.firstChild;t&&(Xn(t),e.removeChild(t))}}function $n(e){return e instanceof String||"string"==typeof e}function Zn(e){return"object"===tt(e)&&null!==e}function Kn(e){if(e instanceof Date)return!0;if($n(e)){if(Hn.exec(e))return!0;if(!isNaN(Date.parse(e)))return!0}return!1}function Jn(e){return Rn.isMoment(e)}function Qn(e,t,n,r){var i=!1;!0===r&&(i=null===t[n]&&void 0!==e[n]),i?delete e[n]:e[n]=t[n]}function er(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];for(var r in e)if(void 0!==t[r])if(null===t[r]||"object"!==tt(t[r]))Qn(e,t,r,n);else{var i=e[r],o=t[r];Zn(i)&&Zn(o)&&er(i,o,n)}}var tr=Object.assign;function nr(e,t){if(!Array.isArray(e))throw new Error("Array with property names expected as first argument");for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var o,a=0,s=r;a<s.length;a++){o=s[a];for(var l,u=0;u<e.length;u++)l=e[u],o&&Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t}function rr(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i,o=0;o<e.length;o++)if(i=e[o],Object.prototype.hasOwnProperty.call(n,i))if(n[i]&&n[i].constructor===Object)void 0===t[i]&&(t[i]={}),t[i].constructor===Object?or(t[i],n[i],!1,r):Qn(t,n,i,r);else{if(Array.isArray(n[i]))throw new TypeError("Arrays are not supported by deepExtend");Qn(t,n,i,r)}return t}function ir(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&-1===e.indexOf(i))if(n[i]&&n[i].constructor===Object)void 0===t[i]&&(t[i]={}),t[i].constructor===Object?or(t[i],n[i]):Qn(t,n,i,r);else if(Array.isArray(n[i])){t[i]=[];for(var o=0;o<n[i].length;o++)t[i].push(n[i][o])}else Qn(t,n,i,r);return t}function or(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];for(var i in t)(Object.prototype.hasOwnProperty.call(t,i)||!0===n)&&(t[i]&&Object.getPrototypeOf(t[i])===Object.prototype?void 0===e[i]?e[i]=or({},t[i],n):e[i]&&Object.getPrototypeOf(e[i])===Object.prototype?or(e[i],t[i],n):Qn(e,t,i,r):Array.isArray(t[i])?e[i]=t[i].slice():Qn(e,t,i,r));return e}function ar(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!=t[n])return!1;return!0}function sr(e,t){var n;if(void 0!==e){if(null===e)return null;if(!t)return e;if("string"!=typeof t&&!(t instanceof String))throw new Error("Type must be a string");switch(t){case"boolean":case"Boolean":return!!e;case"number":case"Number":return $n(e)&&!isNaN(Date.parse(e))?Rn(e).valueOf():+e.valueOf();case"string":case"String":return e+"";case"Date":if(Gn(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(Jn(e))return new Date(e.valueOf());if($n(e))return(n=Hn.exec(e))?new Date(+n[1]):Rn(new Date(e)).toDate();throw new Error("Cannot convert object of type "+lr(e)+" to type Date");case"Moment":if(Gn(e))return Rn(e);if(e instanceof Date)return Rn(e.valueOf());if(Jn(e))return Rn(e);if($n(e))return n=Hn.exec(e),Rn(n?+n[1]:e);throw new Error("Cannot convert object of type "+lr(e)+" to type Date");case"ISODate":if(Gn(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(Jn(e))return e.toDate().toISOString();if($n(e))return(n=Hn.exec(e))?new Date(+n[1]).toISOString():Rn(e).format();throw new Error("Cannot convert object of type "+lr(e)+" to type ISODate");case"ASPDate":if(Gn(e))return"/Date("+e+")/";if(e instanceof Date||Jn(e))return"/Date("+e.valueOf()+")/";if($n(e))return"/Date("+((n=Hn.exec(e))?new Date(+n[1]).valueOf():new Date(e).valueOf())+")/";throw new Error("Cannot convert object of type "+lr(e)+" to type ASPDate");default:throw new Error("Unknown type ".concat(t))}}}function lr(e){var t=tt(e);return"object"===t?null===e?"null":e instanceof Boolean?"Boolean":e instanceof Number?"Number":e instanceof String?"String":Array.isArray(e)?"Array":e instanceof Date?"Date":"Object":"number"===t?"Number":"boolean"===t?"Boolean":"string"===t?"String":void 0===t?"undefined":t}function ur(e,t){return[].concat(it(e),[t])}function cr(e){return e.slice()}function fr(e){return e.getBoundingClientRect().left}function dr(e){return e.getBoundingClientRect().right}function hr(e){return e.getBoundingClientRect().top}function pr(e,t){var n=e.className.split(" "),r=t.split(" ");n=n.concat(r.filter((function(e){return 0>n.indexOf(e)}))),e.className=n.join(" ")}function mr(e,t){var n=e.className.split(" "),r=t.split(" ");n=n.filter((function(e){return 0>r.indexOf(e)})),e.className=n.join(" ")}function gr(e,t){if(Array.isArray(e))for(var n=e.length,r=0;r<n;r++)t(e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(e[i],i,e)}var vr=Object.values;function yr(e,t,n){return e[t]!==n&&(e[t]=n,!0)}function br(e){var t=!1;return function(){t||(t=!0,requestAnimationFrame((function(){t=!1,e()})))}}function xr(e,t,n,r){e.addEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&0<=navigator.userAgent.indexOf("Firefox")&&(t="DOMMouseScroll"),e.addEventListener(t,n,r)):e.attachEvent("on"+t,n)}function _r(e,t,n,r){e.removeEventListener?(void 0===r&&(r=!1),"mousewheel"===t&&0<=navigator.userAgent.indexOf("Firefox")&&(t="DOMMouseScroll"),e.removeEventListener(t,n,r)):e.detachEvent("on"+t,n)}function wr(e){e||(e=window.event),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}function kr(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.event,t=null;return e&&(e.target?t=e.target:e.srcElement&&(t=e.srcElement)),t instanceof Element&&(null==t.nodeType||3!=t.nodeType||(t=t.parentNode)instanceof Element)?t:null}function Mr(e,t){for(var n=e;n;){if(n===t)return!0;if(!n.parentNode)return!1;n=n.parentNode}return!1}var Tr={asBoolean:function(e,t){return"function"==typeof e&&(e=e()),null==e?t||null:0!=e},asNumber:function(e,t){return"function"==typeof e&&(e=e()),null==e?t||null:+e||t||null},asString:function(e,t){return"function"==typeof e&&(e=e()),null==e?t||null:e+""},asSize:function(e,t){return"function"==typeof e&&(e=e()),$n(e)?e:Gn(e)?e+"px":t||null},asElement:function(e,t){return"function"==typeof e&&(e=e()),e||t||null}};function Sr(e){var t;switch(e.length){case 3:case 4:return(t=Vn.exec(e))?{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16)}:null;case 6:case 7:return(t=qn.exec(e))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null;default:return null}}function Er(e,t){if(-1!==e.indexOf("rgba"))return e;if(-1!==e.indexOf("rgb")){var n=e.substr(e.indexOf("(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"}var r=Sr(e);return null==r?e:"rgba("+r.r+","+r.g+","+r.b+","+t+")"}function Ar(e,t,n){return"#"+(16777216+(e<<16)+(t<<8)+n).toString(16).slice(1)}function Or(e,t){var n=Math.min;if($n(e)){var r=e;if(zr(r)){var i=r.substr(4).substr(0,r.length-5).split(",").map((function(e){return parseInt(e)}));r=Ar(i[0],i[1],i[2])}if(!0===jr(r)){var o=Ir(r),a={h:o.h,s:.8*o.s,v:n(1,1.02*o.v)},s={h:o.h,s:n(1,1.25*o.s),v:.8*o.v},l=Lr(s.h,s.s,s.v),u=Lr(a.h,a.s,a.v);return{background:r,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}return t?{background:e.background||t.background,border:e.border||t.border,highlight:$n(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||t.highlight.background,border:e.highlight&&e.highlight.border||t.highlight.border},hover:$n(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||t.hover.border,background:e.hover&&e.hover.background||t.hover.background}}:{background:e.background||void 0,border:e.border||void 0,highlight:$n(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||void 0,border:e.highlight&&e.highlight.border||void 0},hover:$n(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||void 0,background:e.hover&&e.hover.background||void 0}}}function Cr(e,t,n){var r=Math.max,i=Math.min,o=i(e/=255,i(t/=255,n/=255)),a=r(e,r(t,n));return o===a?{h:0,s:0,v:o}:{h:60*((e===o?3:n===o?1:5)-(e===o?t-n:n===o?e-t:n-e)/(a-o))/360,s:(a-o)/a,v:a}}var Nr={split:function(e){var t={};return e.split(";").forEach((function(e){if(""!=e.trim()){var n=e.split(":"),r=n[0].trim(),i=n[1].trim();t[r]=i}})),t},join:function(e){return Object.keys(e).map((function(t){return t+": "+e[t]})).join("; ")}};function Dr(e,t){var n=function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?rt(t,!0).forEach((function(n){nt(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rt(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({},Nr.split(e.style.cssText),{},Nr.split(t));e.style.cssText=Nr.join(n)}function Pr(e,t){var n=Nr.split(e.style.cssText),r=Nr.split(t);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&delete n[i];e.style.cssText=Nr.join(n)}function Rr(e,t,n){var r,i,o,a=Math.floor,s=a(6*e),l=6*e-s,u=n*(1-t),c=n*(1-l*t),f=n*(1-(1-l)*t);switch(s%6){case 0:r=n,i=f,o=u;break;case 1:r=c,i=n,o=u;break;case 2:r=u,i=n,o=f;break;case 3:r=u,i=c,o=n;break;case 4:r=f,i=u,o=n;break;case 5:r=n,i=u,o=c}return{r:a(255*r),g:a(255*i),b:a(255*o)}}function Lr(e,t,n){var r=Rr(e,t,n);return Ar(r.r,r.g,r.b)}function Ir(e){var t=Sr(e);if(!t)throw new TypeError("'".concat(e,"' is not a valid color."));return Cr(t.r,t.g,t.b)}function jr(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function zr(e){return Wn.test(e)}function Fr(e){return Yn.test(e)}function Br(e,t){if(null!==t&&"object"===tt(t)){for(var n=Object.create(t),r=0;r<e.length;r++)Object.prototype.hasOwnProperty.call(t,e[r])&&"object"==tt(t[e[r]])&&(n[e[r]]=Ur(t[e[r]]));return n}return null}function Ur(e){if(null===e||"object"!==tt(e))return null;if(e instanceof Element)return e;var t=Object.create(e);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"object"==tt(e[n])&&(t[n]=Ur(e[n]));return t}function Hr(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=void 0;for(i=n;0<i&&0>t(r,e[i-1]);i--)e[i]=e[i-1];e[i]=r}return e}function qr(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=function(e){return null!==e&&void 0!==e},o=function(e){return null!==e&&"object"===tt(e)};if(!o(e))throw new Error("Parameter mergeTarget must be an object");if(!o(t))throw new Error("Parameter options must be an object");if(!i(n))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");var a=t[n],s=o(r)&&!function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(r)?r[n]:void 0,l=s?s.enabled:void 0;if(void 0!==a){if("boolean"==typeof a)return o(e[n])||(e[n]={}),void(e[n].enabled=a);if(null===a&&!o(e[n])){if(!i(s))return;e[n]=Object.create(s)}if(o(a)){var u=!0;void 0===a.enabled?void 0!==l&&(u=s.enabled):u=a.enabled,function(e,t,n){o(e[n])||(e[n]={});var r=t[n],i=e[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}(e,t,n),e[n].enabled=u}}}function Vr(e,t,n,r){for(var i=0,o=0,a=e.length-1;o<=a&&i<1e4;){var s=Math.floor((o+a)/2),l=e[s],u=t(void 0===r?l[n]:l[n][r]);if(0==u)return s;-1==u?o=s+1:a=s-1,i++}return-1}function Wr(e,t,n,r,i){var o,a,s,l,u=Math.max,c=Math.min,f=Math.floor,d=0,h=0,p=e.length-1;for(i=null==i?function(e,t){return e==t?0:e<t?-1:1}:i;h<=p&&1e4>d;){if(o=e[u(0,(l=f(.5*(p+h)))-1)][n],a=e[l][n],s=e[c(e.length-1,l+1)][n],0==i(a,t))return l;if(0>i(o,t)&&0<i(a,t))return"before"==r?u(0,l-1):l;if(0>i(a,t)&&0<i(s,t))return"before"==r?l:c(e.length-1,l+1);0>i(a,t)?h=l+1:p=l-1,d++}return-1}var Yr={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function Gr(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;return n==r&&(r=t.clientWidth),document.body.removeChild(t),n-r}function Xr(e,t){var n;Array.isArray(t)||(t=[t]);var r=!0,i=!1,o=void 0;try{for(var a,s,l=e[Symbol.iterator]();!(r=(a=l.next()).done);r=!0)if(s=a.value){n=s[t[0]];for(var u=1;u<t.length;u++)n&&(n=n[t[u]]);if("undefined"!=typeof n)break}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}var $r=Object.freeze({isNumber:Gn,recursiveDOMDelete:Xn,isString:$n,isObject:Zn,isDate:Kn,isMoment:Jn,fillIfDefined:er,extend:tr,selectiveExtend:nr,selectiveDeepExtend:rr,selectiveNotDeepExtend:ir,deepExtend:or,equalArray:ar,convert:sr,getType:lr,copyAndExtendArray:ur,copyArray:cr,getAbsoluteLeft:fr,getAbsoluteRight:dr,getAbsoluteTop:hr,addClassName:pr,removeClassName:mr,forEach:gr,toArray:vr,updateProperty:yr,throttle:br,addEventListener:xr,removeEventListener:_r,preventDefault:wr,getTarget:kr,hasParent:Mr,option:Tr,hexToRGB:Sr,overrideOpacity:Er,RGBToHex:Ar,parseColor:Or,RGBToHSV:Cr,addCssText:Dr,removeCssText:Pr,HSVToRGB:Rr,HSVToHex:Lr,hexToHSV:Ir,isValidHex:jr,isValidRGB:zr,isValidRGBA:Fr,selectiveBridgeObject:Br,bridgeObject:Ur,insertSort:Hr,mergeOptions:qr,binarySearchCustom:Vr,binarySearchValue:Wr,easingFunctions:Yr,getScrollBarWidth:Gr,topMost:Xr,randomUUID:Un}),Zr=Object.freeze({default:$r,HSVToHex:Lr,HSVToRGB:Rr,RGBToHSV:Cr,RGBToHex:Ar,addClassName:pr,addCssText:Dr,addEventListener:xr,binarySearchCustom:Vr,binarySearchValue:Wr,bridgeObject:Ur,convert:sr,copyAndExtendArray:ur,copyArray:cr,deepExtend:or,easingFunctions:Yr,equalArray:ar,extend:tr,fillIfDefined:er,forEach:gr,getAbsoluteLeft:fr,getAbsoluteRight:dr,getAbsoluteTop:hr,getScrollBarWidth:Gr,getTarget:kr,getType:lr,hasParent:Mr,hexToHSV:Ir,hexToRGB:Sr,insertSort:Hr,isDate:Kn,isMoment:Jn,isNumber:Gn,isObject:Zn,isString:$n,isValidHex:jr,isValidRGB:zr,isValidRGBA:Fr,mergeOptions:qr,option:Tr,overrideOpacity:Er,parseColor:Or,preventDefault:wr,randomUUID:Un,recursiveDOMDelete:Xn,removeClassName:mr,removeCssText:Pr,removeEventListener:_r,selectiveBridgeObject:Br,selectiveDeepExtend:rr,selectiveExtend:nr,selectiveNotDeepExtend:ir,throttle:br,toArray:vr,topMost:Xr,updateProperty:yr});var Kr=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function Jr(e,t){return e(t={exports:{}},t.exports),t.exports}var Qr=Jr((function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return e.exports=n="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n}));var ei=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function ti(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}var ni=function(e,t,n){return t&&ti(e.prototype,t),n&&ti(e,n),e};var ri=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var ii=function(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?ri(e):t},oi=Jr((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t})),ai=Jr((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t}));for(var si=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ai(e,t)},li=[],ui=0;256>ui;ui++)li[ui]=(ui+256).toString(16).substr(1);for(var ci=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var e=new Uint8Array(16);return function(){return crypto.getRandomValues(e),e}}var t=Array(16);return function(){for(var e,n=0;16>n;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=255&e>>>((3&n)<<3);return t}}(),fi=[],di=0;256>di;di++)fi[di]=(di+256).toString(16).substr(1);var hi=ci();hi[0],hi[1],hi[2],hi[3],hi[4],hi[5],hi[6],hi[7];function pi(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,r=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):void 0,e={});var i=e.random||(e.rng||ci)();if(i[6]=64|15&i[6],i[8]=128|63&i[8],t)for(var o=0;16>o;o++)t[r+o]=i[o];return t||function(e,t){var n=t||0,r=li;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}(i)}function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof e&&("undefined"==typeof self||self):window:globalThis;for(var gi=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=Math.round,n=Math.pow,r=Math.max,i=Math.abs,o=Math.min,a=Math.floor,s=Math.ceil;!function(t,n){e.exports=n()}(0,(function(){function l(){return pt.apply(null,arguments)}function u(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function c(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function f(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e}function v(e,t,n,r){return Oe(e,t,n,r,!0).utc()}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function b(e){if(null==e._isValid){var t=y(e),n=mt.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function x(e){var t=v(NaN);return null==e?y(t).userInvalidated=!0:g(y(t),e),t}function _(e,t){var n,r,i;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=y(t)),f(t._locale)||(e._locale=t._locale),0<gt.length)for(n=0;n<gt.length;n++)f(i=t[r=gt[n]])||(e[r]=i);return e}function w(e){_(this,e),this._d=new Date(null==e._d?NaN:e._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===vt&&(vt=!0,l.updateOffset(this),vt=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function M(e){return 0>e?s(e)||0:a(e)}function T(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=M(t)),n}function S(e,t,n){var r,a=o(e.length,t.length),s=i(e.length-t.length),l=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&T(e[r])!==T(t[r]))&&l++;return l+s}function E(e){!1===l.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function A(e,t){var n=!0;return g((function(){if(null!=l.deprecationHandler&&l.deprecationHandler(null,e),n){for(var r,i=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];i.push(r)}E(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}function O(e,t){null!=l.deprecationHandler&&l.deprecationHandler(e,t),yt[e]||(E(t),yt[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e,t){var n,r=g({},e);for(n in t)m(t,n)&&(c(e[n])&&c(t[n])?(r[n]={},g(r[n],e[n]),g(r[n],t[n])):null==t[n]?delete r[n]:r[n]=t[n]);for(n in e)m(e,n)&&!m(t,n)&&c(e[n])&&(r[n]=g({},r[n]));return r}function D(e){null!=e&&this.set(e)}function P(e,t){var n=e.toLowerCase();xt[n]=xt[n+"s"]=xt[t]=e}function R(e){return"string"==typeof e?xt[e]||xt[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)m(e,n)&&((t=R(n))&&(r[t]=e[n]));return r}function I(e,t){_t[e]=t}function j(e,t,o){var a=""+i(e);return(0<=e?o?"+":"":"-")+n(10,r(0,t-a.length)).toString().substr(1)+a}function z(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Tt[e]=i),t&&(Tt[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(Tt[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function F(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e,t){return e.isValid()?(t=U(t,e.localeData()),Mt[t]=Mt[t]||function(e){var t,n,r=e.match(wt);for(t=0,n=r.length;t<n;t++)r[t]=Tt[r[t]]?Tt[r[t]]:F(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=C(r[i])?r[i].call(t,e):r[i];return o}}(t),Mt[t](e)):e.localeData().invalidDate()}function U(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(kt.lastIndex=0;0<=r&&kt.test(e);)e=e.replace(kt,n),kt.lastIndex=0,r-=1;return e}function H(e,t,n){Ht[e]=C(t)?t:function(e){return e&&n?n:t}}function q(e,t){return m(Ht,e)?Ht[e](t._strict,t._locale):new RegExp(function(e){return V(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}(e))}function V(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),d(t)&&(r=function(e,n){n[t]=T(e)}),n=0;n<e.length;n++)qt[e[n]]=r}function Y(e,t){W(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function G(e,t,n){null!=t&&m(qt,e)&&qt[e](t,n._a,n,e)}function X(e){return $(e)?366:365}function $(e){return 0==e%4&&0!=e%100||0==e%400}function Z(e,t){return function(n){return null==n?K(this,e):(J(this,e,n),l.updateOffset(this,t),this)}}function K(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&$(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Q(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Q(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?$(e)?29:28:31-n%7%2}function ee(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)o=v([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1===(i=Vt.call(this._shortMonthsParse,a))?null:i:-1===(i=Vt.call(this._longMonthsParse,a))?null:i:"MMM"===t?-1!==(i=Vt.call(this._shortMonthsParse,a))?i:-1===(i=Vt.call(this._longMonthsParse,a))?null:i:-1!==(i=Vt.call(this._longMonthsParse,a))?i:-1===(i=Vt.call(this._shortMonthsParse,a))?null:i}function te(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=T(t);else if(!d(t=e.localeData().monthsParse(t)))return e;return n=o(e.date(),Q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ne(e){return null==e?K(this,"Month"):(te(this,e),l.updateOffset(this,!0),this)}function re(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=v([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=V(r[t]),i[t]=V(i[t]);for(t=0;24>t;t++)o[t]=V(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ie(e,t,n,r,i,o,a){var s;return 100>e&&0<=e?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function oe(e){var t;if(100>e&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function ae(e,t,n){var r=7+t-n;return-((7+oe(e,0,r).getUTCDay()-t)%7)+r-1}function se(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+ae(e,r,i);return 0>=s?a=X(o=e-1)+s:s>X(e)?(o=e+1,a=s-X(e)):(o=e,a=s),{year:o,dayOfYear:a}}function le(e,t,n){var r,i,o=ae(e.year(),t,n),s=a((e.dayOfYear()-o-1)/7)+1;return 1>s?r=s+ue(i=e.year()-1,t,n):s>ue(e.year(),t,n)?(r=s-ue(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function ue(e,t,n){var r=ae(e,t,n),i=ae(e+1,t,n);return(X(e)-r+i)/7}function ce(e,t){return e.slice(t,7).concat(e.slice(0,t))}function fe(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)o=v([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1===(i=Vt.call(this._weekdaysParse,a))?null:i:"ddd"===t?-1===(i=Vt.call(this._shortWeekdaysParse,a))?null:i:-1===(i=Vt.call(this._minWeekdaysParse,a))?null:i:"dddd"===t?-1!==(i=Vt.call(this._weekdaysParse,a))?i:-1!==(i=Vt.call(this._shortWeekdaysParse,a))?i:-1===(i=Vt.call(this._minWeekdaysParse,a))?null:i:"ddd"===t?-1!==(i=Vt.call(this._shortWeekdaysParse,a))?i:-1!==(i=Vt.call(this._weekdaysParse,a))?i:-1===(i=Vt.call(this._minWeekdaysParse,a))?null:i:-1!==(i=Vt.call(this._minWeekdaysParse,a))?i:-1!==(i=Vt.call(this._weekdaysParse,a))?i:-1===(i=Vt.call(this._shortWeekdaysParse,a))?null:i}function de(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;7>t;t++)n=v([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)s[t]=V(s[t]),l[t]=V(l[t]),u[t]=V(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function he(){return this.hours()%12||12}function pe(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function me(e,t){return t._meridiemParse}function ge(e){return e?e.toLowerCase().replace("_","-"):e}function ve(t){var n=null;if(!Jt[t]&&e&&e.exports)try{n=$t._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),ye(n)}catch(t){}return Jt[t]}function ye(e,t){var n;return e&&((n=f(t)?xe(e):be(e,t))?$t=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),$t._abbr}function be(e,t){if(null!==t){var n,r=Kt;if(t.abbr=e,null!=Jt[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Jt[e]._config;else if(null!=t.parentLocale)if(null!=Jt[t.parentLocale])r=Jt[t.parentLocale]._config;else{if(null==(n=ve(t.parentLocale)))return Qt[t.parentLocale]||(Qt[t.parentLocale]=[]),Qt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Jt[e]=new D(N(r,t)),Qt[e]&&Qt[e].forEach((function(e){be(e.name,e.config)})),ye(e),Jt[e]}return delete Jt[e],null}function xe(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $t;if(!u(e)){if(t=ve(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=ge(e[o]).split("-")).length,n=(n=ge(e[o+1]))?n.split("-"):null;0<t;){if(r=ve(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}o++}return $t}(e)}function _e(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=0>n[1]||11<n[1]?1:1>n[2]||n[2]>Q(n[0],n[1])?2:0>n[3]||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:0>n[4]||59<n[4]?4:0>n[5]||59<n[5]?5:0>n[6]||999<n[6]?6:-1,y(e)._overflowDayOfYear&&(0>t||2<t)&&(t=2),y(e)._overflowWeeks&&-1===t&&(t=7),y(e)._overflowWeekday&&-1===t&&(t=8),y(e).overflow=t),e}function we(e,t,n){return null==e?null==t?n:t:e}function ke(e){var t,n,r,i,o,a=[];if(!e._d){for(r=function(e){var t=new Date(l.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=we(t.GG,e._a[0],le(Ce(),1,4).year),r=we(t.W,1),(1>(i=we(t.E,1))||7<i)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=le(Ce(),o,a);n=we(t.gg,e._a[0],u.year),r=we(t.w,u.week),null==t.d?null==t.e?i=o:(i=t.e+o,(0>t.e||6<t.e)&&(l=!0)):(0>(i=t.d)||6<i)&&(l=!0)}1>r||r>ue(n,o,a)?y(e)._overflowWeeks=!0:null==l?(s=se(n,r,i,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear):y(e)._overflowWeekday=!0}(e),null!=e._dayOfYear&&(o=we(e._a[0],r[0]),(e._dayOfYear>X(o)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=oe(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?oe:ie).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function Me(e){var t,n,r,i,o,a,s=e._i,l=en.exec(s)||tn.exec(s);if(l){for(y(e).iso=!0,t=0,n=rn.length;t<n;t++)if(rn[t][1].exec(l[1])){i=rn[t][0],r=!1!==rn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=on.length;t<n;t++)if(on[t][1].exec(l[3])){o=(l[2]||" ")+on[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!nn.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Ee(e)}else e._isValid=!1}function Te(e){var t=parseInt(e,10);return 49>=t?2e3+t:999>=t?1900+t:t}function Se(e){var t=sn.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(t){var n=function(e,t,n,r,i,o){var a=[Te(e),Gt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Xt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return ln[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(t[8],t[9],t[10]),e._d=oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Ee(e){if(e._f!==l.ISO_8601)if(e._f!==l.RFC_2822){e._a=[],y(e).empty=!0;var t,n,r,i,o,a=""+e._i,s=a.length,u=0;for(r=U(e._f,e._locale).match(wt)||[],t=0;t<r.length;t++)i=r[t],(n=(a.match(q(i,e))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&y(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),Tt[i]?(n?y(e).empty=!1:y(e).unusedTokens.push(i),G(i,n,e)):e._strict&&!n&&y(e).unusedTokens.push(i);y(e).charsLeftOver=s-u,0<a.length&&y(e).unusedInput.push(a),12>=e._a[3]&&!0===y(e).bigHour&&0<e._a[3]&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null==e.meridiemHour?null==e.isPM?t:((r=e.isPM(n))&&12>t&&(t+=12),r||12!==t||(t=0),t):e.meridiemHour(t,n)}(e._locale,e._a[3],e._meridiem),ke(e),_e(e)}else Se(e);else Me(e)}function Ae(e){var t=e._i,n=e._f;return e._locale=e._locale||xe(e._l),null===t||void 0===n&&""===t?x({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new w(_e(t)):(h(t)?e._d=t:u(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ee(t),b(t)&&(o+=y(t).charsLeftOver,o+=10*y(t).unusedTokens.length,y(t).score=o,(null==r||o<r)&&(r=o,n=t));g(e,n||t)}(e):n?Ee(e):function(e){var t=e._i;f(t)?e._d=new Date(l.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=an.exec(e._i);null===t?(Me(e),!1===e._isValid&&(delete e._isValid,Se(e),!1===e._isValid&&(delete e._isValid,l.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):u(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),ke(e)):c(t)?function(e){if(!e._d){var t=L(e._i);e._a=p([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ke(e)}}(e):d(t)?e._d=new Date(t):l.createFromInputFallback(e)}(e),b(e)||(e._d=null),e))}function Oe(e,t,n,r,i){var o={};return(!0===n||!1===n)&&(r=n,n=void 0),(c(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||u(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,function(e){var t=new w(_e(Ae(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(o)}function Ce(e,t,n,r){return Oe(e,t,n,r,!1)}function Ne(e,t){var n,r;if(1===t.length&&u(t[0])&&(t=t[0]),!t.length)return Ce();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function De(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Vt.call(fn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<fn.length;++r)if(e[fn[r]]){if(n)return!1;parseFloat(e[fn[r]])!==T(e[fn[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=xe(),this._bubble()}function Pe(e){return e instanceof De}function Re(e){return 0>e?-1*t(-1*e):t(e)}function Le(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)}))}function Ie(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(dn)||["-",0,0],i=60*r[1]+T(r[2]);return 0===i?0:"+"===r[0]?i:-i}function je(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(k(e)||h(e)?e.valueOf():Ce(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),l.updateOffset(n,!1),n):Ce(e).local()}function ze(e){return 15*-t(e._d.getTimezoneOffset()/15)}function Fe(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Be(e,t){var n,r,i,o=e,a=null;return Pe(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:d(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=hn.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:T(a[2])*n,h:T(a[3])*n,m:T(a[4])*n,s:T(a[5])*n,ms:T(Re(1e3*a[6]))*n}):(a=pn.exec(e))?(n="-"===a[1]?-1:1,o={y:Ue(a[2],n),M:Ue(a[3],n),w:Ue(a[4],n),d:Ue(a[5],n),h:Ue(a[6],n),m:Ue(a[7],n),s:Ue(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=je(t,e),e.isBefore(t)?n=He(e,t):((n=He(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Ce(o.from),Ce(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new De(o),Pe(e)&&m(e,"_locale")&&(r._locale=e._locale),r}function Ue(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function He(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qe(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ve(this,Be(n="string"==typeof n?+n:n,r),e),this}}function Ve(e,t,n,r){var i=t._milliseconds,o=Re(t._days),a=Re(t._months);e.isValid()&&(r=null==r||r,a&&te(e,K(e,"Month")+a*n),o&&J(e,"Date",K(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&l.updateOffset(e,o||a))}function We(e,t){var n,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return 0>t-i?n=(t-i)/(i-e.clone().add(r-1,"months")):n=(t-i)/(e.clone().add(r+1,"months")-i),-(r+n)||0}function Ye(e){var t;return void 0===e?this._locale._abbr:(null!=(t=xe(e))&&(this._locale=t),this)}function Ge(){return this._locale}function Xe(e,t){return(e%t+t)%t}function $e(e,t,n){return 100>e&&0<=e?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function Ze(e,t,n){return 100>e&&0<=e?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function Ke(e,t){z(0,[e,e.length],0,t)}function Je(e,t,n,r,i){var o;return null==e?le(this,r,i).year:(t>(o=ue(e,r,i))&&(t=o),Qe.call(this,e,t,n,r,i))}function Qe(e,t,n,r,i){var o=se(e,t,n,r,i),a=oe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function et(e,t){t[6]=T(1e3*("0."+e))}function tt(e){return e}function nt(e,t,n,r){var i=xe(),o=v().set(r,t);return i[n](o,e)}function rt(e,t,n){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return nt(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=nt(e,r,n,"month");return i}function it(e,t,n,r){"boolean"==typeof e?(d(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,d(t)&&(n=t,t=void 0),t=t||"");var i=xe(),o=e?i._week.dow:0;if(null!=n)return nt(t,(n+o)%7,r,"day");var a,s=[];for(a=0;7>a;a++)s[a]=nt(t,(a+o)%7,r,"day");return s}function ot(e,t,n,r){var i=Be(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function at(e){return 0>e?a(e):s(e)}function st(e){return 4800*e/146097}function lt(e){return 146097*e/4800}function ut(e){return function(){return this.as(e)}}function ct(e){return function(){return this.isValid()?this._data[e]:NaN}}function ft(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function dt(e){return(0<e)-(0>e)||+e}function ht(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Vn(this._milliseconds)/1e3,r=Vn(this._days),i=Vn(this._months);e=M(n/60),t=M(e/60),n%=60,e%=60;var o=M(i/12),a=i%=12,s=r,l=t,u=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=0>f?"-":"",h=dt(this._months)===dt(f)?"":"-",p=dt(this._days)===dt(f)?"":"-",m=dt(this._milliseconds)===dt(f)?"":"-";return d+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?p+s+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var pt,mt;mt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var gt=l.momentProperties=[],vt=!1,yt={};l.suppressDeprecationWarnings=!1,l.deprecationHandler=null;var bt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)m(e,t)&&n.push(t);return n},xt={},_t={},wt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mt={},Tt={},St=/\d/,Et=/\d\d/,At=/\d{3}/,Ot=/\d{4}/,Ct=/[+-]?\d{6}/,Nt=/\d\d?/,Dt=/\d\d\d\d?/,Pt=/\d\d\d\d\d\d?/,Rt=/\d{1,3}/,Lt=/\d{1,4}/,It=/[+-]?\d{1,6}/,jt=/\d+/,zt=/[+-]?\d+/,Ft=/Z|[+-]\d\d:?\d\d/gi,Bt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ut=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ht={},qt={};z("Y",0,0,(function(){var e=this.year();return 9999>=e?""+e:"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),P("year","y"),I("year",1),H("Y",zt),H("YY",Nt,Et),H("YYYY",Lt,Ot),H("YYYYY",It,Ct),H("YYYYYY",It,Ct),W(["YYYYY","YYYYYY"],0),W("YYYY",(function(e,t){t[0]=2===e.length?l.parseTwoDigitYear(e):T(e)})),W("YY",(function(e,t){t[0]=l.parseTwoDigitYear(e)})),W("Y",(function(e,t){t[0]=parseInt(e,10)})),l.parseTwoDigitYear=function(e){return T(e)+(68<T(e)?1900:2e3)};var Vt,Wt=Z("FullYear",!0);Vt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),P("month","M"),I("month",8),H("M",Nt),H("MM",Nt,Et),H("MMM",(function(e,t){return t.monthsShortRegex(e)})),H("MMMM",(function(e,t){return t.monthsRegex(e)})),W(["M","MM"],(function(e,t){t[1]=T(e)-1})),W(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null==i?y(n).invalidMonth=e:t[1]=i}));var Yt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),I("week",5),I("isoWeek",5),H("w",Nt),H("ww",Nt,Et),H("W",Nt),H("WW",Nt,Et),Y(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=T(e)})),z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),I("day",11),I("weekday",11),I("isoWeekday",11),H("d",Nt),H("e",Nt),H("E",Nt),H("dd",(function(e,t){return t.weekdaysMinRegex(e)})),H("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),H("dddd",(function(e,t){return t.weekdaysRegex(e)})),Y(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null==i?y(n).invalidWeekday=e:t.d=i})),Y(["d","e","E"],(function(e,t,n,r){t[r]=T(e)}));var Xt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];z("H",["HH",2],0,"hour"),z("h",["hh",2],0,he),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+he.apply(this)+j(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+he.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),pe("a",!0),pe("A",!1),P("hour","h"),I("hour",13),H("a",me),H("A",me),H("H",Nt),H("h",Nt),H("k",Nt),H("HH",Nt,Et),H("hh",Nt,Et),H("kk",Nt,Et),H("hmm",Dt),H("hmmss",Pt),H("Hmm",Dt),H("Hmmss",Pt),W(["H","HH"],3),W(["k","kk"],(function(e,t){var n=T(e);t[3]=24===n?0:n})),W(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),W(["h","hh"],(function(e,t,n){t[3]=T(e),y(n).bigHour=!0})),W("hmm",(function(e,t,n){var r=e.length-2;t[3]=T(e.substr(0,r)),t[4]=T(e.substr(r)),y(n).bigHour=!0})),W("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=T(e.substr(0,r)),t[4]=T(e.substr(r,2)),t[5]=T(e.substr(i)),y(n).bigHour=!0})),W("Hmm",(function(e,t){var n=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n))})),W("Hmmss",(function(e,t){var n=e.length-4,r=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n,2)),t[5]=T(e.substr(r))}));var $t,Zt=Z("Hours",!0),Kt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:Gt,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Xt,meridiemParse:/[ap]\.?m?\.?/i},Jt={},Qt={},en=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nn=/Z|[+-]\d\d(?::?\d\d)?/,rn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],on=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],an=/^\/?Date\((\-?\d+)/i,sn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ln={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};l.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),l.ISO_8601=function(){},l.RFC_2822=function(){};var un=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ce.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:x()})),cn=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ce.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:x()})),fn=["year","quarter","month","week","day","hour","minute","second","millisecond"];Le("Z",":"),Le("ZZ",""),H("Z",Bt),H("ZZ",Bt),W(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ie(Bt,e)}));var dn=/([\+\-]|\d\d)/gi;l.updateOffset=function(){};var hn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,pn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Be.fn=De.prototype,Be.invalid=function(){return Be(NaN)};var mn=qe(1,"add"),gn=qe(-1,"subtract");l.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",l.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var vn=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ke("gggg","weekYear"),Ke("ggggg","weekYear"),Ke("GGGG","isoWeekYear"),Ke("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),I("weekYear",1),I("isoWeekYear",1),H("G",zt),H("g",zt),H("GG",Nt,Et),H("gg",Nt,Et),H("GGGG",Lt,Ot),H("gggg",Lt,Ot),H("GGGGG",It,Ct),H("ggggg",It,Ct),Y(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=T(e)})),Y(["gg","GG"],(function(e,t,n,r){t[r]=l.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),P("quarter","Q"),I("quarter",7),H("Q",St),W("Q",(function(e,t){t[1]=3*(T(e)-1)})),z("D",["DD",2],"Do","date"),P("date","D"),I("date",9),H("D",Nt),H("DD",Nt,Et),H("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),W(["D","DD"],2),W("Do",(function(e,t){t[2]=T(e.match(Nt)[0])}));var yn=Z("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),I("dayOfYear",4),H("DDD",Rt),H("DDDD",At),W(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=T(e)})),z("m",["mm",2],0,"minute"),P("minute","m"),I("minute",14),H("m",Nt),H("mm",Nt,Et),W(["m","mm"],4);var bn=Z("Minutes",!1);z("s",["ss",2],0,"second"),P("second","s"),I("second",15),H("s",Nt),H("ss",Nt,Et),W(["s","ss"],5);var xn,_n=Z("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),P("millisecond","ms"),I("millisecond",16),H("S",Rt,St),H("SS",Rt,Et),H("SSS",Rt,At),xn="SSSS";9>=xn.length;xn+="S")H(xn,jt);for(xn="S";9>=xn.length;xn+="S")W(xn,et);var wn=Z("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var kn=w.prototype;kn.add=mn,kn.calendar=function(e,t){var n=e||Ce(),r=je(n,this).startOf("day"),i=l.calendarFormat(this,r)||"sameElse",o=t&&(C(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Ce(n)))},kn.clone=function(){return new w(this)},kn.diff=function(e,t,n){var r,i,o;return this.isValid()?(r=je(e,this)).isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),o="year"===(t=R(t))?We(this,r)/12:"month"===t?We(this,r):"quarter"===t?We(this,r)/3:"second"===t?(this-r)/1e3:"minute"===t?(this-r)/6e4:"hour"===t?(this-r)/36e5:"day"===t?(this-r-i)/864e5:"week"===t?(this-r-i)/6048e5:this-r,n?o:M(o)):NaN:NaN},kn.endOf=function(e){var t;if(void 0===(e=R(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Ze:$e;return"year"===e?t=n(this.year()+1,0,1)-1:"quarter"===e?t=n(this.year(),this.month()-this.month()%3+3,1)-1:"month"===e?t=n(this.year(),this.month()+1,1)-1:"week"===e?t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:"isoWeek"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:"day"===e||"date"===e?t=n(this.year(),this.month(),this.date()+1)-1:"hour"===e?(t=this._d.valueOf(),t+=36e5-Xe(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):"minute"===e?(t=this._d.valueOf(),t+=6e4-Xe(t,6e4)-1):"second"===e&&(t=this._d.valueOf(),t+=1e3-Xe(t,1e3)-1),this._d.setTime(t),l.updateOffset(this,!0),this},kn.format=function(e){e||(e=this.isUtc()?l.defaultFormatUtc:l.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)},kn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ce(e).isValid())?Be({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.fromNow=function(e){return this.from(Ce(),e)},kn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ce(e).isValid())?Be({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.toNow=function(e){return this.to(Ce(),e)},kn.get=function(e){return C(this[e=R(e)])?this[e]():this},kn.invalidAt=function(){return y(this).overflow},kn.isAfter=function(e,t){var n=k(e)?e:Ce(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},kn.isBefore=function(e,t){var n=k(e)?e:Ce(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},kn.isBetween=function(e,t,n,r){var i=k(e)?e:Ce(e),o=k(t)?t:Ce(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))},kn.isSame=function(e,t){var n,r=k(e)?e:Ce(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},kn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},kn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},kn.isValid=function(){return b(this)},kn.lang=vn,kn.locale=Ye,kn.localeData=Ge,kn.max=cn,kn.min=un,kn.parsingFlags=function(){return g({},y(this))},kn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:_t[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=L(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(C(this[e=R(e)]))return this[e](t);return this},kn.startOf=function(e){var t;if(void 0===(e=R(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Ze:$e;return"year"===e?t=n(this.year(),0,1):"quarter"===e?t=n(this.year(),this.month()-this.month()%3,1):"month"===e?t=n(this.year(),this.month(),1):"week"===e?t=n(this.year(),this.month(),this.date()-this.weekday()):"isoWeek"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):"day"===e||"date"===e?t=n(this.year(),this.month(),this.date()):"hour"===e?(t=this._d.valueOf(),t-=Xe(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)):"minute"===e?(t=this._d.valueOf(),t-=Xe(t,6e4)):"second"===e&&(t=this._d.valueOf(),t-=Xe(t,1e3)),this._d.setTime(t),l.updateOffset(this,!0),this},kn.subtract=gn,kn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},kn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},kn.toDate=function(){return new Date(this.valueOf())},kn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||9999<n.year()?B(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},kn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},kn.toJSON=function(){return this.isValid()?this.toISOString():null},kn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},kn.unix=function(){return a(this.valueOf()/1e3)},kn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},kn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},kn.year=Wt,kn.isLeapYear=function(){return $(this.year())},kn.weekYear=function(e){return Je.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},kn.isoWeekYear=function(e){return Je.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},kn.quarter=kn.quarters=function(e){return null==e?s((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},kn.month=ne,kn.daysInMonth=function(){return Q(this.year(),this.month())},kn.week=kn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},kn.isoWeek=kn.isoWeeks=function(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},kn.weeksInYear=function(){var e=this.localeData()._week;return ue(this.year(),e.dow,e.doy)},kn.isoWeeksInYear=function(){return ue(this.year(),1,4)},kn.date=yn,kn.day=kn.days=function(e){if(!this.isValid())return null==e?NaN:this;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:(e=function(e,t){return"string"==typeof e?isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10):e}(e,this.localeData()),this.add(e-t,"d"))},kn.weekday=function(e){if(!this.isValid())return null==e?NaN:this;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},kn.isoWeekday=function(e){if(!this.isValid())return null==e?NaN:this;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},kn.dayOfYear=function(e){var n=t((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?n:this.add(e-n,"d")},kn.hour=kn.hours=Zt,kn.minute=kn.minutes=bn,kn.second=kn.seconds=_n,kn.millisecond=kn.milliseconds=wn,kn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null==e?NaN:this;if(null!=e){if("string"!=typeof e)16>i(e)&&!n&&(e*=60);else if(null===(e=Ie(Bt,e)))return this;return!this._isUTC&&t&&(r=ze(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Ve(this,Be(e-o,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:ze(this)},kn.utc=function(e){return this.utcOffset(0,e)},kn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ze(this),"m")),this},kn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ie(Ft,this._i);null==e?this.utcOffset(0,!0):this.utcOffset(e)}return this},kn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ce(e).utcOffset():0,0==(this.utcOffset()-e)%60)},kn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},kn.isLocal=function(){return!!this.isValid()&&!this._isUTC},kn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},kn.isUtc=Fe,kn.isUTC=Fe,kn.zoneAbbr=function(){return this._isUTC?"UTC":""},kn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},kn.dates=A("dates accessor is deprecated. Use date instead.",yn),kn.months=A("months accessor is deprecated. Use month instead",ne),kn.years=A("years accessor is deprecated. Use year instead",Wt),kn.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null==e?-this.utcOffset():("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this)})),kn.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),(e=Ae(e))._a){var t=e._isUTC?v(e._a):Ce(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var Mn=D.prototype;Mn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r},Mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},Mn.invalidDate=function(){return this._invalidDate},Mn.ordinal=function(e){return this._ordinal.replace("%d",e)},Mn.preparse=tt,Mn.postformat=tt,Mn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)},Mn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)},Mn.set=function(e){var t,n;for(n in e)C(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Mn.months=function(e,t){return e?u(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Yt).test(t)?"format":"standalone"][e.month()]:u(this._months)?this._months:this._months.standalone},Mn.monthsShort=function(e,t){return e?u(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Yt.test(t)?"format":"standalone"][e.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Mn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return ee.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=v([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Mn.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||re.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Ut),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Mn.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||re.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=Ut),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Mn.week=function(e){return le(e,this._week.dow,this._week.doy).week},Mn.firstDayOfYear=function(){return this._week.doy},Mn.firstDayOfWeek=function(){return this._week.dow},Mn.weekdays=function(e,t){var n=u(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?ce(n,this._week.dow):e?n[e.day()]:n},Mn.weekdaysMin=function(e){return!0===e?ce(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Mn.weekdaysShort=function(e){return!0===e?ce(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Mn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return fe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=v([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=Ut),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Mn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ye("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===T(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),l.lang=A("moment.lang is deprecated. Use moment.locale instead.",ye),l.langData=A("moment.langData is deprecated. Use moment.localeData instead.",xe);var Tn=i,Sn=ut("ms"),En=ut("s"),An=ut("m"),On=ut("h"),Cn=ut("d"),Nn=ut("w"),Dn=ut("M"),Pn=ut("Q"),Rn=ut("y"),Ln=ct("milliseconds"),In=ct("seconds"),jn=ct("minutes"),zn=ct("hours"),Fn=ct("days"),Bn=ct("months"),Un=ct("years"),Hn=t,qn={ss:44,s:45,m:45,h:22,d:26,M:11},Vn=i,Wn=De.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var e=this._data;return this._milliseconds=Tn(this._milliseconds),this._days=Tn(this._days),this._months=Tn(this._months),e.milliseconds=Tn(e.milliseconds),e.seconds=Tn(e.seconds),e.minutes=Tn(e.minutes),e.hours=Tn(e.hours),e.months=Tn(e.months),e.years=Tn(e.years),this},Wn.add=function(e,t){return ot(this,e,t,1)},Wn.subtract=function(e,t){return ot(this,e,t,-1)},Wn.as=function(e){if(!this.isValid())return NaN;var n,r,i=this._milliseconds;if("month"===(e=R(e))||"quarter"===e||"year"===e)switch(n=this._days+i/864e5,r=this._months+st(n),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(n=this._days+t(lt(this._months)),e){case"week":return n/7+i/6048e5;case"day":return n+i/864e5;case"hour":return 24*n+i/36e5;case"minute":return 1440*n+i/6e4;case"second":return 86400*n+i/1e3;case"millisecond":return a(864e5*n)+i;default:throw new Error("Unknown unit "+e)}},Wn.asMilliseconds=Sn,Wn.asSeconds=En,Wn.asMinutes=An,Wn.asHours=On,Wn.asDays=Cn,Wn.asWeeks=Nn,Wn.asMonths=Dn,Wn.asQuarters=Pn,Wn.asYears=Rn,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12):NaN},Wn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||0>=o&&0>=a&&0>=s||(o+=864e5*at(lt(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=M(o/1e3),l.seconds=e%60,t=M(e/60),l.minutes=t%60,n=M(t/60),l.hours=n%24,a+=M(n/24),s+=i=M(st(a)),a-=at(lt(i)),r=M(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},Wn.clone=function(){return Be(this)},Wn.get=function(e){return e=R(e),this.isValid()?this[e+"s"]():NaN},Wn.milliseconds=Ln,Wn.seconds=In,Wn.minutes=jn,Wn.hours=zn,Wn.days=Fn,Wn.weeks=function(){return M(this.days()/7)},Wn.months=Bn,Wn.years=Un,Wn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Be(e).abs(),i=Hn(r.as("s")),o=Hn(r.as("m")),a=Hn(r.as("h")),s=Hn(r.as("d")),l=Hn(r.as("M")),u=Hn(r.as("y")),c=i<=qn.ss&&["s",i]||i<qn.s&&["ss",i]||1>=o&&["m"]||o<qn.m&&["mm",o]||1>=a&&["h"]||a<qn.h&&["hh",a]||1>=s&&["d"]||s<qn.d&&["dd",s]||1>=l&&["M"]||l<qn.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=0<+e,c[4]=n,ft.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Wn.toISOString=ht,Wn.toString=ht,Wn.toJSON=ht,Wn.locale=Ye,Wn.localeData=Ge,Wn.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ht),Wn.lang=vn,z("X",0,0,"unix"),z("x",0,0,"valueOf"),H("x",zt),H("X",/[+-]?\d+(\.\d{1,3})?/),W("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),W("x",(function(e,t,n){n._d=new Date(T(e))})),l.version="2.24.0",function(e){pt=e}(Ce),l.fn=kn,l.min=function(){var e=[].slice.call(arguments,0);return Ne("isBefore",e)},l.max=function(){var e=[].slice.call(arguments,0);return Ne("isAfter",e)},l.now=function(){return Date.now?Date.now():+new Date},l.utc=v,l.unix=function(e){return Ce(1e3*e)},l.months=function(e,t){return rt(e,t,"months")},l.isDate=h,l.locale=ye,l.invalid=x,l.duration=Be,l.isMoment=k,l.weekdays=function(e,t,n){return it(e,t,n,"weekdays")},l.parseZone=function(){return Ce.apply(null,arguments).parseZone()},l.localeData=xe,l.isDuration=Pe,l.monthsShort=function(e,t){return rt(e,t,"monthsShort")},l.weekdaysMin=function(e,t,n){return it(e,t,n,"weekdaysMin")},l.defineLocale=be,l.updateLocale=function(e,t){if(null!=t){var n,r,i=Kt;null!=(r=ve(e))&&(i=r._config),(n=new D(t=N(i,t))).parentLocale=Jt[e],Jt[e]=n,ye(e)}else null!=Jt[e]&&(null==Jt[e].parentLocale?null!=Jt[e]&&delete Jt[e]:Jt[e]=Jt[e].parentLocale);return Jt[e]},l.locales=function(){return bt(Jt)},l.weekdaysShort=function(e,t,n){return it(e,t,n,"weekdaysShort")},l.normalizeUnits=R,l.relativeTimeRounding=function(e){return void 0===e?Hn:"function"==typeof e&&(Hn=e,!0)},l.relativeTimeThreshold=function(e,t){return void 0!==qn[e]&&(void 0===t?qn[e]:(qn[e]=t,"s"===e&&(qn.ss=t-1),!0))},l.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"},l.prototype=kn,l.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},l}))})),vi=[],yi=0;256>yi;yi++)vi[yi]=(yi+256).toString(16).substr(1);for(var bi=function(){if("undefined"!=typeof crypto&&crypto.getRandomValues){var e=new Uint8Array(16);return function(){return crypto.getRandomValues(e),e}}var t=Array(16);return function(){for(var e,n=0;16>n;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=255&e>>>((3&n)<<3);return t}}(),xi=[],_i=0;256>_i;_i++)xi[_i]=(_i+256).toString(16).substr(1);var wi=bi(),ki=(wi[0],wi[1],wi[2],wi[3],wi[4],wi[5],wi[6],wi[7],/^\/?Date\((-?\d+)/i);function Mi(e){return e instanceof Number||"number"==typeof e}function Ti(e){return e instanceof String||"string"==typeof e}function Si(e){return gi.isMoment(e)}function Ei(e,t){var n;if(void 0!==e){if(null===e)return null;if(!t)return e;if("string"!=typeof t&&!(t instanceof String))throw new Error("Type must be a string");switch(t){case"boolean":case"Boolean":return!!e;case"number":case"Number":return Ti(e)&&!isNaN(Date.parse(e))?gi(e).valueOf():+e.valueOf();case"string":case"String":return e+"";case"Date":if(Mi(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(Si(e))return new Date(e.valueOf());if(Ti(e))return(n=ki.exec(e))?new Date(+n[1]):gi(new Date(e)).toDate();throw new Error("Cannot convert object of type "+Ai(e)+" to type Date");case"Moment":if(Mi(e))return gi(e);if(e instanceof Date)return gi(e.valueOf());if(Si(e))return gi(e);if(Ti(e))return n=ki.exec(e),gi(n?+n[1]:e);throw new Error("Cannot convert object of type "+Ai(e)+" to type Date");case"ISODate":if(Mi(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(Si(e))return e.toDate().toISOString();if(Ti(e))return(n=ki.exec(e))?new Date(+n[1]).toISOString():gi(e).format();throw new Error("Cannot convert object of type "+Ai(e)+" to type ISODate");case"ASPDate":if(Mi(e))return"/Date("+e+")/";if(e instanceof Date)return"/Date("+e.valueOf()+")/";if(Ti(e))return"/Date("+((n=ki.exec(e))?new Date(+n[1]).valueOf():new Date(e).valueOf())+")/";throw new Error("Cannot convert object of type "+Ai(e)+" to type ASPDate");default:throw new Error("Unknown type ".concat(t))}}}function Ai(e){var t=mi(e);return"object"===t?null===e?"null":e instanceof Boolean?"Boolean":e instanceof Number?"Number":e instanceof String?"String":Array.isArray(e)?"Array":e instanceof Date?"Date":"Object":"number"===t?"Number":"boolean"===t?"Boolean":"string"===t?"String":void 0===t?"undefined":t}function Oi(e){return"string"==typeof e||"number"==typeof e}var Ci=function(){function e(t){ei(this,e),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(t)}return ni(e,[{key:"setOptions",value:function(e){e&&"undefined"!=typeof e.delay&&(this.delay=e.delay),e&&"undefined"!=typeof e.max&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e,t=this._extended.object,n=this._extended.methods,r=0;r<n.length;r++)(e=n[r]).original?t[e.name]=e.original:delete t[e.name];this._extended=null}}},{key:"replace",value:function(e,t){var n=this,r=e[t];if(!r)throw new Error("Method "+t+" undefined");e[t]=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];n.queue({args:t,fn:r,context:this})}}},{key:"queue",value:function(e){"function"==typeof e?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),0<this.queue.length&&"number"==typeof this.delay&&(this._timeout=setTimeout((function(){e.flush()}),this.delay))}},{key:"flush",value:function(){this._queue.splice(0).forEach((function(e){e.fn.apply(e.context||e.fn,e.args||[])}))}}],[{key:"extend",value:function(t,n){var r=new e(n);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){r.flush()};var i=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o,a=0;a<n.replace.length;a++)o=n.replace[a],i.push({name:o,original:t[o]}),r.replace(t,o);return r._extended={object:t,methods:i},r}}]),e}();var Ni=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}};var Di=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)};var Pi=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var Ri=function(e){return Ni(e)||Di(e)||Pi()},Li=function(){function e(){ei(this,e),this._subscribers={"*":[],add:[],remove:[],update:[]},this.subscribe=e.prototype.on,this.unsubscribe=e.prototype.off}return ni(e,[{key:"_trigger",value:function(e,t,n){if("*"===e)throw new Error("Cannot trigger event *");for(var r,i=[].concat(Ri(this._subscribers[e]),Ri(this._subscribers["*"])),o=0,a=i.length;o<a;o++)(r=i[o]).callback&&r.callback(e,t,null==n?null:n)}},{key:"on",value:function(e,t){this._subscribers[e].push({callback:t})}},{key:"off",value:function(e,t){this._subscribers[e]=this._subscribers[e].filter((function(e){return e.callback!==t}))}}]),e}();function Ii(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}var ji=function(e){function t(e,n){var r;if(ei(this,t),r=ii(this,oi(t).call(this)),e&&!Array.isArray(e)&&(n=e,e=[]),r._options=n||{},r._data=Object.create({}),r.length=0,r._idProp=r._options.fieldId||"id",r._type={},r._options.type)for(var i=Object.keys(r._options.type),o=0,a=i.length;o<a;o++){var s=i[o],l=r._options.type[s];r._type[s]="Date"==l||"ISODate"==l||"ASPDate"==l?"Date":l}return e&&e.length&&r.add(e),r.setOptions(n),r}return si(t,e),ni(t,[{key:"setOptions",value:function(e){e&&void 0!==e.queue&&(!1===e.queue?this._queue&&(this._queue.destroy(),delete this._queue):(!this._queue&&(this._queue=Ci.extend(this,{replace:["add","update","remove"]})),e.queue&&"object"===Qr(e.queue)&&this._queue.setOptions(e.queue)))}},{key:"add",value:function(e,t){var n,r=[];if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)n=this._addItem(e[i]),r.push(n);else{if(!e||"object"!==Qr(e))throw new Error("Unknown dataType");n=this._addItem(e),r.push(n)}return r.length&&this._trigger("add",{items:r},t),r}},{key:"update",value:function(e,t){var n=this,r=[],i=[],o=[],a=[],s=this._idProp,l=function(e){var t=e[s];if(null!=t&&n._data[t]){var l=e,u=Object.assign({},n._data[t]),c=n._updateItem(l);i.push(c),a.push(l),o.push(u)}else{var f=n._addItem(e);r.push(f)}};if(Array.isArray(e))for(var u=0,c=e.length;u<c;u++)e[u]&&"object"===Qr(e[u])?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!e||"object"!==Qr(e))throw new Error("Unknown dataType");l(e)}return r.length&&this._trigger("add",{items:r},t),i.length&&this._trigger("update",{items:i,oldData:o,data:a},t),r.concat(i)}},{key:"get",value:function(e,t){var n=void 0,r=void 0,i=void 0;Oi(e)?(n=e,i=t):Array.isArray(e)?(r=e,i=t):i=e;var o=i&&"Object"===i.returnType?"Object":"Array",a=i&&i.type||this._options.type,s=i&&i.filter,l=[],u=null,c=null,f=null;if(null!=n)(u=this._getItem(n,a))&&s&&!s(u)&&(u=null);else if(null!=r)for(var d=0,h=r.length;d<h;d++)null!=(u=this._getItem(r[d],a))&&(!s||s(u))&&l.push(u);else for(var p=0,m=(c=Object.keys(this._data)).length;p<m;p++)f=c[p],null!=(u=this._getItem(f,a))&&(!s||s(u))&&l.push(u);if(i&&i.order&&null==n&&this._sort(l,i.order),i&&i.fields){var g=i.fields;if(null!=n&&null!=u)u=this._filterFields(u,g);else for(var v=0,y=l.length;v<y;v++)l[v]=this._filterFields(l[v],g)}if("Object"==o){for(var b={},x=0,_=l.length;x<_;x++){var w=l[x];b[w[this._idProp]]=w}return b}return null==n?l:u}},{key:"getIds",value:function(e){var t,n,r=this._data,i=e&&e.filter,o=e&&e.order,a=e&&e.type||this._options.type,s=Object.keys(r),l=[];if(i)if(o){n=[];for(var u,c=0,f=s.length;c<f;c++)u=s[c],i(t=this._getItem(u,a))&&n.push(t);this._sort(n,o);for(var d=0,h=n.length;d<h;d++)l.push(n[d][this._idProp])}else for(var p,m=0,g=s.length;m<g;m++)p=s[m],i(t=this._getItem(p,a))&&l.push(t[this._idProp]);else if(o){n=[];for(var v,y=0,b=s.length;y<b;y++)v=s[y],n.push(r[v]);this._sort(n,o);for(var x=0,_=n.length;x<_;x++)l.push(n[x][this._idProp])}else for(var w=0,k=s.length;w<k;w++)t=r[s[w]],l.push(t[this._idProp]);return l}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(e,t){var n=t&&t.filter,r=t&&t.type||this._options.type,i=this._data,o=Object.keys(i);if(t&&t.order)for(var a=this.get(t),s=0,l=a.length;s<l;s++){var u=a[s];e(u,u[this._idProp])}else for(var c=0,f=o.length;c<f;c++){var d=o[c],h=this._getItem(d,r);(!n||n(h))&&e(h,d)}}},{key:"map",value:function(e,t){for(var n=t&&t.filter,r=t&&t.type||this._options.type,i=[],o=this._data,a=Object.keys(o),s=0,l=a.length;s<l;s++){var u=a[s],c=this._getItem(u,r);(!n||n(c))&&i.push(e(c,u))}return t&&t.order&&this._sort(i,t.order),i}},{key:"_filterFields",value:function(e,t){return e?(Array.isArray(t)?t:Object.keys(t)).reduce((function(t,n){return t[n]=e[n],t}),{}):e}},{key:"_sort",value:function(e,t){if("string"==typeof t){var n=t;e.sort((function(e,t){var r=e[n],i=t[n];return r>i?1:r<i?-1:0}))}else{if("function"!=typeof t)throw new TypeError("Order must be a function or a string");e.sort(t)}}},{key:"remove",value:function(e,t){for(var n,r=[],i=[],o=Array.isArray(e)?e:[e],a=0,s=o.length;a<s;a++)if(n=this._remove(o[a])){var l=n[this._idProp];null!=l&&(r.push(l),i.push(n))}return r.length&&this._trigger("remove",{items:r,oldData:i},t),r}},{key:"_remove",value:function(e){var t;if(Oi(e)?t=e:e&&"object"===Qr(e)&&(t=e[this._idProp]),null!=t&&this._data[t]){var n=this._data[t];return delete this._data[t],--this.length,n}return null}},{key:"clear",value:function(e){for(var t=Object.keys(this._data),n=[],r=0,i=t.length;r<i;r++)n.push(this._data[t[r]]);return this._data={},this.length=0,this._trigger("remove",{items:t,oldData:n},e),t}},{key:"max",value:function(e){for(var t=this._data,n=Object.keys(t),r=null,i=null,o=0,a=n.length;o<a;o++){var s=t[n[o]],l=s[e];null!=l&&(null==i||l>i)&&(r=s,i=l)}return r}},{key:"min",value:function(e){for(var t=this._data,n=Object.keys(t),r=null,i=null,o=0,a=n.length;o<a;o++){var s=t[n[o]],l=s[e];null!=l&&(null==i||l<i)&&(r=s,i=l)}return r}},{key:"distinct",value:function(e){for(var t=this._data,n=Object.keys(t),r=[],i=this._options.type&&this._options.type[e]||null,o=0,a=0,s=n.length;a<s;a++){for(var l=t[n[a]][e],u=!1,c=0;c<o;c++)if(r[c]==l){u=!0;break}u||void 0===l||(r[o]=l,o++)}if(i)for(var f=0,d=r.length;f<d;f++)r[f]=Ei(r[f],i);return r}},{key:"_addItem",value:function(e){var t=e[this._idProp];if(null==t)t=pi(),e[this._idProp]=t;else if(this._data[t])throw new Error("Cannot add item: item with id "+t+" already exists");for(var n={},r=Object.keys(e),i=0,o=r.length;i<o;i++){var a=r[i],s=this._type[a];n[a]=Ei(e[a],s)}return this._data[t]=n,this.length++,t}},{key:"_getItem",value:function(e,t){var n=this._data[e];if(!n)return null;var r,i=Object.keys(n);if(t){r={};for(var o=0,a=i.length;o<a;o++){var s=i[o],l=n[s];r[s]=Ei(l,t[s])}}else r=function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Ii(t,!0).forEach((function(n){Kr(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ii(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({},n);return null==r[this._idProp]&&(r[this._idProp]=n.id),r}},{key:"_updateItem",value:function(e){var t=e[this._idProp];if(null==t)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(e)+")");var n=this._data[t];if(!n)throw new Error("Cannot update item: no item with id "+t+" found");for(var r=Object.keys(e),i=0,o=r.length;i<o;i++){var a=r[i],s=this._type[a];n[a]=Ei(e[a],s)}return t}}]),t}(Li),zi=function(e){function t(e,n){var r;return ei(this,t),(r=ii(this,oi(t).call(this))).length=0,r._ids={},r._options=n||{},r.listener=r._onEvent.bind(ri(r)),r.setData(e),r}return si(t,e),ni(t,[{key:"setData",value:function(e){if(this._data){this._data.off&&this._data.off("*",this.listener);var t=this._data.getIds({filter:this._options.filter}),n=this._data.get(t);this._ids={},this.length=0,this._trigger("remove",{items:t,oldData:n})}if(null!=e){this._data=e;for(var r,i=this._data.getIds({filter:this._options.filter}),o=0,a=i.length;o<a;o++)r=i[o],this._ids[r]=!0;this.length=i.length,this._trigger("add",{items:i})}else this._data=new ji;this._data.on&&this._data.on("*",this.listener)}},{key:"refresh",value:function(){for(var e,t=this._data.getIds({filter:this._options.filter}),n=Object.keys(this._ids),r={},i=[],o=[],a=[],s=0,l=t.length;s<l;s++)r[e=t[s]]=!0,this._ids[e]||(i.push(e),this._ids[e]=!0);for(var u=0,c=n.length;u<c;u++){var f=n[u],d=this._data.get(f);null==d?console.error("If you see this, report it please."):!r[f]&&(o.push(f),a.push(d),delete this._ids[f])}this.length+=i.length-o.length,i.length&&this._trigger("add",{items:i}),o.length&&this._trigger("remove",{items:o,oldData:a})}},{key:"get",value:function(e,t){if(null==this._data)return null;var n,r=null;Oi(e)||Array.isArray(e)?(r=e,n=t):n=e;var i=Object.assign({},this._options,n),o=this._options.filter,a=n&&n.filter;return o&&a&&(i.filter=function(e){return o(e)&&a(e)}),null==r?this._data.get(i):this._data.get(r,i)}},{key:"getIds",value:function(e){if(this._data.length){var t,n=this._options.filter,r=null==e?null:e.filter;return t=r?n?function(e){return n(e)&&r(e)}:r:n,this._data.getIds({filter:t,order:e&&e.order})}return[]}},{key:"forEach",value:function(e,t){if(this._data){var n,r=this._options.filter,i=t&&t.filter;n=i?r?function(e){return r(e)&&i(e)}:i:r,this._data.forEach(e,{filter:n,order:t&&t.order})}}},{key:"map",value:function(e,t){if(this._data){var n,r=this._options.filter,i=t&&t.filter;return n=i?r?function(e){return r(e)&&i(e)}:i:r,this._data.map(e,{filter:n,order:t&&t.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"_onEvent",value:function(e,t,n){if(t&&t.items&&this._data){var r=t.items,i=[],o=[],a=[],s=[],l=[],u=[];switch(e){case"add":for(var c=0,f=r.length;c<f;c++){var d=r[c];this.get(d)&&(this._ids[d]=!0,i.push(d))}break;case"update":for(var h=0,p=r.length;h<p;h++){var m=r[h];this.get(m)?this._ids[m]?(o.push(m),l.push(t.data[h]),s.push(t.oldData[h])):(this._ids[m]=!0,i.push(m)):this._ids[m]&&(delete this._ids[m],a.push(m),u.push(t.oldData[h]))}break;case"remove":for(var g,v=0,y=r.length;v<y;v++)g=r[v],this._ids[g]&&(delete this._ids[g],a.push(g),u.push(t.oldData[v]))}this.length+=i.length-a.length,i.length&&this._trigger("add",{items:i},n),o.length&&this._trigger("update",{items:o,oldData:s,data:l},n),a.length&&this._trigger("remove",{items:a,oldData:u},n)}}}]),t}(Li),Fi={DataSet:ji,DataView:zi,Queue:Ci},Bi=Object.freeze({default:Fi,DataSet:ji,DataView:zi,Queue:Ci});"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(e,t,n){this.beginPath(),this.arc(e,t,n,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(e,t,n){this.beginPath(),this.rect(e-n,t-n,2*n,2*n),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(e,t,n){var r=Math.sqrt;this.beginPath(),t+=.275*(n*=1.15);var i=2*n,o=i/2,a=r(3)/6*i,s=r(i*i-o*o);this.moveTo(e,t-(s-a)),this.lineTo(e+o,t+a),this.lineTo(e-o,t+a),this.lineTo(e,t-(s-a)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(e,t,n){var r=Math.sqrt;this.beginPath(),t-=.275*(n*=1.15);var i=2*n,o=i/2,a=r(3)/6*i,s=r(i*i-o*o);this.moveTo(e,t+(s-a)),this.lineTo(e+o,t-a),this.lineTo(e-o,t-a),this.lineTo(e,t+(s-a)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(e,t,n){var r=Math.cos,i=Math.sin,o=Math.PI;this.beginPath(),t+=.1*(n*=.82);for(var a,s=0;10>s;s++)a=0==s%2?1.3*n:.5*n,this.lineTo(e+a*i(2*s*o/10),t-a*r(2*s*o/10));this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(e,t,n){this.beginPath(),this.lineTo(e,t+n),this.lineTo(e+n,t),this.lineTo(e,t-n),this.lineTo(e-n,t),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,r,i){var o=Math.PI/180;0>n-2*i&&(i=n/2),0>r-2*i&&(i=r/2),this.beginPath(),this.moveTo(e+i,t),this.lineTo(e+n-i,t),this.arc(e+n-i,t+i,i,270*o,360*o,!1),this.lineTo(e+n,t+r-i),this.arc(e+n-i,t+r-i,i,0,90*o,!1),this.lineTo(e+i,t+r),this.arc(e+i,t+r-i,i,90*o,180*o,!1),this.lineTo(e,t+i),this.arc(e+i,t+i,i,180*o,270*o,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(e,t,n,r){var i=.5522848,o=n/2*i,a=r/2*i,s=e+n,l=t+r,u=e+n/2,c=t+r/2;this.beginPath(),this.moveTo(e,c),this.bezierCurveTo(e,c-a,u-o,t,u,t),this.bezierCurveTo(u+o,t,s,c-a,s,c),this.bezierCurveTo(s,c+a,u+o,l,u,l),this.bezierCurveTo(u-o,l,e,c+a,e,c),this.closePath()},CanvasRenderingContext2D.prototype.database=function(e,t,n,r){var i=r*(1/3),o=.5522848,a=n/2*o,s=i/2*o,l=e+n,u=t+i,c=e+n/2,f=t+i/2,d=t+(r-i/2),h=t+r;this.beginPath(),this.moveTo(l,f),this.bezierCurveTo(l,f+s,c+a,u,c,u),this.bezierCurveTo(c-a,u,e,f+s,e,f),this.bezierCurveTo(e,f-s,c-a,t,c,t),this.bezierCurveTo(c+a,t,l,f-s,l,f),this.lineTo(l,d),this.bezierCurveTo(l,d+s,c+a,h,c,h),this.bezierCurveTo(c-a,h,e,d+s,e,d),this.lineTo(e,f)},CanvasRenderingContext2D.prototype.dashedLine=function(e,t,n,r,i){var o=Math.sqrt;this.beginPath(),this.moveTo(e,t);for(var a=i.length,s=n-e,l=r-t,u=l/s,c=o(s*s+l*l),f=0,d=!0,h=0,p=+i[0];.1<=c;)(p=+i[f++%a])>c&&(p=c),h=o(p*p/(1+u*u)),e+=h=0>s?-h:h,t+=u*h,!0===d?this.lineTo(e,t):this.moveTo(e,t),c-=p,d=!d},CanvasRenderingContext2D.prototype.hexagon=function(e,t,n){this.beginPath();var r=2*Math.PI/6;this.moveTo(e+n,t);for(var i=1;i<6;i++)this.lineTo(e+n*Math.cos(r*i),t+n*Math.sin(r*i));this.closePath()});"undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof e&&("undefined"==typeof self||self):window:globalThis;function Ui(e,t){return e(t={exports:{}},t.exports),t.exports}var Hi=Ui((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}));function qi(e){return Xi=e,function(){var e={};if($i=0,Zi=Xi.charAt(0),lo(),"strict"===Ki&&(e.strict=!0,lo()),("graph"===Ki||"digraph"===Ki)&&(e.type=Ki,lo()),Ji===Yi.IDENTIFIER&&(e.id=Ki,lo()),"{"!=Ki)throw mo("Angle bracket { expected");if(lo(),uo(e),"}"!=Ki)throw mo("Angle bracket } expected");if(lo(),""!==Ki)throw mo("End of file expected");return lo(),delete e.node,delete e.edge,delete e.graph,e}()}var Vi={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Wi=Object.create(Vi);Wi.color="color.color",Wi.style="dashes";var Yi={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Gi={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Xi="",$i=0,Zi="",Ki="",Ji=Yi.NULL;function Qi(){$i++,Zi=Xi.charAt($i)}function eo(){return Xi.charAt($i+1)}var to=/[a-zA-Z_0-9.:#]/;function no(e){return to.test(e)}function ro(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function io(e,t,n){for(var r=t.split("."),i=e;r.length;){var o=r.shift();r.length?(!i[o]&&(i[o]={}),i=i[o]):i[o]=n}}function oo(e,t){for(var n,r,i=null,o=[e],a=e;a.parent;)o.push(a.parent),a=a.parent;if(a.nodes)for(n=0,r=a.nodes.length;n<r;n++)if(t.id===a.nodes[n].id){i=a.nodes[n];break}for(i||(i={id:t.id},e.node&&(i.attr=ro(i.attr,e.node))),n=o.length-1;0<=n;n--){var s=o[n];s.nodes||(s.nodes=[]),-1===s.nodes.indexOf(i)&&s.nodes.push(i)}t.attr&&(i.attr=ro(i.attr,t.attr))}function ao(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var n=ro({},e.edge);t.attr=ro(n,t.attr)}}function so(e,t,n,r,i){var o={from:t,to:n,type:r};return e.edge&&(o.attr=ro({},e.edge)),o.attr=ro(o.attr||{},i),null!=i&&i.hasOwnProperty("arrows")&&null!=i.arrows&&(o.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),o}function lo(){for(Ji=Yi.NULL,Ki="";" "===Zi||"\t"===Zi||"\n"===Zi||"\r"===Zi;)Qi();do{var e=!1;if("#"===Zi){for(var t=$i-1;" "===Xi.charAt(t)||"\t"===Xi.charAt(t);)t--;if("\n"===Xi.charAt(t)||""===Xi.charAt(t)){for(;""!=Zi&&"\n"!=Zi;)Qi();e=!0}}if("/"===Zi&&"/"===eo()){for(;""!=Zi&&"\n"!=Zi;)Qi();e=!0}if("/"===Zi&&"*"===eo()){for(;""!=Zi;){if("*"===Zi&&"/"===eo()){Qi(),Qi();break}Qi()}e=!0}for(;" "===Zi||"\t"===Zi||"\n"===Zi||"\r"===Zi;)Qi()}while(e);if(""!==Zi){var n=Zi+eo();if(Gi[n])return Ji=Yi.DELIMITER,Ki=n,Qi(),void Qi();if(Gi[Zi])return Ji=Yi.DELIMITER,Ki=Zi,void Qi();if(no(Zi)||"-"===Zi){for(Ki+=Zi,Qi();no(Zi);)Ki+=Zi,Qi();return"false"===Ki?Ki=!1:"true"===Ki?Ki=!0:!isNaN(+Ki)&&(Ki=+Ki),void(Ji=Yi.IDENTIFIER)}if('"'===Zi){for(Qi();""!=Zi&&('"'!=Zi||'"'===Zi&&'"'===eo());)'"'===Zi?(Ki+=Zi,Qi()):"\\"===Zi&&"n"===eo()?(Ki+="\n",Qi()):Ki+=Zi,Qi();if('"'!=Zi)throw mo('End of string " expected');return Qi(),void(Ji=Yi.IDENTIFIER)}for(Ji=Yi.UNKNOWN;""!=Zi;)Ki+=Zi,Qi();throw new SyntaxError('Syntax error in part "'+go(Ki,30)+'"')}Ji=Yi.DELIMITER}function uo(e){for(;""!==Ki&&"}"!=Ki;)co(e),";"===Ki&&lo()}function co(e){var t=fo(e);if(t)ho(e,t);else if(!function(e){return"node"===Ki?(lo(),e.node=po(),"node"):"edge"===Ki?(lo(),e.edge=po(),"edge"):"graph"===Ki?(lo(),e.graph=po(),"graph"):null}(e)){if(Ji!=Yi.IDENTIFIER)throw mo("Identifier expected");var n=Ki;if(lo(),"="===Ki){if(lo(),Ji!=Yi.IDENTIFIER)throw mo("Identifier expected");e[n]=Ki,lo()}else!function(e,t){var n={id:t},r=po();r&&(n.attr=r),oo(e,n),ho(e,t)}(e,n)}}function fo(e){var t=null;if("subgraph"===Ki&&((t={}).type="subgraph",lo(),Ji===Yi.IDENTIFIER&&(t.id=Ki,lo())),"{"===Ki){if(lo(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,uo(t),"}"!=Ki)throw mo("Angle bracket } expected");lo(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function ho(e,t){for(;"->"===Ki||"--"===Ki;){var n,r=Ki;lo();var i=fo(e);if(i)n=i;else{if(Ji!=Yi.IDENTIFIER)throw mo("Identifier or subgraph expected");oo(e,{id:n=Ki}),lo()}ao(e,so(e,t,n,r,po())),t=n}}function po(){for(var e,t=null,n={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=[],o=[];"["===Ki;){for(lo(),t={};""!==Ki&&"]"!=Ki;){if(Ji!=Yi.IDENTIFIER)throw mo("Attribute name expected");var a=Ki;if(lo(),"="!=Ki)throw mo("Equal sign = expected");if(lo(),Ji!=Yi.IDENTIFIER)throw mo("Attribute value expected");var s=Ki;"style"===a&&(s=n[s]),"arrowhead"===a&&(a="arrows",s={to:{enabled:!0,type:r[s]}}),"arrowtail"===a&&(a="arrows",s={from:{enabled:!0,type:r[s]}}),i.push({attr:t,name:a,value:s}),o.push(a),lo(),","==Ki&&lo()}if("]"!=Ki)throw mo("Bracket ] expected");lo()}if(o.includes("dir")){var l={arrows:{}};for(e=0;e<i.length;e++)if("arrows"!==i[e].name)"dir"===i[e].name&&(l.dir=e);else if(null!=i[e].value.to)l.arrows.to=e;else{if(null==i[e].value.from)throw mo("Invalid value of arrows");l.arrows.from=e}var u,c,f=i[l.dir].value;if(!o.includes("arrows"))if("both"===f)i.push({attr:i[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=i.length-1,i.push({attr:i[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=i.length-1;else if("forward"===f)i.push({attr:i[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=i.length-1;else if("back"===f)i.push({attr:i[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=i.length-1;else{if("none"!==f)throw mo('Invalid dir type "'+f+'"');i.push({attr:i[l.dir].attr,name:"arrows",value:""}),l.arrows.to=i.length-1}if("both"===f)l.arrows.to&&l.arrows.from?(c=i[l.arrows.to].value.to.type,u=i[l.arrows.from].value.from.type,i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}},i.splice(l.arrows.from,1)):l.arrows.to?(c=i[l.arrows.to].value.to.type,u="arrow",i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}):l.arrows.from&&(c="arrow",u=i[l.arrows.from].value.from.type,i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}});else if("back"===f)l.arrows.to&&l.arrows.from?(c="",u=i[l.arrows.from].value.from.type,i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}):l.arrows.to?(c="",u="arrow",l.arrows.from=l.arrows.to,i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}):l.arrows.from&&(c="",u=i[l.arrows.from].value.from.type,i[l.arrows.to]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}),i[l.arrows.from]={attr:i[l.arrows.from].attr,name:i[l.arrows.from].name,value:{from:{enabled:!0,type:i[l.arrows.from].value.from.type}}};else if("none"===f){var d;i[d=l.arrows.to?l.arrows.to:l.arrows.from]={attr:i[d].attr,name:i[d].name,value:""}}else{if("forward"!==f)throw mo('Invalid dir type "'+f+'"');l.arrows.to&&l.arrows.from?(c=i[l.arrows.to].value.to.type,u="",i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}):l.arrows.to?(c=i[l.arrows.to].value.to.type,u="",i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}):l.arrows.from&&(c="arrow",u="",l.arrows.to=l.arrows.from,i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}),i[l.arrows.to]={attr:i[l.arrows.to].attr,name:i[l.arrows.to].name,value:{to:{enabled:!0,type:i[l.arrows.to].value.to.type}}}}i.splice(l.dir,1)}var h;if(o.includes("penwidth")){var p=[];for(h=i.length,e=0;e<h;e++)"width"!==i[e].name&&("penwidth"===i[e].name&&(i[e].name="width"),p.push(i[e]));i=p}for(h=i.length,e=0;e<h;e++)io(i[e].attr,i[e].name,i[e].value);return t}function mo(e){return new SyntaxError(e+', got "'+go(Ki,30)+'" (char '+$i+")")}function go(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function vo(e,t,n){for(var r,i=t.split("."),o=i.pop(),a=e,s=0;s<i.length;s++)(r=i[s])in a||(a[r]={}),a=a[r];return a[o]=n,e}function yo(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=t[r];Array.isArray(i)?i.forEach((function(t){vo(n,t,e[r])})):vo(n,"string"==typeof i?i:r,e[r])}return n}var bo=qi,xo=function(e){var t=qi(e),n={nodes:[],edges:[],options:{}};if(t.nodes&&t.nodes.forEach((function(e){var t={id:e.id,label:(e.label||e.id)+""};ro(t,yo(e.attr,Vi)),t.image&&(t.shape="image"),n.nodes.push(t)})),t.edges){var r=function(e){var t={from:e.from,to:e.to};return ro(t,yo(e.attr,Wi)),null==t.arrows&&"->"===e.type&&(t.arrows="to"),t};t.edges.forEach((function(e){var t,i;t=e.from instanceof Object?e.from.nodes:{id:e.from},i=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&e.from.edges.forEach((function(e){var t=r(e);n.edges.push(t)})),function(e,t,n){Array.isArray(e)?e.forEach((function(e){Array.isArray(t)?t.forEach((function(t){n(e,t)})):n(e,t)})):Array.isArray(t)?t.forEach((function(t){n(e,t)})):n(e,t)}(t,i,(function(t,i){var o=so(n,t.id,i.id,e.type,e.attr),a=r(o);n.edges.push(a)})),e.to instanceof Object&&e.to.edges&&e.to.edges.forEach((function(e){var t=r(e);n.edges.push(t)}))}))}return t.attr&&(n.options=t.attr),n},_o={parseDOT:bo,DOTToGraph:xo},wo=Object.freeze({default:_o,__moduleExports:_o,parseDOT:bo,DOTToGraph:xo});function ko(e,t){var n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=t&&(null!=t.fixed&&(n.nodes.fixed=t.fixed),null!=t.parseColor&&(n.nodes.parseColor=t.parseColor),null!=t.inheritColor&&(n.edges.inheritColor=t.inheritColor));var r=e.edges.map((function(e){var t={from:e.source,id:e.id,to:e.target};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),"Directed"===e.type&&(t.arrows="to"),e.color&&!1===n.edges.inheritColor&&(t.color=e.color),t}));return{nodes:e.nodes.map((function(e){var t={id:e.id,fixed:n.nodes.fixed&&null!=e.x&&null!=e.y};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.size&&(t.size=e.size),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),null!=e.title&&(t.title=e.title),null!=e.x&&(t.x=e.x),null!=e.y&&(t.y=e.y),null!=e.color&&(!0===n.nodes.parseColor?t.color=e.color:t.color={background:e.color,border:e.color,highlight:{background:e.color,border:e.color},hover:{background:e.color,border:e.color}}),t})),edges:r}}var Mo=Object.freeze({parseGephi:ko}),To=Object.freeze({}),So=Ui((function(e){e.exports=function(e){var t,n=String.fromCharCode,r=e&&e.preventDefault||!1,i=e&&e.container||window,o={},a={keydown:{},keyup:{}},s={};for(t=97;122>=t;t++)s[n(t)]={code:t-97+65,shift:!1};for(t=65;90>=t;t++)s[n(t)]={code:t,shift:!0};for(t=0;9>=t;t++)s[""+t]={code:48+t,shift:!1};for(t=1;12>=t;t++)s["F"+t]={code:111+t,shift:!1};for(t=0;9>=t;t++)s["num"+t]={code:96+t,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var l=function(e){c(e,"keydown")},u=function(e){c(e,"keyup")},c=function(e,t){if(void 0!==a[t][e.keyCode]){for(var n=a[t][e.keyCode],i=0;i<n.length;i++)void 0===n[i].shift?n[i].fn(e):1==n[i].shift&&1==e.shiftKey?n[i].fn(e):0==n[i].shift&&0==e.shiftKey&&n[i].fn(e);1==r&&e.preventDefault()}};return o.bind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);void 0===a[n][s[e].code]&&(a[n][s[e].code]=[]),a[n][s[e].code].push({fn:t,shift:s[e].shift})},o.bindAll=function(e,t){for(var n in void 0===t&&(t="keydown"),s)s.hasOwnProperty(n)&&o.bind(n,e,t)},o.getKey=function(e){for(var t in s)if(s.hasOwnProperty(t)){if(1==e.shiftKey&&1==s[t].shift&&e.keyCode==s[t].code)return t;if(0==e.shiftKey&&0==s[t].shift&&e.keyCode==s[t].code)return t;if(e.keyCode==s[t].code&&"shift"==t)return t}return"unknown key, currently not supported"},o.unbind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===s[e])throw new Error("unsupported key: "+e);if(void 0!==t){var r=[],i=a[n][s[e].code];if(void 0!==i)for(var o=0;o<i.length;o++)(i[o].fn!=t||i[o].shift!=s[e].shift)&&r.push(a[n][s[e].code][o]);a[n][s[e].code]=r}else a[n][s[e].code]=[]},o.reset=function(){a={keydown:{},keyup:{}}},o.destroy=function(){a={keydown:{},keyup:{}},i.removeEventListener("keydown",l,!0),i.removeEventListener("keyup",u,!0)},i.addEventListener("keydown",l,!0),i.addEventListener("keyup",u,!0),o}})),Eo=Object.freeze({default:So,__moduleExports:So});function Ao(){return(Ao=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}function Oo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Co(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var No="function"==typeof Object.assign?Object.assign:function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t,n=Object(e),r=1;r<arguments.length;r++)if(void 0!==(t=arguments[r])&&null!==t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n},Do=["","webkit","Moz","MS","ms","o"],Po="undefined"==typeof document?{style:{}}:document.createElement("div"),Ro="function",Lo=Math.round,Io=Math.abs,jo=Date.now;function zo(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<Do.length;){if((r=(n=Do[o])?n+i:t)in e)return r;o++}}var Fo="undefined"==typeof window?{}:window,Bo=zo(Po.style,"touchAction"),Uo=void 0!==Bo;var Ho="auto",qo="manipulation",Vo="none",Wo="pan-x",Yo="pan-y",Go=function(){if(!Uo)return!1;var e={},t=Fo.CSS&&Fo.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return e[n]=!t||Fo.CSS.supports("touch-action",n)})),e}(),Xo="ontouchstart"in Fo,$o=void 0!==zo(Fo,"PointerEvent"),Zo=Xo&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ko="touch",Jo="mouse",Qo=25,ea=1,ta=2,na=4,ra=8,ia=1,oa=2,aa=4,sa=8,la=16,ua=oa|aa,ca=sa|la,fa=ua|ca,da=["x","y"],ha=["clientX","clientY"];function pa(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(var r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function ma(e,t){return typeof e===Ro?e.apply(t&&t[0]||void 0,t):e}function ga(e,t){return-1<e.indexOf(t)}var va=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){"compute"===e&&(e=this.compute()),Uo&&this.manager.element.style&&Go[e]&&(this.manager.element.style[Bo]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return pa(this.manager.recognizers,(function(t){ma(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(ga(e,Vo))return Vo;var t=ga(e,Wo),n=ga(e,Yo);return t&&n?Vo:t||n?t?Wo:Yo:ga(e,qo)?qo:Ho}(e.join(" "))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var r=this.actions,i=ga(r,Vo)&&!Go[Vo],o=ga(r,Yo)&&!Go[Yo],a=ga(r,Wo)&&!Go[Wo];if(i){var s=1===e.pointers.length,l=2>e.distance,u=250>e.deltaTime;if(s&&l&&u)return}return a&&o?void 0:i||o&&n&ua||a&&n&ca?this.preventSrc(t):void 0}t.preventDefault()},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function ya(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function ba(e){var t=e.length;if(1===t)return{x:Lo(e[0].clientX),y:Lo(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:Lo(n/t),y:Lo(r/t)}}function xa(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:Lo(e.pointers[n].clientX),clientY:Lo(e.pointers[n].clientY)},n++;return{timeStamp:jo(),pointers:t,center:ba(t),deltaX:e.deltaX,deltaY:e.deltaY}}function _a(e,t,n){n||(n=da);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function wa(e,t,n){n||(n=da);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function ka(e,t){return e===t?ia:Io(e)>=Io(t)?0>e?oa:aa:0>t?sa:la}function Ma(e,t,n){return{x:t/e||0,y:n/e||0}}function Ta(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=xa(t)),1<i&&!n.firstMultiple?n.firstMultiple=xa(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=ba(r);t.timeStamp=jo(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=wa(s,l),t.distance=_a(s,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};(t.eventType===ea||o.eventType===na)&&(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=ka(t.deltaX,t.deltaY);var u=Ma(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=Io(u.x)>Io(u.y)?u.x:u.y,t.scale=a?function(e,t){return _a(t[0],t[1],ha)/_a(e[0],e[1],ha)}(a.pointers,r):1,t.rotation=a?function(e,t){return wa(t[1],t[0],ha)+wa(e[1],e[0],ha)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(t.eventType!==ra&&(s>Qo||void 0===a.velocity)){var l=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,c=Ma(s,l,u);r=c.x,i=c.y,n=Io(c.x)>Io(c.y)?c.x:c.y,o=ka(l,u),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var c=e.element;ya(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function Sa(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&ea&&0==r-i;n.isFirst=!!o,n.isFinal=!!(t&(na|ra)&&0==r-i),o&&(e.session={}),n.eventType=t,Ta(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Ea(e){return e.trim().split(/\s+/g)}function Aa(e,t,n){pa(Ea(t),(function(t){e.addEventListener(t,n,!1)}))}function Oa(e,t,n){pa(Ea(t),(function(t){e.removeEventListener(t,n,!1)}))}function Ca(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var Na=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){ma(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&Aa(this.element,this.evEl,this.domHandler),this.evTarget&&Aa(this.target,this.evTarget,this.domHandler),this.evWin&&Aa(Ca(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&Oa(this.element,this.evEl,this.domHandler),this.evTarget&&Oa(this.target,this.evTarget,this.domHandler),this.evWin&&Oa(Ca(this.element),this.evWin,this.domHandler)},e}();function Da(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}var Pa={pointerdown:ea,pointermove:ta,pointerup:na,pointercancel:ra,pointerout:ra},Ra={2:Ko,3:"pen",4:Jo,5:"kinect"},La="pointerdown",Ia="pointermove pointerup pointercancel";Fo.MSPointerEvent&&!Fo.PointerEvent&&(La="MSPointerDown",Ia="MSPointerMove MSPointerUp MSPointerCancel");var ja=function(e){function t(){var n,r=t.prototype;return r.evEl=La,r.evWin=Ia,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Oo(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=Pa[r],o=Ra[e.pointerType]||e.pointerType,a=Da(t,e.pointerId,"pointerId");i&ea&&(0===e.button||o===Ko)?0>a&&(t.push(e),a=t.length-1):i&(na|ra)&&(n=!0),0>a||(t[a]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))},t}(Na);function za(e){return Array.prototype.slice.call(e,0)}function Fa(e,t,n){for(var r,i=[],o=[],a=0;a<e.length;)0>Da(o,r=t?e[a][t]:e[a])&&i.push(e[a]),o[a]=r,a++;return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}var Ba={touchstart:ea,touchmove:ta,touchend:na,touchcancel:ra},Ua="touchstart touchmove touchend touchcancel",Ha=function(e){function t(){var n;return t.prototype.evTarget=Ua,(n=e.apply(this,arguments)||this).targetIds={},n}return Oo(t,e),t.prototype.handler=function(e){var t=Ba[e.type],n=qa.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ko,srcEvent:e})},t}(Na);function qa(e,t){var n=za(e.touches),r=this.targetIds;if(t&(ea|ta)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=za(e.changedTouches),s=[],l=this.target;if(o=n.filter((function(e){return ya(e.target,l)})),t===ea)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(na|ra)&&delete r[a[i].identifier],i++;return s.length?[Fa(o.concat(s),"identifier",!0),s]:void 0}var Va={mousedown:ea,mousemove:ta,mouseup:na},Wa="mousedown",Ya="mousemove mouseup",Ga=function(e){function t(){var n,r=t.prototype;return r.evEl=Wa,r.evWin=Ya,(n=e.apply(this,arguments)||this).pressed=!1,n}return Oo(t,e),t.prototype.handler=function(e){var t=Va[e.type];t&ea&&0===e.button&&(this.pressed=!0),t&ta&&1!==e.which&&(t=na),this.pressed&&(t&na&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Jo,srcEvent:e}))},t}(Na),Xa=2500,$a=25;function Za(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},r=this.lastTouches;this.lastTouches.push(n);setTimeout((function(){var e=r.indexOf(n);-1<e&&r.splice(e,1)}),Xa)}}function Ka(e,t){e&ea?(this.primaryTouch=t.changedPointers[0].identifier,Za.call(this,t)):e&(na|ra)&&Za.call(this,t)}function Ja(e){for(var t=Math.abs,n=e.srcEvent.clientX,r=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],a=t(n-o.x),s=t(r-o.y);if(a<=$a&&s<=$a)return!0}return!1}var Qa=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handler=function(e,t,n){var i=n.pointerType===Ko,o=n.pointerType===Jo;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Ka.call(Co(Co(r)),t,n);else if(o&&Ja.call(Co(Co(r)),n))return;r.callback(e,t,n)}},r.touch=new Ha(r.manager,r.handler),r.mouse=new Ga(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return Oo(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Na);function es(e,t,n){return!!Array.isArray(e)&&(pa(e,n[t],n),!0)}var ts=1,ns=2,rs=4,is=8,os=is,as=16,ss=1;function ls(e,t){var n=t.manager;return n?n.get(e):e}function us(e){return e&as?"cancel":e&is?"end":e&rs?"move":e&ns?"start":""}var cs=function(){function e(e){void 0===e&&(e={}),this.options=Ao({enable:!0},e),this.id=ss++,this.manager=null,this.state=ts,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return No(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(es(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ls(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return es(e,"dropRecognizeWith",this)?this:(e=ls(e,this),delete this.simultaneous[e.id],this)},t.requireFailure=function(e){if(es(e,"requireFailure",this))return this;var t=this.requireFail;return-1===Da(t,e=ls(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(es(e,"dropRequireFailure",this))return this;e=ls(e,this);var t=Da(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return 0<this.requireFail.length},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){function t(t){n.manager.emit(t,e)}var n=this,r=this.state;r<is&&t(n.options.event+us(r)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),r>=is&&t(n.options.event+us(r))},t.tryEmit=function(e){return this.canEmit()?this.emit(e):void(this.state=32)},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|ts)))return!1;e++}return!0},t.recognize=function(e){var t=No({},e);return ma(this.options.enable,[this,t])?(this.state&(os|as|32)&&(this.state=ts),this.state=this.process(t),void(this.state&(ns|rs|is|as)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},t.process=function(){},t.getTouchAction=function(){},t.reset=function(){},e}(),fs={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ds(e,t){var n,r=e.element;r.style&&(pa(e.options.cssProps,(function(i,o){n=zo(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}var hs=function(){function e(e,t){var n=this;this.options=No({},fs,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||($o?ja:Zo?Ha:Xo?Qa:Ga))(e,Sa)}(this),this.touchAction=new va(this,this.options.touchAction),ds(this,!0),pa(this.options.recognizers,(function(e){var t=n.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}var t=e.prototype;return t.set=function(e){return No(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?2:1},t.recognize=function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&os)&&(t.curRecognizer=null,i=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!==i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(ns|rs|is)&&(t.curRecognizer=n,i=n),o++}},t.get=function(e){if(e instanceof cs)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(es(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(es(e,"remove",this))return this;var t=this.get(e);if(e){var n=this.recognizers,r=Da(n,t);-1!==r&&(n.splice(r,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return pa(Ea(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return pa(Ea(e),(function(e){t?n[e]&&n[e].splice(Da(n[e],t),1):delete n[e]})),this},t.emit=function(e,t){this.options.domEvents&&function(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},t.destroy=function(){this.element&&ds(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),ps={touchstart:ea,touchmove:ta,touchend:na,touchcancel:ra},ms="touchstart",gs="touchstart touchmove touchend touchcancel",vs=function(e){function t(){var n,r=t.prototype;return r.evTarget=ms,r.evWin=gs,(n=e.apply(this,arguments)||this).started=!1,n}return Oo(t,e),t.prototype.handler=function(e){var t=ps[e.type];if(t===ea&&(this.started=!0),this.started){var n=ys.call(this,e,t);t&(na|ra)&&0==n[0].length-n[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ko,srcEvent:e})}},t}(Na);function ys(e,t){var n=za(e.touches),r=za(e.changedTouches);return t&(na|ra)&&(n=Fa(n.concat(r),"identifier",!0)),[n,r]}var bs=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Ao({pointers:1},t))||this}Oo(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,r=t&(ns|rs),i=this.attrTest(e);return r&&(n&ra||!i)?t|as:r||i?n&na?t|is:t&ns?t|rs:ns:32},t}(cs),xs=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Ao({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Oo(t,e);var n=t.prototype;return n.getTouchAction=function(){return[qo]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),e.eventType&ea&&0===this.count)return this.failTimeout();if(i&&o&&r){if(e.eventType!==na)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<n.interval,s=!this.pCenter||_a(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){t.state=os,t.tryEmit()}),n.interval),ns):os}return 32},n.failTimeout=function(){var e=this;return this._timer=setTimeout((function(){e.state=32}),this.options.interval),32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){this.state===os&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(cs);function _s(e){return e===la?"down":e===sa?"up":e===oa?"left":e===aa?"right":""}var ws=function(e){var t=Math.abs;function n(t){var n;return void 0===t&&(t={}),(n=e.call(this,Ao({event:"pan",threshold:10,pointers:1,direction:fa},t))||this).pX=null,n.pY=null,n}Oo(n,e);var r=n.prototype;return r.getTouchAction=function(){var e=this.options.direction,t=[];return e&ua&&t.push(Yo),e&ca&&t.push(Wo),t},r.directionTest=function(e){var n=this.options,r=!0,i=e.distance,o=e.direction,a=e.deltaX,s=e.deltaY;return o&n.direction||(n.direction&ua?(o=0===a?ia:0>a?oa:aa,r=a!==this.pX,i=t(e.deltaX)):(o=0===s?ia:0>s?sa:la,r=s!==this.pY,i=t(e.deltaY))),e.direction=o,r&&i>n.threshold&&o&n.direction},r.attrTest=function(e){return bs.prototype.attrTest.call(this,e)&&(this.state&ns||!(this.state&ns)&&this.directionTest(e))},r.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=_s(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},n}(bs),ks=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Ao({event:"swipe",threshold:10,velocity:.3,direction:ua|ca,pointers:1},t))||this}Oo(t,e);var n=t.prototype;return n.getTouchAction=function(){return ws.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,r=this.options.direction;return r&(ua|ca)?n=t.overallVelocity:r&ua?n=t.overallVelocityX:r&ca&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&Io(n)>this.options.velocity&&t.eventType&na},n.emit=function(e){var t=_s(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}(bs),Ms=function(e){var t=Math.abs;function n(t){return void 0===t&&(t={}),e.call(this,Ao({event:"pinch",threshold:0,pointers:2},t))||this}Oo(n,e);var r=n.prototype;return r.getTouchAction=function(){return[Vo]},r.attrTest=function(n){return e.prototype.attrTest.call(this,n)&&(t(n.scale-1)>this.options.threshold||this.state&ns)},r.emit=function(t){if(1!==t.scale){var n=1>t.scale?"in":"out";t.additionalEvent=this.options.event+n}e.prototype.emit.call(this,t)},n}(bs),Ts=function(e){var t=Math.abs;function n(t){return void 0===t&&(t={}),e.call(this,Ao({event:"rotate",threshold:0,pointers:2},t))||this}Oo(n,e);var r=n.prototype;return r.getTouchAction=function(){return[Vo]},r.attrTest=function(n){return e.prototype.attrTest.call(this,n)&&(t(n.rotation)>this.options.threshold||this.state&ns)},n}(bs),Ss=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Ao({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}Oo(t,e);var n=t.prototype;return n.getTouchAction=function(){return[Ho]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!i||!r||e.eventType&(na|ra)&&!o)this.reset();else if(e.eventType&ea)this.reset(),this._timer=setTimeout((function(){t.state=os,t.tryEmit()}),n.time);else if(e.eventType&na)return os;return 32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){this.state!==os||(e&&e.eventType&na?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=jo(),this.manager.emit(this.options.event,this._input)))},t}(cs);function Es(e,t,n){return function(){var r=new Error("get-stack-trace"),i=r&&r.stack?r.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,"DEPRECATED METHOD: "+t+"\n"+n+" AT \n",i),e.apply(this,arguments)}}var As=Es((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),Os=Es((function(e,t){return As(e,t,!0)}),"merge","Use `assign`.");function Cs(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&No(r,n)}function Ns(e,t){return function(){return e.apply(t,arguments)}}var Ds=function(){var e=function(e,t){return void 0===t&&(t={}),new hs(e,Ao({recognizers:[[Ts,{enable:!1}],[Ms,{enable:!1},["rotate"]],[ks,{direction:ua}],[ws,{direction:ua},["swipe"]],[xs],[xs,{event:"doubletap",taps:2},["tap"]],[Ss]]},t))};return e.VERSION="2.0.15",e.DIRECTION_ALL=fa,e.DIRECTION_DOWN=la,e.DIRECTION_LEFT=oa,e.DIRECTION_RIGHT=aa,e.DIRECTION_UP=sa,e.DIRECTION_HORIZONTAL=ua,e.DIRECTION_VERTICAL=ca,e.DIRECTION_NONE=ia,e.DIRECTION_DOWN=la,e.INPUT_START=ea,e.INPUT_MOVE=ta,e.INPUT_END=na,e.INPUT_CANCEL=ra,e.STATE_POSSIBLE=ts,e.STATE_BEGAN=ns,e.STATE_CHANGED=rs,e.STATE_ENDED=is,e.STATE_RECOGNIZED=os,e.STATE_CANCELLED=as,e.STATE_FAILED=32,e.Manager=hs,e.Input=Na,e.TouchAction=va,e.TouchInput=Ha,e.MouseInput=Ga,e.PointerEventInput=ja,e.TouchMouseInput=Qa,e.SingleTouchInput=vs,e.Recognizer=cs,e.AttrRecognizer=bs,e.Tap=xs,e.Pan=ws,e.Swipe=ks,e.Pinch=Ms,e.Rotate=Ts,e.Press=Ss,e.on=Aa,e.off=Oa,e.each=pa,e.merge=Os,e.extend=As,e.bindFn=Ns,e.assign=No,e.inherit=Cs,e.bindFn=Ns,e.prefixed=zo,e.toArray=za,e.inArray=Da,e.uniqueArray=Fa,e.splitStr=Ea,e.boolOrFn=ma,e.hasParent=ya,e.addEventListeners=Aa,e.removeEventListeners=Oa,e.defaults=fs,e}(),Ps=Ui((function(e){if("undefined"!=typeof window){var t=window.Hammer||Ds;e.exports=t}else e.exports=function(){return function(){var e=function(){};return{on:e,off:e,destroy:e,emit:e,get:function(){return{set:e}}}}()}})),Rs=Object.freeze({default:Ps,__moduleExports:Ps});function Ls(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=Ps(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var t=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach((function(e){t.hammer.on(e,(function(e){e.stopPropagation()}))})),document&&document.body&&(this.onClick=function(n){(function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1})(n.target,e)||t.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=So(),this.escListener=this.deactivate.bind(this)}!function(e){e&&e.default}(To),Hi(Ls.prototype),Ls.current=null,Ls.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},Ls.prototype.activate=function(){Ls.current&&Ls.current.deactivate(),Ls.current=this,this.active=!0,this.dom.overlay.style.display="none",$r.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},Ls.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",$r.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},Ls.prototype._onTapOverlay=function(e){this.activate(),e.stopPropagation()};var Is=Ls,js=Ui((function(e,t){t.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},t.en_EN=t.en,t.en_US=t.en,t.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},t.de_DE=t.de,t.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"Atr\xe1s",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},t.es_ES=t.es,t.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},t.it_IT=t.it,t.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},t.nl_NL=t.nl,t.nl_BE=t.nl,t["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},t["pt-BR"]=t["pt-br"],t.pt_BR=t["pt-br"],t.pt_br=t["pt-br"],t.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},t.ru_RU=t.ru,t.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},t.zh_CN=t.cn,t.uk={edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f."},t.uk_UA=t.uk,t.fr={edit:"Editer",del:"Effacer la selection",back:"Retour",addNode:"Ajouter un noeud",addEdge:"Ajouter un lien",editNode:"Editer le noeud",editEdge:"Editer le lien",addDescription:"Cliquez dans un endroit vide pour placer un noeud.",edgeDescription:"Cliquez sur un noeud et glissez le lien vers un autre noeud pour les connecter.",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un noeud.",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",deleteClusterError:"Les clusters ne peuvent pas \xeatre \xe9ffac\xe9s.",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dites."},t.fr_FR=t.fr,t.cs={edit:"Upravit",del:"Smazat v\xfdb\u011br",back:"Zp\u011bt",addNode:"P\u0159idat vrchol",addEdge:"P\u0159idat hranu",editNode:"Upravit vrchol",editEdge:"Upravit hranu",addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",deleteClusterError:"Nelze mazat shluky.",editClusterError:"Nelze upravovat shluky."},t.cs_CZ=t.cs}));var zs=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function Fs(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}var Bs=function(e,t,n){return t&&Fs(e.prototype,t),n&&Fs(e,n),e},Us=function(){var e=Math.floor;function t(){zs(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return Bs(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,n=this.image.height;this.width=t,this.height=n;var r=e(n/2),i=e(n/4),o=e(n/8),a=e(n/16),s=e(t/2),l=e(t/4),u=e(t/8),c=e(t/16);this.canvas.width=3*l,this.canvas.height=r,this.coordinates=[[0,0,s,r],[s,0,l,i],[s,i,u,o],[5*u,i,c,a]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var r=this.coordinates[n-1],i=this.coordinates[n];e.drawImage(this.canvas,r[0],r[1],r[2],r[3],i[0],i[1],i[2],i[3])}}},{key:"drawImageAtPosition",value:function(e,t,n,r,i,o){if(this.initialized())if(2<t){t*=.5;for(var a=0;2<t&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var s=this.coordinates[a];e.drawImage(this.canvas,s[0],s[1],s[2],s[3],n,r,i,o)}else e.drawImage(this.image,n,r,i,o)}}]),t}(),Hs=function(){function e(t){zs(this,e),this.images={},this.imageBroken={},this.callback=t}return Bs(e,[{key:"_tryloadBrokenUrl",value:function(e,t,n){return void 0===e||void 0===n?void 0:void 0===t?void console.warn("No broken url image defined"):(n.image.onerror=function(){console.error("Could not load brokenImage:",t)},void(n.image.src=t))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var n=this,r=this.images[e];if(r)return r;var i=new Us;return this.images[e]=i,i.image.onload=function(){n._fixImageCoordinates(i.image),i.init(),n._redrawWithImage(i)},i.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,t,i)},i.image.src=e,i}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),e}(),qs=function(){function e(){zs(this,e),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},$r.extend(this.options,this.defaultOptions)}return Bs(e,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var n in e)if(e.hasOwnProperty(n)&&-1===t.indexOf(n)){var r=e[n];this.add(n,r)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.groups[e];if(void 0===n&&t)if(!1===this.options.useDefaultGroups&&0<this.groupsArray.length){var r=this.groupIndex%this.groupsArray.length;this.groupIndex++,(n={}).color=this.groups[this.groupsArray[r]],this.groups[e]=n}else{var i=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(n={}).color=this.defaultGroups[i],this.groups[e]=n}return n}},{key:"add",value:function(e,t){return this.groups[e]=t,this.groupsArray.push(e),t}}]),e}();var Vs=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};var Ws=function(e){if(Array.isArray(e))return e};var Ys=function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n};var Gs=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")};var Xs=function(e,t){return Ws(e)||Ys(e,t)||Gs()},$s=Ui((function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(r){return e.exports=n="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(r)}e.exports=n})),Zs=function(){var e=Math.cos,t=Math.sin;function n(){zs(this,n)}return Bs(n,null,[{key:"choosify",value:function(e,t){var n=["node","edge","label"],r=!0,i=$r.topMost(t,"chosen");if("boolean"==typeof i)r=i;else if("object"===$s(i)){if(-1===n.indexOf(e))throw new Error("choosify: subOption '"+e+"' should be one of '"+n.join("', '")+"'");var o=$r.topMost(t,["chosen",e]);("boolean"==typeof o||"function"==typeof o)&&(r=o)}return r}},{key:"pointInRect",value:function(n,r,i){if(0>=n.width||0>=n.height)return!1;if(void 0!==i){var o={x:r.x-i.x,y:r.y-i.y};if(0!==i.angle){var a=-i.angle;r={x:e(a)*o.x-t(a)*o.y,y:t(a)*o.x+e(a)*o.y}}else r=o}var s=n.x+n.width,l=n.y+n.width;return n.left<r.x&&s>r.x&&n.top<r.y&&l>r.y}},{key:"isValidLabel",value:function(e){return"string"==typeof e&&""!==e}}]),n}(),Ks=function(){function e(t){zs(this,e),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return Bs(e,[{key:"_add",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var r=t;(void 0===t||""===t)&&(r=" ");var i=this.measureText(r,n),o=Object.assign({},i.values);o.text=t,o.width=i.width,o.mod=n,(void 0===t||""===t)&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],n=0;if(void 0!==t.blocks)for(var r,i=0;i<t.blocks.length;i++)n<(r=t.blocks[i]).height&&(n=r.height);t.height=n}}},{key:"determineLabelSize",value:function(){for(var e,t=0,n=0,r=0;r<this.lines.length;r++)(e=this.lines[r]).width>t&&(t=e.width),n+=e.height;this.width=t,this.height=n}},{key:"removeEmptyBlocks",value:function(){for(var e,t=[],n=0;n<this.lines.length;n++)if(0!==(e=this.lines[n]).blocks.length){if(n==this.lines.length-1&&0===e.width)continue;var r={};Object.assign(r,e),r.blocks=[];for(var i,o=void 0,a=[],s=0;s<e.blocks.length;s++)0===(i=e.blocks[s]).width?void 0===o&&(o=i):a.push(i);0===a.length&&void 0!==o&&a.push(o),r.blocks=a,t.push(r)}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),e}(),Js={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/\_/,"`":/`/,afterBold:/[^\*]/,afterItal:/[^_]/,afterMono:/[^`]/},Qs=function(){function e(t){zs(this,e),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return Bs(e,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),0<this.buffer.length&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t))&&(this.setTag(e),!0)}},{key:"match",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.prepareRegExp(e),r=Xs(n,2),i=r[0],o=r[1],a=i.test(this.text.substr(this.position,o));return a&&t&&(this.position+=o-1),a}},{key:"parseEndTag",value:function(e,t,n){var r=this.mod()===e;return!(!(r="mono"===e?r&&this.mono:r&&!this.mono)||!this.match(t))&&(void 0===n?this.unsetTag(e):(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e),!0)}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,n;if(e instanceof RegExp)n=e,t=1;else{var r=Js[e];n=void 0===r?new RegExp(e):r,t=e.length}return[n,t]}}]),e}(),el=function(){function e(t,n,r,i){var o=this;zs(this,e),this.ctx=t,this.parent=n,this.selected=r,this.hover=i,this.lines=new Ks((function(e,n){if(void 0===e)return 0;var a=o.parent.getFormattingValues(t,r,i,n),s=0;""!==e&&(s=o.ctx.measureText(e).width);return{width:s,values:a}}))}return Bs(e,[{key:"process",value:function(e){if(!Zs.isValidLabel(e))return this.lines.finalize();var t=this.parent.fontOptions,n=((e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n"))+"").split("\n"),r=n.length;if(t.multi){for(var i,o=0;o<r;o++)if(void 0!==(i=this.splitBlocks(n[o],t.multi))){if(0===i.length){this.lines.newLine("");continue}if(0<t.maxWdt)for(var a=0;a<i.length;a++){var s=i[a].mod,l=i[a].text;this.splitStringIntoLines(l,s,!0)}else for(var u=0;u<i.length;u++){var c=i[u].mod,f=i[u].text;this.lines.append(f,c)}this.lines.newLine()}}else if(0<t.maxWdt)for(var d=0;d<r;d++)this.splitStringIntoLines(n[d]);else for(var h=0;h<r;h++)this.lines.newLine(n[h]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":(!0===e||"html"===e)&&(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new Qs(e),n=function(e){if(/&/.test(e)){var n=t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&");return n||t.add("&"),!0}return!1};t.position<t.text.length;){var r=t.text.charAt(t.position);t.parseWS(r)||/</.test(r)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||n(r)||t.add(r),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,n=new Qs(e),r=!0,i=function(e){return!!/\\/.test(e)&&(n.position<t.text.length+1&&(n.position++,e=t.text.charAt(n.position),/ \t/.test(e)?n.spacing=!0:(n.add(e),r=!1)),!0)};n.position<n.text.length;){var o=n.text.charAt(n.position);n.parseWS(o)||i(o)||(r||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono")||(n.add(o),r=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,t){var n=this.decodeMarkupSystem(t);return"none"===n?[{text:e,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(e):"html"===n?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",n=0;n<e.length;){var r=t+(""===t?"":" ")+e[n];if(this.overMaxWidth(r))break;t=r,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(e.slice(0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"normal",n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var r,i=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");0<i.length;)if(0===(r=this.getLongestFit(i))){var o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(o.slice(0,a),t),i[0]=o.slice(a)}else{var s=r;" "===i[r-1]?r--:" "===i[s]&&s++;var l=i.slice(0,r).join("");r==i.length&&n?this.lines.append(l,t):this.lines.newLine(l,t),i=i.slice(s)}}}]),e}(),tl=["bold","ital","boldital","mono"],nl=function(){var e=Math.max,t=Math.min;function n(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];zs(this,n),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}return Bs(n,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),Zs.isValidLabel(e.label)?this.labelDirty=!0:e.label=void 0,void 0!==e.font&&null!==e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===$s(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(e){var t=this;return $r.forEach(tl,(function(e){t.fontOptions[e]={}})),n.parseFontString(this.fontOptions,e)?void(this.fontOptions.vadjust=0):void $r.forEach(e,(function(e,n){void 0!==e&&null!==e&&"object"!==$s(e)&&(t.fontOptions[n]=e)}))}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=$r.topMost(e,"widthConstraint");if("number"==typeof n)t.maxWdt=+n,t.minWdt=+n;else if("object"===$s(n)){var r=$r.topMost(e,["widthConstraint","maximum"]);"number"==typeof r&&(t.maxWdt=+r);var i=$r.topMost(e,["widthConstraint","minimum"]);"number"==typeof i&&(t.minWdt=+i)}var o=$r.topMost(e,"heightConstraint");if("number"==typeof o)t.minHgt=+o;else if("object"===$s(o)){var a=$r.topMost(e,["heightConstraint","minimum"]);"number"==typeof a&&(t.minHgt=+a);var s=$r.topMost(e,["heightConstraint","valign"]);"string"==typeof s&&("top"===s||"bottom"===s)&&(t.valign=s)}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),$r.deepExtend(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=Zs.choosify("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(e,t){for(var n=0;n<t.length;++n)this.addFontToPile(e,t[n])}},{key:"addFontToPile",value:function(e,t){if(void 0!==t&&void 0!==t.font&&null!==t.font){var n=t.font;e.push(n)}}},{key:"getBasicOptions",value:function(e){for(var t={},r=0;r<e.length;++r){var i=e[r],o={};n.parseFontString(o,i)&&(i=o),$r.forEach(i,(function(e,n){void 0===e||t.hasOwnProperty(n)||(-1===tl.indexOf(n)?t[n]=e:t[n]={})}))}return t}},{key:"getFontOption",value:function(e,t,r){for(var i,o,a=0;a<e.length;++a)if((o=e[a]).hasOwnProperty(t)){if(void 0===(i=o[t])||null===i)continue;var s={};if(n.parseFontString(s,i)&&(i=s),i.hasOwnProperty(r))return i[r]}if(this.fontOptions.hasOwnProperty(r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}},{key:"getFontOptions",value:function(e,t){for(var n,r={},i=["color","size","face","mod","vadjust"],o=0;o<i.length;++o)r[n=i[o]]=this.getFontOption(e,t,n);return r}},{key:"propagateFonts",value:function(e){var t=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var r=function(e){var r=tl[e],i=t.fontOptions[r],o=t.getFontOptions(n,r);$r.forEach(o,(function(e,t){i[t]=e})),i.size=+i.size,i.vadjust=+i.vadjust},i=0;i<tl.length;++i)r(i)}},{key:"draw",value:function(e,t,n,r,i){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=+this.elementOptions.scaling.label.maxVisible/this.body.view.scale),this.calculateLabelSize(e,r,i,t,n,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle",i=4<arguments.length?arguments[4]:void 0,o=this._setAlignment(e,t,n,r),a=Xs(o,2);t=a[0],n=a[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var s,l=0;l<this.lineCount;l++)if((s=this.lines[l])&&s.blocks){var u=0;this.isEdgeLabel||"center"===this.fontOptions.align?u+=(this.size.width-s.width)/2:"right"===this.fontOptions.align&&(u+=this.size.width-s.width);for(var c,f=0;f<s.blocks.length;f++){c=s.blocks[f],e.font=c.font;var d=this._getColor(c.color,i,c.strokeColor),h=Xs(d,2),p=h[0],m=h[1];0<c.strokeWidth&&(e.lineWidth=c.strokeWidth,e.strokeStyle=m,e.lineJoin="round"),e.fillStyle=p,0<c.strokeWidth&&e.strokeText(c.text,t+u,n+c.vadjust),e.fillText(c.text,t+u,n+c.vadjust),u+=c.width}n+=s.height}}},{key:"_setAlignment",value:function(e,t,n,r){return this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,n=0,"top"===this.fontOptions.align?(e.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",n+=4):e.textBaseline="middle"):e.textBaseline=r,[t,n]}},{key:"_getColor",value:function(n,r,i){var o=n||"#000000",a=i||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){var s=e(0,t(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));o=$r.overrideOpacity(o,s),a=$r.overrideOpacity(a,s)}return[o,a]}},{key:"getTextSize",value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return this._processLabel(e,t,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=n,t=.5*-this.size.height;break;case"top":e=n,t=-(this.size.height+2);break;case"bottom":e=n,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,n),this.size.left=r-.5*this.size.width,this.size.top=i-.5*this.size.height,this.size.yLine=i+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,n,r){var i=function(e,t,n){return"normal"===t?"mod"===n?"":e[n]:void 0===e[t][n]?e[n]:e[t][n]},o={color:i(this.fontOptions,r,"color"),size:i(this.fontOptions,r,"size"),face:i(this.fontOptions,r,"face"),mod:i(this.fontOptions,r,"mod"),vadjust:i(this.fontOptions,r,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||n)&&("normal"===r&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,t,n));var a="";return void 0!==o.mod&&""!==o.mod&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,n,r){return new el(e,this,t,n).process(r)}},{key:"_processLabel",value:function(e,t,n){if(!1!==this.labelDirty||this.differentState(t,n)){var r=this._processLabelText(e,t,n,this.elementOptions.label);0<this.fontOptions.minWdt&&r.width<this.fontOptions.minWdt&&(r.width=this.fontOptions.minWdt),this.size.labelHeight=r.height,0<this.fontOptions.minHgt&&r.height<this.fontOptions.minHgt&&(r.height=this.fontOptions.minHgt),this.lines=r.lines,this.lineCount=r.lines.length,this.size.width=r.width,this.size.height=r.height,this.selectedState=t,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!=typeof t)return!1;var n=t.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),n}();var rl=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var il=function(e,t){return!t||"object"!==$s(t)&&"function"!=typeof t?rl(e):t},ol=Ui((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t})),al=Ui((function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t}));var sl,ll=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&al(e,t)},ul=function(){var e=Math.cos,t=Math.sin,n=Math.abs,r=Math.min;function i(e,t,n){zs(this,i),this.body=t,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return Bs(i,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==$s(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(i,o){var a=this.options.borderWidth;return this.resize(i),r(n(this.width/2/e(o)),n(this.height/2/t(o)))+a}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var n=t.borderDashes;!0===n&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0===e.setLineDash?(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1):e.setLineDash([0]))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.lineWidth=r(this.width,n),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.save(),0<n&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){this.enableShadow(e,t),e.fill(),this.disableShadow(e,t),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,n,r,i){void 0!==n&&this.resize(n,r,i),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,n,r,i){this._updateBoundingBox(e,t,n,r,i)}},{key:"getDimensionsFromLabel",value:function(e,t,n){this.textSize=this.labelModule.getTextSize(e,t,n);var r=this.textSize.width,i=this.textSize.height;return 0===r&&(r=14,i=14),{width:r,height:i}}}]),i}(),cl=function(e){var t=Math.cos,n=Math.sin,r=Math.abs,i=Math.min;function o(e,t,n){var r;return zs(this,o),(r=il(this,ol(o).call(this,e,t,n)))._setMargins(n),r}return ll(o,e),Bs(o,[{key:"resize",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var r=this.getDimensionsFromLabel(e,t,n);this.width=r.width+this.margin.right+this.margin.left,this.height=r.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),e.roundRect(this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,n,e,r,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,i)}},{key:"updateBoundingBox",value:function(e,t,n,r,i){this._updateBoundingBox(e,t,n,r,i);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(e,o){this.resize(e);var a=this.options.borderWidth;return i(r(this.width/2/t(o)),r(this.height/2/n(o)))+a}}]),o}(ul),fl=function(e){function t(e,n,r){var i;return zs(this,t),(i=il(this,ol(t).call(this,e,n,r))).labelOffset=0,i.selected=!1,i}return ll(t,e),Bs(t,[{key:"setOptions",value:function(e,t,n){this.options=e,void 0===t&&void 0===n||this.setImages(t,n)}},{key:"setImages",value:function(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}},{key:"switchImages",value:function(e){var t=e&&!this.selected||!e&&this.selected;if(this.selected=e,void 0!==this.imageObjAlt&&t){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_getImagePadding",value:function(){var e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var t=this.options.imagePadding;"object"==$s(t)?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}},{key:"_resizeImage",value:function(){var e,t;if(!1===this.options.shapeProperties.useImageSize){var n=1,r=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:r=this.imageObj.height/this.imageObj.width),e=2*this.options.size*n,t=2*this.options.size*r}else{var i=this._getImagePadding();e=this.imageObj.width+i.left+i.right,t=this.imageObj.height+i.top+i.bottom}this.width=e,this.height=t,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(e,t,n,r){this.initContextForDraw(e,r),e.circle(t,n,r.size),this.performFill(e,r)}},{key:"_drawImageAtPosition",value:function(e,t){if(0!=this.imageObj.width){e.globalAlpha=1,this.enableShadow(e,t);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);var r=this._getImagePadding(),i=this.left+r.left,o=this.top+r.top,a=this.width-r.left-r.right,s=this.height-r.top-r.bottom;this.imageObj.drawImageAtPosition(e,n,i,o,a,s),this.disableShadow(e,t)}}},{key:"_drawImageLabel",value:function(e,t,n,r,i){var o,a=0;if(void 0!==this.height){a=.5*this.height;var s=this.labelModule.getTextSize(e,r,i);1<=s.lineCount&&(a+=s.height/2)}o=n+a,this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,t,o,r,i,"hanging")}}]),t}(ul),dl=function(e){var t=Math.max;function n(e,t,r){var i;return zs(this,n),(i=il(this,ol(n).call(this,e,t,r)))._setMargins(r),i}return ll(n,e),Bs(n,[{key:"resize",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(n,r)){var i=this.getDimensionsFromLabel(e,n,r),o=t(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),this.updateBoundingBox(t,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,r,i)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(e){return this.resize(e),.5*this.width}}]),n}(fl),hl=function(e){var t=Math.max,n=Math.min;function r(e,t,n,i,o){var a;return zs(this,r),(a=il(this,ol(r).call(this,e,t,n))).setImages(i,o),a}return ll(r,e),Bs(r,[{key:"resize",value:function(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var r=2*this.options.size;return this.width=r,this.height=r,void(this.radius=.5*this.width)}this.needsRefresh(e,t)&&this._resizeImage()}},{key:"draw",value:function(e,t,n,r,i,o){this.switchImages(r),this.resize(),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,t,n,r,i),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=t(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=t(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(e){return this.resize(e),.5*this.width}}]),r}(fl),pl=function(e){function t(e,n,r){var i;return zs(this,t),(i=il(this,ol(t).call(this,e,n,r)))._setMargins(r),i}return ll(t,e),Bs(t,[{key:"resize",value:function(e,t,n){if(this.needsRefresh(t,n)){var r=this.getDimensionsFromLabel(e,t,n).width+this.margin.right+this.margin.left;this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),e.database(t-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,r,i),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,i)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(ul),ml=function(e){var t=Math.max,n=Math.min;function r(e,t,n){return zs(this,r),il(this,ol(r).call(this,e,t,n))}return ll(r,e),Bs(r,[{key:"resize",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,n)){this.labelModule.getTextSize(e,t,n);var i=2*r.size;this.width=i,this.height=i,this.radius=.5*this.width}}},{key:"_drawShape",value:function(e,t,n,r,i,o,a,s){if(this.resize(e,o,a,s),this.left=r-this.width/2,this.top=i-this.height/2,this.initContextForDraw(e,s),e[t](r,i,s.size),this.performFill(e,s),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,r,i)),void 0!==this.options.label){this.labelModule.calculateLabelSize(e,o,a,r,i,"hanging");var l=i+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,r,l,o,a,"hanging")}this.updateBoundingBox(r,i)}},{key:"updateBoundingBox",value:function(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=t(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=t(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),r}(ul),gl=function(e){function t(e,n,r){return zs(this,t),il(this,ol(t).call(this,e,n,r))}return ll(t,e),Bs(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"diamond",4,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(ml),vl=function(e){function t(e,n,r){return zs(this,t),il(this,ol(t).call(this,e,n,r))}return ll(t,e),Bs(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"circle",2,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e){return this.resize(e),this.options.size}}]),t}(ml),yl=function(e){var t=Math.cos,n=Math.sin,r=Math.sqrt;function i(e,t,n){return zs(this,i),il(this,ol(i).call(this,e,t,n))}return ll(i,e),Bs(i,[{key:"resize",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var r=this.getDimensionsFromLabel(e,t,n);this.height=2*r.height,this.width=r.width+r.height,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(e,o),e.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,r,i),this.labelModule.draw(e,t,n,r,i)}},{key:"distanceToBorder",value:function(e,i){this.resize(e);var o=.5*this.width,a=.5*this.height,s=n(i)*o,l=t(i)*a;return o*a/r(s*s+l*l)}}]),i}(ul),bl=function(e){var t=Math.max,n=Math.min;function r(e,t,n){var i;return zs(this,r),(i=il(this,ol(r).call(this,e,t,n)))._setMargins(n),i}return ll(r,e),Bs(r,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.iconSize={width:+this.options.icon.size,height:+this.options.icon.size},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=n-this.height/2,this._icon(e,t,n,r,i,o),void 0!==this.options.label&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,r),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,r){this.boundingBox.top=r-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=r+.5*this.options.icon.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=t(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=t(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:"_icon",value:function(e,t,n,r,i,o){var a=+this.options.icon.size;void 0===this.options.icon.code?console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally."):(e.font=(r?"bold ":"")+a+"px "+this.options.icon.face,e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,n),this.disableShadow(e,o))}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(ul),xl=function(e){var t=Math.max,n=Math.min;function r(e,t,n,i,o){var a;return zs(this,r),(a=il(this,ol(r).call(this,e,t,n))).setImages(i,o),a}return ll(r,e),Bs(r,[{key:"resize",value:function(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var r=2*this.options.size;return this.width=r,void(this.height=r)}this.needsRefresh(e,t)&&this._resizeImage()}},{key:"draw",value:function(e,t,r,i,o,a){if(this.switchImages(i),this.resize(),this.left=t-this.width/2,this.top=r-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var s=this.options.borderWidth,l=this.options.borderWidthSelected||2*this.options.borderWidth,u=(i?l:s)/this.body.view.scale;e.lineWidth=n(this.width,u),e.beginPath(),e.strokeStyle=i?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,e.fillStyle=i?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),e.fill(),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,t,r,i,o),this.updateBoundingBox(t,r)}},{key:"updateBoundingBox",value:function(e,r){this.resize(),this._updateBoundingBox(e,r),void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=t(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=t(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),r}(fl),_l=function(e){function t(e,n,r){return zs(this,t),il(this,ol(t).call(this,e,n,r))}return ll(t,e),Bs(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"square",2,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(ml),wl=function(e){function t(e,n,r){return zs(this,t),il(this,ol(t).call(this,e,n,r))}return ll(t,e),Bs(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"hexagon",4,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(ml),kl=function(e){function t(e,n,r){return zs(this,t),il(this,ol(t).call(this,e,n,r))}return ll(t,e),Bs(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"star",4,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(ml),Ml=function(e){function t(e,n,r){var i;return zs(this,t),(i=il(this,ol(t).call(this,e,n,r)))._setMargins(r),i}return ll(t,e),Bs(t,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.textSize=this.labelModule.getTextSize(e,t,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,r,i,o){this.resize(e,r,i),this.left=t-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,r,i),this.disableShadow(e,o),this.updateBoundingBox(t,n,e,r,i)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(ul),Tl=function(e){function t(e,n,r){return zs(this,t),il(this,ol(t).call(this,e,n,r))}return ll(t,e),Bs(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"triangle",3,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(ml),Sl=function(e){function t(e,n,r){return zs(this,t),il(this,ol(t).call(this,e,n,r))}return ll(t,e),Bs(t,[{key:"draw",value:function(e,t,n,r,i,o){this._drawShape(e,"triangleDown",3,t,n,r,i,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(ml),El=!1,Al="background: #FFeeee; color: #dd0000",Ol=function(){var e=Math.min;function t(){zs(this,t)}return Bs(t,null,[{key:"validate",value:function(e,n,r){El=!1,sl=n;var i=n;return void 0!==r&&(i=n[r]),t.parse(e,i,[]),El}},{key:"parse",value:function(e,n,r){for(var i in e)e.hasOwnProperty(i)&&t.check(i,e,n,r)}},{key:"check",value:function(e,n,r,i){if(void 0!==r[e]||void 0!==r.__any__){var o=e,a=!0;void 0===r[e]&&void 0!==r.__any__&&(o="__any__",a="object"===t.getType(n[e]));var s=r[o];a&&void 0!==s.__type__&&(s=s.__type__),t.checkFields(e,n,r,o,s,i)}else t.getSuggestion(e,r,i)}},{key:"checkFields",value:function(e,n,r,i,o,a){var s=function(n){console.log("%c"+n+t.printLocation(a,e),Al)},l=t.getType(n[e]),u=o[l];void 0===u?void 0===o.any&&(s('Invalid type received for "'+e+'". Expected: '+t.print(Object.keys(o))+". Received ["+l+'] "'+n[e]+'"'),El=!0):"array"===t.getType(u)&&-1===u.indexOf(n[e])?(s('Invalid option detected in "'+e+'". Allowed values are:'+t.print(u)+' not "'+n[e]+'". '),El=!0):"object"===l&&"__any__"!==i&&(a=$r.copyAndExtendArray(a,e),t.parse(n[e],r[i],a))}},{key:"getType",value:function(e){var t=$s(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":void 0===e.nodeType?!0===e._isAMomentObject?"moment":"object":"dom":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(e,n,r){var i,o=t.findInOptions(e,n,r,!1),a=t.findInOptions(e,sl,[],!0);i=void 0===o.indexMatch?a.distance<=4&&o.distance>a.distance?" in "+t.printLocation(o.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(a.path,a.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+t.printLocation(o.path,e):". Did you mean one of these: "+t.print(Object.keys(n))+t.printLocation(r,e):" in "+t.printLocation(o.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n',console.log('%cUnknown option detected: "'+e+'"'+i,Al),El=!0}},{key:"findInOptions",value:function(e,n,r){var i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],o=1e9,a="",s=[],l=e.toLowerCase(),u=void 0;for(var c in n){var f=void 0;if(void 0!==n[c].__type__&&!0===i){var d=t.findInOptions(e,n[c],$r.copyAndExtendArray(r,c));o>d.distance&&(a=d.closestMatch,s=d.path,o=d.distance,u=d.indexMatch)}else-1!==c.toLowerCase().indexOf(l)&&(u=c),o>(f=t.levenshteinDistance(e,c))&&(a=c,s=$r.copyArray(r),o=f)}return{closestMatch:a,path:s,distance:o,indexMatch:u}}},{key:"printLocation",value:function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n",r="\n\n"+n+"options = {\n",i=0;i<e.length;i++){for(var o=0;o<i+1;o++)r+="  ";r+=e[i]+": {\n"}for(var a=0;a<e.length+1;a++)r+="  ";r+=t+"\n";for(var s=0;s<e.length+1;s++){for(var l=0;l<e.length-s;l++)r+="  ";r+="}\n"}return r+"\n\n"}},{key:"print",value:function(e){return JSON.stringify(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,n){if(0===t.length)return n.length;if(0===n.length)return t.length;var r,i,o=[];for(r=0;r<=n.length;r++)o[r]=[r];for(i=0;i<=t.length;i++)o[0][i]=i;for(r=1;r<=n.length;r++)for(i=1;i<=t.length;i++)o[r][i]=n.charAt(r-1)==t.charAt(i-1)?o[r-1][i-1]:e(o[r-1][i-1]+1,e(o[r][i-1]+1,o[r-1][i]+1));return o[n.length][t.length]}}]),t}();function Cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Nl=function(){function e(t,n,r,i,o,a){zs(this,e),this.options=$r.bridgeObject(o),this.globalOptions=o,this.defaultOptions=a,this.body=n,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new nl(this.body,this.options,!1),this.setOptions(t)}return Bs(e,[{key:"attachEdge",value:function(e){-1===this.edges.indexOf(e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t=this.edges.indexOf(e);-1!=t&&this.edges.splice(t,1)}},{key:"setOptions",value:function(t){var n=this.options.shape;if(t){if("undefined"!=typeof t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");e.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),e.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);var r=[t,this.options,this.defaultOptions];return this.chooser=Zs.choosify("node",r),this._load_images(),this.updateLabelModule(t),this.updateShape(n),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0===this.options.image.selected?void 0:this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id)}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,e}},{key:"updateLabelModule",value:function(t){(void 0===this.options.label||null===this.options.label)&&(this.options.label=""),e.updateGroupOptions(this.options,function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Cl(t,!0).forEach((function(n){Vs(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cl(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({},t,{color:t&&t.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1),r=[t,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new cl(this.options,this.body,this.labelModule);break;case"circle":this.shape=new dl(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new hl(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new pl(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new gl(this.options,this.body,this.labelModule);break;case"dot":this.shape=new vl(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new yl(this.options,this.body,this.labelModule);break;case"icon":this.shape=new bl(this.options,this.body,this.labelModule);break;case"image":this.shape=new xl(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new _l(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new wl(this.options,this.body,this.labelModule);break;case"star":this.shape=new kl(this.options,this.body,this.labelModule);break;case"text":this.shape=new Ml(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Tl(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Sl(this.options,this.body,this.labelModule);break;default:this.shape=new yl(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,n,this.options.value),i=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*o}this.options.size=this.options.scaling.min+r*i}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&Zs.pointInRect(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),Zs.pointInRect(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"updateGroupOptions",value:function(e,t,n){if(void 0!==n){var r=e.group;if(void 0!==t&&void 0!==t.group&&r!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof r||"string"==typeof r&&""!=r){var i=n.get(r),o=["font"];void 0!==t&&void 0!==t.color&&null!=t.color&&o.push("color"),$r.selectiveNotDeepExtend(o,e,i),e.color=$r.parseColor(e.color)}}}},{key:"parseOptions",value:function(t,n){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;if($r.selectiveNotDeepExtend(["color","fixed","shadow"],t,n,r),e.checkMass(n),$r.mergeOptions(t,n,"shadow",i),void 0!==n.color&&null!==n.color){var a=$r.parseColor(n.color);$r.fillIfDefined(t.color,a)}else!0===r&&null===n.color&&(t.color=$r.bridgeObject(i.color));void 0!==n.fixed&&null!==n.fixed&&("boolean"==typeof n.fixed?(t.fixed.x=n.fixed,t.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"==typeof n.fixed.x&&(t.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"==typeof n.fixed.y&&(t.fixed.y=n.fixed.y))),!0===r&&null===n.font&&(t.font=$r.bridgeObject(i.font)),e.updateGroupOptions(t,n,o),void 0!==n.scaling&&$r.mergeOptions(t.scaling,n.scaling,"label",i.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&0>=e.mass){var n="";void 0!==t&&(n=" in node id: "+t),console.log("%cNegative or zero mass disallowed"+n+", setting mass to 1.",Al),e.mass=1}}}]),e}(),Dl=function(){var e=Math.round,t=Math.max;function n(e,r,i,o){var a=this;if(zs(this,n),this.body=e,this.images=r,this.groups=i,this.layoutEngine=o,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(e,t){a.add(t.items)},update:function(e,t){a.update(t.items,t.data,t.oldData)},remove:function(e,t){a.remove(t.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,n,r,i){return n===e?.5:t(0,1/(n-e)*(i-e))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},0>=this.defaultOptions.mass)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=$r.bridgeObject(this.defaultOptions),this.bindEventListeners()}return Bs(n,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){$r.forEach(e.nodesListeners,(function(t,n){e.body.data.nodes&&e.body.data.nodes.off(n,t)})),delete e.body.functions.createNode,delete e.nodesListeners.add,delete e.nodesListeners.update,delete e.nodesListeners.remove,delete e.nodesListeners}))}},{key:"setOptions",value:function(e){if(void 0!==e){if(Nl.parseOptions(this.options,e),void 0!==e.shape)for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&this.body.nodes[t].updateShape();if(void 0!==e.font)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&(this.body.nodes[n].updateLabelModule(),this.body.nodes[n].needsRefresh());if(void 0!==e.size)for(var r in this.body.nodes)this.body.nodes.hasOwnProperty(r)&&this.body.nodes[r].needsRefresh();(void 0!==e.hidden||void 0!==e.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=this.body.data.nodes;if(e instanceof ji||e instanceof zi)this.body.data.nodes=e;else if(Array.isArray(e))this.body.data.nodes=new ji,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new ji}if(n&&$r.forEach(this.nodesListeners,(function(e,t){n.off(t,e)})),this.body.nodes={},this.body.data.nodes){var r=this;$r.forEach(this.nodesListeners,(function(e,t){r.body.data.nodes.on(t,e)}));var i=this.body.data.nodes.getIds();this.add(i,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],r=[],i=0;i<e.length;i++){t=e[i];var o=this.body.data.nodes.get(t),a=this.create(o);r.push(a),this.body.nodes[t]=a}this.layoutEngine.positionInitially(r),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,n){for(var r=this.body.nodes,i=!1,o=0;o<e.length;o++){var a=e[o],s=r[a],l=t[o];void 0===s?(i=!0,s=this.create(l),r[a]=s):s.setOptions(l)&&(i=!0)}i||void 0===n||(i=t.some((function(e,t){var r=n[t];return r&&r.level!==e.level}))),!0===i?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,n=0;n<e.length;n++)delete t[e[n]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Nl;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];$r.forEach(this.body.nodes,(function(n,r){var i=e.body.data.nodes.get(r);void 0!==i&&(!0===t&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(i))}))}},{key:"getPositions",value:function(t){var n={};if(void 0===t)for(var r,i=0;i<this.body.nodeIndices.length;i++)r=this.body.nodes[this.body.nodeIndices[i]],n[this.body.nodeIndices[i]]={x:e(r.x),y:e(r.y)};else if(!0===Array.isArray(t)){for(var o=0;o<t.length;o++)if(void 0!==this.body.nodes[t[o]]){var a=this.body.nodes[t[o]];n[t[o]]={x:e(a.x),y:e(a.y)}}}else if(void 0!==this.body.nodes[t]){var s=this.body.nodes[t];n[t]={x:e(s.x),y:e(s.y)}}return n}},{key:"storePositions",value:function(){var t=[],n=this.body.data.nodes.getDataSet();for(var r in n._data)if(n._data.hasOwnProperty(r)){var i=this.body.nodes[r];(n._data[r].x!=e(i.x)||n._data[r].y!=e(i.y))&&t.push({id:i.id,x:e(i.x),y:e(i.y)})}n.update(t)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var n=[];if(void 0!==this.body.nodes[e])for(var r,i=this.body.nodes[e],o={},a=0;a<i.edges.length;a++)r=i.edges[a],"to"!==t&&r.toId==i.id?void 0===o[r.fromId]&&(n.push(r.fromId),o[r.fromId]=!0):"from"!==t&&r.fromId==i.id&&void 0===o[r.toId]&&(n.push(r.toId),o[r.toId]=!0);return n}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],r=0;r<n.edges.length;r++)t.push(n.edges[r].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,n){var r=this;void 0===this.body.nodes[e]?console.log("Node id supplied to moveNode does not exist. Provided: ",e):(this.body.nodes[e].x=+t,this.body.nodes[e].y=+n,setTimeout((function(){r.body.emitter.emit("startSimulation")}),0))}}]),n}();var Pl=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ol(e)););return e},Rl=Ui((function(e){function t(n,r,i){return e.exports=t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pl(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},t(n,r,i||n)}e.exports=t})),Ll=function(){var e=Math.cos,t=Math.sin;function n(){zs(this,n)}return Bs(n,null,[{key:"transform",value:function(n,r){Array.isArray(n)||(n=[n]);for(var i=r.point.x,o=r.point.y,a=r.angle,s=r.length,l=0;l<n.length;++l){var u=n[l],c=u.x*e(a)-u.y*t(a),f=u.x*t(a)+u.y*e(a);u.x=i+s*c,u.y=o+s*f}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;++n)e.lineTo(t[n].x,t[n].y);e.closePath()}}]),n}(),Il=function(e){function t(){return zs(this,t),il(this,ol(t).apply(this,arguments))}return ll(t,e),Bs(t,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];Ll.transform(n,t),Ll.drawPath(e,n)}}]),t}(Ll),jl=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];Ll.transform(n,t),Ll.drawPath(e,n)}}]),e}(),zl=function(){var e=Math.PI;function t(){zs(this,t)}return Bs(t,null,[{key:"draw",value:function(t,n){var r={x:-.4,y:0};Ll.transform(r,n),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var i=e,o=n.angle-i/2,a=n.angle+i/2;t.beginPath(),t.arc(r.x,r.y,.4*n.length,o,a,!1),t.stroke()}}]),t}(),Fl=function(){var e=Math.PI;function t(){zs(this,t)}return Bs(t,null,[{key:"draw",value:function(t,n){var r={x:-.3,y:0};Ll.transform(r,n),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var i=e,o=n.angle+i/2,a=n.angle+3*i/2;t.beginPath(),t.arc(r.x,r.y,.4*n.length,o,a,!1),t.stroke()}}]),t}(),Bl=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"draw",value:function(e,t){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];Ll.transform(n,t),Ll.drawPath(e,n)}}]),e}(),Ul=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];Ll.transform(n,t),Ll.drawPath(e,n)}}]),e}(),Hl=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};Ll.transform(n,t),e.circle(n.x,n.y,.4*t.length)}}]),e}(),ql=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];Ll.transform(n,t),Ll.drawPath(e,n)}}]),e}(),Vl=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];Ll.transform(n,t),Ll.drawPath(e,n)}}]),e}(),Wl=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];Ll.transform(n,t),Ll.drawPath(e,n)}}]),e}(),Yl=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];Ll.transform(n,t),Ll.drawPath(e,n)}}]),e}(),Gl=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"draw",value:function(e,t){var n;switch(t.type&&(n=t.type.toLowerCase()),n){case"circle":Hl.draw(e,t);break;case"box":Vl.draw(e,t);break;case"crow":jl.draw(e,t);break;case"curve":zl.draw(e,t);break;case"diamond":Wl.draw(e,t);break;case"inv_curve":Fl.draw(e,t);break;case"triangle":Bl.draw(e,t);break;case"inv_triangle":Ul.draw(e,t);break;case"bar":ql.draw(e,t);break;case"vee":Yl.draw(e,t);break;case"arrow":default:Il.draw(e,t)}}}]),e}();function Xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $l=function(){var e=Math.atan2,t=Math.cos,n=Math.sin,r=Math.sqrt,i=Math.PI,o=Math.pow,a=Math.max,s=Math.abs;function l(e,t,n){zs(this,l),this._body=t,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return Bs(l,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1===t.dashes?this._drawLine(e,t,n):this._drawDashedLine(e,t,n)}},{key:"_drawLine",value:function(e,t,n,r,i){if(this.from!=this.to)this._line(e,t,n,r,i);else{var o=this._getCircleData(e),a=Xs(o,3),s=a[0],l=a[1],u=a[2];this._circle(e,t,s,l,u)}}},{key:"_drawDashedLine",value:function(e,t,n){e.lineCap="round";var r=Array.isArray(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(r),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,n);else{var i=this._getCircleData(e),o=Xs(i,3),a=o[0],s=o[1],l=o[2];this._circle(e,t,a,s,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)e.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,r);else{var u=this._getCircleData(e),c=Xs(u,3),f=c[0],d=c[1],h=c[2];this._circle(e,t,f,d,h)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,n){return this.from==this.to?this._findBorderPositionCircle(e,t,n):this._findBorderPosition(e,t,n)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t=this._getCircleData(e).slice(0,2),n=Xs(t,2),r=n[0],i=n[1];return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:i,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t,n,r=this.from,i=this.options.selfReferenceSize;return void 0!==e&&void 0===r.shape.width&&r.shape.resize(e),r.shape.width>r.shape.height?(t=r.x+.5*r.shape.width,n=r.y-i):(t=r.x+i,n=r.y-.5*r.shape.height),[t,n,i]}},{key:"_pointOnCircle",value:function(e,r,o,a){var s=2*a*i;return{x:e+o*t(s),y:r-o*n(s)}}},{key:"_findBorderPositionCircle",value:function(t,n,i){var a,l=i.x,u=i.y,c=i.low,f=i.high,d=i.direction,h=this.options.selfReferenceSize,p=.5*(c+f),m=0;do{p=.5*(c+f),a=this._pointOnCircle(l,u,h,p);var g=e(t.y-a.y,t.x-a.x),v=t.distanceToBorder(n,g)-r(o(a.x-t.x,2)+o(a.y-t.y,2));if(s(v)<.05)break;0<v?0<d?c=p:f=p:0<d?f=p:c=p,++m}while(c<=f&&m<10);return function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Xl(t,!0).forEach((function(n){Vs(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xl(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({},a,{t:p})}},{key:"getLineWidth",value:function(e,t){return a(!0===e?this.selectionWidth:!0===t?this.hoverWidth:this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),r=this.from.options.color.highlight.border,i=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(r=Er(this.from.options.color.border,t.opacity),i=Er(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?i=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(r=this.from.options.color.border),n.addColorStop(0,r),n.addColorStop(1,i),n}return"to"===t.inheritsColor?Er(this.to.options.color.border,t.opacity):Er(this.from.options.color.border,t.opacity)}return Er(t.color,t.opacity)}},{key:"_circle",value:function(e,t,n,r,o){this.enableShadow(e,t),e.beginPath(),e.arc(n,r,o,0,2*i,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,n,i,o,a){if(this.from!=this.to)return this._getDistanceToEdge(e,t,n,i,o,a);var l=this._getCircleData(void 0),u=Xs(l,3),c=u[0],f=u[1],d=u[2],h=c-o,p=f-a;return s(r(h*h+p*p)-d)}},{key:"_getDistanceToLine",value:function(e,t,n,i,o,a){var s=n-e,l=i-t,u=((o-e)*s+(a-t)*l)/(s*s+l*l);1<u?u=1:0>u&&(u=0);var c=e+u*s-o,f=t+u*l-a;return r(c*c+f*f)}},{key:"getArrowData",value:function(r,o,a,l,u,c){var f,d,h,p,m,g,v,y=Math.hypot,b=c.width;"from"===o?(h=this.from,p=this.to,m=0>c.fromArrowScale,g=s(c.fromArrowScale),v=c.fromArrowType):"to"===o?(h=this.to,p=this.from,m=0>c.toArrowScale,g=s(c.toArrowScale),v=c.toArrowType):(h=this.to,p=this.from,m=0>c.middleArrowScale,g=s(c.middleArrowScale),v=c.middleArrowType);var x=15*g+3*b;if(h!=p){var _=x/y(h.x-p.x,h.y-p.y);if("middle"===o){var w=(m?-_:_)/2,k=this.getPoint(.5+w,a),M=this.getPoint(.5-w,a);f=e(k.y-M.y,k.x-M.x),d=this.getPoint(.5,a)}else if(!0===this.options.smooth.enabled){var T=this._findBorderPosition(h,r,{via:a}),S=this.getPoint(T.t+_*("from"===o?1:-1),a);f=e(T.y-S.y,T.x-S.x),d=T}else f=e(h.y-p.y,h.x-p.x),d=this._findBorderPosition(h,r)}else{var E=this._getCircleData(r),A=Xs(E,3),O=A[0],C=A[1],N=A[2];if("from"===o){var D=this._findBorderPositionCircle(this.from,r,{x:O,y:C,low:.25,high:.6,direction:-1});f=-2*D.t*i+1.5*i+.1*i,d=D}else if("to"===o){var P=this._findBorderPositionCircle(this.from,r,{x:O,y:C,low:.6,high:1,direction:1});f=-2*P.t*i+1.5*i-1.1*i,d=P}else d=this._pointOnCircle(O,C,N,.175),f=3.9269908169872414}return{point:d,core:{x:d.x-.9*x*t(f),y:d.y-.9*x*n(f)},angle:f,length:x,type:v}}},{key:"drawArrowHead",value:function(e,t,n,r,i){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,Gl.draw(e,i),this.enableShadow(e,t),e.fill(),this.disableShadow(e,t)}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(!1!==t.background){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(!1===t)void 0===e.setLineDash?console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used."):e.setLineDash([]);else if(void 0!==e.setLineDash){var n=Array.isArray(t)?t:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),l}();function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kl(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Zl(t,!0).forEach((function(n){Vs(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zl(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Jl=function(e){var t=Math.atan2,n=Math.sqrt,r=Math.pow,i=Math.abs;function o(e,t,n){return zs(this,o),il(this,ol(o).call(this,e,t,n))}return ll(o,e),Bs(o,[{key:"_findBorderPositionBezier",value:function(e,o){var a,s,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),u=!1,c=1,f=0,d=this.to;e.id===this.from.id&&(d=this.from,u=!0);var h=0;do{s=.5*(f+c),a=this.getPoint(s,l);var p=t(d.y-a.y,d.x-a.x),m=d.distanceToBorder(o,p),g=n(r(a.x-d.x,2)+r(a.y-d.y,2)),v=m-g;if(i(v)<.2)break;0>v?!1===u?f=s:c=s:!1===u?c=s:f=s,++h}while(f<=c&&h<10);return Kl({},a,{t:s})}},{key:"_getDistanceToBezierEdge",value:function(e,t,n,i,o,a,s){var l,u,c,f,d,h=1e9,p=e,m=t;for(u=1;10>u;u++)f=r(1-(c=.1*u),2)*e+2*c*(1-c)*s.x+r(c,2)*n,d=r(1-c,2)*t+2*c*(1-c)*s.y+r(c,2)*i,0<u&&(h=(l=this._getDistanceToLine(p,m,f,d,o,a))<h?l:h),p=f,m=d;return h}},{key:"_bezierCurve",value:function(e,t,n,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=r&&null!=r.x?e.bezierCurveTo(n.x,n.y,r.x,r.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),o}($l),Ql=function(e){var t=Math.cos,n=Math.sin,r=Math.PI,i=Math.pow;function o(e,t,n){var r;return zs(this,o),(r=il(this,ol(o).call(this,e,t,n))).via=r.via,r._boundFunction=function(){r.positionBezierNode()},r._body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return ll(o,e),Bs(o,[{key:"setOptions",value:function(e){Rl(ol(o.prototype),"setOptions",this).call(this,e);var t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),1==t&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var a=this._getCircleData(),s=Xs(a,3),l=s[0],u=s[1],c=s[2],f=2*r*(1-e);return{x:l+c*n(f),y:u+c-c*(1-t(f))}}return{x:i(1-e,2)*this.fromPoint.x+2*e*(1-e)*o.x+i(e,2)*this.toPoint.x,y:i(1-e,2)*this.fromPoint.y+2*e*(1-e)*o.y+i(e,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t,this.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,o){return this._getDistanceToBezierEdge(e,t,n,r,i,o,this.via)}}]),o}(Jl),eu=function(e){var t=Math.atan2,n=Math.cos,r=Math.sin,i=Math.sqrt,o=Math.PI,a=Math.pow,s=Math.abs;function l(e,t,n){return zs(this,l),il(this,ol(l).call(this,e,t,n))}return ll(l,e),Bs(l,[{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var e,a,l=this.options.smooth.roundness,u=this.options.smooth.type,c=s(this.from.x-this.to.x),f=s(this.from.y-this.to.y);if("discrete"===u||"diagonalCross"===u){var d,h;d=h=c<=f?l*f:l*c,this.from.x>this.to.x&&(d=-d),this.from.y>=this.to.y&&(h=-h);var p=this.from.x+d,m=this.from.y+h;return"discrete"===u&&(c<=f?p=c<l*f?this.from.x:p:m=f<l*c?this.from.y:m),{x:p,y:m}}if("straightCross"===u){var g=(1-l)*c,v=(1-l)*f;return c<=f?(g=0,this.from.y<this.to.y&&(v=-v)):(this.from.x<this.to.x&&(g=-g),v=0),{x:this.to.x+g,y:this.to.y+v}}if("horizontal"===u){var y=(1-l)*c;return this.from.x<this.to.x&&(y=-y),{x:this.to.x+y,y:this.from.y}}if("vertical"===u){var b=(1-l)*f;return this.from.y<this.to.y&&(b=-b),{x:this.from.x,y:this.to.y+b}}if("curvedCW"===u){c=this.to.x-this.from.x,f=this.from.y-this.to.y;var x=i(c*c+f*f),_=o,w=(t(f,c)+(.5*l+.5)*_)%(2*_);return{x:this.from.x+(.5*l+.5)*x*r(w),y:this.from.y+(.5*l+.5)*x*n(w)}}if("curvedCCW"===u){c=this.to.x-this.from.x,f=this.from.y-this.to.y;var k=i(c*c+f*f),M=o,T=(t(f,c)+(.5*-l+.5)*M)%(2*M);return{x:this.from.x+(.5*l+.5)*k*r(T),y:this.from.y+(.5*l+.5)*k*n(T)}}e=a=c<=f?l*f:l*c,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(a=-a);var S=this.from.x+e,E=this.from.y+a;return c<=f?S=this.from.x<=this.to.x?this.to.x<S?this.to.x:S:this.to.x>S?this.to.x:S:E=this.from.y>=this.to.y?this.to.y>E?this.to.y:E:this.to.y<E?this.to.y:E,{x:S,y:E}}},{key:"_findBorderPosition",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,t,n.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,o){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,n,r,i,o,a)}},{key:"getPoint",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=e,r=a(1-n,2)*this.fromPoint.x+2*n*(1-n)*t.x+a(n,2)*this.toPoint.x,i=a(1-n,2)*this.fromPoint.y+2*n*(1-n)*t.y+a(n,2)*this.toPoint.y;return{x:r,y:i}}}]),l}(Jl),tu=function(e){var t=Math.pow,n=Math.abs;function r(e,t,n){return zs(this,r),il(this,ol(r).call(this,e,t,n))}return ll(r,e),Bs(r,[{key:"_line",value:function(e,t,n){var r=n[0],i=n[1];this._bezierCurve(e,t,r,i)}},{key:"_getViaCoordinates",value:function(){var e,t,r,i,o=this.from.x-this.to.x,a=this.from.y-this.to.y,s=this.options.smooth.roundness;return(n(o)>n(a)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(t=this.from.y,i=this.to.y,e=this.from.x-s*o,r=this.to.x+s*o):(t=this.from.y-s*a,i=this.to.y+s*a,e=this.from.x,r=this.to.x),[{x:e,y:t},{x:r,y:i}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t)}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,o){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),s=Xs(a,2),l=s[0],u=s[1];return this._getDistanceToBezierEdge2(e,t,n,r,i,o,l,u)}},{key:"getPoint",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),r=Xs(n,2),i=r[0],o=r[1],a=e,s=[t(1-a,3),3*a*t(1-a,2),3*t(a,2)*(1-a),t(a,3)],l=s[0]*this.fromPoint.x+s[1]*i.x+s[2]*o.x+s[3]*this.toPoint.x,u=s[0]*this.fromPoint.y+s[1]*i.y+s[2]*o.y+s[3]*this.toPoint.y;return{x:l,y:u}}}]),r}(function(e){var t=Math.pow;function n(e,t,r){return zs(this,n),il(this,ol(n).call(this,e,t,r))}return ll(n,e),Bs(n,[{key:"_getDistanceToBezierEdge2",value:function(e,n,r,i,o,a,s,l){for(var u,c=1e9,f=e,d=n,h=[0,0,0,0],p=1;10>p;p++){u=.1*p,h[0]=t(1-u,3),h[1]=3*u*t(1-u,2),h[2]=3*t(u,2)*(1-u),h[3]=t(u,3);var m=h[0]*e+h[1]*s.x+h[2]*l.x+h[3]*r,g=h[0]*n+h[1]*s.y+h[2]*l.y+h[3]*i;if(0<p){var v=this._getDistanceToLine(f,d,m,g,o,a);c=v<c?v:c}f=m,d=g}return c}}]),n}(Jl)),nu=function(e){var t=Math.atan2,n=Math.sqrt;function r(e,t,n){return zs(this,r),il(this,ol(r).call(this,e,t,n))}return ll(r,e),Bs(r,[{key:"_line",value:function(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,r){var i=this.to,o=this.from;e.id===this.from.id&&(i=this.from,o=this.to);var a=t(i.y-o.y,i.x-o.x),s=i.x-o.x,l=i.y-o.y,u=n(s*s+l*l),c=(u-e.distanceToBorder(r,a))/u;return{x:(1-c)*o.x+c*i.x,y:(1-c)*o.y+c*i.y,t:0}}},{key:"_getDistanceToEdge",value:function(e,t,n,r,i,o){return this._getDistanceToLine(e,t,n,r,i,o)}}]),r}($l),ru=function(){var e=Math.atan2,t=Math.cos,n=Math.sin,r=Math.PI,i=Math.max,o=Math.min;function a(e,t,n,r){if(zs(this,a),void 0===t)throw new Error("No body provided");this.options=$r.bridgeObject(n),this.globalOptions=n,this.defaultOptions=r,this.body=t,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new nl(this.body,this.options,!0),this.setOptions(e)}return Bs(a,[{key:"setOptions",value:function(e){if(e){var t=this.options.hidden;(void 0===t||null===t)&&(t=!1),a.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value));var n=[e,this.options,this.defaultOptions];this.chooser=Zs.choosify("edge",n),this.updateLabelModule(e);var r=this.updateEdgeType();this._setInteractionWidths(),this.connect();var i=this.options.hidden;return(void 0===i||null===i)&&(i=!1),(i!=t||void 0!==e.physics)&&(r=!0),void 0!==e.physics&&(r=!0),r}}},{key:"getFormattingValues",value:function(){var e=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,t=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,r=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:r?void 0:this.options.color.color,inheritsColor:r,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover){if(!0!==this.chooser)"function"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor!==this.options.shadow.color||o.shadowSize!==this.options.shadow.size||o.shadowX!==this.options.shadow.x||o.shadowY!==this.options.shadow.y)&&(o.shadow=!0));else if(this.selected){var a=this.options.selectionWidth;"function"==typeof a?o.width=a(o.width):"number"==typeof a&&(o.width+=a),o.width=i(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?o.width=s(o.width):"number"==typeof s&&(o.width+=s),o.width=i(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else o.shadow=this.options.shadow.enabled,o.width=i(o.width,.3/this.body.view.scale);return o}},{key:"updateLabelModule",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof Ql&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof tu&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof eu&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof nu&&!1===e.type.enabled)&&(n=!1),!0===n&&(t=this.cleanup())),!0===n?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new Ql(this.options,this.body,this.labelModule)):"cubicBezier"===e.type?this.edgeType=new tu(this.options,this.body,this.labelModule):this.edgeType=new eu(this.options,this.body,this.labelModule):this.edgeType=new nu(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var r=this.options.scaling.customScalingFunction(e,t,n,this.options.value),i=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+r*o}this.options.width=this.options.scaling.min+r*i}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode(),r={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(r.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=r.from.core)),t.toArrow&&(r.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=r.to.core)),t.middleArrow&&(r.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,t)),this.edgeType.drawLine(e,t,this.selected,this.hover,n),this.drawArrows(e,r,t),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e,t,n){n.fromArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,t.from),n.middleArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,t.middle),n.toArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,t.to)}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var n=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),n.id!=r.id){this.labelModule.pointToSelf=!1;var i=this.edgeType.getPoint(.5,t);e.save();var o=this._getRotation(e);0!=o.angle&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var a,s,l=this.options.selfReferenceSize;n.shape.width>n.shape.height?(a=n.x+.5*n.shape.width,s=n.y-l):(a=n.x+l,s=n.y-.5*n.shape.height),i=this._pointOnCircle(a,s,l,.125),this.labelModule.draw(e,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var n=this._getRotation();Zs.pointInRect(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}var r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=this.from.x,n=this.from.y,r=this.to.x,i=this.to.y,o=e.left,a=e.top;return 10>this.edgeType.getDistanceToEdge(t,n,r,i,o,a)}return!1}},{key:"_getRotation",value:function(t){var n=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,n);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var o={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return o;if("horizontal"===this.options.font.align)return o;var a=this.from.y-this.to.y,s=this.from.x-this.to.x,l=e(a,s);return(-1>l&&0>s||0<l&&0>s)&&(l+=r),o.angle=l,o}},{key:"_pointOnCircle",value:function(e,i,o,a){var s=2*a*r;return{x:e+o*t(s),y:i-o*n(s)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4];if($r.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],e,t,n),Zs.isValidLabel(t.label)?e.label=t.label:!Zs.isValidLabel(e.label)&&(e.label=void 0),$r.mergeOptions(e,t,"smooth",r),$r.mergeOptions(e,t,"shadow",r),$r.mergeOptions(e,t,"background",r),void 0!==t.dashes&&null!==t.dashes?e.dashes=t.dashes:!0===n&&null===t.dashes&&(e.dashes=Object.create(r.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),$r.mergeOptions(e.scaling,t.scaling,"label",r.scaling)):!0===n&&null===t.scaling&&(e.scaling=Object.create(r.scaling)),void 0===t.arrows||null===t.arrows)!0===n&&null===t.arrows&&(e.arrows=Object.create(r.arrows));else if("string"==typeof t.arrows){var s=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=s.indexOf("to"),e.arrows.middle.enabled=-1!=s.indexOf("middle"),e.arrows.from.enabled=-1!=s.indexOf("from")}else{if("object"!==$s(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(t.arrows));$r.mergeOptions(e.arrows,t.arrows,"to",r.arrows),$r.mergeOptions(e.arrows,t.arrows,"middle",r.arrows),$r.mergeOptions(e.arrows,t.arrows,"from",r.arrows)}if(void 0!==t.color&&null!==t.color){var l=$r.isString(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,u=e.color;if(a)$r.deepExtend(u,r.color,!1,n);else for(var c in u)u.hasOwnProperty(c)&&delete u[c];if($r.isString(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,void 0===l.opacity&&(u.opacity=1);else{var f=!1;void 0!==l.color&&(u.color=l.color,f=!0),void 0!==l.highlight&&(u.highlight=l.highlight,f=!0),void 0!==l.hover&&(u.hover=l.hover,f=!0),void 0!==l.inherit&&(u.inherit=l.inherit),void 0!==l.opacity&&(u.opacity=o(1,i(0,l.opacity))),1==f?u.inherit=!1:void 0===u.inherit&&(u.inherit="from")}}else!0===n&&null===t.color&&(e.color=$r.bridgeObject(r.color));!0===n&&null===t.font&&(e.font=$r.bridgeObject(r.font))}}]),a}(),iu=function(){var e=Math.max;function t(n,r,i){var o=this;zs(this,t),this.body=n,this.images=r,this.groups=i,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(e,t){o.add(t.items)},update:function(e,t){o.update(t.items)},remove:function(e,t){o.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,n,r,i){return n===t?.5:e(0,1/(n-t)*(i-t))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},$r.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return Bs(t,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var r=!1;for(var i in e.body.edges)if(e.body.edges.hasOwnProperty(i)){var o=e.body.edges[i],a=e.body.data.edges._data[i];if(void 0!==a){var s=a.smooth;void 0!==s&&!0===s.enabled&&"dynamic"===s.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),r=!0)}}!0===n&&1==r&&e.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){e.reconnectEdges()})),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",(function(){$r.forEach(e.edgesListeners,(function(t,n){e.body.data.edges&&e.body.data.edges.off(n,t)})),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners}))}},{key:"setOptions",value:function(e){if(void 0!==e){ru.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&(t=this.body.edges[n].updateEdgeType()||t);if(void 0!==e.font)for(var r in this.body.edges)this.body.edges.hasOwnProperty(r)&&this.body.edges[r].updateLabelModule();(void 0!==e.hidden||void 0!==e.physics||!0===t)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],r=this.body.data.edges;if(e instanceof ji||e instanceof zi)this.body.data.edges=e;else if(Array.isArray(e))this.body.data.edges=new ji,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new ji}if(r&&$r.forEach(this.edgesListeners,(function(e,t){r.off(t,e)})),this.body.edges={},this.body.data.edges){$r.forEach(this.edgesListeners,(function(e,n){t.body.data.edges.on(n,e)}));var i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=this.body.edges,r=this.body.data.edges,i=0;i<e.length;i++){var o=e[i],a=n[o];a&&a.disconnect();var s=r.get(o,{showInternalIds:!0});n[o]=this.create(s)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,n=this.body.data.edges,r=!1,i=0;i<e.length;i++){var o=e[i],a=n.get(o),s=t[o];void 0===s?(this.body.edges[o]=this.create(a),r=!0):(s.disconnect(),r=s.setOptions(a)||r,s.connect())}!0===r?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var n=this.body.edges;$r.forEach(e,(function(e){var t=n[e];void 0!==t&&t.remove()})),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;$r.forEach(this.body.edges,(function(t,n){var r=e.body.data.edges._data[n];void 0!==r&&t.setOptions(r)}))}},{key:"create",value:function(e){return new ru(e,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,n=this.body.edges;for(e in t)t.hasOwnProperty(e)&&(t[e].edges=[]);for(e in n)if(n.hasOwnProperty(e)){var r=n[e];r.from=null,r.to=null,r.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var n=this.body.edges[e];void 0!==n.fromId&&t.push(n.fromId),void 0!==n.toId&&t.push(n.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];$r.forEach(this.body.edges,(function(n,r){var i=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];void 0!==i&&!0===i.isCluster||void 0!==o&&!0===o.isCluster||(void 0===i||void 0===o)&&t.push(r)})),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(void 0!==e&&null!==e){var t=this.body.edges,n=[];e.forEach((function(e,r){void 0===t[r]&&n.push(r)})),this.add(n,!0)}}}]),t}(),ou=function(){var e=Math.sin,t=Math.sqrt,n=Math.pow,r=Math.max,i=Math.abs,o=Math.min,a=Math.floor;function s(e,t,n){zs(this,s),this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return Bs(s,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-r(0,o(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*e(this.randomSeed++);return t-a(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&0<this.physicsBody.physicsNodeIndices.length){var e,t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,r=n.length,i=this._formBarnesHutTree(t,n);this.barnesHutTree=i;for(var o=0;o<r;o++)0<(e=t[n[o]]).options.mass&&this._getForceContributions(i.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,n){var r,i,o;0<e.childrenCount&&(r=e.centerOfMass.x-n.x,i=e.centerOfMass.y-n.y,(o=t(r*r+i*i))*e.calcSize>this.thetaInversed?this._calculateForces(o,r,i,n,e):4===e.childrenCount?this._getForceContributions(e,n):e.children.data.id!=n.id&&this._calculateForces(o,r,i,n,e))}},{key:"_calculateForces",value:function(e,t,i,o,a){0===e&&(t=e=.1),1>this.overlapAvoidanceFactor&&o.shape.radius&&(e=r(.1+this.overlapAvoidanceFactor*o.shape.radius,e-o.shape.radius));var s=this.options.gravitationalConstant*a.mass*o.options.mass/n(e,3),l=t*s;this.physicsBody.forces[o.id].x+=l,this.physicsBody.forces[o.id].y+=i*s}},{key:"_formBarnesHutTree",value:function(e,t){for(var n,o=t.length,a=e[t[0]].x,s=e[t[0]].y,l=e[t[0]].x,u=e[t[0]].y,c=1;c<o;c++){var f=e[t[c]],d=f.x,h=f.y;0<f.options.mass&&(d<a&&(a=d),d>l&&(l=d),h<s&&(s=h),h>u&&(u=h))}var p=i(l-a)-i(u-s);0<p?(s-=.5*p,u+=.5*p):(a+=.5*p,l-=.5*p);var m=r(1e-5,i(l-a)),g=.5*m,v=.5*(a+l),y=.5*(s+u),b={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-g,maxX:v+g,minY:y-g,maxY:y+g},size:m,calcSize:1/m,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(b.root);for(var x=0;x<o;x++)0<(n=e[t[x]]).options.mass&&this._placeInTree(b.root,n);return b}},{key:"_updateBranchMass",value:function(e,t){var n=e.centerOfMass,i=e.mass+t.options.mass,o=1/i;n.x=n.x*e.mass+t.x*t.options.mass,n.x*=o,n.y=n.y*e.mass+t.y*t.options.mass,n.y*=o,e.mass=i;var a=r(r(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}},{key:"_placeInTree",value:function(e,t,n){(1!=n||void 0===n)&&this._updateBranchMass(e,t);var r,i=e.children.NW.range;r=i.maxX>t.x?i.maxY>t.y?"NW":"SW":i.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,r)}},{key:"_placeInRegion",value:function(e,t,n){var r=e.children[n];switch(r.childrenCount){case 0:r.children.data=t,r.childrenCount=1,this._updateBranchMass(r,t);break;case 1:r.children.data.x===t.x&&r.children.data.y===t.y?(t.x+=this.seededRandom(),t.y+=this.seededRandom()):(this._splitBranch(r),this._placeInTree(r,t));break;case 4:this._placeInTree(r,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var n,r,i,o,a=.5*e.size;"NW"===t?(n=e.range.minX,r=e.range.minX+a,i=e.range.minY,o=e.range.minY+a):"NE"===t?(n=e.range.minX+a,r=e.range.maxX,i=e.range.minY,o=e.range.minY+a):"SW"===t?(n=e.range.minX,r=e.range.minX+a,i=e.range.minY+a,o=e.range.maxY):"SE"===t&&(n=e.range.minX+a,r=e.range.maxX,i=e.range.minY+a,o=e.range.maxY),e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:r,minY:i,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,n){void 0===n&&(n="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=n,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),s}(),au=function(){var e=Math.sqrt;function t(e,n,r){zs(this,t),this.body=e,this.physicsBody=n,this.setOptions(r)}return Bs(t,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var t,n,r,i,o,a,s,l,u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces,d=this.options.nodeDistance,h=0;h<c.length-1;h++){s=u[c[h]];for(var p=h+1;p<c.length;p++)t=(l=u[c[p]]).x-s.x,n=l.y-s.y,0===(r=e(t*t+n*n))&&(t=r=.1*Math.random()),r<2*d&&(a=r<.5*d?1:-2/3/d*r+4/3,i=t*(a/=r),o=n*a,f[s.id].x-=i,f[s.id].y-=o,f[l.id].x+=i,f[l.id].y+=o)}}}]),t}(),su=function(){var e=Math.sqrt,t=Math.pow;function n(e,t,r){zs(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return Bs(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){var n,r,i,o,a,s,l,u,c,f,d=this.body.nodes,h=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,m=this.options.nodeDistance;for(c=0;c<h.length-1;c++)for(l=d[h[c]],f=c+1;f<h.length;f++)if(u=d[h[f]],l.level===u.level){n=u.x-l.x,r=u.y-l.y;s=(i=e(n*n+r*r))<m?-t(.05*i,2)+t(.05*m,2):0,0===i?i=.01:s/=i,o=n*s,a=r*s,p[l.id].x-=o,p[l.id].y-=a,p[u.id].x+=o,p[u.id].y+=a}}}]),n}(),lu=function(){var e=Math.sqrt,t=Math.max;function n(e,t,r){zs(this,n),this.body=e,this.physicsBody=t,this.setOptions(r)}return Bs(n,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,r,i,o=this.physicsBody.physicsEdgeIndices,a=this.body.edges,s=0;s<o.length;s++)!0===(t=a[o[s]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0===t.edgeType.via?(e=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)):(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.to,r=t.edgeType.via,i=t.from,this._calculateSpringForce(n,r,.5*e),this._calculateSpringForce(r,i,.5*e)))}},{key:"_calculateSpringForce",value:function(n,r,i){var o=n.x-r.x,a=n.y-r.y,s=t(e(o*o+a*a),.01),l=this.options.springConstant*(i-s)/s,u=o*l,c=a*l;void 0!==this.physicsBody.forces[n.id]&&(this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=c),void 0!==this.physicsBody.forces[r.id]&&(this.physicsBody.forces[r.id].x-=u,this.physicsBody.forces[r.id].y-=c)}}]),n}(),uu=function(){var e=Math.sqrt,t=Math.max,n=Math.min;function r(e,t,n){zs(this,r),this.body=e,this.physicsBody=t,this.setOptions(n)}return Bs(r,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var r,i,o,a,s,l,u,c,f,d=this.body.edges,h=this.physicsBody.physicsEdgeIndices,p=this.physicsBody.physicsNodeIndices,m=this.physicsBody.forces,g=0;g<p.length;g++)m[f=p[g]].springFx=0,m[f].springFy=0;for(var v=0;v<h.length;v++)!0===(i=d[h[v]]).connected&&(r=void 0===i.options.length?this.options.springLength:i.options.length,o=i.from.x-i.to.x,a=i.from.y-i.to.y,c=0===(c=e(o*o+a*a))?.01:c,s=o*(u=this.options.springConstant*(r-c)/c),l=a*u,i.to.level==i.from.level?(void 0!==m[i.toId]&&(m[i.toId].x-=.5*s,m[i.toId].y-=.5*l),void 0!==m[i.fromId]&&(m[i.fromId].x+=.5*s,m[i.fromId].y+=.5*l)):(void 0!==m[i.toId]&&(m[i.toId].springFx-=s,m[i.toId].springFy-=l),void 0!==m[i.fromId]&&(m[i.fromId].springFx+=s,m[i.fromId].springFy+=l)));u=1;for(var y,b,x,_=0;_<p.length;_++)x=p[_],y=n(u,t(-u,m[x].springFx)),b=n(u,t(-u,m[x].springFy)),m[x].x+=y,m[x].y+=b;for(var w,k=0,M=0,T=0;T<p.length;T++)k+=m[w=p[T]].x,M+=m[w].y;for(var S,E=k/p.length,A=M/p.length,O=0;O<p.length;O++)m[S=p[O]].x-=E,m[S].y-=A}}]),r}(),cu=function(){var e=Math.sqrt;function t(e,n,r){zs(this,t),this.body=e,this.physicsBody=n,this.setOptions(r)}return Bs(t,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var t,n,r,i,o=this.body.nodes,a=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,l=0;l<a.length;l++)t=-(i=o[a[l]]).x,n=-i.y,r=e(t*t+n*n),this._calculateForces(r,t,n,s,i)}},{key:"_calculateForces",value:function(e,t,n,r,i){var o=0===e?0:this.options.centralGravity/e;r[i.id].x=t*o,r[i.id].y=n*o}}]),t}(),fu=function(e){var t=Math.pow,n=Math.max;function r(e,t,n){return zs(this,r),il(this,ol(r).call(this,e,t,n))}return ll(r,e),Bs(r,[{key:"_calculateForces",value:function(e,r,i,o,a){0===e&&(r=e=.1*Math.random()),1>this.overlapAvoidanceFactor&&o.shape.radius&&(e=n(.1+this.overlapAvoidanceFactor*o.shape.radius,e-o.shape.radius));var s=o.edges.length+1,l=this.options.gravitationalConstant*a.mass*o.options.mass*s/t(e,2),u=r*l;this.physicsBody.forces[o.id].x+=u,this.physicsBody.forces[o.id].y+=i*l}}]),r}(ou),du=function(e){function t(e,n,r){return zs(this,t),il(this,ol(t).call(this,e,n,r))}return ll(t,e),Bs(t,[{key:"_calculateForces",value:function(e,t,n,r,i){if(0<e){var o=i.edges.length+1,a=this.options.centralGravity*o*i.options.mass;r[i.id].x=t*a,r[i.id].y=n*a}}}]),t}(cu),hu=function(){var e=Math.atan2,t=Math.sqrt,n=Math.pow,r=Math.max,i=Math.abs,o=Math.min;function a(e){zs(this,a),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},$r.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return Bs(a,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",(function(){e.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){e.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){e.stopSimulation(),e.ready=!1})),this.body.emitter.on("disablePhysics",(function(){e.physicsEnabled=!1,e.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===e.ready&&e.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){e.stopSimulation()})),this.body.emitter.on("destroy",(function(){e.stopSimulation(!1),e.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){e.updatePhysicsData()}))}},{key:"setOptions",value:function(e){void 0!==e&&(!1===e?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===e?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,$r.selectiveNotDeepExtend(["stabilization"],this.options,e),$r.mergeOptions(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new fu(this.body,this.physicsBody,e),this.edgesSolver=new lu(this.body,this.physicsBody,e),this.gravitySolver=new du(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new au(this.body,this.physicsBody,e),this.edgesSolver=new lu(this.body,this.physicsBody,e),this.gravitySolver=new cu(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new su(this.body,this.physicsBody,e),this.edgesSolver=new uu(this.body,this.physicsBody,e),this.gravitySolver=new cu(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new ou(this.body,this.physicsBody,e),this.edgesSolver=new lu(this.body,this.physicsBody,e),this.gravitySolver=new cu(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=Date.now();this.physicsTick(),(Date.now()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(1<this.stabilizationIterations||!0===this.startedStabilization)&&setTimeout((function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=r(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled)0==this.adaptiveCounter%this.adaptiveInterval?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1;else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var r in t)t.hasOwnProperty(r)&&!0===t[r].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(var i,o=0;o<this.physicsBody.physicsNodeIndices.length;o++)i=this.physicsBody.physicsNodeIndices[o],this.physicsBody.forces[i]={x:0,y:0},void 0===this.physicsBody.velocities[i]&&(this.physicsBody.velocities[i]={x:0,y:0});for(var a in this.physicsBody.velocities)void 0===e[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function(){var e=Object.keys(this.previousStates),t=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var r,i=0;i<e.length;i++)void 0===t[r=e[i]]?delete this.previousStates[r]:!0===t[r].options.physics&&(this.referenceState[r]={positions:{x:t[r].x,y:t[r].y}},n[r].x=this.previousStates[r].vx,n[r].y=this.previousStates[r].vy,t[r].x=this.previousStates[r].x,t[r].y=this.previousStates[r].y)}},{key:"_evaluateStepQuality",value:function(){var e,r,i=this.body.nodes,o=this.referenceState;for(var a in this.referenceState)if(this.referenceState.hasOwnProperty(a)&&void 0!==i[a]&&(e=i[a].x-o[a].positions.x,r=i[a].y-o[a].positions.y,t(n(e,2)+n(r,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,n=0,i=0;i<e.length;i++){var o=e[i],a=this._performStep(o);t=r(t,a),n+=a}this.adaptiveTimestepEnabled=n/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,n){e+=(t-this.modelOptions.damping*e)/n*this.timestep;var r=this.options.maxVelocity||1e9;return i(e)>r&&(e=0<e?r:-r),e}},{key:"_performStep",value:function(e){var r=this.body.nodes[e],i=this.physicsBody.forces[e],o=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:o.x,vy:o.y},!1===r.options.fixed.x?(o.x=this.calculateComponentVelocity(o.x,i.x,r.options.mass),r.x+=o.x*this.timestep):(i.x=0,o.x=0),!1===r.options.fixed.y?(o.y=this.calculateComponentVelocity(o.y,i.y,r.options.mass),r.y+=o.y*this.timestep):(i.y=0,o.y=0),t(n(o.x,2)+n(o.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(e.hasOwnProperty(t)&&e[t].x&&e[t].y){var n=e[t].options.fixed;this.freezeCache[t]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)e.hasOwnProperty(t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;return"number"!=typeof t&&(t=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0===this.physicsBody.physicsNodeIndices.length?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout((function(){return e._stabilizationBatch()}),0))}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var r=0;t()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;n(),t()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(i){for(var a=0;a<this.physicsBody.physicsNodeIndices.length;a++){var s=this.physicsBody.physicsNodeIndices[a],l=this.body.nodes[s],u=this.physicsBody.forces[s],c=t(n(u.x,2)+n(u.x,2)),f=o(r(5,c),15),d=$r.HSVToHex((180-180*o(1,r(0,.03*c)))/360,1,1),h={x:l.x+20*u.x,y:l.y+20*u.y};i.lineWidth=f,i.strokeStyle=d,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(h.x,h.y),i.stroke();var p=e(u.y,u.x);i.fillStyle=d,Gl.draw(i,{type:"arrow",point:h,angle:p,length:3*f}),i.fill()}}}]),a}(),pu=function(){function e(){zs(this,e)}return Bs(e,null,[{key:"getRange",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=1e9,i=-1e9,o=1e9,a=-1e9;if(0<n.length)for(var s=0;s<n.length;s++)o>(t=e[n[s]]).shape.boundingBox.left&&(o=t.shape.boundingBox.left),a<t.shape.boundingBox.right&&(a=t.shape.boundingBox.right),r>t.shape.boundingBox.top&&(r=t.shape.boundingBox.top),i<t.shape.boundingBox.bottom&&(i=t.shape.boundingBox.bottom);return 1e9===o&&-1e9===a&&1e9===r&&-1e9===i&&(r=0,i=0,o=0,a=0),{minX:o,maxX:a,minY:r,maxY:i}}},{key:"getRangeCore",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=1e9,i=-1e9,o=1e9,a=-1e9;if(0<n.length)for(var s=0;s<n.length;s++)o>(t=e[n[s]]).x&&(o=t.x),a<t.x&&(a=t.x),r>t.y&&(r=t.y),i<t.y&&(i=t.y);return 1e9===o&&-1e9===a&&1e9===r&&-1e9===i&&(r=0,i=0,o=0,a=0),{minX:o,maxX:a,minY:r,maxY:i}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var n={};return void 0===t||"node"===t?($r.deepExtend(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):$r.deepExtend(n,e.options,!0),n}}]),e}(),mu=function(e){function t(e,n,r,i,o,a){var s;return zs(this,t),(s=il(this,ol(t).call(this,e,n,r,i,o,a))).isCluster=!0,s.containedNodes={},s.containedEdges={},s}return ll(t,e),Bs(t,[{key:"_openChildCluster",value:function(e){var t=this,n=this.body.nodes[e];if(void 0===this.containedNodes[e])throw new Error("node with id: "+e+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],$r.forEach(n.edges,(function(e){delete t.containedEdges[e.id]})),$r.forEach(n.containedNodes,(function(e,n){t.containedNodes[n]=e})),n.containedNodes={},$r.forEach(n.containedEdges,(function(e,n){t.containedEdges[n]=e})),n.containedEdges={},$r.forEach(n.edges,(function(e){$r.forEach(t.edges,(function(n){var r=n.clusteringEdgeReplacingIds.indexOf(e.id);-1===r||($r.forEach(e.clusteringEdgeReplacingIds,(function(e){n.clusteringEdgeReplacingIds.push(e),t.body.edges[e].edgeReplacedById=n.id})),n.clusteringEdgeReplacingIds.splice(r,1))}))})),n.edges=[]}}]),t}(Nl),gu=function(){var e=Math.sqrt,t=Math.pow,n=Math.floor;function r(e){var t=this;zs(this,r),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},$r.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){t.clusteredNodes={},t.clusteredEdges={}}))}return Bs(r,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===$s(e)&&(t=this._checkOptions(e),e=this._getHubSize());for(var n,r=[],i=0;i<this.body.nodeIndices.length;i++)(n=this.body.nodes[this.body.nodeIndices[i]]).edges.length>=e&&r.push(n.id);for(var o=0;o<r.length;o++)this.clusterByConnection(r[o],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var r={},i={};$r.forEach(this.body.nodes,(function(n,o){n.options&&!0===t.joinCondition(n.options)&&(r[o]=n,$r.forEach(n.edges,(function(t){void 0===e.clusteredEdges[t.id]&&(i[t.id]=t)})))})),this._cluster(r,i,t,n)}},{key:"clusterByEdgeCount",value:function(e,t){var n=this,r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var i,o,a,s=[],l={},u=function(r){var u={},c={},h=n.body.nodeIndices[r],p=n.body.nodes[h];if(void 0===l[h]){a=0,o=[];for(var m=0;m<p.edges.length;m++)i=p.edges[m],void 0===n.clusteredEdges[i.id]&&(i.toId!==i.fromId&&a++,o.push(i));if(a===e){f=function(e){if(void 0===t.joinCondition||null===t.joinCondition)return!0;var n=pu.cloneOptions(e);return t.joinCondition(n)};for(var g=!0,v=0;v<o.length;v++){i=o[v];var y=n._getConnectedId(i,h);if(!f(p)){g=!1;break}c[i.id]=i,u[h]=p,u[y]=n.body.nodes[y],l[h]=!0}if(0<Object.keys(u).length&&0<Object.keys(c).length&&!0===g)if(void 0!==(d=function(){for(var e=0;e<s.length;++e)for(var t in u)if(void 0!==s[e].nodes[t])return s[e]}())){for(var b in u)void 0===d.nodes[b]&&(d.nodes[b]=u[b]);for(var x in c)void 0===d.edges[x]&&(d.edges[x]=c[x])}else s.push({nodes:u,edges:c})}}},c=0;c<this.body.nodeIndices.length;c++){var f,d;u(c)}for(c=0;c<s.length;c++)this._cluster(s[c].nodes,s[c].edges,t,!1);!0===r&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[e];void 0===(t=this._checkOptions(t,r)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=r.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=r.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=r.options.fixed.x,t.clusterNodeProperties.fixed.y=r.options.fixed.y);var i={},o={},a=r.id,s=pu.cloneOptions(r);i[a]=r;for(var l,u=0;u<r.edges.length;u++)if(l=r.edges[u],void 0===this.clusteredEdges[l.id]){var c=this._getConnectedId(l,a);if(void 0===this.clusteredNodes[c])if(c===a)o[l.id]=l;else if(void 0===t.joinCondition)o[l.id]=l,i[c]=this.body.nodes[c];else{var f=pu.cloneOptions(this.body.nodes[c]);!0===t.joinCondition(s,f)&&(o[l.id]=l,i[c]=this.body.nodes[c])}}var d=Object.keys(i).map((function(e){return i[e].id}));for(p in i)if(i.hasOwnProperty(p))for(var h,p=i[p],m=0;m<p.edges.length;m++)h=p.edges[m],-1<d.indexOf(this._getConnectedId(h,p.id))&&(o[h.id]=h);this._cluster(i,o,t,n)}},{key:"_createClusterEdges",value:function(e,t,n,r){for(var i,o,a,s,l,u,c=Object.keys(e),f=[],d=0;d<c.length;d++){a=e[o=c[d]];for(var h=0;h<a.edges.length;h++)i=a.edges[h],void 0===this.clusteredEdges[i.id]&&(i.toId==i.fromId?t[i.id]=i:i.toId==o?(s=n.id,u=l=i.fromId):(s=i.toId,l=n.id,u=s),void 0===e[u]&&f.push({edge:i,fromId:l,toId:s}))}for(var p=[],m=function(e){for(var t=0;t<p.length;t++){var n=p[t],r=e.fromId===n.fromId&&e.toId===n.toId,i=e.fromId===n.toId&&e.toId===n.fromId;if(r||i)return n}return null},g=0;g<f.length;g++){var v=f[g],y=v.edge,b=m(v);null===b?(b=this._createClusteredEdge(v.fromId,v.toId,y,r),p.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=[];for(var o in e)e.hasOwnProperty(o)&&void 0!==this.clusteredNodes[o]&&i.push(o);for(var a=0;a<i.length;++a)delete e[i[a]];if(0!=Object.keys(e).length&&(1!=Object.keys(e).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var s=$r.deepExtend({},n.clusterNodeProperties);if(void 0!==n.processProperties){var l=[];for(var u in e)if(e.hasOwnProperty(u)){var c=pu.cloneOptions(e[u]);l.push(c)}var f=[];for(var d in t)if(t.hasOwnProperty(d)&&"clusterEdge:"!==d.substr(0,12)){var h=pu.cloneOptions(t[d],"edge");f.push(h)}if(!(s=n.processProperties(s,l,f)))throw new Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+$r.randomUUID());var p,m=s.id;void 0===s.label&&(s.label="cluster"),void 0===s.x&&(p=this._getClusterPosition(e),s.x=p.x),void 0===s.y&&(void 0===p&&(p=this._getClusterPosition(e)),s.y=p.y),s.id=m;var g=this.body.functions.createNode(s,mu);g.containedNodes=e,g.containedEdges=t,g.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[s.id]=g,this._clusterEdges(e,t,s,n.clusterEdgeProperties),s.id=void 0,!0===r&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0===this.body.nodes[e]?(console.log("Node does not exist."),!1):!0===this.body.nodes[e].isCluster}},{key:"_getClusterPosition",value:function(e){for(var t,n=Object.keys(e),r=e[n[0]].x,i=e[n[0]].x,o=e[n[0]].y,a=e[n[0]].y,s=1;s<n.length;s++)r=(t=e[n[s]]).x<r?t.x:r,i=t.x>i?t.x:i,o=t.y<o?t.y:o,a=t.y>a?t.y:a;return{x:.5*(r+i),y:.5*(o+a)}}},{key:"openCluster",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var r=this.body.nodes[e];if(void 0===r)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==r.isCluster||void 0===r.containedNodes||void 0===r.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var i=this.findNode(e),o=i.indexOf(e)-1;if(0<=o){var a=i[o],s=this.body.nodes[a];return s._openChildCluster(e),delete this.body.nodes[e],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var l=r.containedNodes,u=r.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"==typeof t.releaseFunction){var c={},f={x:r.x,y:r.y};for(var d in l)if(l.hasOwnProperty(d)){var h=this.body.nodes[d];c[d]={x:h.x,y:h.y}}var p=t.releaseFunction(f,c);for(var m in l)if(l.hasOwnProperty(m)){var g=this.body.nodes[m];void 0!==p[m]&&(g.x=void 0===p[m].x?r.x:p[m].x,g.y=void 0===p[m].y?r.y:p[m].y)}}else $r.forEach(l,(function(e){!1===e.options.fixed.x&&(e.x=r.x),!1===e.options.fixed.y&&(e.y=r.y)}));for(var v in l)if(l.hasOwnProperty(v)){var y=this.body.nodes[v];y.vx=r.vx,y.vy=r.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[v]}for(var b=[],x=0;x<r.edges.length;x++)b.push(r.edges[x]);for(var _=0;_<b.length;_++){for(var w=b[_],k=this._getConnectedId(w,e),M=this.clusteredNodes[k],T=0;T<w.clusteringEdgeReplacingIds.length;T++){var S=w.clusteringEdgeReplacingIds[T],E=this.body.edges[S];if(void 0!==E)if(void 0!==M){var A=this.body.nodes[M.clusterId];A.containedEdges[E.id]=E,delete u[E.id];var O=E.fromId,C=E.toId;E.toId==k?C=M.clusterId:O=M.clusterId,this._createClusteredEdge(O,C,E,A.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(E)}w.remove()}for(var N in u)u.hasOwnProperty(N)&&this._restoreEdge(u[N]);delete this.body.nodes[e],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var n=this.body.nodes[e].containedNodes;for(var r in n)n.hasOwnProperty(r)&&t.push(this.body.nodes[r].id)}return t}},{key:"findNode",value:function(e){for(var t,n=[],r=0;void 0!==this.clusteredNodes[e]&&r<100;){if(void 0===(t=this.body.nodes[e]))return[];n.push(t.id),e=this.clusteredNodes[e].clusterId,r++}return void 0===(t=this.body.nodes[e])?[]:(n.push(t.id),n.reverse(),n)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),r=0;r<n.length;r++)this.body.edges[n[r]].setOptions(t);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],n=0;void 0!==e&&void 0!==this.body.edges[e]&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return t.reverse(),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t,n=[e],r=[],i=[],o=0;0<n.length&&o<100;)if(void 0!==(t=n.pop())){var a=this.body.edges[t];if(void 0!==a){o++;var s=a.clusteringEdgeReplacingIds;if(void 0===s)i.push(t);else for(var l,u=0;u<s.length;++u)l=s[u],-1===n.indexOf(s)&&-1===r.indexOf(s)&&n.push(l);r.push(t)}}return i}},{key:"_getConnectedId",value:function(e,t){return e.toId==t?(e.fromId,e.fromId):e.toId}},{key:"_getHubSize",value:function(){for(var r,i=0,o=0,a=0,s=0,l=0;l<this.body.nodeIndices.length;l++)(r=this.body.nodes[this.body.nodeIndices[l]]).edges.length>s&&(s=r.edges.length),i+=r.edges.length,o+=t(r.edges.length,2),a+=1;var u=(o/=a)-t(i/=a,2),c=e(u),f=n(i+2*c);return f>s&&(f=s),f}},{key:"_createClusteredEdge",value:function(e,t,n,r,i){var o=pu.cloneOptions(n,"edge");$r.deepExtend(o,r),o.from=e,o.to=t,o.id="clusterEdge:"+$r.randomUUID(),void 0!==i&&$r.deepExtend(o,i);var a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a,a}},{key:"_clusterEdges",value:function(e,t,n,r){if(t instanceof ru){var i=t,o={};o[i.id]=i,t=o}if(e instanceof Nl){var a=e,s={};s[a.id]=a,e=s}if(void 0===n||null===n)throw new Error("_clusterEdges: parameter clusterNode required");for(var l in void 0===r&&(r=n.clusterEdgeProperties),this._createClusterEdges(e,t,n,r),t)if(t.hasOwnProperty(l)&&void 0!==this.body.edges[l]){var u=this.body.edges[l];this._backupEdgeOptions(u),u.setOptions({physics:!1})}for(var c in e)e.hasOwnProperty(c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var n=t.clusterId;return void 0===n?void 0:this.body.nodes[n]}}}},{key:"_filter",value:function(e,t){var n=[];return $r.forEach(e,(function(e){t(e)&&n.push(e)})),n}},{key:"_updateState",value:function(){var e,t=this,n=[],r={},i=function(e){$r.forEach(t.body.nodes,(function(t){!0===t.isCluster&&e(t)}))};for(e in this.clusteredNodes){if(this.clusteredNodes.hasOwnProperty(e))void 0===this.body.nodes[e]&&n.push(e)}i((function(e){for(var t=0;t<n.length;t++)delete e.containedNodes[n[t]]}));for(var o=0;o<n.length;o++)delete this.clusteredNodes[n[o]];$r.forEach(this.clusteredEdges,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()||(r[e]=e)})),i((function(e){$r.forEach(e.containedEdges,(function(e,t){e.endPointsValid()||r[t]||(r[t]=t)}))})),$r.forEach(this.body.edges,(function(e,n){var i=!0,o=e.clusteringEdgeReplacingIds;if(void 0!==o){var a=0;$r.forEach(o,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()&&(a+=1)})),i=0<a}e.endPointsValid()&&i||(r[n]=n)})),i((function(e){$r.forEach(r,(function(n){delete e.containedEdges[n],$r.forEach(e.edges,(function(i,o){return i.id===n?void(e.edges[o]=null):void(i.clusteringEdgeReplacingIds=t._filter(i.clusteringEdgeReplacingIds,(function(e){return!r[e]})))})),e.edges=t._filter(e.edges,(function(e){return null!==e}))}))})),$r.forEach(r,(function(e){delete t.clusteredEdges[e]})),$r.forEach(r,(function(e){delete t.body.edges[e]}));var a=Object.keys(this.body.edges);$r.forEach(a,(function(e){var n=t.body.edges[e],r=t._isClusteredNode(n.fromId)||t._isClusteredNode(n.toId);if(r!==t._isClusteredEdge(n.id))if(r){var i=t._getClusterNodeForNode(n.fromId);void 0!==i&&t._clusterEdges(t.body.nodes[n.fromId],n,i);var o=t._getClusterNodeForNode(n.toId);void 0!==o&&t._clusterEdges(t.body.nodes[n.toId],n,o)}else delete t._clusterEdges[e],t._restoreEdge(n)}));for(var s=!1,l=!0,u=function(){var e=[];i((function(t){var n=Object.keys(t.containedNodes).length,r=!0===t.options.allowSingleNodeCluster;(r&&1>n||!r&&2>n)&&e.push(t.id)}));for(var n=0;n<e.length;++n)t.openCluster(e[n],{},!1);l=0<e.length,s=s||l};l;)u();s&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),r}();var vu=function(){function e(t,n){zs(this,e),function(){var e;void 0!==window&&(e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===e?function(e){e()}:e}(),this.body=t,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},$r.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return Bs(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("zoom",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=window.setTimeout((function(){e.zooming=!1,e._requestRedraw.bind(e)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=0<e.renderRequests,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(e){void 0!==e&&$r.selectiveDeepExtend(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}},{key:"_requestNextFrame",value:function(e,t){if("undefined"!=typeof window){var n,r=window;return!0===this.requiresTimeout?n=r.setTimeout(e,t):r.requestAnimationFrame&&(n=r.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){e._redraw(!1)}),0))}},{key:"_redraw",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();var t=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(t.clearRect(0,0,n,r),0===this.canvas.frame.clientWidth)return;t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale),t.beginPath(),this.body.emitter.emit("beforeDrawing",t),t.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(t),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(t,e),t.beginPath(),this.body.emitter.emit("afterDrawing",t),t.closePath(),t.restore(),!0===e&&t.clearRect(0,0,n,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,n=this.body.nodes;for(var r in n)n.hasOwnProperty(r)&&((t=n[r]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],r=this.body.nodes,i=this.body.nodeIndices,o=[],a=20,s=this.canvas.DOMtoCanvas({x:-a,y:-a}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+a,y:this.canvas.frame.canvas.clientHeight+a}),u={top:s.y,left:s.x,bottom:l.y,right:l.x},c=0;c<i.length;c++)(t=r[i[c]]).isSelected()?o.push(i[c]):!0===n?t.draw(e):!0===t.isBoundingBoxOverlappingWith(u)?t.draw(e):t.updateBoundingBox(e,t.selected);for(var f=0;f<o.length;f++)(t=r[o[f]]).draw(e)}},{key:"_drawEdges",value:function(e){for(var t,n=this.body.edges,r=this.body.edgeIndices,i=0;i<r.length;i++)!0===(t=n[r[i]]).connected&&t.draw(e)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1==e.indexOf("msie 9.0")?-1!=e.indexOf("safari")&&-1>=e.indexOf("chrome")&&(this.requiresTimeout=!0):this.requiresTimeout=!0}else this.requiresTimeout=!0}}]),e}(),yu=Ui((function(e,t){t.onTouch=function(e,t){t.inputHandler=function(e){e.isFirst&&t(e)},e.on("hammer.input",t.inputHandler)},t.onRelease=function(e,t){return t.inputHandler=function(e){e.isFinal&&t(e)},e.on("hammer.input",t.inputHandler)},t.offTouch=function(e,t){e.off("hammer.input",t.inputHandler)},t.offRelease=t.offTouch,t.disablePreventDefaultVertically=function(e){return e.getTouchAction=function(){return["pan-y"]},e}})),bu=(yu.onTouch,yu.onRelease,yu.offTouch,yu.offRelease,yu.disablePreventDefaultVertically,function(){var e=Math.round;function t(e){zs(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},$r.extend(this.options,this.defaultOptions),this.bindEventListeners()}return Bs(t,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(e){var t=this;void 0!==e&&$r.selectiveDeepExtend(["width","height","autoResize"],this.options,e),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval((function(){!0===t.setSize()&&t.body.emitter.emit("_requestRedraw")}),1e3),this.resizeFunction=this._onResize.bind(this),$r.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),$r.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&0<this.cameraState.previousWidth){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=e&&1!=t?n=.5*this.cameraState.scale*(e+t):1==e?1!=t&&(n=this.cameraState.scale*t):n=this.cameraState.scale*e,this.body.view.scale=n;var r=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),i={x:r.x-this.cameraState.position.x,y:r.y-this.cameraState.position.y};this.body.view.translation.x+=i.x*this.body.view.scale,this.body.view.translation.y+=i.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==e.indexOf("%")||-1!==e.indexOf("px"))return e;if(-1===e.indexOf("%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Ps(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Ps.DIRECTION_ALL}),yu.onTouch(this.hammer,(function(t){e.body.eventListeners.onTouch(t)})),this.hammer.on("tap",(function(t){e.body.eventListeners.onTap(t)})),this.hammer.on("doubletap",(function(t){e.body.eventListeners.onDoubleTap(t)})),this.hammer.on("press",(function(t){e.body.eventListeners.onHold(t)})),this.hammer.on("panstart",(function(t){e.body.eventListeners.onDragStart(t)})),this.hammer.on("panmove",(function(t){e.body.eventListeners.onDrag(t)})),this.hammer.on("panend",(function(t){e.body.eventListeners.onDragEnd(t)})),this.hammer.on("pinch",(function(t){e.body.eventListeners.onPinch(t)})),this.frame.canvas.addEventListener("mousewheel",(function(t){e.body.eventListeners.onMouseWheel(t)})),this.frame.canvas.addEventListener("DOMMouseScroll",(function(t){e.body.eventListeners.onMouseWheel(t)})),this.frame.canvas.addEventListener("mousemove",(function(t){e.body.eventListeners.onMouseMove(t)})),this.frame.canvas.addEventListener("contextmenu",(function(t){e.body.eventListeners.onContext(t)})),this.hammerFrame=new Ps(this.frame),yu.onRelease(this.hammerFrame,(function(t){e.body.eventListeners.onRelease(t)}))}},{key:"setSize",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.width,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),n=this._prepareValue(n);var r=!1,i=this.frame.canvas.width,o=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||n!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=n)this._getCameraState(a),this.frame.style.width=t,this.frame.style.height=n,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=e(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=e(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=n,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{var s=e(this.frame.canvas.clientWidth*this.pixelRatio),l=e(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==s||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,r=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,r=!0)}return 1==r&&(this.body.emitter.emit("resize",{width:e(this.frame.canvas.width/this.pixelRatio),height:e(this.frame.canvas.height/this.pixelRatio),oldWidth:e(i/this.pixelRatio),oldHeight:e(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return"undefined"!=typeof window&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),t}()),xu=function(){var e=Math.abs,t=Math.min;function n(e,t){var r=this;zs(this,n),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",(function(){r.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return Bs(n,[{key:"setOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:"fit",value:function(){var n,r,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{nodes:[]},o=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if((void 0===(i=Object.assign({},i)).nodes||0===i.nodes.length)&&(i.nodes=this.body.nodeIndices),!0===o){var a=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var l=this.body.nodes[s];!0===l.predefinedPosition&&(a+=1)}if(a>.5*this.body.nodeIndices.length)return void this.fit(i,!1);n=pu.getRange(this.body.nodes,i.nodes);var u=this.body.nodeIndices.length;r=12.662/(u+7.4147)+.0964822;var c=t(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);r*=c}else{this.body.emitter.emit("_resizeNodes"),n=pu.getRange(this.body.nodes,i.nodes);var f=1.1*e(n.maxX-n.minX),d=1.1*e(n.maxY-n.minY),h=this.canvas.frame.canvas.clientWidth/f,p=this.canvas.frame.canvas.clientHeight/d;r=h<=p?h:p}1<r?r=1:0===r&&(r=1);var m=pu.findCenter(n),g={position:m,scale:r,animation:i.animation};this.moveTo(g)}},{key:"focus",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=n,t.lockedOnNode=e,this.moveTo(t)}else console.log("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){var t=Number.isFinite;if(void 0!==e){if(null!=e.offset){if(null==e.offset.x)e.offset.x=0;else if(e.offset.x=+e.offset.x,!t(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.');if(null==e.offset.y)e.offset.x=0;else if(e.offset.y=+e.offset.y,!t(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset={x:0,y:0};if(null!=e.position){if(null==e.position.x)e.position.x=0;else if(e.position.x=+e.position.x,!t(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.');if(null==e.position.y)e.position.x=0;else if(e.position.y=+e.position.y,!t(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position=this.getViewPosition();if(null==e.scale)e.scale=this.body.view.scale;else if(e.scale=+e.scale,!(0<e.scale))throw new TypeError('The option "scale" has to be a number greater than zero.');void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:t.x-e.position.x,y:t.y-e.position.y};this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},0===e.animation.duration?null==this.lockedOnNodeId?(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=n.x-e,i=n.y-t,o=this.body.view.translation,a={x:o.x+r*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+i*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=a}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var t=$r.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},1<=this.easingTime&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),n}(),_u=function(){function e(t,n){var r=this;zs(this,e),this.body=t,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){r.activated=!0,r.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){r.activated=!1,r.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==r.keycharm&&r.keycharm.destroy()})),this.options={}}return Bs(e,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var r=0;r<t.length;r++){this.navigationDOM[t[r]]=document.createElement("div"),this.navigationDOM[t[r]].className="vis-button vis-"+t[r],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[r]]);var i=new Ps(this.navigationDOM[t[r]]);"_fit"===n[r]?yu.onTouch(i,this._fit.bind(this)):yu.onTouch(i,this.bindToRedraw.bind(this,n[r])),this.navigationHammers.push(i)}var o=new Ps(this.canvas.frame);yu.onRelease(o,(function(){e._stopMovement()})),this.navigationHammers.push(o),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=this[e].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){700<(new Date).valueOf()-this.touchTime&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)this.boundFunctions.hasOwnProperty(e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,r=t/e,i=(1-r)*this.canvas.canvasViewCenter.x+n.x*r,o=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=t,this.body.view.translation={x:i,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,r=t/e,i=(1-r)*this.canvas.canvasViewCenter.x+n.x*r,o=(1-r)*this.canvas.canvasViewCenter.y+n.y*r;this.body.view.scale=t,this.body.view.translation={x:i,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=!0===this.options.keyboard.bindToWindow?So({container:window,preventDefault:!0}):So({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",(function(){e.bindToRedraw("_moveUp")}),"keydown"),this.keycharm.bind("down",(function(){e.bindToRedraw("_moveDown")}),"keydown"),this.keycharm.bind("left",(function(){e.bindToRedraw("_moveLeft")}),"keydown"),this.keycharm.bind("right",(function(){e.bindToRedraw("_moveRight")}),"keydown"),this.keycharm.bind("=",(function(){e.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num+",(function(){e.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("num-",(function(){e.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("-",(function(){e.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("[",(function(){e.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("]",(function(){e.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pageup",(function(){e.bindToRedraw("_zoomIn")}),"keydown"),this.keycharm.bind("pagedown",(function(){e.bindToRedraw("_zoomOut")}),"keydown"),this.keycharm.bind("up",(function(){e.unbindFromRedraw("_moveUp")}),"keyup"),this.keycharm.bind("down",(function(){e.unbindFromRedraw("_moveDown")}),"keyup"),this.keycharm.bind("left",(function(){e.unbindFromRedraw("_moveLeft")}),"keyup"),this.keycharm.bind("right",(function(){e.unbindFromRedraw("_moveRight")}),"keyup"),this.keycharm.bind("=",(function(){e.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num+",(function(){e.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("num-",(function(){e.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("-",(function(){e.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("[",(function(){e.unbindFromRedraw("_zoomOut")}),"keyup"),this.keycharm.bind("]",(function(){e.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pageup",(function(){e.unbindFromRedraw("_zoomIn")}),"keyup"),this.keycharm.bind("pagedown",(function(){e.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),e}(),wu=function(){function e(t,n){zs(this,e),this.container=t,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Bs(e,[{key:"setPosition",value:function(e,t){this.x=parseInt(e),this.y=parseInt(t)}},{key:"setText",value:function(e){e instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(e)):this.frame.innerHTML=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,n=this.frame.clientWidth,r=this.frame.parentNode.clientHeight,i=this.frame.parentNode.clientWidth,o=0,a=0;if("flip"==this.overflowMethod){var s=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+n>i-this.padding&&(s=!0),o=s?this.x-n:this.x,a=l?this.y-t:this.y}else(a=this.y-t)+t+this.padding>r&&(a=r-t-this.padding),a<this.padding&&(a=this.padding),(o=this.x)+n+this.padding>i&&(o=i-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}(),ku=function(){function e(t,n,r){zs(this,e),this.body=t,this.canvas=n,this.selectionHandler=r,this.navigationHandler=new _u(t,n),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},$r.extend(this.options,this.defaultOptions),this.bindEventListeners()}return Bs(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",(function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer}))}},{key:"setOptions",value:function(e){void 0!==e&&($r.selectiveNotDeepExtend(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),$r.mergeOptions(this.options,e,"keyboard"),e.tooltip&&($r.extend(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=$r.parseColor(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-$r.getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-$r.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(e){50<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,e,n),this.selectionHandler._generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,e,n),this.selectionHandler._generateClickEvent("click",e,t),this.selectionHandler._generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if(10<(new Date).valueOf()-this.touchTime){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=this.selectionHandler.getSelection(),i=!1;i=!0===n?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var o=this.selectionHandler.getSelection(),a=this._determineDifference(r,o),s=this._determineDifference(o,r);0<a.edges.length&&(this.selectionHandler._generateClickEvent("deselectEdge",t,e,r),i=!0),0<a.nodes.length&&(this.selectionHandler._generateClickEvent("deselectNode",t,e,r),i=!0),0<s.nodes.length&&(this.selectionHandler._generateClickEvent("selectNode",t,e),i=!0),0<s.edges.length&&(this.selectionHandler._generateClickEvent("selectEdge",t,e),i=!0),!0===i&&this.selectionHandler._generateClickEvent("select",t,e)}},{key:"_determineDifference",value:function(e,t){var n=function(e,t){for(var n,r=[],i=0;i<e.length;i++)n=e[i],-1===t.indexOf(n)&&r.push(n);return r};return{nodes:n(e.nodes,t.nodes),edges:n(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=$r.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(t)),this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r],o={id:i.id,node:i,x:i.x,y:i.y,xFixed:i.options.fixed.x,yFixed:i.options.fixed.y};i.options.fixed.x=!0,i.options.fixed.y=!0,this.drag.selection.push(o)}}else this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",e,n);var i=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;r.forEach((function(e){var n=e.node;!1===e.xFixed&&(n.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(e.x)+i)),!1===e.yFixed&&(n.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(e.y)+o))})),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);var a=n.x-this.drag.pointer.x,s=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(e){this.drag.dragging=!1;var t=this.drag.selection;t&&t.length?(t.forEach((function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed})),this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var n,r=this.body.view.scale;1e-5>e&&(e=1e-5),10<e&&(e=10),void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var i=this.body.view.translation,o=e/r,a=(1-o)*t.x+i.x*o,s=(1-o)*t.y+i.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:s},null!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),0!=t){var n=this.body.view.scale,r=t*(this.options.zoomSpeed/10);0>t&&(r/=1-r),n*=1+r;var i=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(n,i)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,n=this.getPointer({x:e.clientX,y:e.clientY}),r=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(r=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===r&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),!this.drag.dragging&&(this.popupTimer=setTimeout((function(){return t._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),r={left:t,top:n,right:t,bottom:n},i=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,a="node";if(void 0===this.popupObj){for(var s,l=this.body.nodeIndices,u=this.body.nodes,c=[],f=0;f<l.length;f++)!0===(s=u[l[f]]).isOverlappingWith(r)&&(o=!0,void 0!==s.getTitle()&&c.push(l[f]));0<c.length&&(this.popupObj=u[c[c.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var d,h=this.body.edgeIndices,p=this.body.edges,m=[],g=0;g<h.length;g++)!0===(d=p[h[g]]).isOverlappingWith(r)&&!0===d.connected&&void 0!==d.getTitle()&&m.push(h[g]);0<m.length&&(this.popupObj=p[m[m.length-1]],a="edge")}void 0===this.popupObj?void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup")):this.popupObj.id!==i&&(void 0===this.popup&&(this.popup=new wu(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),n=!1;if("node"!==this.popup.popupTargetType)void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));else if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var r=this.selectionHandler.getNodeAt(e);n=void 0!==r&&r.id===this.popup.popupTargetId}!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}(),Mu=function(){function e(t,n){var r=this;zs(this,e),this.body=t,this.canvas=n,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},$r.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){r.updateSelection()}))}return Bs(e,[{key:"setOptions",value:function(e){void 0!==e&&$r.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==n&&(t=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==n&&(t=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){return{pointer:{DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},event:e}}},{key:"_generateClickEvent",value:function(e,t,n,r){var i=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4],o=this._initBaseEvent(t,n);if(!0===i)o.nodes=[],o.edges=[];else{var a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}void 0!==r&&(o.previousSelection=r),"click"==e&&(o.items=this.getClickedItems(n)),void 0!==t.controlEdge&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==e&&(e instanceof Nl&&!0===t&&this._selectConnectedEdges(e),e.select(),this._addToSelection(e),!0)}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t,n=[],r=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++)r[t=this.body.nodeIndices[i]].isOverlappingWith(e)&&n.push(t);return n}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(e),r=this._getAllNodesOverlappingWith(n);return 0<r.length?!0===t?this.body.nodes[r[r.length-1]]:r[r.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var n,r=this.body.edges,i=0;i<this.body.edgeIndices.length;i++)r[n=this.body.edgeIndices[i]].isOverlappingWith(e)&&t.push(n)}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(e),r=10,i=null,o=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a],l=o[s];if(l.connected){var u=l.from.x,c=l.from.y,f=l.to.x,d=l.to.y,h=l.edgeType.getDistanceToEdge(u,c,f,d,n.x,n.y);h<r&&(i=s,r=h)}}return null===i?void 0:!0===t?this.body.edges[i]:i}},{key:"_addToSelection",value:function(e){e instanceof Nl?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:"_addToHover",value:function(e){e instanceof Nl?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){e instanceof Nl?(delete this.selectionObj.nodes[e.id],this._unselectConnectedEdges(e)):delete this.selectionObj.edges[e.id]}},{key:"unselectAll",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&this.selectionObj.edges[t].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedNode",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e]}},{key:"_getSelectedEdge",value:function(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e]}},{key:"_getSelectedEdgeCount",value:function(){var e=0;for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(e+=1);return e}},{key:"_selectionIsEmpty",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&1<this.selectionObj.nodes[e].clusterSize)return!0;return!1}},{key:"_selectConnectedEdges",value:function(e){for(var t,n=0;n<e.edges.length;n++)(t=e.edges[n]).select(),this._addToSelection(t)}},{key:"_hoverConnectedEdges",value:function(e){for(var t,n=0;n<e.edges.length;n++)(t=e.edges[n]).hover=!0,this._addToHover(t)}},{key:"_unselectConnectedEdges",value:function(e){for(var t,n=0;n<e.edges.length;n++)(t=e.edges[n]).unselect(),this._removeFromSelection(t)}},{key:"emitBlurEvent",value:function(e,t,n){var r=this._initBaseEvent(e,t);!0===n.hover&&(n.hover=!1,n instanceof Nl?(r.node=n.id,this.body.emitter.emit("blurNode",r)):(r.edge=n.id,this.body.emitter.emit("blurEdge",r)))}},{key:"emitHoverEvent",value:function(e,t,n){var r=this._initBaseEvent(e,t),i=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),i=!0,n instanceof Nl?(r.node=n.id,this.body.emitter.emit("hoverNode",r)):(r.edge=n.id,this.body.emitter.emit("hoverEdge",r))),i}},{key:"hoverObject",value:function(e,t){var n=this.getNodeAt(t);void 0===n&&(n=this.getEdgeAt(t));var r=!1;for(var i in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(i)&&(void 0===n||n instanceof Nl&&n.id!=i||n instanceof ru)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[i]),delete this.hoverObj.nodes[i],r=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(!0===r?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof ru&&n.id!=o||n instanceof Nl&&!n.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],r=!0));if(void 0!==n){var a=Object.keys(this.hoverObj.edges).length,s=Object.keys(this.hoverObj.nodes).length;(r||n instanceof ru&&0===a&&0===s||n instanceof Nl&&0===a&&0===s)&&(r=this.emitHoverEvent(e,t,n)),n instanceof Nl&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===r&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&e.push(this.selectionObj.nodes[t].id);return e}},{key:"getSelectedEdges",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&e.push(this.selectionObj.edges[t].id);return e}},{key:"setSelection",value:function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw"Selection must be an object with nodes and/or edges properties";if((r.unselectAll||void 0===r.unselectAll)&&this.unselectAll(),e.nodes)for(t=0;t<e.nodes.length;t++){n=e.nodes[t];var i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(t=0;t<e.edges.length;t++){n=e.edges[t];var o=this.body.edges[n];if(!o)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(o)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(this.body.edges.hasOwnProperty(t)||delete this.selectionObj.edges[t])}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),n=[],r=this.body.nodeIndices,i=this.body.nodes,o=r.length-1;0<=o;o--){var a=i[r[o]].getItemsOnPoint(t);n.push.apply(n,a)}for(var s=this.body.edgeIndices,l=this.body.edges,u=s.length-1;0<=u;u--){var c=l[s[u]].getItemsOnPoint(t);n.push.apply(n,c)}return n}}]),e}(),Tu=Ui((function(e,t){!function(e){function t(e){return 1e5>e?100>e?10>e?0:1:1e4>e?1e3>e?2:3:4:1e7>e?1e6>e?5:6:1e9>e?1e8>e?7:8:9}function n(e,n){if(e===n)return 0;if(~~e===e&&~~n===n){if(0===e||0===n)return e<n?-1:1;if(0>e||0>n){if(0<=n)return-1;if(0<=e)return 1;e=-e,n=-n}var r=t(e),i=t(n),o=0;return r<i?(e*=u[i-r-1],n/=10,o=-1):r>i&&(n*=u[r-i-1],e/=10,o=1),e===n?o:e<n?-1:1}var a=e+"",s=n+"";return a===s?0:a<s?-1:1}function r(e,t,n,r){var i=t+1;if(i===n)return 1;if(0>r(e[i++],e[t])){for(;i<n&&0>r(e[i],e[i-1]);)i++;!function(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}(e,t,i)}else for(;i<n&&0<=r(e[i],e[i-1]);)i++;return i-t}function i(e,t,n,r,i){for(r===t&&r++;r<n;r++){for(var o=e[r],a=t,s=r;a<s;){var l=a+s>>>1;0>i(o,e[l])?s=l:a=l+1}var u=r-a;switch(u){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;0<u;)e[a+u]=e[a+u-1],u--}e[a]=o}}function o(e,t,n,r,i,o){var a=0,s=0,l=1;if(0<o(e,t[n+i])){for(s=r-i;l<s&&0<o(e,t[n+i+l]);)a=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s),a+=i,l+=i}else{for(s=i+1;l<s&&0>=o(e,t[n+i-l]);)a=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}for(a++;a<l;){var c=a+(l-a>>>1);0<o(e,t[n+c])?a=c+1:l=c}return l}function a(e,t,n,r,i,o){var a=0,s=0,l=1;if(0>o(e,t[n+i])){for(s=i+1;l<s&&0>o(e,t[n+i-l]);)a=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}else{for(s=r-i;l<s&&0<=o(e,t[n+i+l]);)a=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s),a+=i,l+=i}for(a++;a<l;){var c=a+(l-a>>>1);0>o(e,t[n+c])?l=c:a=c+1}return l}e.__esModule=!0,e.sort=function(e,t,o,a){if(!Array.isArray(e))throw new TypeError("Can only sort arrays");t?"function"!=typeof t&&(a=o,o=t,t=n):t=n,o||(o=0),a||(a=e.length);var s=a-o;if(!(2>s)){var l=0;if(32>s)return void i(e,o,a,o+(l=r(e,o,a,t)),t);var u=new c(e,t),f=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(s);do{if((l=r(e,o,a,t))<f){var d=s;d>f&&(d=f),i(e,o,o+d,o+l,t),l=d}u.pushRun(o,l),u.mergeRuns(),s-=l,o+=l}while(0!==s);u.forceMergeRuns()}};var s=7,l=256,u=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],c=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.array=null,this.compare=null,this.minGallop=s,this.length=0,this.tmpStorageLength=l,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=t,this.compare=n,this.length=t.length,this.length<2*l&&(this.tmpStorageLength=this.length>>>1),this.tmp=Array(this.tmpStorageLength),this.stackLength=120>this.length?5:1542>this.length?10:119151>this.length?19:40,this.runStart=Array(this.stackLength),this.runLength=Array(this.stackLength)}return e.prototype.pushRun=function(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1},e.prototype.mergeRuns=function(){for(;1<this.stackSize;){var e=this.stackSize-2;if(1<=e&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||2<=e&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}},e.prototype.forceMergeRuns=function(){for(;1<this.stackSize;){var e=this.stackSize-2;0<e&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}},e.prototype.mergeAt=function(e){var t=this.compare,n=this.array,r=this.runStart[e],i=this.runLength[e],s=this.runStart[e+1],l=this.runLength[e+1];this.runLength[e]=i+l,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;var u=a(n[s],n,r,i,0,t);r+=u,0!==(i-=u)&&(0===(l=o(n[r+i-1],n,s,l,l-1,t))||(i<=l?this.mergeLow(r,i,s,l):this.mergeHigh(r,i,s,l)))},e.prototype.mergeLow=function(e,t,n,r){var i=this.compare,l=this.array,u=this.tmp,c=0;for(c=0;c<t;c++)u[c]=l[e+c];var f=0,d=n,h=e;if(l[h++]=l[d++],0!=--r)if(1!==t){for(var p=this.minGallop;;){var m=0,g=0,v=!1;do{if(0>i(l[d],u[f])){if(l[h++]=l[d++],g++,m=0,0==--r){v=!0;break}}else if(l[h++]=u[f++],m++,g=0,1==--t){v=!0;break}}while((m|g)<p);if(v)break;do{if(0!==(m=a(l[d],u,f,t,0,i))){for(c=0;c<m;c++)l[h+c]=u[f+c];if(h+=m,f+=m,1>=(t-=m)){v=!0;break}}if(l[h++]=l[d++],0==--r){v=!0;break}if(0!==(g=o(u[f],l,d,r,0,i))){for(c=0;c<g;c++)l[h+c]=l[d+c];if(h+=g,d+=g,0===(r-=g)){v=!0;break}}if(l[h++]=u[f++],1==--t){v=!0;break}p--}while(m>=s||g>=s);if(v)break;0>p&&(p=0),p+=2}if(this.minGallop=p,1>p&&(this.minGallop=1),1===t){for(c=0;c<r;c++)l[h+c]=l[d+c];l[h+r]=u[f]}else{if(0===t)throw new Error("mergeLow preconditions were not respected");for(c=0;c<t;c++)l[h+c]=u[f+c]}}else{for(c=0;c<r;c++)l[h+c]=l[d+c];l[h+r]=u[f]}else for(c=0;c<t;c++)l[h+c]=u[f+c]},e.prototype.mergeHigh=function(e,t,n,r){var i=this.compare,l=this.array,u=this.tmp,c=0;for(c=0;c<r;c++)u[c]=l[n+c];var f=e+t-1,d=r-1,h=n+r-1,p=0,m=0;if(l[h--]=l[f--],0!=--t)if(1!==r){for(var g=this.minGallop;;){var v=0,y=0,b=!1;do{if(0>i(u[d],l[f])){if(l[h--]=l[f--],v++,y=0,0==--t){b=!0;break}}else if(l[h--]=u[d--],y++,v=0,1==--r){b=!0;break}}while((v|y)<g);if(b)break;do{if(0!=(v=t-a(u[d],l,e,t,t-1,i))){for(t-=v,m=1+(h-=v),p=1+(f-=v),c=v-1;0<=c;c--)l[m+c]=l[p+c];if(0===t){b=!0;break}}if(l[h--]=u[d--],1==--r){b=!0;break}if(0!==(y=r-o(l[f],u,0,r,r-1,i))){for(r-=y,m=1+(h-=y),p=1+(d-=y),c=0;c<y;c++)l[m+c]=u[p+c];if(1>=r){b=!0;break}}if(l[h--]=l[f--],0==--t){b=!0;break}g--}while(v>=s||y>=s);if(b)break;0>g&&(g=0),g+=2}if(this.minGallop=g,1>g&&(this.minGallop=1),1===r){for(m=1+(h-=t),p=1+(f-=t),c=t-1;0<=c;c--)l[m+c]=l[p+c];l[h]=u[d]}else{if(0===r)throw new Error("mergeHigh preconditions were not respected");for(p=h-(r-1),c=0;c<r;c++)l[p+c]=u[c]}}else{for(m=1+(h-=t),p=1+(f-=t),c=t-1;0<=c;c--)l[m+c]=l[p+c];l[h]=u[d]}else for(p=h-(r-1),c=0;c<r;c++)l[p+c]=u[c]},e}()}(t)}));!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(Tu);var Su=Tu,Eu=function(){function e(){zs(this,e)}return Bs(e,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,t,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),e}(),Au=function(e){function t(e){var n;return zs(this,t),(n=il(this,ol(t).call(this))).layout=e,n}return ll(t,e),Bs(t,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(e){return e.x}},{key:"setPosition",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.x=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}},{key:"sort",value:function(e){Su.sort(e,(function(e,t){return e.x-t.x}))}},{key:"fix",value:function(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].x+=t}}]),t}(Eu),Ou=function(e){function t(e){var n;return zs(this,t),(n=il(this,ol(t).call(this))).layout=e,n}return ll(t,e),Bs(t,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(e){return e.y}},{key:"setPosition",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.y=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}},{key:"sort",value:function(e){Su.sort(e,(function(e,t){return e.y-t.y}))}},{key:"fix",value:function(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].y+=t}}]),t}(Eu),Cu=function(){var e=Math.max,t=Math.min;function n(){zs(this,n),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return Bs(n,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(1<this.parentReference[e].length)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,n){void 0===n||void 0===this.trees[t.id]&&(this.trees[t.id]=n,this.treeIndex=e(n,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(t){var n=this,r={};return function t(i){if(void 0!==r[i])return r[i];var o=n.levels[i];if(n.childrenReference[i]){var a=n.childrenReference[i];if(0<a.length)for(var s=0;s<a.length;s++)o=e(o,t(a[s]))}return r[i]=o,o}(t)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var n=1e9;for(var r in e)e.hasOwnProperty(r)&&void 0!==this.levels[r]&&(n=t(this.levels[r],n));for(var i in e)e.hasOwnProperty(i)&&void 0!==this.levels[i]&&(this.levels[i]-=n)}},{key:"getTreeSize",value:function(n,r){var i=1e9,o=-1e9,a=1e9,s=-1e9;for(var l in this.trees)if(this.trees.hasOwnProperty(l)&&this.trees[l]===r){var u=n[l];i=t(u.x,i),o=e(u.x,o),a=t(u.y,a),s=e(u.y,s)}return{min_x:i,max_x:o,min_y:a,max_y:s}}},{key:"hasSameParent",value:function(e,t){var n=this.parentReference[e.id],r=this.parentReference[t.id];if(void 0===n||void 0===r)return!1;for(var i=0;i<n.length;i++)for(var o=0;o<r.length;o++)if(n[i]==r[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return Object.keys(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var n=!1,r=this.distributionOrdering[t];for(var i in r)if(r[i]===e){n=!0;break}n||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),n}(),Nu=function(){var e=Math.cos,t=Math.sin,n=Math.sqrt,r=Math.PI,i=Math.round,o=Math.pow,a=Math.max,s=Math.abs,l=Math.min,u=Math.floor;function c(e){zs(this,c),this.body=e,this.initialRandomSeed=i(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},$r.extend(this.options,this.defaultOptions),this.bindEventListeners()}return Bs(c,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){e.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}}))}},{key:"setOptions",value:function(e,t){if(void 0!==e){var n=this.options.hierarchical,r=n.enabled;if($r.selectiveDeepExtend(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),$r.mergeOptions(this.options,e,"hierarchical"),void 0!==e.randomSeed&&(this.initialRandomSeed=e.randomSeed),!0===n.enabled)return!0===r&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?0<n.levelSeparation&&(n.levelSeparation*=-1):0>n.levelSeparation&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===r)return this.body.emitter.emit("refresh"),$r.deepExtend(t,this.optionsBackup)}return t}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===$s(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var r=e.edges.smooth;void 0!==r.type&&"dynamic"!==r.type&&(n=r.type),this.optionsBackup.edges={smooth:void 0===r.enabled||r.enabled,type:void 0===r.type?"dynamic":r.type,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection},e.edges.smooth={enabled:void 0===r.enabled||r.enabled,type:n,roundness:void 0===r.roundness?.5:r.roundness,forceDirection:void 0!==r.forceDirection&&r.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"seededRandom",value:function(){var e=1e4*t(this.randomSeed++);return e-u(e)}},{key:"positionInitially",value:function(n){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var i=n.length+50,o=0;o<n.length;o++){var a=n[o],s=2*r*this.seededRandom();void 0===a.x&&(a.x=i*e(s)),void 0===a.y&&(a.y=i*t(s))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,n=0;n<e.length;n++)!0===this.body.nodes[e[n]].predefinedPosition&&(t+=1);if(t<.5*e.length){var r=0,i=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>i){for(var s=e.length;e.length>i&&10>=r;){r+=1;var l=e.length;if(0==r%3?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),l==e.length&&0!=r%3)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:a(150,2*s)})}10<r&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var u,c=0;c<e.length;c++)!1===(u=this.body.nodes[e[c]]).predefinedPosition&&(u.x+=70*(.5-this.seededRandom()),u.y+=70*(.5-this.seededRandom()));this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e,t=pu.getRangeCore(this.body.nodes,this.body.nodeIndices),n=pu.findCenter(t),r=0;r<this.body.nodeIndices.length;r++)(e=this.body.nodes[this.body.nodeIndices[r]]).x-=n.x,e.y-=n.y}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&0<this.body.nodeIndices.length){var e,t,n=!1,r=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new Cu,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(void 0===(e=this.body.nodes[t]).options.level?r=!0:(n=!0,this.hierarchical.levels[t]=e.options.level));if(!0===r&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===r){var i=this.options.hierarchical.sortMethod;"hubsize"===i?this._determineLevelsByHubsize():"directed"===i?this._determineLevelsDirected():"custom"===i&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.hierarchical.ensureLevel(o);var a=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(a),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,r={},u=function(t,n){var r=e.hierarchical.trees;for(var i in r)r.hasOwnProperty(i)&&r[i]===t&&e.direction.shift(i,n)},c=function(){for(var t=[],n=0;n<e.hierarchical.numTrees();n++)t.push(e.direction.getTreeSize(n));return t},f=function t(n,r){if(!r[n.id]&&(r[n.id]=!0,e.hierarchical.childrenReference[n.id])){var i=e.hierarchical.childrenReference[n.id];if(0<i.length)for(var o=0;o<i.length;o++)t(e.body.nodes[i[o]],r)}},d=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e9,r=1e9,i=1e9,o=1e9,s=-1e9;for(var u in t)if(t.hasOwnProperty(u)){var c=e.body.nodes[u],f=e.hierarchical.levels[c.id],d=e.direction.getPosition(c),h=e._getSpaceAroundNode(c,t),p=Xs(h,2),m=p[0],g=p[1];r=l(m,r),i=l(g,i),f<=n&&(o=l(d,o),s=a(d,s))}return[o,s,r,i]},h=function(t,n){var r=e.hierarchical.getMaxLevel(t.id),i=e.hierarchical.getMaxLevel(n.id);return l(r,i)},p=function(t,n,r){for(var i=e.hierarchical,o=0;o<n.length;o++){var a=n[o],s=i.distributionOrdering[a];if(1<s.length)for(var l=0;l<s.length-1;l++){var u=s[l],c=s[l+1];i.hasSameParent(u,c)&&i.inSameSubNetwork(u,c)&&t(u,c,r)}}},m=function(n,r){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],o=e.direction.getPosition(n),a=e.direction.getPosition(r),l=s(a-o),u=e.options.hierarchical.nodeSpacing;if(l>u){var c={},p={};f(n,c),f(r,p);var m=h(n,r),g=d(c,m),v=d(p,m),y=g[1],b=v[0],x=v[2],_=s(y-b);if(_>u){var w=y-b+u;w<-x+u&&(w=-x+u),0>w&&(e._shiftBlock(r.id,w),t=!0,!0===i&&e._centerParent(r))}}},g=function(s,u){for(var c,h=u.id,p=u.edges,m=e.hierarchical.levels[u.id],g=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,v={},y=[],b=0;b<p.length;b++)if((c=p[b]).toId!=c.fromId){var x=c.toId==h?c.from:c.to;v[p[b].id]=x,e.hierarchical.levels[x.id]<m&&y.push(c)}var _=function(t,r){for(var i=0,o=0;o<r.length;o++)if(void 0!==v[r[o].id]){var a=e.direction.getPosition(v[r[o].id])-t;i+=a/n(a*a+g)}return i},w=function(t,n){for(var r=0,i=0;i<n.length;i++)if(void 0!==v[n[i].id]){var a=e.direction.getPosition(v[n[i].id])-t;r-=g*o(a*a+g,-1.5)}return r},k=function(t,n){for(var r=e.direction.getPosition(u),o={},s=0;s<t;s++){var c=_(r,n),f=w(r,n);if(void 0!==o[r-=a(-40,l(40,i(c/f)))])break;o[r]=s}return r},M=k(s,y);(function(n){var i=e.direction.getPosition(u);if(void 0===r[u.id]){var o={};f(u,o),r[u.id]=o}var a=d(r[u.id]),s=a[2],c=a[3],h=n-i,p=0;0<h?p=l(h,c-e.options.hierarchical.nodeSpacing):0>h&&(p=-l(-h,s-e.options.hierarchical.nodeSpacing)),0!=p&&(e._shiftBlock(u.id,p),t=!0)})(M),function(n){var r=e.direction.getPosition(u),i=e._getSpaceAroundNode(u),o=Xs(i,2),s=o[0],c=o[1],f=n-r,d=r;0<f?d=l(r+(c-e.options.hierarchical.nodeSpacing),n):0>f&&(d=a(r-(s-e.options.hierarchical.nodeSpacing),n)),d!==r&&(e.direction.setPosition(u,d),t=!0)}(M=k(s,p))};!0===this.options.hierarchical.blockShifting&&(function(n){var r=e.hierarchical.getLevels();r=r.reverse();for(var i=0;i<n&&(t=!1,p(m,r,!0),!0===t);i++);}(5),function(){for(var t in e.body.nodes)e.body.nodes.hasOwnProperty(t)&&e._centerParent(e.body.nodes[t])}()),!0===this.options.hierarchical.edgeMinimization&&function(n){var r=e.hierarchical.getLevels();r=r.reverse();for(var i=0;i<n;i++){t=!1;for(var o=0;o<r.length;o++)for(var a=r[o],s=e.hierarchical.distributionOrdering[a],l=0;l<s.length;l++)g(1e3,s[l]);if(!0!==t)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var t=e.hierarchical.getLevels();t=t.reverse();for(var n=0;n<t.length;n++)for(var r=t[n],i=e.hierarchical.distributionOrdering[r],o=0;o<i.length;o++)e._centerParent(i[o])}(),function(){for(var t=c(),n=0,r=0;r<t.length-1;r++)n+=t[r].max-t[r+1].min+e.options.hierarchical.treeSpacing,u(r+1,n)}()}},{key:"_getSpaceAroundNode",value:function(e,t){var n=!0;void 0===t&&(n=!1);var r=this.hierarchical.levels[e.id];if(void 0!==r){var i=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[r],s=1e9,u=1e9;if(0!==i){var c=a[i-1];if(1==n&&void 0===t[c.id]||0==n)s=o-this.direction.getPosition(c)}if(i!=a.length-1){var f=a[i+1];if(1==n&&void 0===t[f.id]||0==n){var d=this.direction.getPosition(f);u=l(u,d-o)}}return[s,u]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],n=0;n<t.length;n++){var r=t[n],i=this.body.nodes[r],o=this.hierarchical.childrenReference[r];if(void 0!==o){var a=this._getCenterPosition(o),l=this.direction.getPosition(i),u=this._getSpaceAroundNode(i),c=Xs(u,2),f=c[0],d=c[1],h=l-a;(0>h&&s(h)<d-this.options.hierarchical.nodeSpacing||0<h&&s(h)<f-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(i,a)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(e.hasOwnProperty(t)){var n=Object.keys(e[t]);n=this._indexArrayToNodes(n),this.direction.sort(n);for(var r,i=0,o=0;o<n.length;o++)if(r=n[o],void 0===this.positionedNodes[r.id]){var a=this.options.hierarchical.nodeSpacing,s=a*i;0<i&&(s=this.direction.getPosition(n[o-1])+a),this.direction.setPosition(r,s,t),this._validatePositionAndContinue(r,t,s),i++}}}},{key:"_placeBranchNodes",value:function(e,t){var n=this.hierarchical.childrenReference[e];if(void 0!==n){for(var r=[],i=0;i<n.length;i++)r.push(this.body.nodes[n[i]]);this.direction.sort(r);for(var o=0;o<r.length;o++){var a=r[o],s=this.hierarchical.levels[a.id];if(!(s>t&&void 0===this.positionedNodes[a.id]))return;var l,u=this.options.hierarchical.nodeSpacing;l=0==o?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(r[o-1])+u,this.direction.setPosition(a,l,s),this._validatePositionAndContinue(a,s,l)}var c=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[e],c,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var r=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(n-r<this.options.hierarchical.nodeSpacing){var i=r+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,i)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.body.nodes[e[n]]);return t}},{key:"_getDistribution",value:function(){var e,t,n={};for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){t=this.body.nodes[e];var r=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(t,r),void 0===n[r]&&(n[r]={}),n[r][e]=t}return n}},{key:"_getActiveEdges",value:function(e){var t=this,n=[];return $r.forEach(e.edges,(function(e){-1!==t.body.edgeIndices.indexOf(e.id)&&n.push(e)})),n}},{key:"_getHubSizes",value:function(){var e=this,t={},n=this.body.nodeIndices;$r.forEach(n,(function(n){var r=e.body.nodes[n],i=e._getActiveEdges(r).length;t[i]=!0}));var r=[];return $r.forEach(t,(function(e){r.push(+e)})),Su.sort(r,(function(e,t){return t-e})),r}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(t,n){e.hierarchical.levelDownstream(t,n)},n=this._getHubSizes(),r=function(r){var i=n[r];return 0===i?"break":void $r.forEach(e.body.nodeIndices,(function(n){var r=e.body.nodes[n];i===e._getActiveEdges(r).length&&e._crawlNetwork(t,n)}))},i=0;i<n.length&&"break"!==r(i);++i);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork((function(t,n,r){var i=e.hierarchical.levels[t.id];void 0===i&&(i=e.hierarchical.levels[t.id]=1e5);var o=(pu.cloneOptions(t,"node"),pu.cloneOptions(n,"node"),void pu.cloneOptions(r,"edge"));e.hierarchical.levels[n.id]=i+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e=this;this._crawlNetwork((function(t,n,r){var i,o=e.hierarchical.levels[t.id];e.hierarchical.levels[n.id];i=r,$r.forEach(e.body.edges,(function(e){if(e.toId===i.fromId&&e.fromId===i.toId)return!0})),void 0===o&&(o=e.hierarchical.levels[t.id]=1e4),e.hierarchical.levels[n.id]=r.toId==n.id?o+1:o-1})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork((function(t,n){e.hierarchical.levels[n.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,n.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},n=1<arguments.length?arguments[1]:void 0,r={},i=function n(i,o){if(void 0===r[i.id]){e.hierarchical.setTreeIndex(i,o),r[i.id]=!0;for(var a,s,l=e._getActiveEdges(i),u=0;u<l.length;u++)!0===(s=l[u]).connected&&(a=s.toId==i.id?s.from:s.to,i.id!=a.id&&(t(i,a,s),n(a,o)))}};if(void 0===n){for(var o,a=0,s=0;s<this.body.nodeIndices.length;s++)if(o=this.body.nodeIndices[s],void 0===r[o]){var l=this.body.nodes[o];i(l,a),a+=1}}else{var u=this.body.nodes[n];if(void 0===u)return void console.error("Node not found:",n);i(u)}}},{key:"_shiftBlock",value:function(e,t){var n=this,r={};!function e(i){if(!r[i]){r[i]=!0,n.direction.shift(i,t);var o=n.hierarchical.childrenReference[i];if(void 0!==o)for(var a=0;a<o.length;a++)e(o[a])}}(e)}},{key:"_findCommonParent",value:function(e,t){var n=this,r={};return function e(t,r){var i=n.hierarchical.parentReference[r];if(void 0!==i)for(var o,a=0;a<i.length;a++)t[o=i[a]]=!0,e(t,o)}(r,e),function e(t,r){var i=n.hierarchical.parentReference[r];if(void 0!==i)for(var o,a=0;a<i.length;a++){if(void 0!==t[o=i[a]])return{foundParent:o,withChild:r};var s=e(t,o);if(null!==s.foundParent)return s}return{foundParent:null,withChild:r}}(r,t)}},{key:"setDirectionStrategy",value:function(){var e="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=e?new Au(this):new Ou(this)}},{key:"_getCenterPosition",value:function(e){for(var t,n=1e9,r=-1e9,i=0;i<e.length;i++){if(t=void 0,void 0!==e[i].id)t=e[i];else{var o=e[i];t=this.body.nodes[o]}var s=this.direction.getPosition(t);n=l(n,s),r=a(r,s)}return.5*(n+r)}}]),c}(),Du=function(){function e(t,n,r){var i=this;zs(this,e),this.body=t,this.canvas=n,this.selectionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},$r.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){i._clean()})),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return Bs(e,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,n){void 0!==t&&(this.options.locale=void 0===t.locale?n.locale:t.locale,this.options.locales=void 0===t.locales?n.locales:t.locales),void 0!==e&&("boolean"==typeof e?this.options.enabled=e:(this.options.enabled=!0,$r.deepExtend(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var e=this.selectionHandler._getSelectedNodeCount(),t=this.selectionHandler._getSelectedEdgeCount(),n=this.options.locales[this.options.locale],r=!1;!1!==this.options.addNode&&(this._createAddNodeButton(n),r=!0),!1!==this.options.addEdge&&(!0===r?this._createSeperator(1):r=!0,this._createAddEdgeButton(n)),1===e&&"function"==typeof this.options.editNode?(!0===r?this._createSeperator(2):r=!0,this._createEditNodeButton(n)):1===t&&0===e&&!1!==this.options.editEdge&&(!0===r?this._createSeperator(3):r=!0,this._createEditEdgeButton(n)),0!==e+t&&(0<e&&!1!==this.options.deleteNode?(!0===r&&this._createSeperator(4),this._createDeleteButton(n)):0===e&&!1!==this.options.deleteEdge&&(!0===r&&this._createSeperator(4),this._createDeleteButton(n))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler._getSelectedNode();if(void 0===t)this.showManipulatorToolbar();else{if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var n=$r.deepExtend({},t.options,!1);if(n.x=t.x,n.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,(function(t){null!==t&&void 0!==t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==$s(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var t=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(t.from.x,t.from.y),r=this._getNewTargetNode(t.to.x,t.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(r.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(e){var i=t.edgeType.findBorderPositions(e);!1===n.selected&&(n.x=i.from.x,n.y=i.from.y),!1===r.selected&&(r.x=i.to.x,r.y=i.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var i=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(i.from,i.to)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),r=void 0;if(0<t.length){for(var i=0;i<t.length;i++)if(!0===this.body.nodes[t[i]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(r=this.options.deleteNode)}else 0<n.length&&"function"==typeof this.options.deleteEdge&&(r=this.options.deleteEdge);if("function"==typeof r){if(2!==r.length)throw new Error("The function for delete does not support two arguments (data, callback)");r({nodes:t,edges:n},(function(t){null!==t&&void 0!==t&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var n=$r.deepExtend({},this.options.controlNodeStyle);n.id="targetNode"+$r.randomUUID(),n.hidden=!1,n.physics=!1,n.x=e,n.y=t;var r=this.body.functions.createNode(n);return r.shape.boundingBox={left:e,right:e,top:t,bottom:t},r}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},$r.recursiveDOMDelete(this.editModeDiv);var e=this.options.locales[this.options.locale],t=this._createButton("editMode","vis-button vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&($r.recursiveDOMDelete(this.editModeDiv),$r.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),$r.recursiveDOMDelete(this.manipulationDiv),$r.recursiveDOMDelete(this.editModeDiv),$r.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t=this._createButton("addNode","vis-button vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(e){var t=this._createButton("addEdge","vis-button vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(e){var t=this._createButton("editNode","vis-button vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(e){var t=this._createButton("editEdge","vis-button vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(e){var t=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",n=this._createButton("delete",t,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(e){var t=this._createButton("back","vis-button vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("div"),this.manipulationDOM[e+"Div"].className=t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=r,this.manipulationDOM[e+"Label"].innerHTML=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",e))}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,n)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(e,t){var n=new Ps(e,{});yu.onTouch(n,t),this.manipulationHammers.push(n)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var t=this.body.edgeIndices.indexOf(this.temporaryIds.edges[e]);-1!==t&&this.body.edgeIndices.splice(t,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){delete this.body.nodes[this.temporaryIds.nodes[n]];var r=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[n]);-1!==r&&this.body.nodeIndices.splice(r,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=$r.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],r=this.body.nodes[this.temporaryIds.nodes[1]],i=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(t),a=r.isOverlappingWith(t);!0===o?(this.selectedControlNode=n,i.edgeType.from=n):!0===a&&(this.selectedControlNode=r,i.edgeType.to=r),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(t);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y;else{var r=t.x-this.lastTouch.x,i=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+r,y:this.lastTouch.translation.y+i}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),r=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var i=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=i.length-1;0<=a;a--)if(i[a]!==this.selectedControlNode.id){o=this.body.nodes[i[a]];break}if(void 0===o||void 0===this.selectedControlNode)r.updateEdgeType(),this.body.emitter.emit("restorePhysics");else if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var s=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===s.id?this._performEditEdge(o.id,r.to.id):this._performEditEdge(r.from.id,o.id)}this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if(100<(new Date).valueOf()-this.touchTime){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=$r.extend({},this.body.view.translation);var t=this.lastTouch,n=this.selectionHandler.getNodeAt(t);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var r=this._getNewTargetNode(n.x,n.y);this.body.nodes[r.id]=r,this.body.nodeIndices.push(r.id);var i=this.body.functions.createEdge({id:"connectionEdge"+$r.randomUUID(),from:n.id,to:r.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[i.id]=i,this.body.edgeIndices.push(i.id),this.temporaryIds.nodes.push(r.id),this.temporaryIds.edges.push(i.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var i=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=i.length-1;0<=a;a--)if(-1===this.temporaryIds.nodes.indexOf(i[a])){o=this.body.nodes[i[a]];break}if(e.controlEdge={from:r,to:o?o.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragging",e,t),void 0!==this.temporaryIds.nodes[0]){var s=this.body.nodes[this.temporaryIds.nodes[0]];s.x=this.canvas._XconvertDOMtoCanvas(t.x),s.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else{var l=t.x-this.lastTouch.x,u=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+l,y:this.lastTouch.translation.y+u}}}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),r=void 0;void 0!==this.temporaryIds.edges[0]&&(r=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var i=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=i.length-1;0<=a;a--)if(-1===this.temporaryIds.nodes.indexOf(i[a])){o=this.body.nodes[i[a]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[r]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(r,o.id)),e.controlEdge={from:r,to:o?o.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var t=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",e,t,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,n={id:$r.randomUUID(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"!=typeof this.options.addNode)this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar();else{if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,(function(e){null!==e&&void 0!==e&&"addNode"===t.inMode&&t.body.data.nodes.getDataSet().add(e),t.showManipulatorToolbar()}))}}},{key:"_performAddEdge",value:function(e,t){var n=this,r={from:e,to:t};if("function"!=typeof this.options.addEdge)this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else{if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(r,(function(e){null!==e&&void 0!==e&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}}},{key:"_performEditEdge",value:function(e,t){var n=this,r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges._data[this.edgeBeingEditedId].label},i=this.options.editEdge;if("object"===$s(i)&&(i=i.editWithoutDrag),"function"!=typeof i)this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else{if(2!==i.length)throw new Error("The function for edit does not support two arguments (data, callback)");i(r,(function(e){null===e||void 0===e||"editEdge"!==n.inMode?(n.body.edges[r.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}}}]),e}(),Pu={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},Ru=function(){var e=Math.atan2,t=Math.cos,n=Math.sin,r=Math.sqrt,i=Math.PI,o=Math.min;function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;zs(this,a),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Bs(a,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"==typeof e)return Pu[e]}},{key:"setColor",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if("none"!==e){var n,r=this._isColorString(e);if(void 0!==r&&(e=r),!0===$r.isString(e)){if(!0===$r.isValidRGB(e)){var i=e.substr(4).substr(0,e.length-5).split(",");n={r:i[0],g:i[1],b:i[2],a:1}}else if(!0===$r.isValidRGBA(e)){var o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===$r.isValidHex(e)){var a=$r.hexToRGB(e);n={r:a.r,g:a.g,b:a.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var s=void 0===e.a?"1.0":e.a;n={r:e.r,g:e.g,b:e.b,a:s}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(n,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];!0===t&&(this.previousColor=$r.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout((function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0===this.previousColor?alert("There is no last color to load..."):this.setColor(this.previousColor,!1)}},{key:"_setColor",value:function(e){var r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];!0===r&&(this.initialColor=$r.extend({},e)),this.color=e;var o=$r.RGBToHSV(e.r,e.g,e.b),a=2*i,s=this.r*o.s,l=this.centerCoordinates.x+s*n(a*o.h),u=this.centerCoordinates.y+s*t(a*o.h);this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=$r.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;var n=$r.HSVToRGB(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,t=$r.RGBToHSV(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var r=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,r,i),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new Ps(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),yu.onTouch(this.hammer,(function(t){e._moveSelector(t)})),this.hammer.on("tap",(function(t){e._moveSelector(t)})),this.hammer.on("panstart",(function(t){e._moveSelector(t)})),this.hammer.on("panmove",(function(t){e._moveSelector(t)})),this.hammer.on("panend",(function(t){e._moveSelector(t)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var r,o,a,s,l=this.colorPickerCanvas.clientWidth,u=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,l,u),this.centerCoordinates={x:.5*l,y:.5*u},this.r=.49*l;var c,f=2*i/360,d=1/this.r;for(a=0;360>a;a++)for(s=0;s<this.r;s++)r=this.centerCoordinates.x+s*n(f*a),o=this.centerCoordinates.y+s*t(f*a),c=$r.HSVToRGB(a*(1/360),s*d,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(r-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,l,u)}this.generated=!0}},{key:"_moveSelector",value:function(a){var s=this.colorPickerDiv.getBoundingClientRect(),l=a.center.x-s.left,u=a.center.y-s.top,c=.5*this.colorPickerDiv.clientHeight,f=.5*this.colorPickerDiv.clientWidth,d=l-f,h=u-c,p=e(d,h),m=.98*o(r(d*d+h*h),f),g=t(p)*m+c,v=n(p)*m+f;this.colorPickerSelector.style.top=g-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=v-.5*this.colorPickerSelector.clientWidth+"px";var y=p/(2*i);y=0>y?y+1:y;var b=m/this.r,x=$r.RGBToHSV(this.color.r,this.color.g,this.color.b);x.h=y,x.s=b;var _=$r.HSVToRGB(x.h,x.s,x.v);_.a=this.color.a,this.color=_,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),a}(),Lu=function(){var e=Math.ceil;function t(e,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;zs(this,t),this.parent=e,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},$r.extend(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Ru(i),this.wrapper=void 0}return Bs(t,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;if("string"==typeof e)this.options.filter=e;else if(e instanceof Array)this.options.filter=e.join();else if("object"===$s(e)){if(null==e)throw new TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==e.filter&&(this.options.filter=e.filter),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else"boolean"==typeof e?(this.options.filter=!0,t=e):"function"==typeof e&&(this.options.filter=e,t=!0);!1===this.options.filter&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=this.options.filter,t=0,n=!1;for(var r in this.configureOptions)this.configureOptions.hasOwnProperty(r)&&(this.allowCreation=!1,n=!1,"function"==typeof e?n=(n=e(r,[]))||this._handleObject(this.configureOptions[r],[r],!0):(!0===e||-1!==e.indexOf(r))&&(n=!0),!1!==n&&(this.allowCreation=!0,0<t&&this._makeItem([]),this._makeHeader(r),this._handleObject(this.configureOptions[r],[r])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,n=0;n<e.length;n++){if(void 0===t[e[n]]){t=void 0;break}t=t[e[n]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){t.appendChild(e)})),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerHTML=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=document.createElement("div");return r.className="vis-configuration vis-config-label vis-config-s"+t.length,r.innerHTML=!0===n?"<i><b>"+e+":</b></i>":e+":",r}},{key:"_makeDropdown",value:function(e,t,n){var r=document.createElement("select");r.className="vis-configuration vis-config-select";var i=0;void 0!==t&&-1!==e.indexOf(t)&&(i=e.indexOf(t));for(var o,a=0;a<e.length;a++)(o=document.createElement("option")).value=e[a],a==i&&(o.selected="selected"),o.innerHTML=e[a],r.appendChild(o);var s=this;r.onchange=function(){s._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,r)}},{key:"_makeRange",value:function(t,n,r){var i=t[0],o=t[1],a=t[2],s=t[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=o,l.max=a}catch(t){}l.step=s;var u="",c=0;if(void 0!==n){var f=1.2;0>n&&n*f<o?(l.min=e(n*f),c=l.min,u="range increased"):n/f<o&&(l.min=e(n/f),c=l.min,u="range increased"),n*f>a&&1!==a&&(l.max=e(n*f),c=l.max,u="range increased"),l.value=n}else l.value=i;var d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=l.value;var h=this;l.onchange=function(){d.value=this.value,h._update(+this.value,r)},l.oninput=function(){d.value=this.value};var p=this._makeLabel(r[r.length-1],r),m=this._makeItem(r,p,l,d);""!=u&&this.popupHistory[m]!==c&&(this.popupHistory[m]=c,this._setupPopup(u,m))}},{key:"_makeButton",value:function(){var e=this;if(!0===this.options.showButton){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerHTML="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerHTML=e,r.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout((function(){e.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=setTimeout((function(){e._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(e,t,n){var r=document.createElement("input");r.type="checkbox",r.className="vis-configuration vis-config-checkbox",r.checked=e,void 0!==t&&(r.checked=t,t!==e&&("object"===$s(e)?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));var i=this;r.onchange=function(){i._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}},{key:"_makeTextInput",value:function(e,t,n){var r=document.createElement("input");r.type="text",r.className="vis-configuration vis-config-text",r.value=t,t!==e&&this.changedOptions.push({path:n,value:t});var i=this;r.onchange=function(){i._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,r)}},{key:"_makeColorField",value:function(e,t,n){var r=this,i=e[1],o=document.createElement("div");"none"===(t=void 0===t?i:t)?o.className="vis-configuration vis-config-colorBlock none":(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t),t=void 0===t?i:t,o.onclick=function(){r._showColorPicker(t,o,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,o)}},{key:"_showColorPicker",value:function(e,t,n){var r=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback((function(e){var i="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";t.style.backgroundColor=i,r._update(i,n)})),this.colorPicker.setCloseCallback((function(){t.onclick=function(){r._showColorPicker(e,t,n)}}))}},{key:"_handleObject",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=!1,i=this.options.filter,o=!1;for(var a in e)if(e.hasOwnProperty(a)){r=!0;var s=e[a],l=$r.copyAndExtendArray(t,a);if("function"==typeof i&&(!1===(r=i(a,t))&&!(s instanceof Array)&&"string"!=typeof s&&"boolean"!=typeof s&&s instanceof Object&&(this.allowCreation=!1,r=this._handleObject(s,l,!0),this.allowCreation=!1===n)),!1!==r){o=!0;var u=this._getValue(l);if(s instanceof Array)this._handleArray(s,u,l);else if("string"==typeof s)this._makeTextInput(s,u,l);else if("boolean"==typeof s)this._makeCheckbox(s,u,l);else if(s instanceof Object){var c=!0;if(-1!==t.indexOf("physics")&&this.moduleOptions.physics.solver!==a&&(c=!1),1==c)if(void 0!==s.enabled){var f=$r.copyAndExtendArray(l,"enabled"),d=this._getValue(f);if(!0===d){var h=this._makeLabel(a,l,!0);this._makeItem(l,h),o=this._handleObject(s,l)||o}else this._makeCheckbox(s,d,l)}else{var p=this._makeLabel(a,l,!0);this._makeItem(l,p),o=this._handleObject(s,l)||o}}else console.error("dont know how to handle",s,a,l)}}return o}},{key:"_handleArray",value:function(e,t,n){"string"==typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):"string"==typeof e[0]?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):"number"==typeof e[0]&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:+t}))}},{key:"_update",value:function(e,t){var n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=n;e="false"!==(e="true"===e||e)&&e;for(var i=0;i<t.length;i++)"global"!==t[i]&&(void 0===r[t[i]]&&(r[t[i]]={}),i==t.length-1?r[t[i]]=e:r=r[t[i]]);return n}},{key:"_printOptions",value:function(){var e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(e,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),t}(),Iu="string",ju="boolean",zu="number",Fu="object",Bu=["arrow","circle","bar"],Uu={configure:{enabled:{boolean:ju},filter:{boolean:ju,string:Iu,array:"array",function:"function"},container:{dom:"dom"},showButton:{boolean:ju},__type__:{object:Fu,boolean:ju,string:Iu,array:"array",function:"function"}},edges:{arrows:{to:{enabled:{boolean:ju},scaleFactor:{number:zu},type:{string:Bu},__type__:{object:Fu,boolean:ju}},middle:{enabled:{boolean:ju},scaleFactor:{number:zu},type:{string:Bu},__type__:{object:Fu,boolean:ju}},from:{enabled:{boolean:ju},scaleFactor:{number:zu},type:{string:Bu},__type__:{object:Fu,boolean:ju}},__type__:{string:["from","to","middle"],object:Fu}},arrowStrikethrough:{boolean:ju},background:{enabled:{boolean:ju},color:{string:Iu},size:{number:zu},dashes:{boolean:ju,array:"array"},__type__:{object:Fu,boolean:ju}},chosen:{label:{boolean:ju,function:"function"},edge:{boolean:ju,function:"function"},__type__:{object:Fu,boolean:ju}},color:{color:{string:Iu},highlight:{string:Iu},hover:{string:Iu},inherit:{string:["from","to","both"],boolean:ju},opacity:{number:zu},__type__:{object:Fu,string:Iu}},dashes:{boolean:ju,array:"array"},font:{color:{string:Iu},size:{number:zu},face:{string:Iu},background:{string:Iu},strokeWidth:{number:zu},strokeColor:{string:Iu},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:zu},multi:{boolean:ju,string:Iu},bold:{color:{string:Iu},size:{number:zu},face:{string:Iu},mod:{string:Iu},vadjust:{number:zu},__type__:{object:Fu,string:Iu}},boldital:{color:{string:Iu},size:{number:zu},face:{string:Iu},mod:{string:Iu},vadjust:{number:zu},__type__:{object:Fu,string:Iu}},ital:{color:{string:Iu},size:{number:zu},face:{string:Iu},mod:{string:Iu},vadjust:{number:zu},__type__:{object:Fu,string:Iu}},mono:{color:{string:Iu},size:{number:zu},face:{string:Iu},mod:{string:Iu},vadjust:{number:zu},__type__:{object:Fu,string:Iu}},__type__:{object:Fu,string:Iu}},hidden:{boolean:ju},hoverWidth:{function:"function",number:zu},label:{string:Iu,undefined:"undefined"},labelHighlightBold:{boolean:ju},length:{number:zu,undefined:"undefined"},physics:{boolean:ju},scaling:{min:{number:zu},max:{number:zu},label:{enabled:{boolean:ju},min:{number:zu},max:{number:zu},maxVisible:{number:zu},drawThreshold:{number:zu},__type__:{object:Fu,boolean:ju}},customScalingFunction:{function:"function"},__type__:{object:Fu}},selectionWidth:{function:"function",number:zu},selfReferenceSize:{number:zu},shadow:{enabled:{boolean:ju},color:{string:Iu},size:{number:zu},x:{number:zu},y:{number:zu},__type__:{object:Fu,boolean:ju}},smooth:{enabled:{boolean:ju},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:zu},forceDirection:{string:["horizontal","vertical","none"],boolean:ju},__type__:{object:Fu,boolean:ju}},title:{string:Iu,undefined:"undefined"},width:{number:zu},widthConstraint:{maximum:{number:zu},__type__:{object:Fu,boolean:ju,number:zu}},value:{number:zu,undefined:"undefined"},__type__:{object:Fu}},groups:{useDefaultGroups:{boolean:ju},__any__:"get from nodes, will be overwritten below",__type__:{object:Fu}},interaction:{dragNodes:{boolean:ju},dragView:{boolean:ju},hideEdgesOnDrag:{boolean:ju},hideEdgesOnZoom:{boolean:ju},hideNodesOnDrag:{boolean:ju},hover:{boolean:ju},keyboard:{enabled:{boolean:ju},speed:{x:{number:zu},y:{number:zu},zoom:{number:zu},__type__:{object:Fu}},bindToWindow:{boolean:ju},__type__:{object:Fu,boolean:ju}},multiselect:{boolean:ju},navigationButtons:{boolean:ju},selectable:{boolean:ju},selectConnectedEdges:{boolean:ju},hoverConnectedEdges:{boolean:ju},tooltipDelay:{number:zu},zoomView:{boolean:ju},zoomSpeed:{number:zu},__type__:{object:Fu}},layout:{randomSeed:{undefined:"undefined",number:zu},improvedLayout:{boolean:ju},clusterThreshold:{number:zu},hierarchical:{enabled:{boolean:ju},levelSeparation:{number:zu},nodeSpacing:{number:zu},treeSpacing:{number:zu},blockShifting:{boolean:ju},edgeMinimization:{boolean:ju},parentCentralization:{boolean:ju},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:Fu,boolean:ju}},__type__:{object:Fu}},manipulation:{enabled:{boolean:ju},initiallyActive:{boolean:ju},addNode:{boolean:ju,function:"function"},addEdge:{boolean:ju,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Fu,boolean:ju,function:"function"}},deleteNode:{boolean:ju,function:"function"},deleteEdge:{boolean:ju,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:Fu,boolean:ju}},nodes:{borderWidth:{number:zu},borderWidthSelected:{number:zu,undefined:"undefined"},brokenImage:{string:Iu,undefined:"undefined"},chosen:{label:{boolean:ju,function:"function"},node:{boolean:ju,function:"function"},__type__:{object:Fu,boolean:ju}},color:{border:{string:Iu},background:{string:Iu},highlight:{border:{string:Iu},background:{string:Iu},__type__:{object:Fu,string:Iu}},hover:{border:{string:Iu},background:{string:Iu},__type__:{object:Fu,string:Iu}},__type__:{object:Fu,string:Iu}},fixed:{x:{boolean:ju},y:{boolean:ju},__type__:{object:Fu,boolean:ju}},font:{align:{string:Iu},color:{string:Iu},size:{number:zu},face:{string:Iu},background:{string:Iu},strokeWidth:{number:zu},strokeColor:{string:Iu},vadjust:{number:zu},multi:{boolean:ju,string:Iu},bold:{color:{string:Iu},size:{number:zu},face:{string:Iu},mod:{string:Iu},vadjust:{number:zu},__type__:{object:Fu,string:Iu}},boldital:{color:{string:Iu},size:{number:zu},face:{string:Iu},mod:{string:Iu},vadjust:{number:zu},__type__:{object:Fu,string:Iu}},ital:{color:{string:Iu},size:{number:zu},face:{string:Iu},mod:{string:Iu},vadjust:{number:zu},__type__:{object:Fu,string:Iu}},mono:{color:{string:Iu},size:{number:zu},face:{string:Iu},mod:{string:Iu},vadjust:{number:zu},__type__:{object:Fu,string:Iu}},__type__:{object:Fu,string:Iu}},group:{string:Iu,number:zu,undefined:"undefined"},heightConstraint:{minimum:{number:zu},valign:{string:Iu},__type__:{object:Fu,boolean:ju,number:zu}},hidden:{boolean:ju},icon:{face:{string:Iu},code:{string:Iu},size:{number:zu},color:{string:Iu},__type__:{object:Fu}},id:{string:Iu,number:zu},image:{selected:{string:Iu,undefined:"undefined"},unselected:{string:Iu,undefined:"undefined"},__type__:{object:Fu,string:Iu}},imagePadding:{top:{number:zu},right:{number:zu},bottom:{number:zu},left:{number:zu},__type__:{object:Fu,number:zu}},label:{string:Iu,undefined:"undefined"},labelHighlightBold:{boolean:ju},level:{number:zu,undefined:"undefined"},margin:{top:{number:zu},right:{number:zu},bottom:{number:zu},left:{number:zu},__type__:{object:Fu,number:zu}},mass:{number:zu},physics:{boolean:ju},scaling:{min:{number:zu},max:{number:zu},label:{enabled:{boolean:ju},min:{number:zu},max:{number:zu},maxVisible:{number:zu},drawThreshold:{number:zu},__type__:{object:Fu,boolean:ju}},customScalingFunction:{function:"function"},__type__:{object:Fu}},shadow:{enabled:{boolean:ju},color:{string:Iu},size:{number:zu},x:{number:zu},y:{number:zu},__type__:{object:Fu,boolean:ju}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:ju,array:"array"},borderRadius:{number:zu},interpolation:{boolean:ju},useImageSize:{boolean:ju},useBorderWithImage:{boolean:ju},__type__:{object:Fu}},size:{number:zu},title:{string:Iu,dom:"dom",undefined:"undefined"},value:{number:zu,undefined:"undefined"},widthConstraint:{minimum:{number:zu},maximum:{number:zu},__type__:{object:Fu,boolean:ju,number:zu}},x:{number:zu},y:{number:zu},__type__:{object:Fu}},physics:{enabled:{boolean:ju},barnesHut:{gravitationalConstant:{number:zu},centralGravity:{number:zu},springLength:{number:zu},springConstant:{number:zu},damping:{number:zu},avoidOverlap:{number:zu},__type__:{object:Fu}},forceAtlas2Based:{gravitationalConstant:{number:zu},centralGravity:{number:zu},springLength:{number:zu},springConstant:{number:zu},damping:{number:zu},avoidOverlap:{number:zu},__type__:{object:Fu}},repulsion:{centralGravity:{number:zu},springLength:{number:zu},springConstant:{number:zu},nodeDistance:{number:zu},damping:{number:zu},__type__:{object:Fu}},hierarchicalRepulsion:{centralGravity:{number:zu},springLength:{number:zu},springConstant:{number:zu},nodeDistance:{number:zu},damping:{number:zu},__type__:{object:Fu}},maxVelocity:{number:zu},minVelocity:{number:zu},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:ju},iterations:{number:zu},updateInterval:{number:zu},onlyDynamicEdges:{boolean:ju},fit:{boolean:ju},__type__:{object:Fu,boolean:ju}},timestep:{number:zu},adaptiveTimestep:{boolean:ju},__type__:{object:Fu,boolean:ju}},autoResize:{boolean:ju},clickToUse:{boolean:ju},locale:{string:Iu},locales:{__any__:{any:"any"},__type__:{object:Fu}},height:{string:Iu},width:{string:Iu},__type__:{object:Fu}};Uu.groups.__any__=Uu.nodes,Uu.manipulation.controlNodeStyle=Uu.nodes;var Hu={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,1,1,1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}},qu=Object.freeze({allOptions:Uu,configureOptions:Hu}),Vu=function(){var e=Math.min;function t(){zs(this,t)}return Bs(t,[{key:"getDistances",value:function(t,n,r){for(var i={},o=t.edges,a=0;a<n.length;a++){var s={};i[n[a]]=s;for(var l=0;l<n.length;l++)s[n[l]]=a==l?0:1e9}for(var u,c=0;c<r.length;c++)!0===(u=o[r[c]]).connected&&void 0!==i[u.fromId]&&void 0!==i[u.toId]&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1);for(var f=n.length,d=0;d<f;d++)for(var h=n[d],p=i[h],m=0;m<f-1;m++)for(var g=n[m],v=i[g],y=m+1;y<f;y++){var b=n[y],x=i[b],_=e(v[b],v[h]+p[b]);v[b]=_,x[g]=_}return i}}]),t}(),Wu=function(){var e=Math.sqrt,t=Math.pow,n=Math.max,r=Math.min;function i(e,t,n){zs(this,i),this.body=e,this.springLength=t,this.springConstant=n,this.distanceSolver=new Vu}return Bs(i,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],o=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var a=0,s=n(1e3,r(10*this.body.nodeIndices.length,6e3)),l=1e9,u=0,c=0,f=0,d=0,h=0;l>.01&&a<s;){a+=1;var p=this._getHighestEnergyNode(i),m=Xs(p,4);for(u=m[0],l=m[1],c=m[2],f=m[3],d=l,h=0;d>1&&h<5;){h+=1,this._moveNode(u,c,f);var g=this._getEnergy(u),v=Xs(g,3);d=v[0],c=v[1],f=v[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t,n=this.body.nodeIndices,r=this.body.nodes,i=0,o=n[0],a=0,s=0,l=0;l<n.length;l++)if(!1===r[t=n[l]].predefinedPosition||!0===r[t].isCluster&&!0===e||!0===r[t].options.fixed.x||!0===r[t].options.fixed.y){var u=this._getEnergy(t),c=Xs(u,3),f=c[0],d=c[1],h=c[2];i<f&&(i=f,o=t,a=d,s=h)}return[o,i,a,s]}},{key:"_getEnergy",value:function(n){var r=Xs(this.E_sums[n],2),i=r[0],o=r[1];return[e(t(i,2)+t(o,2)),i,o]}},{key:"_moveNode",value:function(e,n,r){for(var i,o=this.body.nodeIndices,a=this.body.nodes,s=0,l=0,u=0,c=a[e].x,f=a[e].y,d=this.K_matrix[e],h=this.L_matrix[e],p=0;p<o.length;p++)if((i=o[p])!==e){var m=a[i].x,g=a[i].y,v=d[i],y=h[i],b=1/t(t(c-m,2)+t(f-g,2),1.5);s+=v*(1-y*t(f-g,2)*b),l+=v*(y*(c-m)*(f-g)*b),u+=v*(1-y*t(c-m,2)*b)}var x=s,_=l,w=n,k=(w/x+r/_)/(_/x-u/_);a[e].x+=-(_*k+w)/x,a[e].y+=k,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var r=0;r<t.length;r++){this.L_matrix[t[r]]={};for(var i=0;i<t.length;i++)this.L_matrix[t[r]][t[i]]=n*e[t[r]][t[i]]}}},{key:"_createK_matrix",value:function(e){var n=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(var i=0;i<n.length;i++){this.K_matrix[n[i]]={};for(var o=0;o<n.length;o++)this.K_matrix[n[i]][n[o]]=r*t(e[n[i]][n[o]],-2)}}},{key:"_createE_matrix",value:function(){var n=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<n.length;i++)this.E_matrix[n[i]]=[];for(var o=0;o<n.length;o++){for(var a,s=n[o],l=r[s].x,u=r[s].y,c=0,f=0,d=o;d<n.length;d++)if((a=n[d])!==s){var h=r[a].x,p=r[a].y,m=1/e(t(l-h,2)+t(u-p,2));this.E_matrix[s][d]=[this.K_matrix[s][a]*(l-h-this.L_matrix[s][a]*(l-h)*m),this.K_matrix[s][a]*(u-p-this.L_matrix[s][a]*(u-p)*m)],this.E_matrix[a][o]=this.E_matrix[s][d],c+=this.E_matrix[s][d][0],f+=this.E_matrix[s][d][1]}this.E_sums[s]=[c,f]}}},{key:"_updateE_matrix",value:function(n){for(var r,i=this.body.nodeIndices,o=this.body.nodes,a=this.E_matrix[n],s=this.K_matrix[n],l=this.L_matrix[n],u=o[n].x,c=o[n].y,f=0,d=0,h=0;h<i.length;h++)if((r=i[h])!==n){var p=a[h],m=p[0],g=p[1],v=o[r].x,y=o[r].y,b=1/e(t(u-v,2)+t(c-y,2)),x=s[r]*(u-v-l[r]*(u-v)*b),_=s[r]*(c-y-l[r]*(c-y)*b);a[h]=[x,_],f+=x,d+=_;var w=this.E_sums[r];w[0]+=x-m,w[1]+=_-g}this.E_sums[n]=[f,d]}}]),i}();function Yu(e,t,n){var r=this;if(!(this instanceof Yu))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:js,clickToUse:!1},$r.extend(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new Hs((function(){return r.body.emitter.emit("_requestRedraw")})),this.groups=new qs,this.canvas=new bu(this.body),this.selectionHandler=new Mu(this.body,this.canvas),this.interactionHandler=new ku(this.body,this.canvas,this.selectionHandler),this.view=new xu(this.body,this.canvas),this.renderer=new vu(this.body,this.canvas),this.physics=new hu(this.body),this.layoutEngine=new Nu(this.body),this.clustering=new gu(this.body),this.manipulation=new Du(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new Dl(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new iu(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Wu(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(t)}Hi(Yu.prototype),Yu.prototype.setOptions=function(e){var t=this;if(null===e&&(e=void 0),void 0!==e){if(!0===Ol.validate(e,Uu)&&console.log("%cErrors have been found in the supplied options object.",Al),$r.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,e),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(!this.configurator&&(this.configurator=new Lu(this,this.body.container,Hu,this.canvas.pixelRatio)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};$r.deepExtend(n.nodes,this.nodesHandler.options),$r.deepExtend(n.edges,this.edgesHandler.options),$r.deepExtend(n.layout,this.layoutEngine.options),$r.deepExtend(n.interaction,this.selectionHandler.options),$r.deepExtend(n.interaction,this.renderer.options),$r.deepExtend(n.interaction,this.interactionHandler.options),$r.deepExtend(n.manipulation,this.manipulation.options),$r.deepExtend(n.physics,this.physics.options),$r.deepExtend(n.global,this.canvas.options),$r.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}void 0===e.clickToUse?this.body.emitter.emit("activate"):!0===e.clickToUse?void 0===this.activator&&(this.activator=new Is(this.canvas.frame),this.activator.on("change",(function(){t.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Yu.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],e)e.hasOwnProperty(n)&&(this.clustering._isClusteredNode(n)||!1!==e[n].options.hidden||this.body.nodeIndices.push(e[n].id));for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=e[i.fromId],a=e[i.toId];!this.clustering._isClusteredEdge(r)&&!1===i.options.hidden&&void 0!==o&&void 0!==a&&!1===o.options.hidden&&!1===a.options.hidden&&this.body.edgeIndices.push(i.id)}},Yu.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",(function(){e.edgesHandler._updateState(),e.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")}))},Yu.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=_o.DOTToGraph(e.dot);this.setData(t)}else if(e&&e.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=ko(e.gephi);this.setData(n)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Yu.prototype.destroy=function(){for(var e in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&delete this.body.nodes[e];for(var t in this.body.edges)this.body.edges.hasOwnProperty(t)&&delete this.body.edges[t];$r.recursiveDOMDelete(this.body.container)},Yu.prototype._updateValueRange=function(e){var t,n=void 0,r=void 0,i=0;for(t in e)if(e.hasOwnProperty(t)){var o=e[t].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),r=void 0===r?o:Math.max(o,r),i+=o)}if(void 0!==n&&void 0!==r)for(t in e)e.hasOwnProperty(t)&&e[t].setValueRange(n,r,i)},Yu.prototype.isActive=function(){return!this.activator||this.activator.active},Yu.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Yu.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Yu.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Yu.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Yu.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Yu.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Yu.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Yu.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Yu.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Yu.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Yu.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Yu.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Yu.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Yu.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Yu.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Yu.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Yu.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Yu.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Yu.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Yu.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Yu.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Yu.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Yu.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Yu.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Yu.prototype.getConnectedNodes=function(e){return void 0===this.body.nodes[e]?this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments):this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments)},Yu.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Yu.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Yu.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Yu.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Yu.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Yu.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Yu.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},Yu.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},Yu.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},Yu.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},Yu.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Yu.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Yu.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},Yu.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Yu.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Yu.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Yu.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Yu.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Yu.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Yu.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Yu.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e};var Gu=Ui((function(e,t){t.prepareElements=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t].redundant=e[t].used,e[t].used=[])},t.cleanupElements=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t].redundant){for(var n=0;n<e[t].redundant.length;n++)e[t].redundant[n].parentNode.removeChild(e[t].redundant[n]);e[t].redundant=[]}},t.resetElements=function(e){t.prepareElements(e),t.cleanupElements(e),t.prepareElements(e)},t.getSVGElement=function(e,t,n){var r;return t.hasOwnProperty(e)?0<t[e].redundant.length?(r=t[e].redundant[0],t[e].redundant.shift()):(r=document.createElementNS("http://www.w3.org/2000/svg",e),n.appendChild(r)):(r=document.createElementNS("http://www.w3.org/2000/svg",e),t[e]={used:[],redundant:[]},n.appendChild(r)),t[e].used.push(r),r},t.getDOMElement=function(e,t,n,r){var i;return t.hasOwnProperty(e)?0<t[e].redundant.length?(i=t[e].redundant[0],t[e].redundant.shift()):(i=document.createElement(e),void 0===r?n.appendChild(i):n.insertBefore(i,r)):(i=document.createElement(e),t[e]={used:[],redundant:[]},void 0===r?n.appendChild(i):n.insertBefore(i,r)),t[e].used.push(i),i},t.drawPoint=function(e,n,r,i,o,a){var s;if("circle"==r.style?((s=t.getSVGElement("circle",i,o)).setAttributeNS(null,"cx",e),s.setAttributeNS(null,"cy",n),s.setAttributeNS(null,"r",.5*r.size)):((s=t.getSVGElement("rect",i,o)).setAttributeNS(null,"x",e-.5*r.size),s.setAttributeNS(null,"y",n-.5*r.size),s.setAttributeNS(null,"width",r.size),s.setAttributeNS(null,"height",r.size)),void 0!==r.styles&&s.setAttributeNS(null,"style",r.styles),s.setAttributeNS(null,"class",r.className+" vis-point"),a){var l=t.getSVGElement("text",i,o);a.xOffset&&(e+=a.xOffset),a.yOffset&&(n+=a.yOffset),a.content&&(l.textContent=a.content),a.className&&l.setAttributeNS(null,"class",a.className+" vis-label"),l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",n)}return s},t.drawBar=function(e,n,r,i,o,a,s,l){if(0!=i){0>i&&(n-=i*=-1);var u=t.getSVGElement("rect",a,s);u.setAttributeNS(null,"x",e-.5*r),u.setAttributeNS(null,"y",n),u.setAttributeNS(null,"width",r),u.setAttributeNS(null,"height",i),u.setAttributeNS(null,"class",o),l&&u.setAttributeNS(null,"style",l)}}})),Xu=Gu.prepareElements,$u=Gu.cleanupElements,Zu=Gu.resetElements,Ku=Gu.getSVGElement,Ju=Gu.getDOMElement,Qu=Gu.drawPoint,ec=Gu.drawBar,tc=Object.freeze({default:Gu,__moduleExports:Gu,prepareElements:Xu,cleanupElements:$u,resetElements:Zu,getSVGElement:Ku,getDOMElement:Ju,drawPoint:Qu,drawBar:ec}),nc=Ui((function(e){var t=Math.round,n=Math.pow,r=Math.max,i=Math.abs,o=Math.min,a=Math.floor,s=Math.ceil;!function(t,n){e.exports=n()}(0,(function(){function l(){return pt.apply(null,arguments)}function u(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function c(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function f(e){return void 0===e}function d(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function p(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e}function v(e,t,n,r){return Oe(e,t,n,r,!0).utc()}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function b(e){if(null==e._isValid){var t=y(e),n=mt.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function x(e){var t=v(NaN);return null==e?y(t).userInvalidated=!0:g(y(t),e),t}function _(e,t){var n,r,i;if(f(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),f(t._i)||(e._i=t._i),f(t._f)||(e._f=t._f),f(t._l)||(e._l=t._l),f(t._strict)||(e._strict=t._strict),f(t._tzm)||(e._tzm=t._tzm),f(t._isUTC)||(e._isUTC=t._isUTC),f(t._offset)||(e._offset=t._offset),f(t._pf)||(e._pf=y(t)),f(t._locale)||(e._locale=t._locale),0<gt.length)for(n=0;n<gt.length;n++)f(i=t[r=gt[n]])||(e[r]=i);return e}function w(e){_(this,e),this._d=new Date(null==e._d?NaN:e._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===vt&&(vt=!0,l.updateOffset(this),vt=!1)}function k(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function M(e){return 0>e?s(e)||0:a(e)}function T(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=M(t)),n}function S(e,t,n){var r,a=o(e.length,t.length),s=i(e.length-t.length),l=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&T(e[r])!==T(t[r]))&&l++;return l+s}function E(e){!1===l.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function A(e,t){var n=!0;return g((function(){if(null!=l.deprecationHandler&&l.deprecationHandler(null,e),n){for(var r,i=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var a in r+="\n["+o+"] ",arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[o];i.push(r)}E(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}function O(e,t){null!=l.deprecationHandler&&l.deprecationHandler(e,t),yt[e]||(E(t),yt[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e,t){var n,r=g({},e);for(n in t)m(t,n)&&(c(e[n])&&c(t[n])?(r[n]={},g(r[n],e[n]),g(r[n],t[n])):null==t[n]?delete r[n]:r[n]=t[n]);for(n in e)m(e,n)&&!m(t,n)&&c(e[n])&&(r[n]=g({},r[n]));return r}function D(e){null!=e&&this.set(e)}function P(e,t){var n=e.toLowerCase();xt[n]=xt[n+"s"]=xt[t]=e}function R(e){return"string"==typeof e?xt[e]||xt[e.toLowerCase()]:void 0}function L(e){var t,n,r={};for(n in e)m(e,n)&&((t=R(n))&&(r[t]=e[n]));return r}function I(e,t){_t[e]=t}function j(e,t,o){var a=""+i(e);return(0<=e?o?"+":"":"-")+n(10,r(0,t-a.length)).toString().substr(1)+a}function z(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Tt[e]=i),t&&(Tt[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(Tt[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function F(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e,t){return e.isValid()?(t=U(t,e.localeData()),Mt[t]=Mt[t]||function(e){var t,n,r=e.match(wt);for(t=0,n=r.length;t<n;t++)r[t]=Tt[r[t]]?Tt[r[t]]:F(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=C(r[i])?r[i].call(t,e):r[i];return o}}(t),Mt[t](e)):e.localeData().invalidDate()}function U(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(kt.lastIndex=0;0<=r&&kt.test(e);)e=e.replace(kt,n),kt.lastIndex=0,r-=1;return e}function H(e,t,n){Ht[e]=C(t)?t:function(e){return e&&n?n:t}}function q(e,t){return m(Ht,e)?Ht[e](t._strict,t._locale):new RegExp(function(e){return V(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}(e))}function V(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),d(t)&&(r=function(e,n){n[t]=T(e)}),n=0;n<e.length;n++)qt[e[n]]=r}function Y(e,t){W(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function G(e,t,n){null!=t&&m(qt,e)&&qt[e](t,n._a,n,e)}function X(e){return $(e)?366:365}function $(e){return 0==e%4&&0!=e%100||0==e%400}function Z(e,t){return function(n){return null==n?K(this,e):(J(this,e,n),l.updateOffset(this,t),this)}}function K(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&$(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Q(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Q(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?$(e)?29:28:31-n%7%2}function ee(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)o=v([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1===(i=Vt.call(this._shortMonthsParse,a))?null:i:-1===(i=Vt.call(this._longMonthsParse,a))?null:i:"MMM"===t?-1!==(i=Vt.call(this._shortMonthsParse,a))?i:-1===(i=Vt.call(this._longMonthsParse,a))?null:i:-1!==(i=Vt.call(this._longMonthsParse,a))?i:-1===(i=Vt.call(this._shortMonthsParse,a))?null:i}function te(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=T(t);else if(!d(t=e.localeData().monthsParse(t)))return e;return n=o(e.date(),Q(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ne(e){return null==e?K(this,"Month"):(te(this,e),l.updateOffset(this,!0),this)}function re(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=v([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=V(r[t]),i[t]=V(i[t]);for(t=0;24>t;t++)o[t]=V(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ie(e,t,n,r,i,o,a){var s;return 100>e&&0<=e?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}function oe(e){var t;if(100>e&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function ae(e,t,n){var r=7+t-n;return-((7+oe(e,0,r).getUTCDay()-t)%7)+r-1}function se(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+ae(e,r,i);return 0>=s?a=X(o=e-1)+s:s>X(e)?(o=e+1,a=s-X(e)):(o=e,a=s),{year:o,dayOfYear:a}}function le(e,t,n){var r,i,o=ae(e.year(),t,n),s=a((e.dayOfYear()-o-1)/7)+1;return 1>s?r=s+ue(i=e.year()-1,t,n):s>ue(e.year(),t,n)?(r=s-ue(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function ue(e,t,n){var r=ae(e,t,n),i=ae(e+1,t,n);return(X(e)-r+i)/7}function ce(e,t){return e.slice(t,7).concat(e.slice(0,t))}function fe(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)o=v([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1===(i=Vt.call(this._weekdaysParse,a))?null:i:"ddd"===t?-1===(i=Vt.call(this._shortWeekdaysParse,a))?null:i:-1===(i=Vt.call(this._minWeekdaysParse,a))?null:i:"dddd"===t?-1!==(i=Vt.call(this._weekdaysParse,a))?i:-1!==(i=Vt.call(this._shortWeekdaysParse,a))?i:-1===(i=Vt.call(this._minWeekdaysParse,a))?null:i:"ddd"===t?-1!==(i=Vt.call(this._shortWeekdaysParse,a))?i:-1!==(i=Vt.call(this._weekdaysParse,a))?i:-1===(i=Vt.call(this._minWeekdaysParse,a))?null:i:-1!==(i=Vt.call(this._minWeekdaysParse,a))?i:-1!==(i=Vt.call(this._weekdaysParse,a))?i:-1===(i=Vt.call(this._shortWeekdaysParse,a))?null:i}function de(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],u=[];for(t=0;7>t;t++)n=v([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),u.push(r),u.push(i),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)s[t]=V(s[t]),l[t]=V(l[t]),u[t]=V(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function he(){return this.hours()%12||12}function pe(e,t){z(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function me(e,t){return t._meridiemParse}function ge(e){return e?e.toLowerCase().replace("_","-"):e}function ve(t){var n=null;if(!Jt[t]&&e&&e.exports)try{n=$t._abbr,function(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}(),ye(n)}catch(t){}return Jt[t]}function ye(e,t){var n;return e&&((n=f(t)?xe(e):be(e,t))?$t=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),$t._abbr}function be(e,t){if(null!==t){var n,r=Kt;if(t.abbr=e,null!=Jt[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Jt[e]._config;else if(null!=t.parentLocale)if(null!=Jt[t.parentLocale])r=Jt[t.parentLocale]._config;else{if(null==(n=ve(t.parentLocale)))return Qt[t.parentLocale]||(Qt[t.parentLocale]=[]),Qt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Jt[e]=new D(N(r,t)),Qt[e]&&Qt[e].forEach((function(e){be(e.name,e.config)})),ye(e),Jt[e]}return delete Jt[e],null}function xe(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $t;if(!u(e)){if(t=ve(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=ge(e[o]).split("-")).length,n=(n=ge(e[o+1]))?n.split("-"):null;0<t;){if(r=ve(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}o++}return $t}(e)}function _e(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=0>n[1]||11<n[1]?1:1>n[2]||n[2]>Q(n[0],n[1])?2:0>n[3]||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:0>n[4]||59<n[4]?4:0>n[5]||59<n[5]?5:0>n[6]||999<n[6]?6:-1,y(e)._overflowDayOfYear&&(0>t||2<t)&&(t=2),y(e)._overflowWeeks&&-1===t&&(t=7),y(e)._overflowWeekday&&-1===t&&(t=8),y(e).overflow=t),e}function we(e,t,n){return null==e?null==t?n:t:e}function ke(e){var t,n,r,i,o,a=[];if(!e._d){for(r=function(e){var t=new Date(l.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,i,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=we(t.GG,e._a[0],le(Ce(),1,4).year),r=we(t.W,1),(1>(i=we(t.E,1))||7<i)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=le(Ce(),o,a);n=we(t.gg,e._a[0],u.year),r=we(t.w,u.week),null==t.d?null==t.e?i=o:(i=t.e+o,(0>t.e||6<t.e)&&(l=!0)):(0>(i=t.d)||6<i)&&(l=!0)}1>r||r>ue(n,o,a)?y(e)._overflowWeeks=!0:null==l?(s=se(n,r,i,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear):y(e)._overflowWeekday=!0}(e),null!=e._dayOfYear&&(o=we(e._a[0],r[0]),(e._dayOfYear>X(o)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=oe(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?oe:ie).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function Me(e){var t,n,r,i,o,a,s=e._i,l=en.exec(s)||tn.exec(s);if(l){for(y(e).iso=!0,t=0,n=rn.length;t<n;t++)if(rn[t][1].exec(l[1])){i=rn[t][0],r=!1!==rn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=on.length;t<n;t++)if(on[t][1].exec(l[3])){o=(l[2]||" ")+on[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!nn.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),Ee(e)}else e._isValid=!1}function Te(e){var t=parseInt(e,10);return 49>=t?2e3+t:999>=t?1900+t:t}function Se(e){var t=sn.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(t){var n=function(e,t,n,r,i,o){var a=[Te(e),Gt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Xt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return ln[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(t[8],t[9],t[10]),e._d=oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Ee(e){if(e._f!==l.ISO_8601)if(e._f!==l.RFC_2822){e._a=[],y(e).empty=!0;var t,n,r,i,o,a=""+e._i,s=a.length,u=0;for(r=U(e._f,e._locale).match(wt)||[],t=0;t<r.length;t++)i=r[t],(n=(a.match(q(i,e))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&y(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),Tt[i]?(n?y(e).empty=!1:y(e).unusedTokens.push(i),G(i,n,e)):e._strict&&!n&&y(e).unusedTokens.push(i);y(e).charsLeftOver=s-u,0<a.length&&y(e).unusedInput.push(a),12>=e._a[3]&&!0===y(e).bigHour&&0<e._a[3]&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null==e.meridiemHour?null==e.isPM?t:((r=e.isPM(n))&&12>t&&(t+=12),r||12!==t||(t=0),t):e.meridiemHour(t,n)}(e._locale,e._a[3],e._meridiem),ke(e),_e(e)}else Se(e);else Me(e)}function Ae(e){var t=e._i,n=e._f;return e._locale=e._locale||xe(e._l),null===t||void 0===n&&""===t?x({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new w(_e(t)):(h(t)?e._d=t:u(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ee(t),b(t)&&(o+=y(t).charsLeftOver,o+=10*y(t).unusedTokens.length,y(t).score=o,(null==r||o<r)&&(r=o,n=t));g(e,n||t)}(e):n?Ee(e):function(e){var t=e._i;f(t)?e._d=new Date(l.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=an.exec(e._i);null===t?(Me(e),!1===e._isValid&&(delete e._isValid,Se(e),!1===e._isValid&&(delete e._isValid,l.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):u(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),ke(e)):c(t)?function(e){if(!e._d){var t=L(e._i);e._a=p([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ke(e)}}(e):d(t)?e._d=new Date(t):l.createFromInputFallback(e)}(e),b(e)||(e._d=null),e))}function Oe(e,t,n,r,i){var o={};return(!0===n||!1===n)&&(r=n,n=void 0),(c(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||u(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,function(e){var t=new w(_e(Ae(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(o)}function Ce(e,t,n,r){return Oe(e,t,n,r,!1)}function Ne(e,t){var n,r;if(1===t.length&&u(t[0])&&(t=t[0]),!t.length)return Ce();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function De(e){var t=L(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Vt.call(fn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<fn.length;++r)if(e[fn[r]]){if(n)return!1;parseFloat(e[fn[r]])!==T(e[fn[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=xe(),this._bubble()}function Pe(e){return e instanceof De}function Re(e){return 0>e?-1*t(-1*e):t(e)}function Le(e,t){z(e,0,0,(function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)}))}function Ie(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(dn)||["-",0,0],i=60*r[1]+T(r[2]);return 0===i?0:"+"===r[0]?i:-i}function je(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(k(e)||h(e)?e.valueOf():Ce(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),l.updateOffset(n,!1),n):Ce(e).local()}function ze(e){return 15*-t(e._d.getTimezoneOffset()/15)}function Fe(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Be(e,t){var n,r,i,o=e,a=null;return Pe(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:d(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=hn.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:T(a[2])*n,h:T(a[3])*n,m:T(a[4])*n,s:T(a[5])*n,ms:T(Re(1e3*a[6]))*n}):(a=pn.exec(e))?(n="-"===a[1]?-1:1,o={y:Ue(a[2],n),M:Ue(a[3],n),w:Ue(a[4],n),d:Ue(a[5],n),h:Ue(a[6],n),m:Ue(a[7],n),s:Ue(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=je(t,e),e.isBefore(t)?n=He(e,t):((n=He(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Ce(o.from),Ce(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new De(o),Pe(e)&&m(e,"_locale")&&(r._locale=e._locale),r}function Ue(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function He(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qe(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ve(this,Be(n="string"==typeof n?+n:n,r),e),this}}function Ve(e,t,n,r){var i=t._milliseconds,o=Re(t._days),a=Re(t._months);e.isValid()&&(r=null==r||r,a&&te(e,K(e,"Month")+a*n),o&&J(e,"Date",K(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&l.updateOffset(e,o||a))}function We(e,t){var n,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return 0>t-i?n=(t-i)/(i-e.clone().add(r-1,"months")):n=(t-i)/(e.clone().add(r+1,"months")-i),-(r+n)||0}function Ye(e){var t;return void 0===e?this._locale._abbr:(null!=(t=xe(e))&&(this._locale=t),this)}function Ge(){return this._locale}function Xe(e,t){return(e%t+t)%t}function $e(e,t,n){return 100>e&&0<=e?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function Ze(e,t,n){return 100>e&&0<=e?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function Ke(e,t){z(0,[e,e.length],0,t)}function Je(e,t,n,r,i){var o;return null==e?le(this,r,i).year:(t>(o=ue(e,r,i))&&(t=o),Qe.call(this,e,t,n,r,i))}function Qe(e,t,n,r,i){var o=se(e,t,n,r,i),a=oe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function et(e,t){t[6]=T(1e3*("0."+e))}function tt(e){return e}function nt(e,t,n,r){var i=xe(),o=v().set(r,t);return i[n](o,e)}function rt(e,t,n){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return nt(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=nt(e,r,n,"month");return i}function it(e,t,n,r){"boolean"==typeof e?(d(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,d(t)&&(n=t,t=void 0),t=t||"");var i=xe(),o=e?i._week.dow:0;if(null!=n)return nt(t,(n+o)%7,r,"day");var a,s=[];for(a=0;7>a;a++)s[a]=nt(t,(a+o)%7,r,"day");return s}function ot(e,t,n,r){var i=Be(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function at(e){return 0>e?a(e):s(e)}function st(e){return 4800*e/146097}function lt(e){return 146097*e/4800}function ut(e){return function(){return this.as(e)}}function ct(e){return function(){return this.isValid()?this._data[e]:NaN}}function ft(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function dt(e){return(0<e)-(0>e)||+e}function ht(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Vn(this._milliseconds)/1e3,r=Vn(this._days),i=Vn(this._months);e=M(n/60),t=M(e/60),n%=60,e%=60;var o=M(i/12),a=i%=12,s=r,l=t,u=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=0>f?"-":"",h=dt(this._months)===dt(f)?"":"-",p=dt(this._days)===dt(f)?"":"-",m=dt(this._milliseconds)===dt(f)?"":"-";return d+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?p+s+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var pt,mt;mt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var gt=l.momentProperties=[],vt=!1,yt={};l.suppressDeprecationWarnings=!1,l.deprecationHandler=null;var bt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)m(e,t)&&n.push(t);return n},xt={},_t={},wt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mt={},Tt={},St=/\d/,Et=/\d\d/,At=/\d{3}/,Ot=/\d{4}/,Ct=/[+-]?\d{6}/,Nt=/\d\d?/,Dt=/\d\d\d\d?/,Pt=/\d\d\d\d\d\d?/,Rt=/\d{1,3}/,Lt=/\d{1,4}/,It=/[+-]?\d{1,6}/,jt=/\d+/,zt=/[+-]?\d+/,Ft=/Z|[+-]\d\d:?\d\d/gi,Bt=/Z|[+-]\d\d(?::?\d\d)?/gi,Ut=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ht={},qt={};z("Y",0,0,(function(){var e=this.year();return 9999>=e?""+e:"+"+e})),z(0,["YY",2],0,(function(){return this.year()%100})),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),P("year","y"),I("year",1),H("Y",zt),H("YY",Nt,Et),H("YYYY",Lt,Ot),H("YYYYY",It,Ct),H("YYYYYY",It,Ct),W(["YYYYY","YYYYYY"],0),W("YYYY",(function(e,t){t[0]=2===e.length?l.parseTwoDigitYear(e):T(e)})),W("YY",(function(e,t){t[0]=l.parseTwoDigitYear(e)})),W("Y",(function(e,t){t[0]=parseInt(e,10)})),l.parseTwoDigitYear=function(e){return T(e)+(68<T(e)?1900:2e3)};var Vt,Wt=Z("FullYear",!0);Vt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",(function(){return this.month()+1})),z("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),z("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),P("month","M"),I("month",8),H("M",Nt),H("MM",Nt,Et),H("MMM",(function(e,t){return t.monthsShortRegex(e)})),H("MMMM",(function(e,t){return t.monthsRegex(e)})),W(["M","MM"],(function(e,t){t[1]=T(e)-1})),W(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null==i?y(n).invalidMonth=e:t[1]=i}));var Yt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),I("week",5),I("isoWeek",5),H("w",Nt),H("ww",Nt,Et),H("W",Nt),H("WW",Nt,Et),Y(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=T(e)})),z("d",0,"do","day"),z("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),z("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),z("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),I("day",11),I("weekday",11),I("isoWeekday",11),H("d",Nt),H("e",Nt),H("E",Nt),H("dd",(function(e,t){return t.weekdaysMinRegex(e)})),H("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),H("dddd",(function(e,t){return t.weekdaysRegex(e)})),Y(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null==i?y(n).invalidWeekday=e:t.d=i})),Y(["d","e","E"],(function(e,t,n,r){t[r]=T(e)}));var Xt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];z("H",["HH",2],0,"hour"),z("h",["hh",2],0,he),z("k",["kk",2],0,(function(){return this.hours()||24})),z("hmm",0,0,(function(){return""+he.apply(this)+j(this.minutes(),2)})),z("hmmss",0,0,(function(){return""+he.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),z("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),z("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),pe("a",!0),pe("A",!1),P("hour","h"),I("hour",13),H("a",me),H("A",me),H("H",Nt),H("h",Nt),H("k",Nt),H("HH",Nt,Et),H("hh",Nt,Et),H("kk",Nt,Et),H("hmm",Dt),H("hmmss",Pt),H("Hmm",Dt),H("Hmmss",Pt),W(["H","HH"],3),W(["k","kk"],(function(e,t){var n=T(e);t[3]=24===n?0:n})),W(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),W(["h","hh"],(function(e,t,n){t[3]=T(e),y(n).bigHour=!0})),W("hmm",(function(e,t,n){var r=e.length-2;t[3]=T(e.substr(0,r)),t[4]=T(e.substr(r)),y(n).bigHour=!0})),W("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=T(e.substr(0,r)),t[4]=T(e.substr(r,2)),t[5]=T(e.substr(i)),y(n).bigHour=!0})),W("Hmm",(function(e,t){var n=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n))})),W("Hmmss",(function(e,t){var n=e.length-4,r=e.length-2;t[3]=T(e.substr(0,n)),t[4]=T(e.substr(n,2)),t[5]=T(e.substr(r))}));var $t,Zt=Z("Hours",!0),Kt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:Gt,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:Xt,meridiemParse:/[ap]\.?m?\.?/i},Jt={},Qt={},en=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nn=/Z|[+-]\d\d(?::?\d\d)?/,rn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],on=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],an=/^\/?Date\((\-?\d+)/i,sn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ln={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};l.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),l.ISO_8601=function(){},l.RFC_2822=function(){};var un=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ce.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:x()})),cn=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Ce.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:x()})),fn=["year","quarter","month","week","day","hour","minute","second","millisecond"];Le("Z",":"),Le("ZZ",""),H("Z",Bt),H("ZZ",Bt),W(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Ie(Bt,e)}));var dn=/([\+\-]|\d\d)/gi;l.updateOffset=function(){};var hn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,pn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Be.fn=De.prototype,Be.invalid=function(){return Be(NaN)};var mn=qe(1,"add"),gn=qe(-1,"subtract");l.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",l.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var vn=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));z(0,["gg",2],0,(function(){return this.weekYear()%100})),z(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ke("gggg","weekYear"),Ke("ggggg","weekYear"),Ke("GGGG","isoWeekYear"),Ke("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),I("weekYear",1),I("isoWeekYear",1),H("G",zt),H("g",zt),H("GG",Nt,Et),H("gg",Nt,Et),H("GGGG",Lt,Ot),H("gggg",Lt,Ot),H("GGGGG",It,Ct),H("ggggg",It,Ct),Y(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=T(e)})),Y(["gg","GG"],(function(e,t,n,r){t[r]=l.parseTwoDigitYear(e)})),z("Q",0,"Qo","quarter"),P("quarter","Q"),I("quarter",7),H("Q",St),W("Q",(function(e,t){t[1]=3*(T(e)-1)})),z("D",["DD",2],"Do","date"),P("date","D"),I("date",9),H("D",Nt),H("DD",Nt,Et),H("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),W(["D","DD"],2),W("Do",(function(e,t){t[2]=T(e.match(Nt)[0])}));var yn=Z("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),I("dayOfYear",4),H("DDD",Rt),H("DDDD",At),W(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=T(e)})),z("m",["mm",2],0,"minute"),P("minute","m"),I("minute",14),H("m",Nt),H("mm",Nt,Et),W(["m","mm"],4);var bn=Z("Minutes",!1);z("s",["ss",2],0,"second"),P("second","s"),I("second",15),H("s",Nt),H("ss",Nt,Et),W(["s","ss"],5);var xn,_n=Z("Seconds",!1);for(z("S",0,0,(function(){return~~(this.millisecond()/100)})),z(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),z(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),z(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),z(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),z(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),z(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),P("millisecond","ms"),I("millisecond",16),H("S",Rt,St),H("SS",Rt,Et),H("SSS",Rt,At),xn="SSSS";9>=xn.length;xn+="S")H(xn,jt);for(xn="S";9>=xn.length;xn+="S")W(xn,et);var wn=Z("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var kn=w.prototype;kn.add=mn,kn.calendar=function(e,t){var n=e||Ce(),r=je(n,this).startOf("day"),i=l.calendarFormat(this,r)||"sameElse",o=t&&(C(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Ce(n)))},kn.clone=function(){return new w(this)},kn.diff=function(e,t,n){var r,i,o;return this.isValid()?(r=je(e,this)).isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),o="year"===(t=R(t))?We(this,r)/12:"month"===t?We(this,r):"quarter"===t?We(this,r)/3:"second"===t?(this-r)/1e3:"minute"===t?(this-r)/6e4:"hour"===t?(this-r)/36e5:"day"===t?(this-r-i)/864e5:"week"===t?(this-r-i)/6048e5:this-r,n?o:M(o)):NaN:NaN},kn.endOf=function(e){var t;if(void 0===(e=R(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Ze:$e;return"year"===e?t=n(this.year()+1,0,1)-1:"quarter"===e?t=n(this.year(),this.month()-this.month()%3+3,1)-1:"month"===e?t=n(this.year(),this.month()+1,1)-1:"week"===e?t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:"isoWeek"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:"day"===e||"date"===e?t=n(this.year(),this.month(),this.date()+1)-1:"hour"===e?(t=this._d.valueOf(),t+=36e5-Xe(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):"minute"===e?(t=this._d.valueOf(),t+=6e4-Xe(t,6e4)-1):"second"===e&&(t=this._d.valueOf(),t+=1e3-Xe(t,1e3)-1),this._d.setTime(t),l.updateOffset(this,!0),this},kn.format=function(e){e||(e=this.isUtc()?l.defaultFormatUtc:l.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)},kn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ce(e).isValid())?Be({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.fromNow=function(e){return this.from(Ce(),e)},kn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ce(e).isValid())?Be({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.toNow=function(e){return this.to(Ce(),e)},kn.get=function(e){return C(this[e=R(e)])?this[e]():this},kn.invalidAt=function(){return y(this).overflow},kn.isAfter=function(e,t){var n=k(e)?e:Ce(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},kn.isBefore=function(e,t){var n=k(e)?e:Ce(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},kn.isBetween=function(e,t,n,r){var i=k(e)?e:Ce(e),o=k(t)?t:Ce(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))},kn.isSame=function(e,t){var n,r=k(e)?e:Ce(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=R(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},kn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},kn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},kn.isValid=function(){return b(this)},kn.lang=vn,kn.locale=Ye,kn.localeData=Ge,kn.max=cn,kn.min=un,kn.parsingFlags=function(){return g({},y(this))},kn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:_t[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=L(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(C(this[e=R(e)]))return this[e](t);return this},kn.startOf=function(e){var t;if(void 0===(e=R(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Ze:$e;return"year"===e?t=n(this.year(),0,1):"quarter"===e?t=n(this.year(),this.month()-this.month()%3,1):"month"===e?t=n(this.year(),this.month(),1):"week"===e?t=n(this.year(),this.month(),this.date()-this.weekday()):"isoWeek"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):"day"===e||"date"===e?t=n(this.year(),this.month(),this.date()):"hour"===e?(t=this._d.valueOf(),t-=Xe(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)):"minute"===e?(t=this._d.valueOf(),t-=Xe(t,6e4)):"second"===e&&(t=this._d.valueOf(),t-=Xe(t,1e3)),this._d.setTime(t),l.updateOffset(this,!0),this},kn.subtract=gn,kn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},kn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},kn.toDate=function(){return new Date(this.valueOf())},kn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||9999<n.year()?B(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},kn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},kn.toJSON=function(){return this.isValid()?this.toISOString():null},kn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},kn.unix=function(){return a(this.valueOf()/1e3)},kn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},kn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},kn.year=Wt,kn.isLeapYear=function(){return $(this.year())},kn.weekYear=function(e){return Je.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},kn.isoWeekYear=function(e){return Je.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},kn.quarter=kn.quarters=function(e){return null==e?s((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},kn.month=ne,kn.daysInMonth=function(){return Q(this.year(),this.month())},kn.week=kn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},kn.isoWeek=kn.isoWeeks=function(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},kn.weeksInYear=function(){var e=this.localeData()._week;return ue(this.year(),e.dow,e.doy)},kn.isoWeeksInYear=function(){return ue(this.year(),1,4)},kn.date=yn,kn.day=kn.days=function(e){if(!this.isValid())return null==e?NaN:this;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:(e=function(e,t){return"string"==typeof e?isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10):e}(e,this.localeData()),this.add(e-t,"d"))},kn.weekday=function(e){if(!this.isValid())return null==e?NaN:this;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},kn.isoWeekday=function(e){if(!this.isValid())return null==e?NaN:this;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},kn.dayOfYear=function(e){var n=t((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?n:this.add(e-n,"d")},kn.hour=kn.hours=Zt,kn.minute=kn.minutes=bn,kn.second=kn.seconds=_n,kn.millisecond=kn.milliseconds=wn,kn.utcOffset=function(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null==e?NaN:this;if(null!=e){if("string"!=typeof e)16>i(e)&&!n&&(e*=60);else if(null===(e=Ie(Bt,e)))return this;return!this._isUTC&&t&&(r=ze(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Ve(this,Be(e-o,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:ze(this)},kn.utc=function(e){return this.utcOffset(0,e)},kn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(ze(this),"m")),this},kn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ie(Ft,this._i);null==e?this.utcOffset(0,!0):this.utcOffset(e)}return this},kn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ce(e).utcOffset():0,0==(this.utcOffset()-e)%60)},kn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},kn.isLocal=function(){return!!this.isValid()&&!this._isUTC},kn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},kn.isUtc=Fe,kn.isUTC=Fe,kn.zoneAbbr=function(){return this._isUTC?"UTC":""},kn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},kn.dates=A("dates accessor is deprecated. Use date instead.",yn),kn.months=A("months accessor is deprecated. Use month instead",ne),kn.years=A("years accessor is deprecated. Use year instead",Wt),kn.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null==e?-this.utcOffset():("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this)})),kn.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!f(this._isDSTShifted))return this._isDSTShifted;var e={};if(_(e,this),(e=Ae(e))._a){var t=e._isUTC?v(e._a):Ce(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var Mn=D.prototype;Mn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return C(r)?r.call(t,n):r},Mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},Mn.invalidDate=function(){return this._invalidDate},Mn.ordinal=function(e){return this._ordinal.replace("%d",e)},Mn.preparse=tt,Mn.postformat=tt,Mn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return C(i)?i(e,t,n,r):i.replace(/%d/i,e)},Mn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)},Mn.set=function(e){var t,n;for(n in e)C(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Mn.months=function(e,t){return e?u(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Yt).test(t)?"format":"standalone"][e.month()]:u(this._months)?this._months:this._months.standalone},Mn.monthsShort=function(e,t){return e?u(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Yt.test(t)?"format":"standalone"][e.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Mn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return ee.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=v([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},Mn.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||re.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=Ut),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Mn.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||re.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=Ut),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Mn.week=function(e){return le(e,this._week.dow,this._week.doy).week},Mn.firstDayOfYear=function(){return this._week.doy},Mn.firstDayOfWeek=function(){return this._week.dow},Mn.weekdays=function(e,t){var n=u(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?ce(n,this._week.dow):e?n[e.day()]:n},Mn.weekdaysMin=function(e){return!0===e?ce(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Mn.weekdaysShort=function(e){return!0===e?ce(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Mn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return fe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=v([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},Mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=Ut),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||de.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Mn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ye("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===T(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),l.lang=A("moment.lang is deprecated. Use moment.locale instead.",ye),l.langData=A("moment.langData is deprecated. Use moment.localeData instead.",xe);var Tn=i,Sn=ut("ms"),En=ut("s"),An=ut("m"),On=ut("h"),Cn=ut("d"),Nn=ut("w"),Dn=ut("M"),Pn=ut("Q"),Rn=ut("y"),Ln=ct("milliseconds"),In=ct("seconds"),jn=ct("minutes"),zn=ct("hours"),Fn=ct("days"),Bn=ct("months"),Un=ct("years"),Hn=t,qn={ss:44,s:45,m:45,h:22,d:26,M:11},Vn=i,Wn=De.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var e=this._data;return this._milliseconds=Tn(this._milliseconds),this._days=Tn(this._days),this._months=Tn(this._months),e.milliseconds=Tn(e.milliseconds),e.seconds=Tn(e.seconds),e.minutes=Tn(e.minutes),e.hours=Tn(e.hours),e.months=Tn(e.months),e.years=Tn(e.years),this},Wn.add=function(e,t){return ot(this,e,t,1)},Wn.subtract=function(e,t){return ot(this,e,t,-1)},Wn.as=function(e){if(!this.isValid())return NaN;var n,r,i=this._milliseconds;if("month"===(e=R(e))||"quarter"===e||"year"===e)switch(n=this._days+i/864e5,r=this._months+st(n),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(n=this._days+t(lt(this._months)),e){case"week":return n/7+i/6048e5;case"day":return n+i/864e5;case"hour":return 24*n+i/36e5;case"minute":return 1440*n+i/6e4;case"second":return 86400*n+i/1e3;case"millisecond":return a(864e5*n)+i;default:throw new Error("Unknown unit "+e)}},Wn.asMilliseconds=Sn,Wn.asSeconds=En,Wn.asMinutes=An,Wn.asHours=On,Wn.asDays=Cn,Wn.asWeeks=Nn,Wn.asMonths=Dn,Wn.asQuarters=Pn,Wn.asYears=Rn,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12):NaN},Wn._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||0>=o&&0>=a&&0>=s||(o+=864e5*at(lt(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=M(o/1e3),l.seconds=e%60,t=M(e/60),l.minutes=t%60,n=M(t/60),l.hours=n%24,a+=M(n/24),s+=i=M(st(a)),a-=at(lt(i)),r=M(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},Wn.clone=function(){return Be(this)},Wn.get=function(e){return e=R(e),this.isValid()?this[e+"s"]():NaN},Wn.milliseconds=Ln,Wn.seconds=In,Wn.minutes=jn,Wn.hours=zn,Wn.days=Fn,Wn.weeks=function(){return M(this.days()/7)},Wn.months=Bn,Wn.years=Un,Wn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Be(e).abs(),i=Hn(r.as("s")),o=Hn(r.as("m")),a=Hn(r.as("h")),s=Hn(r.as("d")),l=Hn(r.as("M")),u=Hn(r.as("y")),c=i<=qn.ss&&["s",i]||i<qn.s&&["ss",i]||1>=o&&["m"]||o<qn.m&&["mm",o]||1>=a&&["h"]||a<qn.h&&["hh",a]||1>=s&&["d"]||s<qn.d&&["dd",s]||1>=l&&["M"]||l<qn.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=0<+e,c[4]=n,ft.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Wn.toISOString=ht,Wn.toString=ht,Wn.toJSON=ht,Wn.locale=Ye,Wn.localeData=Ge,Wn.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ht),Wn.lang=vn,z("X",0,0,"unix"),z("x",0,0,"valueOf"),H("x",zt),H("X",/[+-]?\d+(\.\d{1,3})?/),W("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),W("x",(function(e,t,n){n._d=new Date(T(e))})),l.version="2.24.0",function(e){pt=e}(Ce),l.fn=kn,l.min=function(){var e=[].slice.call(arguments,0);return Ne("isBefore",e)},l.max=function(){var e=[].slice.call(arguments,0);return Ne("isAfter",e)},l.now=function(){return Date.now?Date.now():+new Date},l.utc=v,l.unix=function(e){return Ce(1e3*e)},l.months=function(e,t){return rt(e,t,"months")},l.isDate=h,l.locale=ye,l.invalid=x,l.duration=Be,l.isMoment=k,l.weekdays=function(e,t,n){return it(e,t,n,"weekdays")},l.parseZone=function(){return Ce.apply(null,arguments).parseZone()},l.localeData=xe,l.isDuration=Pe,l.monthsShort=function(e,t){return rt(e,t,"monthsShort")},l.weekdaysMin=function(e,t,n){return it(e,t,n,"weekdaysMin")},l.defineLocale=be,l.updateLocale=function(e,t){if(null!=t){var n,r,i=Kt;null!=(r=ve(e))&&(i=r._config),(n=new D(t=N(i,t))).parentLocale=Jt[e],Jt[e]=n,ye(e)}else null!=Jt[e]&&(null==Jt[e].parentLocale?null!=Jt[e]&&delete Jt[e]:Jt[e]=Jt[e].parentLocale);return Jt[e]},l.locales=function(){return bt(Jt)},l.weekdaysShort=function(e,t,n){return it(e,t,n,"weekdaysShort")},l.normalizeUnits=R,l.relativeTimeRounding=function(e){return void 0===e?Hn:"function"==typeof e&&(Hn=e,!0)},l.relativeTimeThreshold=function(e,t){return void 0!==qn[e]&&(void 0===t?qn[e]:(qn[e]=t,"s"===e&&(qn.ss=t-1),!0))},l.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"},l.prototype=kn,l.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},l}))})),rc="undefined"!=typeof window&&window.moment||nc,ic=Object.freeze({default:rc,__moduleExports:rc}),oc={Images:Hs,dotparser:wo,gephiParser:Mo,allOptions:qu,convertDot:xo,convertGephi:ko},ac=Object.freeze({util:Zr,data:Bi,network:oc,DOMutil:tc,moment:ic,Hammer:Rs,keycharm:Eo,DataSet:ji,DataView:zi,Queue:Ci,Network:Yu});t.default=ac}.call(this,n(36))},4939:function(e,t,n){for(var r=n(4940),i=[],o={},a=0;a<256;a++)i[a]=(a+256).toString(16).substr(1),o[i[a]]=a;function s(e,t){var n=t||0,r=i;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var l=r(),u=[1|l[0],l[1],l[2],l[3],l[4],l[5]],c=16383&(l[6]<<8|l[7]),f=0,d=0;function h(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[i+a]=o[a];return t||s(o)}var p=h;p.v1=function(e,t,n){var r=t&&n||0,i=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:c,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),l=void 0!==e.nsecs?e.nsecs:d+1,h=a-f+(l-d)/1e4;if(h<0&&void 0===e.clockseq&&(o=o+1&16383),(h<0||a>f)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,d=l,c=o;var p=(1e4*(268435455&(a+=122192928e5))+l)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=a/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var g=e.node||u,v=0;v<6;v++)i[r+v]=g[v];return t||s(i)},p.v4=h,p.parse=function(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){i<16&&(t[r+i++]=o[e])}));i<16;)t[r+i++]=0;return t},p.unparse=s,e.exports=p},4940:function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(36))},4942:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},4943:function(e,t,n){},4946:function(e,t,n){"use strict";var r=n(2),i=n(1),o=n(0),a=n.n(o),s=(n(4),n(3)),l=n(6),u=n(38),c=a.a.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.component,c=void 0===l?"div":l,f=e.square,d=void 0!==f&&f,h=e.elevation,p=void 0===h?1:h,m=Object(r.a)(e,["classes","className","component","square","elevation"]);Object(u.a)();var g=Object(s.a)(n.root,n["elevation".concat(p)],o,!d&&n.rounded);return a.a.createElement(c,Object(i.a)({className:g,ref:t},m))}));t.a=Object(l.a)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),Object(i.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius}},t)}),{name:"MuiPaper"})(c)},4947:function(e,t,n){"use strict";var r=n(2),i=n(1),o=n(0),a=n.n(o),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="object"===("undefined"===typeof window?"undefined":s(window))&&"object"===("undefined"===typeof document?"undefined":s(document))&&9===document.nodeType,u=(n(37),n(13)),c=n(15),f=n(40),d=n(11),h={}.constructor;function p(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(p);if(e.constructor!==h)return e;var t={};for(var n in e)t[n]=p(e[n]);return t}function m(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=p(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var g=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n};function v(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=g(e[r]," ");else n=g(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var l=a[s];for(var u in l){var c=l[u];null!=c&&(r&&(r+="\n"),r+=""+y(u+": "+v(c)+";",o))}}else for(var f in a){var d=a[f];null!=d&&(r&&(r+="\n"),r+=""+y(f+": "+v(d)+";",o))}for(var h in t){var p=t[h];null!=p&&"fallbacks"!==h&&(r&&(r+="\n"),r+=""+y(h+": "+v(p)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),y(e+" {"+r,--o)+y("}",o)):r}var x=/([[\].#*$><+~=|^:(),"'`\s])/g,_="undefined"!==typeof CSS&&CSS.escape,w=function(e){return _?_(e):e.replace(x,"\\$1")},k=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),M=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,s=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l(Object(f.a)(Object(f.a)(i)),s),i.selectorText="."+w(i.id)),i}Object(c.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=v(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},Object(u.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(k),T={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new M(e,t,n)}},S={indent:1,children:!0},E=/@([\w-]+)/,A=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var r=e.match(E);for(var o in this.at=r?r[1]:"unknown",this.options=n,this.rules=new Z(Object(i.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=S),null==e.indent&&(e.indent=S.indent),null==e.children&&(e.children=S.children),!1===e.children)return this.key+" {}";var t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""},e}(),O=/@media|@supports\s+/,C={onCreateRule:function(e,t,n){return O.test(e)?new A(e,t,n):null}},N={indent:1,children:!0},D=/@keyframes\s+([\w-]+)/,P=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var r=e.match(D);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:w(s(this,a)),this.rules=new Z(Object(i.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(i.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=N),null==e.indent&&(e.indent=N.indent),null==e.children&&(e.children=N.children),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),R=/@keyframes\s+/,L=/\$([\w-]+)/g,I=function(e,t){return"string"===typeof e?e.replace(L,(function(e,n){return n in t?t[n]:e})):e},j=function(e,t,n){var r=e[t],i=I(r,n);i!==r&&(e[t]=i)},z={onCreateRule:function(e,t,n){return"string"===typeof e&&R.test(e)?new P(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&j(e,"animation-name",n.keyframes),"animation"in e&&j(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return I(e,r.keyframes);default:return e}}},F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(c.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(i.a)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(k),B={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new F(e,t,n):null}},U=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=b(this.key,this.style[n]),this.style[n+1]&&(t+="\n");return t}return b(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@font-face"===e?new U(e,t,n):null}},q=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),V={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new q(e,t,n):null}},W=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Y={"@charset":!0,"@import":!0,"@namespace":!0},G=[T,C,z,B,H,V,{onCreateRule:function(e,t,n){return e in Y?new W(e,t,n):null}}],X={process:!0},$={force:!0,process:!0},Z=function(){function e(e){this.map={},this.raw={},this.index=[],this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,o=r.parent,a=r.sheet,s=r.jss,l=r.Renderer,u=r.generateId,c=r.scoped,f=Object(i.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:u,scoped:c},n);this.raw[e]=t,e in this.classes&&(f.selector="."+w(this.classes[e]));var d=m(e,t,f);if(!d)return null;this.register(d);var h=void 0===f.index?this.index.length:f.index;return this.index.splice(h,0,d),d},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof M?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof P&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof M?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof P&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.onUpdate(t,this.get(e),n);else for(var r=0;r<this.index.length;r++)this.onUpdate(t,this.index[r],n)},t.onUpdate=function(t,n,r){void 0===r&&(r=X);var i=this.options,o=i.jss.plugins,a=i.sheet;if(n.rules instanceof e)n.rules.update(t,r);else{var s=n,l=s.style;if(o.onUpdate(t,n,a,r),r.process&&l&&l!==s.style){for(var u in o.onProcessStyle(s.style,s,a),s.style){var c=s.style[u];c!==l[u]&&s.prop(u,c,$)}for(var f in l){var d=s.style[f],h=l[f];null==d&&d!==h&&s.prop(f,null,$)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+="\n"),t+=o)}return t},e}(),K=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(i.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Z(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.toString=function(e){return this.rules.toString(e)},e}(),J=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Q=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Object(d.a)(t,["attached"]),i="",o=0;o<this.registry.length;o++){var a=this.registry[o];null!=n&&a.attached!==n||(i&&(i+="\n"),i+=a.toString(r))}return i},Object(u.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),ee="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),te="2f1acc6c3a606b082e5eef5e54414ffb";null==ee[te]&&(ee[te]=0);var ne=ee[te]++,re=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+ne+i+t:o+n.key+"-"+ne+(i?"-"+i:"")+"-"+t}},ie=function(e){var t;return function(){return t||(t=e()),t}};function oe(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}}function ae(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=v(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0}function se(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}}function le(e,t){return e.selectorText=t,e.selectorText===t}var ue=ie((function(){return document.querySelector("head")}));function ce(e){var t=Q.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=ue(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var fe=ie((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),de=function(e,t,n){var r=e.cssRules.length;(void 0===n||n>r)&&(n=r);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(i){return!1}return e.cssRules[n]},he=function(){var e=document.createElement("style");return e.textContent="\n",e},pe=function(){function e(e){this.getPropertyValue=oe,this.setProperty=ae,this.removeProperty=se,this.setSelector=le,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&Q.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||he(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=fe();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ce(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else ue().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(i=de(n,r.toString({children:!1}),t)))&&(this.insertRules(r.rules,i),i)}if(e.renderable&&e.renderable.parentStyleSheet===this.element.sheet)return e.renderable;var o=e.toString();if(!o)return!1;var a=de(n,o,t);return!1!==a&&(this.hasInsertedRules=!0,e.renderable=a,a)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),me=0,ge=function(){function e(e){this.id=me++,this.version="10.0.0",this.plugins=new J,this.options={id:{minify:!1},createGenerateId:re,Renderer:l?pe:null,plugins:[]},this.generateId=re({minify:!1});for(var t=0;t<G.length;t++)this.plugins.use(G[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(i.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Q.index?0:Q.index+1);var r=new K(e,Object(i.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),Q.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Object(i.a)({},n,{jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=m(e,t,r);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}();var ve="undefined"!==typeof CSS&&CSS&&"number"in CSS,ye=function(e){return new ge(e)},be=(ye(),n(4977)),xe={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},_e=n(4948),we=(n(4),"function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"),ke=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Me=Date.now(),Te="fnValues"+Me,Se="fnStyle"+ ++Me;var Ee=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=m(e,{},n);return r[Se]=t,r},onProcessStyle:function(e,t){if(Te in t||Se in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Te]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[Se];o&&(i.style=o(e)||{});var a=i[Te];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},Ae="@global",Oe="@global ",Ce=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ae,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Z(Object(i.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),Ne=function(){function e(e,t,n){this.type="global",this.at=Ae,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr(Oe.length);this.rule=n.jss.createRule(r,t,Object(i.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),De=/\s*,\s*/g;function Pe(e,t){for(var n=e.split(De),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Re=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ae)return new Ce(e,t,n);if("@"===e[0]&&e.substr(0,Oe.length)===Oe)return new Ne(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,r=n?n[Ae]:null;if(r){for(var o in r)t.sheet.addRule(o,r[o],Object(i.a)({},t,{selector:Pe(o,e.selector)}));delete n[Ae]}}(e),function(e){var t=e.options,n=e.style;for(var r in n)if("@"===r[0]&&r.substr(0,Ae.length)===Ae){var o=Pe(r.substr(Ae.length),e.selector);t.sheet.addRule(o,n[r],Object(i.a)({},t,{selector:o})),delete n[r]}}(e))}}},Le=/\s*,\s*/g,Ie=/&/g,je=/\$([\w-]+)/g;var ze=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(Le),r=e.split(Le),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Ie,a):a+" "+l}return i}function n(e,t,n){if(n)return Object(i.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;return r=void 0===r?1:r+1,Object(i.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1})}return{onProcessStyle:function(r,o,a){if("style"!==o.type)return r;var s,l,u=o,c=u.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),h="@"===f[0];if(d||h){if(s=n(u,c,s),d){var p=t(f,u.selector);l||(l=e(c,a)),p=p.replace(je,l),c.addRule(p,r[f],Object(i.a)({},s,{selector:p}))}else h&&c.addRule(f,{},s).addRule(u.key,r[f],{selector:u.selector});delete r[f]}}return r}}},Fe=/[A-Z]/g,Be=/^ms-/,Ue={};function He(e){return"-"+e.toLowerCase()}var qe=function(e){if(Ue.hasOwnProperty(e))return Ue[e];var t=e.replace(Fe,He);return Ue[e]=Be.test(t)?"-"+t:t};function Ve(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:qe(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ve):t.fallbacks=Ve(e.fallbacks)),t}var We=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ve(e[t]);return e}return Ve(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=qe(t);return t===r?e:(n.prop(r,e),null)}}},Ye=ve&&CSS?CSS.px:"px",Ge=ve&&CSS?CSS.ms:"ms",Xe=ve&&CSS?CSS.percent:"%";function $e(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Ze=$e({"animation-delay":Ge,"animation-duration":Ge,"background-position":Ye,"background-position-x":Ye,"background-position-y":Ye,"background-size":Ye,border:Ye,"border-bottom":Ye,"border-bottom-left-radius":Ye,"border-bottom-right-radius":Ye,"border-bottom-width":Ye,"border-left":Ye,"border-left-width":Ye,"border-radius":Ye,"border-right":Ye,"border-right-width":Ye,"border-top":Ye,"border-top-left-radius":Ye,"border-top-right-radius":Ye,"border-top-width":Ye,"border-width":Ye,margin:Ye,"margin-bottom":Ye,"margin-left":Ye,"margin-right":Ye,"margin-top":Ye,padding:Ye,"padding-bottom":Ye,"padding-left":Ye,"padding-right":Ye,"padding-top":Ye,"mask-position-x":Ye,"mask-position-y":Ye,"mask-size":Ye,height:Ye,width:Ye,"min-height":Ye,"max-height":Ye,"min-width":Ye,"max-width":Ye,bottom:Ye,left:Ye,top:Ye,right:Ye,"box-shadow":Ye,"text-shadow":Ye,"column-gap":Ye,"column-rule":Ye,"column-rule-width":Ye,"column-width":Ye,"font-size":Ye,"font-size-delta":Ye,"letter-spacing":Ye,"text-indent":Ye,"text-stroke":Ye,"text-stroke-width":Ye,"word-spacing":Ye,motion:Ye,"motion-offset":Ye,outline:Ye,"outline-offset":Ye,"outline-width":Ye,perspective:Ye,"perspective-origin-x":Xe,"perspective-origin-y":Xe,"transform-origin":Xe,"transform-origin-x":Xe,"transform-origin-y":Xe,"transform-origin-z":Xe,"transition-delay":Ge,"transition-duration":Ge,"vertical-align":Ye,"flex-basis":Ye,"shape-margin":Ye,size:Ye,grid:Ye,"grid-gap":Ye,"grid-row-gap":Ye,"grid-column-gap":Ye,"grid-template-rows":Ye,"grid-template-columns":Ye,"grid-auto-rows":Ye,"grid-auto-columns":Ye,"box-shadow-x":Ye,"box-shadow-y":Ye,"box-shadow-blur":Ye,"box-shadow-spread":Ye,"font-line-height":Ye,"text-shadow-x":Ye,"text-shadow-y":Ye,"text-shadow-blur":Ye});function Ke(e,t,n){if(!t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Ke(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Ke(i,t[i],n);else for(var o in t)t[o]=Ke(e+"-"+o,t[o],n);else if("number"===typeof t)return n[e]?""+t+n[e]:Ze[e]?"function"===typeof Ze[e]?Ze[e](t).toString():""+t+Ze[e]:t.toString();return t}var Je=function(e){void 0===e&&(e={});var t=$e(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Ke(r,e[r],t);return e},onChangeValue:function(e,n){return Ke(n,e,t)}}};function Qe(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var et="",tt="",nt="",rt="",it=l&&"ontouchstart"in document.documentElement;if(l){var ot={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},at=document.createElement("p").style;for(var st in ot)if(st+"Transform"in at){et=st,tt=ot[st];break}"Webkit"===et&&"msHyphens"in at&&(et="ms",tt=ot.ms,rt="edge"),"Webkit"===et&&"-apple-trailing-word"in at&&(nt="apple")}var lt={js:et,css:tt,vendor:nt,browser:rt,isTouch:it};var ut={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===lt.js?"-webkit-"+e:lt.css+e)}},ct={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===lt.js?lt.css+"print-"+e:e)}},ft=/[-\s]+(.)?/g;function dt(e,t){return t?t.toUpperCase():""}function ht(e){return e.replace(ft,dt)}function pt(e){return ht("-"+e)}var mt,gt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===lt.js){if(ht("mask-image")in t)return e;if(lt.js+pt("mask-image")in t)return lt.css+e}return e}},vt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==lt.vendor||lt.isTouch?e:lt.css+e)}},yt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:lt.css+e)}},bt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:lt.css+e)}},xt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===lt.js||"ms"===lt.js?lt.css+e:e)}},_t={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===lt.js||"ms"===lt.js||"apple"===lt.vendor?lt.css+e:e)}},wt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===lt.js?"WebkitColumn"+pt(e)in t&&lt.css+"column-"+e:"Moz"===lt.js&&("page"+pt(e)in t&&"page-"+e))}},kt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===lt.js)return e;var n=e.replace("-inline","");return lt.js+pt(n)in t&&lt.css+n}},Mt={supportedProperty:function(e,t){return ht(e)in t&&e}},Tt={supportedProperty:function(e,t){var n=pt(e);return"-"===e[0]?e:"-"===e[0]&&"-"===e[1]?e:lt.js+n in t?lt.css+e:"Webkit"!==lt.js&&"Webkit"+n in t&&"-webkit-"+e}},St={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===lt.js?""+lt.css+e:e)}},Et={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===lt.js?lt.css+"scroll-chaining":e)}},At={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ot={supportedProperty:function(e,t){var n=At[e];return!!n&&(lt.js+pt(n)in t&&lt.css+n)}},Ct={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Nt=Object.keys(Ct),Dt=function(e){return lt.css+e},Pt=[ut,ct,gt,vt,yt,bt,xt,_t,wt,kt,Mt,Tt,St,Et,Ot,{supportedProperty:function(e,t,n){var r=n.multiple;if(Nt.indexOf(e)>-1){var i=Ct[e];if(!Array.isArray(i))return lt.js+pt(i)in t&&lt.css+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(lt.js+pt(i[0])in t))return!1;return i.map(Dt)}return!1}}],Rt=Pt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Lt=Pt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Qe(t.noPrefill)),e}),[]),It={};if(l){mt=document.createElement("p");var jt=window.getComputedStyle(document.documentElement,"");for(var zt in jt)isNaN(zt)||(It[jt[zt]]=jt[zt]);Lt.forEach((function(e){return delete It[e]}))}function Ft(e,t){if(void 0===t&&(t={}),!mt)return e;if(null!=It[e])return It[e];"transition"!==e&&"transform"!==e||(t[e]=e in mt.style);for(var n=0;n<Rt.length&&(It[e]=Rt[n](e,mt.style,t),!It[e]);n++);try{mt.style[e]=""}catch(r){return!1}return It[e]}var Bt,Ut={},Ht={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},qt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Vt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ft(t):", "+Ft(n);return r||(t||n)}function Wt(e,t){var n=t;if(!Bt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Ut[r])return Ut[r];try{Bt.style[e]=n}catch(i){return Ut[r]=!1,!1}if(Ht[e])n=n.replace(qt,Vt);else if(""===Bt.style[e]&&("-ms-flex"===(n=lt.css+n)&&(Bt.style[e]="-ms-flexbox"),Bt.style[e]=n,""===Bt.style[e]))return Ut[r]=!1,!1;return Bt.style[e]="",Ut[r]=n,Ut[r]}l&&(Bt=document.createElement("p"));var Yt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Ft(n);o&&o!==n&&(i=!0);var a=!1,s=Wt(o,v(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]?n:"ms"===lt.js?n:"@"+lt.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Wt(t,v(e))||e}}};var Gt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var Xt=function(){return{plugins:[Ee(),Re(),ze(),We(),Je(),"undefined"===typeof window?null:Yt(),Gt()]}},$t=ye(Xt()),Zt={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0;return function(e,t){l+=1;var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==ke.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[we]&&""===a?"".concat(o,"-").concat(l):o}return"".concat(s).concat(i).concat(l)}}(),jss:$t,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Kt=a.a.createContext(Zt);var Jt=-1e9;n(46);var Qt=n(28),en=n.n(Qt);function tn(e,t){return t}var nn=function(e){var t="function"===typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(l){throw l}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=Object(i.a)({},o);return Object.keys(a).forEach((function(e){s[e]=en()(s[e],a[e],{arrayMerge:tn})})),s},options:{}}},rn={};function on(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Object(be.a)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function an(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var l=xe.get(o.sheetsManager,a,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},xe.set(o.sheetsManager,a,r,l));var u=Object(i.a)({},a.options,{},o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=o.sheetsRegistry;if(0===l.refs){var f;o.sheetsCache&&(f=xe.get(o.sheetsCache,a,r));var d=a.create(r,s);f||((f=o.jss.createStyleSheet(d,Object(i.a)({link:!1},u))).attach(),o.sheetsCache&&xe.set(o.sheetsCache,a,r,f)),c&&c.add(f),l.staticSheet=f,l.dynamicStyles=function e(t){var n=null;for(var r in t){var i=t[r],o=typeof i;if("function"===o)n||(n={}),n[r]=i;else if("object"===o&&null!==i&&!Array.isArray(i)){var a=e(i);a&&(n||(n={}),n[r]=a)}}return n}(d)}if(l.dynamicStyles){var h=o.jss.createStyleSheet(l.dynamicStyles,Object(i.a)({link:!0},u));h.update(t).attach(),n.dynamicSheet=h,n.classes=Object(be.a)({baseClasses:l.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=l.staticSheet.classes;l.refs+=1}}function sn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function ln(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=xe.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(xe.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function un(e,t){var n,r=a.a.useRef([]),i=a.a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.a.useEffect((function(){return function(){n&&n()}}),[i])}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,l=t.defaultTheme,u=void 0===l?rn:l,c=Object(r.a)(t,["name","classNamePrefix","Component","defaultTheme"]),f=nn(e),d=n||o||"makeStyles";return f.options={index:Jt+=1,name:n,meta:d,classNamePrefix:d},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(_e.a)()||u,r=Object(i.a)({},a.a.useContext(Kt),{},c),o=a.a.useRef(),l=a.a.useRef();return un((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return an(i,e),l.current=!1,o.current=i,function(){ln(i)}}),[t,f]),a.a.useEffect((function(){l.current&&sn(o.current,e),l.current=!0})),on(o.current,e.classes,s)}}},4948:function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=i.a.createContext(null);function a(){return i.a.useContext(o)}n.d(t,"a",(function(){return a}))},4976:function(e,t,n){"use strict";var r=n(1),i=n(4947),o=n(39);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(e,Object(r.a)({defaultTheme:o.a},t))}},4977:function(e,t,n){"use strict";var r=n(1);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var i=Object(r.a)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},4978:function(e,t,n){"use strict";t.a=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}},4979:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(0),a=n.n(o),s=(n(4),n(3)),l=n(6),u=n(12),c=n(188),f=n(7),d=a.a.forwardRef((function(e,t){var n=e.edge,o=void 0!==n&&n,l=e.children,u=e.classes,d=e.className,h=e.color,p=void 0===h?"default":h,m=e.disabled,g=void 0!==m&&m,v=e.disableFocusRipple,y=void 0!==v&&v,b=e.size,x=void 0===b?"medium":b,_=Object(i.a)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return a.a.createElement(c.a,Object(r.a)({className:Object(s.a)(u.root,d,"default"!==p&&u["color".concat(Object(f.a)(p))],g&&u.disabled,{small:u["size".concat(Object(f.a)(x))]}[x],{start:u.edgeStart,end:u.edgeEnd}[o]),centerRipple:!0,focusRipple:!y,disabled:g,ref:t},_),a.a.createElement("span",{className:u.label},l))}));t.a=Object(l.a)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:Object(u.c)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(d)},4980:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(0),a=n.n(o),s=(n(4),n(3)),l=n(6),u=n(7),c=n(4946),f=a.a.forwardRef((function(e,t){var n=e.classes,o=e.className,l=e.color,f=void 0===l?"primary":l,d=e.position,h=void 0===d?"fixed":d,p=Object(i.a)(e,["classes","className","color","position"]);return a.a.createElement(c.a,Object(r.a)({square:!0,component:"header",elevation:4,className:Object(s.a)(n.root,n["position".concat(Object(u.a)(h))],o,"inherit"!==f&&n["color".concat(Object(u.a)(f))],{fixed:"mui-fixed"}[h]),ref:t},p))}));t.a=Object(l.a)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static",transform:"translateZ(0)"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}}),{name:"MuiAppBar"})(f)},4981:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(8),a=n(0),s=n.n(a),l=(n(4),n(3)),u=n(6),c=s.a.forwardRef((function(e,t){var n=e.classes,o=e.className,a=e.component,u=void 0===a?"div":a,c=e.disableGutters,f=void 0!==c&&c,d=e.variant,h=void 0===d?"regular":d,p=Object(i.a)(e,["classes","className","component","disableGutters","variant"]),m=Object(l.a)(n.root,n[h],o,!f&&n.gutters);return s.a.createElement(u,Object(r.a)({className:m,ref:t},p))}));t.a=Object(u.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(o.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(c)},4982:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(0),a=n.n(o),s=(n(4),n(3)),l=n(7),u=n(12),c=n(6),f=a.a.forwardRef((function(e,t){var n=e.children,o=e.classes,u=e.className,c=e.color,f=void 0===c?"default":c,d=e.component,h=void 0===d?"div":d,p=e.disabled,m=void 0!==p&&p,g=e.disableFocusRipple,v=void 0!==g&&g,y=e.disableRipple,b=void 0!==y&&y,x=e.fullWidth,_=void 0!==x&&x,w=e.size,k=void 0===w?"medium":w,M=e.variant,T=void 0===M?"outlined":M,S=Object(i.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","disableRipple","fullWidth","size","variant"]),E=Object(s.a)(o.grouped,o["grouped".concat(Object(l.a)(T))],o["grouped".concat(Object(l.a)(T)).concat("default"!==f?Object(l.a)(f):"")],m&&o.disabled);return a.a.createElement(h,Object(r.a)({role:"group",className:Object(s.a)(o.root,u,_&&o.fullWidth,{contained:o.contained}[T]),ref:t},S),a.a.Children.map(n,(function(e){return a.a.isValidElement(e)?a.a.cloneElement(e,{className:Object(s.a)(E,e.props.className),disabled:e.props.disabled||m,color:e.props.color||f,disableFocusRipple:v,disableRipple:b,fullWidth:_,size:e.props.size||k,variant:e.props.variant||T}):null})))}));t.a=Object(c.a)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},fullWidth:{width:"100%"},grouped:{minWidth:40,"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedText:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:Object(u.c)(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:Object(u.c)(e.palette.secondary.main,.5)}},groupedOutlined:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none","&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.primary.dark)}},groupedContainedSecondary:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.secondary.dark)}},disabled:{}}}),{name:"MuiButtonGroup"})(f)},4983:function(e,t,n){"use strict";var r=n(2),i=n(1),o=n(0),a=n.n(o),s=(n(4),n(3)),l=n(6),u=n(12),c=n(188),f=n(7),d=a.a.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,u=e.color,d=void 0===u?"default":u,h=e.component,p=void 0===h?"button":h,m=e.disabled,g=void 0!==m&&m,v=e.disableFocusRipple,y=void 0!==v&&v,b=e.endIcon,x=e.focusVisibleClassName,_=e.fullWidth,w=void 0!==_&&_,k=e.size,M=void 0===k?"medium":k,T=e.startIcon,S=e.type,E=void 0===S?"button":S,A=e.variant,O=void 0===A?"text":A,C=Object(r.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),N=T&&a.a.createElement("span",{className:Object(s.a)(o.startIcon,o["iconSize".concat(Object(f.a)(M))])},T),D=b&&a.a.createElement("span",{className:Object(s.a)(o.endIcon,o["iconSize".concat(Object(f.a)(M))])},b);return a.a.createElement(c.a,Object(i.a)({className:Object(s.a)(o.root,o[O],l,"inherit"===d?o.colorInherit:"default"!==d&&o["".concat(O).concat(Object(f.a)(d))],"medium"!==M&&[o["".concat(O,"Size").concat(Object(f.a)(M))],o["size".concat(Object(f.a)(M))]],g&&o.disabled,w&&o.fullWidth),component:p,disabled:g,focusRipple:!y,focusVisibleClassName:Object(s.a)(o.focusVisible,x),ref:t,type:E},C),a.a.createElement("span",{className:o.label},N,n,D))}));t.a=Object(l.a)((function(e){return{root:Object(i.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(u.c)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(u.c)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(u.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(u.c)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(u.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4},endIcon:{display:"inherit",marginRight:-4,marginLeft:8},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(d)},4984:function(e,t,n){"use strict";var r={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"number"===typeof e}function a(e){return e&&!0===e.constructor.prototype.isBigNumber||!1}function s(e){return e&&"object"===i(e)&&!0===Object.getPrototypeOf(e).isComplex||!1}function l(e){return e&&"object"===i(e)&&!0===Object.getPrototypeOf(e).isFraction||!1}function u(e){return e&&!0===e.constructor.prototype.isUnit||!1}function c(e){return"string"===typeof e}var f=Array.isArray;function d(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function h(e){return Array.isArray(e)||d(e)}function p(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function m(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function g(e){return e&&!0===e.constructor.prototype.isRange||!1}function v(e){return e&&!0===e.constructor.prototype.isIndex||!1}function y(e){return"boolean"===typeof e}function b(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function x(e){return e&&!0===e.constructor.prototype.isHelp||!1}function _(e){return"function"===typeof e}function w(e){return e instanceof Date}function k(e){return e instanceof RegExp}function M(e){return!(!e||"object"!==i(e)||e.constructor!==Object||s(e)||l(e))}function T(e){return null===e}function S(e){return void 0===e}function E(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function A(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function O(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function C(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function N(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function D(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function P(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function R(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function L(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function I(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function j(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function z(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function F(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function B(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function U(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function H(e){return e&&!0===e.constructor.prototype.isChain||!1}function q(e){var t=i(e);return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":a(e)?"BigNumber":s(e)?"Complex":l(e)?"Fraction":d(e)?"Matrix":u(e)?"Unit":v(e)?"Index":g(e)?"Range":b(e)?"ResultSet":I(e)?e.type:H(e)?"Chain":x(e)?"Help":"Object":"function"===t?"Function":t}function V(e){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e){var t=V(e);if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"===typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return W(e)}));if(e instanceof Date)return new Date(e.valueOf());if(a(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return Y(e,W)}function Y(e,t){var n={};for(var r in e)$(e,r)&&(n[r]=t(e[r]));return n}function G(e,t){for(var n in t)$(t,n)&&(e[n]=t[n]);return e}function X(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!X(e[r],t[r]))return!1;return!0}if("function"===typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!X(e[n],t[n]))return!1;for(n in t)if(!(n in e)||!X(e[n],t[n]))return!1;return!0}return e===t}function $(e,t){return e&&Object.hasOwnProperty.call(e,t)}var Z=["Matrix","Array"],K=["number","BigNumber","Fraction"];function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Q=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(r)};J(Q,r,{MATRIX_OPTIONS:Z,NUMBER_OPTIONS:K});var ee={end:!0};function te(e){return"boolean"===typeof e||!!isFinite(e)&&e===Math.round(e)}var ne=Math.sign||function(e){return e>0?1:e<0?-1:0},re=Math.log2||function(e){return Math.log(e)/Math.LN2},ie=Math.log10||function(e){return Math.log(e)/Math.LN10},oe=Math.log1p||function(e){return Math.log(e+1)},ae=Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t},se=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function le(e,t){if("function"===typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r="auto";switch(t&&(t.notation&&(r=t.notation),o(t)?n=t:o(t.precision)&&(n=t.precision)),r){case"fixed":return ce(e,n);case"exponential":return fe(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=he(ue(e),t),r=n.exponent,i=n.coefficients,a=r%3===0?r:r<0?r-3-r%3:r-r%3;if(o(t))for(;t>i.length||r-a+1>i.length;)i.push(0);else for(var s=r>=0?r:Math.abs(a);i.length-1<s;)i.push(0);var l=Math.abs(r-a),u=1;for(;l>0;)u++,l--;var c=i.slice(u).join(""),f=o(t)&&c.length||c.match(/[1-9]/)?"."+c:"",d=i.slice(0,u).join("")+f+"e"+(r>=0?"+":"")+a.toString();return n.sign+d}(e,n);case"auto":if(t&&t.exponential&&(void 0!==t.exponential.lower||void 0!==t.exponential.upper)){var i=Y(t,(function(e){return e}));return i.exponential=void 0,void 0!==t.exponential.lower&&(i.lowerExp=Math.round(Math.log(t.exponential.lower)/Math.LN10)),void 0!==t.exponential.upper&&(i.upperExp=Math.round(Math.log(t.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(t)+" with "+JSON.stringify(i)),de(e,n,i)}return de(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function ue(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function ce(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=ue(e),r="number"===typeof t?he(n,n.exponent+1+t):n,i=r.coefficients,o=r.exponent+1,a=o+(t||0);return i.length<a&&(i=i.concat(pe(a-i.length))),o<0&&(i=pe(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),r.sign+i.join("")}function fe(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=ue(e),r=t?he(n,t):n,i=r.coefficients,o=r.exponent;i.length<t&&(i=i.concat(pe(t-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function de(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=ue(e),a=t?he(o,t):o;if(a.exponent<r||a.exponent>=i)return fe(e,t);var s=a.coefficients,l=a.exponent;s.length<t&&(s=s.concat(pe(t-s.length))),s=s.concat(pe(l-s.length+1+(s.length<t?t-s.length:0)));var u=l>0?l:0;return u<(s=pe(-l).concat(s)).length-1&&s.splice(u+1,0,"."),a.sign+s.join("")}function he(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function pe(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var me=Number.EPSILON||2220446049250313e-31;function ge(e,t,n){if(null===n||void 0===n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<me||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var ve=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},ye=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},be=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},xe=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},_e=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},we=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function ke(e,t){if("function"===typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n,r="auto";switch(void 0!==t&&(t.notation&&(r=t.notation),"number"===typeof t?n=t:t.precision&&(n=t.precision)),r){case"fixed":return function(e,t){return e.toFixed(t)}(e,n);case"exponential":return Me(e,n);case"engineering":return function(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),o=i.toPrecision(t);-1!==o.indexOf("e")&&(o=i.toString());return o+"e"+(n>=0?"+":"")+r.toString()}(e,n);case"auto":if(t&&t.exponential&&(void 0!==t.exponential.lower||void 0!==t.exponential.upper)){var i=Y(t,(function(e){return e}));return i.exponential=void 0,void 0!==t.exponential.lower&&(i.lowerExp=Math.round(Math.log(t.exponential.lower)/Math.LN10)),void 0!==t.exponential.upper&&(i.upperExp=Math.round(Math.log(t.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(t)+" with "+JSON.stringify(i)),ke(e,i)}var o=t&&void 0!==t.lowerExp?t.lowerExp:-3,a=t&&void 0!==t.upperExp?t.upperExp:5;if(e.isZero())return"0";var s=e.toSignificantDigits(n),l=s.e;return(l>=o&&l<a?s.toFixed():Me(e,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function Me(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function Te(e){return(Te="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){var n=e.length-t.length,r=e.length;return e.substring(n,r)===t}function Ee(e,t){return"number"===typeof e?le(e,t):a(e)?ke(e,t):function(e){return e&&"object"===Te(e)&&"number"===typeof e.s&&"number"===typeof e.n&&"number"===typeof e.d||!1}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?function e(t,n){if(Array.isArray(t)){for(var r="[",i=t.length,o=0;o<i;o++)0!==o&&(r+=", "),r+=e(t[o],n);return r+="]"}return Ee(t,n)}(e,t):c(e)?'"'+e+'"':"function"===typeof e?e.syntax?String(e.syntax):"function":e&&"object"===Te(e)?"function"===typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((function(n){return'"'+n+'": '+Ee(e[n],t)})).join(", ")+"}":String(e)}function Ae(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);"\\"===i?(n+=i,r++,""!==(i=t.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'}function Oe(e){var t=String(e);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ce(e,t){if(!c(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+q(e)+", index: 0)");if(!c(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+q(t)+", index: 1)");return e===t?0:e>t?1:-1}function Ne(e,t,n){if(!(this instanceof Ne))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function De(e,t,n){if(!(this instanceof De))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Pe(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Re(e,t){if(0===t.length){if(Array.isArray(e))throw new Ne(e.length,0)}else!function e(t,n,r){var i,o=t.length;if(o!==n[r])throw new Ne(o,n[r]);if(r<n.length-1){var a=r+1;for(i=0;i<o;i++){var s=t[i];if(!Array.isArray(s))throw new Ne(n.length-1,n.length,"<");e(t[i],n,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new Ne(n.length+1,n.length,">")}(e,t,0)}function Le(e,t){if(!o(e)||!te(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"===typeof t&&e>=t)throw new De(e,t)}function Ie(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!o(e)||!te(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ee(t)+")")})),function e(t,n,r,i){var o;var a;var s=t.length;var l=n[r];var u=Math.min(s,l);t.length=l;if(r<n.length-1){var c=r+1;for(o=0;o<u;o++)a=t[o],Array.isArray(a)||(a=[a],t[o]=a),e(a,n,c,i);for(o=u;o<l;o++)a=[],t[o]=a,e(a,n,c,i)}else{for(o=0;o<u;o++)for(;Array.isArray(t[o]);)t[o]=t[o][0];for(o=u;o<l;o++)t[o]=i}}(e,t,0,void 0!==n?n:0),e}function je(e,t){var n,r=Be(e);function i(e){return e.reduce((function(e,t){return e*t}))}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Ne(0,i(Pe(e)),"!=");for(var o=1,a=0;a<t.length;a++)o*=t[a];if(r.length!==o)throw new Ne(i(t),i(Pe(e)),"!=");try{n=function(e,t){for(var n,r=e,i=t.length-1;i>0;i--){var o=t[i];n=[];for(var a=r.length/o,s=0;s<a;s++)n.push(r.slice(s*o,(s+1)*o));r=n}return r}(r,t)}catch(s){if(s instanceof Ne)throw new Ne(i(t),i(Pe(e)),"!=");throw s}return n}function ze(e,t){for(var n=t||Pe(e);Array.isArray(e)&&1===e.length;)e=e[0],n.shift();for(var r=n.length;1===n[r-1];)r--;return r<n.length&&(e=function e(t,n,r){var i,o;if(r<n){var a=r+1;for(i=0,o=t.length;i<o;i++)t[i]=e(t[i],n,a)}else for(;Array.isArray(t);)t=t[0];return t}(e,r,0),n.length=r),e}function Fe(e,t,n,r){var i=r||Pe(e);if(n)for(var o=0;o<n;o++)e=[e],i.unshift(1);for(e=function e(t,n,r){var i,o;if(Array.isArray(t)){var a=r+1;for(i=0,o=t.length;i<o;i++)t[i]=e(t[i],n,a)}else for(var s=r;s<n;s++)t=[t];return t}(e,t,0);i.length<t;)i.push(1);return e}function Be(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(n){Array.isArray(n)?n.forEach(e):t.push(n)})),t}function Ue(e,t){return Array.prototype.map.call(e,t)}function He(e,t){Array.prototype.forEach.call(e,t)}function qe(e,t){if(1!==Pe(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function Ve(e,t){if(1!==Pe(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,(function(e){return t.test(e)}))}function We(e,t){return Array.prototype.join.call(e,t)}function Ye(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],n=0;t[0]={value:e[0],identifier:0};for(var r=1;r<e.length;r++)e[r]===e[r-1]?n++:n=0,t.push({value:e[r],identifier:n});return t}function Ge(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],n=0;n<e.length;n++)t.push(e[n].value);return t}function Xe(e,t){for(var n,r=0,i=0;i<e.length;i++){var o=e[i],a=Array.isArray(o);if(0===i&&a&&(r=o.length),a&&o.length!==r)return;var s=a?Xe(o,t):t(o);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function $e(e,t,n,r){function i(r){var i=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],o=e[i];void 0!==o&&(n[i]=o)}return n}(r,t.map(Ze));return function(e,t,n){if(!t.filter((function(e){return!function(e){return e&&"?"===e[0]}(e)})).every((function(e){return void 0!==n[e]}))){var r=t.filter((function(e){return void 0===n[e]}));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(r.map((function(e){return'"'.concat(e,'"')})).join(", "),"."))}}(e,t,r),n(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function Ze(e){return e&&"?"===e[0]?e.slice(1):e}Ne.prototype=new RangeError,Ne.prototype.constructor=RangeError,Ne.prototype.name="DimensionError",Ne.prototype.isDimensionError=!0,De.prototype=new RangeError,De.prototype.constructor=RangeError,De.prototype.name="IndexError",De.prototype.isIndexError=!0;var Ke=function(){var e={};return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=n.join(", ");e[o]||(e[o]=!0,(i=console).warn.apply(i,["Warning:"].concat(n)))}}();function Je(e){return(Je="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Qe=$e("Node",["mathWithTransform"],(function(e){var t=e.mathWithTransform;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.evaluate=function(e){return this.compile().evaluate(e)},n.prototype.eval=function(e){return Ke("Method Node.eval is renamed to Node.evaluate. Please use the new method name."),this.evaluate(e)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var e=this._compile(t,{}),n={},r=null;function i(t){var i=t||{};return function(e){for(var t in e)if($(e,t)&&t in ee)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(i),e(i,n,r)}return{evaluate:i,eval:function(e){return Ke("Method eval is renamed to evaluate. Please use the new method."),i(e)}}},n.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(e){if(!I(e))throw new TypeError("Callback function must return a Node");return e},n.prototype.traverse=function(e){e(this,null,null),function e(t,n){t.forEach((function(t,r,i){n(t,r,i),e(t,n)}))}(this,e)},n.prototype.transform=function(e){return function t(n,r,i){var o=e(n,r,i);return o!==n?o:n.map(t)}(this,null,null)},n.prototype.filter=function(e){var t=[];return this.traverse((function(n,r,i){e(n,r,i)&&t.push(n)})),t},n.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},n.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map((function(e){return e.cloneDeep()}))},n.prototype.equals=function(e){return!!e&&X(this,e)},n.prototype.toString=function(e){var t;if(e&&"object"===Je(e))switch(Je(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!==typeof t?t:this._toString(e)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(e){var t;if(e&&"object"===Je(e))switch(Je(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!==typeof t?t:this.toHTML(e)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(e){var t;if(e&&"object"===Je(e))switch(Je(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!==typeof t?t:this._toTex(e)},n.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n}),{isClass:!0,isNode:!0}),et=$e("ArrayNode",["Node"],(function(e){var t=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(I))throw new TypeError("Array containing Nodes expected");var t=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:t,set:t})}return n.prototype=new t,n.prototype.type="ArrayNode",n.prototype.isArrayNode=!0,n.prototype._compile=function(e,t){var n=Ue(this.items,(function(n){return n._compile(e,t)}));if("Array"!==e.config.matrix){var r=e.matrix;return function(e,t,i){return r(Ue(n,(function(n){return n(e,t,i)})))}}return function(e,t,r){return Ue(n,(function(n){return n(e,t,r)}))}},n.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++){e(this.items[t],"items["+t+"]",this)}},n.prototype.map=function(e){for(var t=[],r=0;r<this.items.length;r++)t[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new n(t)},n.prototype.clone=function(){return new n(this.items.slice(0))},n.prototype._toString=function(e){return"["+this.items.map((function(t){return t.toString(e)})).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},n.fromJSON=function(e){return new n(e.items)},n.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(t){return t.toHTML(e)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},n.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach((function(n){n.items?t+=n.items.map((function(t){return t.toTex(e)})).join("&"):t+=n.toTex(e),t+="\\\\"})),t+="\\end{bmatrix}"},n}),{isClass:!0,isNode:!0}),tt=$e("BlockNode",["ResultSet","Node"],(function(e){var t=e.ResultSet,n=e.Node;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!I(t))throw new TypeError('Property "node" must be a Node');if("boolean"!==typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}}))}return r.prototype=new n,r.prototype.type="BlockNode",r.prototype.isBlockNode=!0,r.prototype._compile=function(e,n){var r=Ue(this.blocks,(function(t){return{evaluate:t.node._compile(e,n),visible:t.visible}}));return function(e,n,i){var o=[];return He(r,(function(t){var r=t.evaluate(e,n,i);t.visible&&o.push(r)})),new t(o)}},r.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.blocks.length;n++){var i=this.blocks[n],o=this._ifNode(e(i.node,"blocks["+n+"].node",this));t[n]={node:o,visible:i.visible}}return new r(t)},r.prototype.clone=function(){return new r(this.blocks.map((function(e){return{node:e.node,visible:e.visible}})))},r.prototype._toString=function(e){return this.blocks.map((function(t){return t.node.toString(e)+(t.visible?"":";")})).join("\n")},r.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},r.fromJSON=function(e){return new r(e.blocks)},r.prototype.toHTML=function(e){return this.blocks.map((function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},r.prototype._toTex=function(e){return this.blocks.map((function(t){return t.node.toTex(e)+(t.visible?"":";")})).join("\\;\\;\n")},r}),{isClass:!0,isNode:!0}),nt=n(181),rt=n.n(nt),it={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ot={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},at={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ot.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ot.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ot.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ot.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ot.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ot.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ot.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ot.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ot.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ot.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ot.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ot.bitAnd,"${args[1]}\\right)")},bitNot:{1:ot.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ot.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ot.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ot.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ot.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ot.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ot.and,"${args[1]}\\right)")},not:{1:ot.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ot.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ot.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ot.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(ot.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ot.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ot.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ot.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ot.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ot.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ot.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ot.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ot.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ot.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(it.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},st={deg:"^\\circ"};function lt(e){return rt()(e,{preserveFormatting:!0})}function ut(e,t){return(t="undefined"!==typeof t&&t)?$(st,e)?st[e]:"\\mathrm{"+lt(e)+"}":$(it,e)?it[e]:lt(e)}var ct=$e("ConstantNode",["Node"],(function(e){var t=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=e}return n.prototype=new t,n.prototype.type="ConstantNode",n.prototype.isConstantNode=!0,n.prototype._compile=function(e,t){var n=this.value;return function(){return n}},n.prototype.forEach=function(e){},n.prototype.map=function(e){return this.clone()},n.prototype.clone=function(){return new n(this.value)},n.prototype._toString=function(e){return Ee(this.value,e)},n.prototype.toHTML=function(e){var t=this._toString(e);switch(q(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},n.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},n.fromJSON=function(e){return new n(e.value)},n.prototype._toTex=function(e){var t=this._toString(e);switch(q(this.value)){case"string":return"\\mathtt{"+lt(t)+"}";case"number":case"BigNumber":var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},n}),{isClass:!0,isNode:!0});function ft(e){return(ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){if(gt(e)&&pt(e,t))return e[t];if("function"===typeof e[t]&&mt(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function ht(e,t,n){if(gt(e)&&pt(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function pt(e,t){return!(!e||"object"!==ft(e))&&(!!$(vt,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function mt(e,t){return null!==e&&void 0!==e&&"function"===typeof e[t]&&(!($(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e))&&(!!$(yt,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function gt(e){return"object"===ft(e)&&e&&e.constructor===Object}var vt={length:!0,name:!0},yt={toString:!0,valueOf:!0,toLocaleString:!0};function bt(e){return(bt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var xt=$e("ObjectNode",["Node"],(function(e){var t=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==bt(e)||!Object.keys(e).every((function(t){return I(e[t])}))))throw new TypeError("Object containing Nodes expected")}return n.prototype=new t,n.prototype.type="ObjectNode",n.prototype.isObjectNode=!0,n.prototype._compile=function(e,t){var n={};for(var r in this.properties)if($(this.properties,r)){var i=Ae(r),o=JSON.parse(i);if(!pt(this.properties,o))throw new Error('No access to property "'+o+'"');n[o]=this.properties[r]._compile(e,t)}return function(e,t,r){var i={};for(var o in n)$(n,o)&&(i[o]=n[o](e,t,r));return i}},n.prototype.forEach=function(e){for(var t in this.properties)$(this.properties,t)&&e(this.properties[t],"properties["+Ae(t)+"]",this)},n.prototype.map=function(e){var t={};for(var r in this.properties)$(this.properties,r)&&(t[r]=this._ifNode(e(this.properties[r],"properties["+Ae(r)+"]",this)));return new n(t)},n.prototype.clone=function(){var e={};for(var t in this.properties)$(this.properties,t)&&(e[t]=this.properties[t]);return new n(e)},n.prototype._toString=function(e){var t=[];for(var n in this.properties)$(this.properties,n)&&t.push(Ae(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"},n.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},n.fromJSON=function(e){return new n(e.properties)},n.prototype.toHTML=function(e){var t=[];for(var n in this.properties)$(this.properties,n)&&t.push('<span class="math-symbol math-property">'+Oe(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},n.prototype._toTex=function(e){var t=[];for(var n in this.properties)$(this.properties,n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},n}),{isClass:!0,isNode:!0}),_t=$e("ParenthesisNode",["Node"],(function(e){var t=e.Node;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!I(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return n.prototype=new t,n.prototype.type="ParenthesisNode",n.prototype.isParenthesisNode=!0,n.prototype._compile=function(e,t){return this.content._compile(e,t)},n.prototype.getContent=function(){return this.content.getContent()},n.prototype.forEach=function(e){e(this.content,"content",this)},n.prototype.map=function(e){return new n(e(this.content,"content",this))},n.prototype.clone=function(){return new n(this.content)},n.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},n.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},n.fromJSON=function(e){return new n(e.content)},n.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},n.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},n}),{isClass:!0,isNode:!0}),wt=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function kt(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var r=n.getIdentifier(),i=0;i<wt.length;i++)if(r in wt[i])return i;return null}function Mt(e,t){var n=e;"keep"!==t&&(n=e.getContent());var r=n.getIdentifier(),i=kt(n,t);if(null===i)return null;var o=wt[i][r];if($(o,"associativity")){if("left"===o.associativity)return"left";if("right"===o.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+o.associativity+"'.")}return null}function Tt(e,t,n){var r="keep"!==n?e.getContent():e,i="keep"!==n?e.getContent():t,o=r.getIdentifier(),a=i.getIdentifier(),s=kt(r,n);if(null===s)return null;var l=wt[s][o];if($(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===a)return!0;return!1}return null}var St=$e("RelationalNode",["Node"],(function(e){var t=e.Node;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(t))throw new TypeError("Parameter params must be an array");if(e.length!==t.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=t}return n.prototype=new t,n.prototype.type="RelationalNode",n.prototype.isRelationalNode=!0,n.prototype._compile=function(e,t){var n=this,r=this.params.map((function(n){return n._compile(e,t)}));return function(t,i,o){for(var a,s=r[0](t,i,o),l=0;l<n.conditionals.length;l++){if(a=s,s=r[l+1](t,i,o),!dt(e,n.conditionals[l])(a,s))return!1}return!0}},n.prototype.forEach=function(e){var t=this;this.params.forEach((function(n,r){return e(n,"params["+r+"]",t)}),this)},n.prototype.map=function(e){var t=this;return new n(this.conditionals.slice(),this.params.map((function(n,r){return t._ifNode(e(n,"params["+r+"]",t))}),this))},n.prototype.clone=function(){return new n(this.conditionals,this.params)},n.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=kt(this,t),r=this.params.map((function(r,i){var o=kt(r,t);return"all"===t||null!==o&&o<=n?"("+r.toString(e)+")":r.toString(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},o=r[0],a=0;a<this.conditionals.length;a++)o+=" "+i[this.conditionals[a]]+" "+r[a+1];return o},n.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},n.fromJSON=function(e){return new n(e.conditionals,e.params)},n.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=kt(this,t),r=this.params.map((function(r,i){var o=kt(r,t);return"all"===t||null!==o&&o<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},o=r[0],a=0;a<this.conditionals.length;a++)o+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Oe(i[this.conditionals[a]])+"</span>"+r[a+1];return o},n.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=kt(this,t),r=this.params.map((function(r,i){var o=kt(r,t);return"all"===t||null!==o&&o<=n?"\\left("+r.toTex(e)+"\right)":r.toTex(e)})),i=r[0],o=0;o<this.conditionals.length;o++)i+=ot[this.conditionals[o]]+r[o+1];return i},n}),{isClass:!0,isNode:!0}),Et=$e("Chain",["?on","math"],(function(e){var t=e.on,n=e.math;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");H(e)?this.value=e.value:this.value=e}function i(e,t){!function(e,t,n){var r,i=!0;Object.defineProperty(e,t,{get:function(){return i&&(r=n(),i=!1),r},set:function(e){r=e,i=!1},configurable:!0,enumerable:!0})}(r.prototype,e,(function(){var e=t();if("function"===typeof e)return o(e)}))}function o(e){return function(){for(var t=[this.value],n=0;n<arguments.length;n++)t[n+1]=arguments[n];return new r(e.apply(e,t))}}r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return Ee(this.value)},r.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},r.fromJSON=function(e){return new r(e.value)},r.createProxy=function(e,t){if("string"===typeof e)!function(e,t){"function"===typeof t&&(r.prototype[e]=o(t))}(e,t);else{var n=function(t){$(e,t)&&void 0===a[t]&&i(t,(function(){return e[t]}))};for(var s in e)n(s)}};var a={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return r.createProxy(n),t&&t("import",(function(e,t,n){n||i(e,t)})),r}),{isClass:!0}),At=$e("reviver",["classes"],(function(e){var t=e.classes;return function(e,n){var r=t[n&&n.mathjs];return r&&"function"===typeof r.fromJSON?r.fromJSON(n):n}})),Ot=$e("ConditionalNode",["Node"],(function(e){var t=e.Node;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!I(e))throw new TypeError("Parameter condition must be a Node");if(!I(t))throw new TypeError("Parameter trueExpr must be a Node");if(!I(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=r}return n.prototype=new t,n.prototype.type="ConditionalNode",n.prototype.isConditionalNode=!0,n.prototype._compile=function(e,t){var n=this.condition._compile(e,t),r=this.trueExpr._compile(e,t),i=this.falseExpr._compile(e,t);return function(e,t,o){return function(e){if("number"===typeof e||"boolean"===typeof e||"string"===typeof e)return!!e;if(e){if(a(e))return!e.isZero();if(s(e))return!(!e.re&&!e.im);if(u(e))return!!e.value}if(null===e||void 0===e)return!1;throw new TypeError('Unsupported type of condition "'+q(e)+'"')}(n(e,t,o))?r(e,t,o):i(e,t,o)}},n.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},n.prototype.clone=function(){return new n(this.condition,this.trueExpr,this.falseExpr)},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=kt(this,t),r=this.condition.toString(e),i=kt(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r="("+r+")");var o=this.trueExpr.toString(e),a=kt(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(o="("+o+")");var s=this.falseExpr.toString(e),l=kt(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=n)&&(s="("+s+")"),r+" ? "+o+" : "+s},n.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},n.fromJSON=function(e){return new n(e.condition,e.trueExpr,e.falseExpr)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=kt(this,t),r=this.condition.toHTML(e),i=kt(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.trueExpr.toHTML(e),a=kt(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),l=kt(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==l&&l<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+o+'<span class="math-operator math-conditional-operator">:</span>'+s},n.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},n}),{isClass:!0,isNode:!0}),Ct=$e("OperatorNode",["Node"],(function(e){var t=e.Node;function n(e,t,r,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('string expected for parameter "op"');if("string"!==typeof t)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(I))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=e,this.fn=t,this.args=r||[]}function r(e,t,n,r,i){var o,a=kt(e,t),s=Mt(e,t);if("all"===t||r.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return r.map((function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(r.length){case 0:o=[];break;case 1:var l=kt(r[0],t);if(i&&null!==l){var u,c;if("keep"===t?(u=r[0].getIdentifier(),c=e.getIdentifier()):(u=r[0].getContent().getIdentifier(),c=e.getContent().getIdentifier()),!1===wt[a][c].latexLeftParens){o=[!1];break}if(!1===wt[l][u].latexParens){o=[!1];break}}if(null===l){o=[!1];break}if(l<=a){o=[!0];break}o=[!1];break;case 2:var f,d,h=kt(r[0],t),p=Tt(e,r[0],t);f=null!==h&&(h===a&&"right"===s&&!p||h<a);var m,g,v,y=kt(r[1],t),b=Tt(e,r[1],t);if(d=null!==y&&(y===a&&"left"===s&&!b||y<a),i)"keep"===t?(m=e.getIdentifier(),g=e.args[0].getIdentifier(),v=e.args[1].getIdentifier()):(m=e.getContent().getIdentifier(),g=e.args[0].getContent().getIdentifier(),v=e.args[1].getContent().getIdentifier()),null!==h&&(!1===wt[a][m].latexLeftParens&&(f=!1),!1===wt[h][g].latexParens&&(f=!1)),null!==y&&(!1===wt[a][m].latexRightParens&&(d=!1),!1===wt[y][v].latexParens&&(d=!1));o=[f,d];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(o=r.map((function(n){var r=kt(n,t),i=Tt(e,n,t),o=Mt(n,t);return null!==r&&(a===r&&s===o&&!i||r<a)})))}return r.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===n&&(o=r.map((function(e,t){var n="ParenthesisNode"===e.getIdentifier();return!(!o[t]&&!n)}))),o}return n.prototype=new t,n.prototype.type="OperatorNode",n.prototype.isOperatorNode=!0,n.prototype._compile=function(e,t){if("string"!==typeof this.fn||!mt(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=dt(e,this.fn),r=Ue(this.args,(function(n){return n._compile(e,t)}));if(1===r.length){var i=r[0];return function(e,t,r){return n(i(e,t,r))}}if(2===r.length){var o=r[0],a=r[1];return function(e,t,r){return n(o(e,t,r),a(e,t,r))}}return function(e,t,i){return n.apply(null,Ue(r,(function(n){return n(e,t,i)})))}},n.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.args.length;r++)t[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new n(this.op,this.fn,t,this.implicit)},n.prototype.clone=function(){return new n(this.op,this.fn,this.args.slice(0),this.implicit)},n.prototype.isUnary=function(){return 1===this.args.length},n.prototype.isBinary=function(){return 2===this.args.length},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,o=r(this,t,n,i,!1);if(1===i.length){var a=Mt(this,t),s=i[0].toString(e);o[0]&&(s="("+s+")");var l=/[a-zA-Z]+/.test(this.op);return"right"===a?this.op+(l?" ":"")+s:"left"===a?s+(l?" ":"")+this.op:s+this.op}if(2===i.length){var u=i[0].toString(e),c=i[1].toString(e);return o[0]&&(u="("+u+")"),o[1]&&(c="("+c+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?u+" "+c:u+" "+this.op+" "+c}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=i.map((function(t,n){return t=t.toString(e),o[n]&&(t="("+t+")"),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?f.join(" "):f.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},n.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},n.fromJSON=function(e){return new n(e.op,e.fn,e.args,e.implicit)},n.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,o=r(this,t,n,i,!1);if(1===i.length){var a=Mt(this,t),s=i[0].toHTML(e);return o[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Oe(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Oe(this.op)+"</span>"}if(2===i.length){var l=i[0].toHTML(e),u=i[1].toHTML(e);return o[0]&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o[1]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?l+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+u:l+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Oe(this.op)+"</span>"+u}var c=i.map((function(t,n){return t=t.toHTML(e),o[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===n?c.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):c.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Oe(this.op)+"</span>"):'<span class="math-function">'+Oe(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=e&&e.implicit?e.implicit:"hide",i=this.args,o=r(this,t,n,i,!0),a=ot[this.fn];if(a="undefined"===typeof a?this.op:a,1===i.length){var s=Mt(this,t),l=i[0].toTex(e);return o[0]&&(l="\\left(".concat(l,"\\right)")),"right"===s?a+l:l+a}if(2===i.length){var u=i[0],c=u.toTex(e);o[0]&&(c="\\left(".concat(c,"\\right)"));var f,d=i[1].toTex(e);switch(o[1]&&(d="\\left(".concat(d,"\\right)")),f="keep"===t?u.getIdentifier():u.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+c+"}{"+d+"}";case"OperatorNode:pow":switch(c="{"+c+"}",d="{"+d+"}",f){case"ConditionalNode":case"OperatorNode:divide":c="\\left(".concat(c,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===n)return c+"~"+d}return c+a+d}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var h=i.map((function(t,n){return t=t.toTex(e),o[n]&&(t="\\left(".concat(t,"\\right)")),t}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?h.join("~"):h.join(a)}return"\\mathrm{"+this.fn+"}\\left("+i.map((function(t){return t.toTex(e)})).join(",")+"\\right)"},n.prototype.getIdentifier=function(){return this.type+":"+this.fn},n}),{isClass:!0,isNode:!0}),Nt=$e("RangeNode",["Node"],(function(e){var t=e.Node;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!I(e))throw new TypeError("Node expected");if(!I(t))throw new TypeError("Node expected");if(r&&!I(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=r||null}function r(e,t){var n=kt(e,t),r={},i=kt(e.start,t);if(r.start=null!==i&&i<=n||"all"===t,e.step){var o=kt(e.step,t);r.step=null!==o&&o<=n||"all"===t}var a=kt(e.end,t);return r.end=null!==a&&a<=n||"all"===t,r}return n.prototype=new t,n.prototype.type="RangeNode",n.prototype.isRangeNode=!0,n.prototype.needsEnd=function(){return this.filter((function(e){return U(e)&&"end"===e.name})).length>0},n.prototype._compile=function(e,t){var n=e.range,r=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var o=this.step._compile(e,t);return function(e,t,a){return n(r(e,t,a),i(e,t,a),o(e,t,a))}}return function(e,t,o){return n(r(e,t,o),i(e,t,o))}},n.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},n.prototype.map=function(e){return new n(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},n.prototype.clone=function(){return new n(this.start,this.end,this.step&&this.step)},n.prototype._toString=function(e){var t,n=r(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toString(e);if(n.start&&(i="("+i+")"),t=i,this.step){var o=this.step.toString(e);n.step&&(o="("+o+")"),t+=":"+o}var a=this.end.toString(e);return n.end&&(a="("+a+")"),t+=":"+a},n.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(e){return new n(e.start,e.end,e.step)},n.prototype.toHTML=function(e){var t,n=r(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toHTML(e);if(n.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var o=this.step.toHTML(e);n.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o}var a=this.end.toHTML(e);return n.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+a},n.prototype._toTex=function(e){var t=r(this,e&&e.parenthesis?e.parenthesis:"keep"),n=this.start.toTex(e);if(t.start&&(n="\\left(".concat(n,"\\right)")),this.step){var i=this.step.toTex(e);t.step&&(i="\\left(".concat(i,"\\right)")),n+=":"+i}var o=this.end.toTex(e);return t.end&&(o="\\left(".concat(o,"\\right)")),n+=":"+o},n}),{isClass:!0,isNode:!0}),Dt=$e("FunctionAssignmentNode",["typed","Node"],(function(e){var t=e.typed,n=e.Node;function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!I(n))throw new TypeError('Node expected for parameter "expr"');if(e in ee)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map((function(e){return e&&e.name||e})),this.types=t.map((function(e){return e&&e.type||"any"})),this.expr=n}function i(e,t){var n=kt(e,t),r=kt(e.expr,t);return"all"===t||null!==r&&r<=n}return r.prototype=new n,r.prototype.type="FunctionAssignmentNode",r.prototype.isFunctionAssignmentNode=!0,r.prototype._compile=function(e,n){var r=Object.create(n);He(this.params,(function(e){r[e]=!0}));var i=this.expr._compile(e,r),o=this.name,a=this.params,s=We(this.types,","),l=o+"("+We(this.params,", ")+")";return function(e,n,r){var u={};u[s]=function(){for(var t=Object.create(n),o=0;o<a.length;o++)t[a[o]]=arguments[o];return i(e,t,r)};var c=t(o,u);return c.syntax=l,ht(e,o,c),c}},r.prototype.forEach=function(e){e(this.expr,"expr",this)},r.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new r(this.name,this.params.slice(0),t)},r.prototype.clone=function(){return new r(this.name,this.params.slice(0),this.expr)},r.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return i(this,t)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},r.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(t,n){return{name:t,type:e[n]}})),expr:this.expr}},r.fromJSON=function(e){return new r(e.name,e.params,e.expr)},r.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],r=0;r<this.params.length;r++)n.push('<span class="math-symbol math-parameter">'+Oe(this.params[r])+"</span>");var o=this.expr.toHTML(e);return i(this,t)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Oe(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+o},r.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return i(this,t)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(ut).join(",")+"\\right):="+n},r}),{isClass:!0,isNode:!0}),Pt=$e("chain",["typed","Chain"],(function(e){var t=e.typed,n=e.Chain;return t("chain",{"":function(){return new n},any:function(e){return new n(e)}})}));function Rt(e){return e&&e.isIndexError?new De(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function Lt(e){return(Lt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e){var t=e.subset;return function(e,n){try{if(Array.isArray(e))return t(e,n);if(e&&"function"===typeof e.subset)return e.subset(n);if("string"===typeof e)return t(e,n);if("object"===Lt(e)){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return dt(e,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw Rt(r)}}}var jt=$e("AccessorNode",["subset","Node"],(function(e){var t=e.subset,n=e.Node,r=It({subset:t});function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!I(e))throw new TypeError('Node expected for parameter "object"');if(!L(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function o(e){return!(E(e)||A(e)||D(e)||R(e)||j(e)||F(e)||U(e))}return i.prototype=new n,i.prototype.type="AccessorNode",i.prototype.isAccessorNode=!0,i.prototype._compile=function(e,t){var n=this.object._compile(e,t),i=this.index._compile(e,t);if(this.index.isObjectProperty()){var o=this.index.getObjectProperty();return function(e,t,r){return dt(n(e,t,r),o)}}return function(e,t,o){var a=n(e,t,o),s=i(e,t,a);return r(a,s)}},i.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},i.prototype.map=function(e){return new i(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},i.prototype.clone=function(){return new i(this.object,this.index)},i.prototype._toString=function(e){var t=this.object.toString(e);return o(this.object)&&(t="("+t+")"),t+this.index.toString(e)},i.prototype.toHTML=function(e){var t=this.object.toHTML(e);return o(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},i.prototype._toTex=function(e){var t=this.object.toTex(e);return o(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},i.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},i.fromJSON=function(e){return new i(e.object,e.index)},i}),{isClass:!0,isNode:!0});function zt(e){return(zt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ft=$e("AssignmentNode",["subset","?matrix","Node"],(function(e){var t=e.subset,n=e.matrix,r=e.Node,i=It({subset:t}),o=function(e){var t=e.subset,n=e.matrix;return function(e,r,i){try{if(Array.isArray(e))return n(e).subset(r,i).valueOf();if(e&&"function"===typeof e.subset)return e.subset(r,i);if("string"===typeof e)return t(e,r,i);if("object"===zt(e)){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return ht(e,r.getObjectProperty(),i),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw Rt(o)}}}({subset:t,matrix:n});function a(e,t,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=n?t:null,this.value=n||t,!U(e)&&!E(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(U(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!L(this.index))throw new TypeError('IndexNode expected as "index"');if(!I(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(e,t){t||(t="keep");var n=kt(e,t),r=kt(e.value,t);return"all"===t||null!==r&&r<=n}return a.prototype=new r,a.prototype.type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(e,t){var n=this.object._compile(e,t),r=this.index?this.index._compile(e,t):null,a=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var l=this.index.getObjectProperty();return function(e,t,r){var i=n(e,t,r),o=a(e,t,r);return ht(i,l,o)}}if(U(this.object))return function(e,t,i){var l=n(e,t,i),u=a(e,t,i),c=r(e,t,l);return ht(e,s,o(l,c,u)),u};var u=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(e,t,n){var i=u(e,t,n),s=dt(i,c),l=r(e,t,s),f=a(e,t,n);return ht(i,c,o(s,l,f)),f}}var f=this.object.index._compile(e,t);return function(e,t,n){var s=u(e,t,n),l=f(e,t,s),c=i(s,l),d=r(e,t,c),h=a(e,t,n);return o(s,l,o(c,d,h)),h}}if(!U(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){return ht(e,s,a(e,t,n))}},a.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},a.prototype.map=function(e){return new a(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return s(this,e&&e.parenthesis)&&(r="("+r+")"),t+n+" = "+r},a.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(e){return new a(e.object,e.index,e.value)},a.prototype.toHTML=function(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return s(this,e&&e.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},a.prototype._toTex=function(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return s(this,e&&e.parenthesis)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r},a}),{isClass:!0,isNode:!0}),Bt=$e("index",["Index"],(function(e){var t=e.Index;return function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];if(g(i))i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map((function(e){return e-1}));else if(f(i)||d(i))i=i.map((function(e){return e-1}));else if(o(i))i--;else if(a(i))i=i.toNumber()-1;else if("string"!==typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[n]=i}var s=new t;return t.apply(s,e),s}}),{isTransformFunction:!0});function Ut(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ht=$e("IndexNode",["Range","Node","Index","size"],(function(e){var t=e.Range,n=e.Node,r=e.Index,i=e.size,o=Bt({Index:r});function s(e,t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(I))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function l(e,n,r){return new t(a(e)?e.toNumber():e,a(n)?n.toNumber():n,a(r)?r.toNumber():r)}return s.prototype=new n,s.prototype.type="IndexNode",s.prototype.isIndexNode=!0,s.prototype._compile=function(e,t){var n=Ue(this.dimensions,(function(n,r){if(B(n)){if(n.needsEnd()){var o=Object.create(t);o.end=!0;var a=n.start._compile(e,o),s=n.end._compile(e,o),u=n.step?n.step._compile(e,o):function(){return 1};return function(e,t,n){var o=i(n).valueOf(),c=Object.create(t);return c.end=o[r],l(a(e,c,n),s(e,c,n),u(e,c,n))}}var c=n.start._compile(e,t),f=n.end._compile(e,t),d=n.step?n.step._compile(e,t):function(){return 1};return function(e,t,n){return l(c(e,t,n),f(e,t,n),d(e,t,n))}}if(U(n)&&"end"===n.name){var h=Object.create(t);h.end=!0;var p=n._compile(e,h);return function(e,t,n){var o=i(n).valueOf(),a=Object.create(t);return a.end=o[r],p(e,a,n)}}var m=n._compile(e,t);return function(e,t,n){return m(e,t,n)}}));return function(e,t,r){var i=Ue(n,(function(n){return n(e,t,r)}));return o.apply(void 0,Ut(i))}},s.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},s.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new s(t,this.dotNotation)},s.prototype.clone=function(){return new s(this.dimensions.slice(0),this.dotNotation)},s.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&D(this.dimensions[0])&&"string"===typeof this.dimensions[0].value},s.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},s.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},s.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},s.fromJSON=function(e){return new s(e.dimensions,e.dotNotation)},s.prototype.toHTML=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Oe(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},s.prototype._toTex=function(e){var t=this.dimensions.map((function(t){return t.toTex(e)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},s}),{isClass:!0,isNode:!0}),qt=$e("SymbolNode",["math","?Unit","Node"],(function(e){var t=e.math,n=e.Unit,r=e.Node;function i(e){return!!n&&n.isValuelessUnit(e)}function o(e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if("string"!==typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return o.prototype=new r,o.prototype.type="SymbolNode",o.prototype.isSymbolNode=!0,o.prototype._compile=function(e,t){var r=this.name;if(!0===t[r])return function(e,t,n){return t[r]};if(r in e)return function(t,n,i){return dt(r in t?t:e,r)};var o=i(r);return function(e,t,i){return r in e?dt(e,r):o?new n(null,r):function(e){throw new Error("Undefined symbol "+e)}(r)}},o.prototype.forEach=function(e){},o.prototype.map=function(e){return this.clone()},o.prototype.clone=function(){return new o(this.name)},o.prototype._toString=function(e){return this.name},o.prototype.toHTML=function(e){var t=Oe(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},o.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},o.fromJSON=function(e){return new o(e.name)},o.prototype._toTex=function(e){var n=!1;"undefined"===typeof t[this.name]&&i(this.name)&&(n=!0);var r=ut(this.name,n);return"\\"===r[0]?r:" "+r},o}),{isClass:!0,isNode:!0});function Vt(e){return(Vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Yt=$e("FunctionNode",["math","Node","SymbolNode"],(function(e){var t=e.math,n=e.Node,r=e.SymbolNode;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"===typeof e&&(e=new r(e)),!I(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(I))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var n=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}i.prototype=new n,i.prototype.type="FunctionNode",i.prototype.isFunctionNode=!0,i.prototype._compile=function(e,t){if(!(this instanceof i))throw new TypeError("No valid FunctionNode");var n=Ue(this.args,(function(n){return n._compile(e,t)}));if(U(this.fn)){var r=this.fn.name,o=r in e?dt(e,r):void 0;if("function"===typeof o&&!0===o.rawArgs){var a=this.args;return function(t,n,i){return(r in t?dt(t,r):o)(a,e,Wt({},t,n))}}if(1===n.length){var s=n[0];return function(e,t,n){return(r in e?dt(e,r):o)(s(e,t,n))}}if(2===n.length){var l=n[0],u=n[1];return function(e,t,n){return(r in e?dt(e,r):o)(l(e,t,n),u(e,t,n))}}return function(e,t,i){return(r in e?dt(e,r):o).apply(null,Ue(n,(function(n){return n(e,t,i)})))}}if(E(this.fn)&&L(this.fn.index)&&this.fn.index.isObjectProperty()){var c=this.fn.object._compile(e,t),f=this.fn.index.getObjectProperty(),d=this.args;return function(t,r,i){var o=c(t,r,i);return function(e,t){if(!mt(e,t))throw new Error('No access to method "'+t+'"')}(o,f),o[f]&&o[f].rawArgs?o[f](d,e,Wt({},t,r)):o[f].apply(o,Ue(n,(function(e){return e(t,r,i)})))}}var h=this.fn._compile(e,t),p=this.args;return function(t,r,i){var o=h(t,r,i);return o&&o.rawArgs?o(p,e,Wt({},t,r)):o.apply(o,Ue(n,(function(e){return e(t,r,i)})))}},i.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},i.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new i(t,n)},i.prototype.clone=function(){return new i(this.fn,this.args.slice(0))};var o=i.prototype.toString;function a(e,t,n){for(var r,i="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),a=0;null!==(r=o.exec(e));)if(i+=e.substring(a,r.index),a=r.index,"$$"===r[0])i+="$",a++;else{a+=r[0].length;var s=t[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(Vt(s)){case"string":i+=s;break;case"object":if(I(s))i+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=s.map((function(e,t){if(I(e))return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!I(s[r[2]]&&s[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=s[r[2]].toTex(n)}}return i+=e.slice(a)}i.prototype.toString=function(e){var t,n=this.fn.toString(e);return e&&"object"===Vt(e.handler)&&$(e.handler,n)&&(t=e.handler[n](this,e)),"undefined"!==typeof t?t:o.call(this,e)},i.prototype._toString=function(e){var t=this.args.map((function(t){return t.toString(e)}));return(P(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"},i.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},i.fromJSON=function(e){return new i(e.fn,e.args)},i.prototype.toHTML=function(e){var t=this.args.map((function(t){return t.toHTML(e)}));return'<span class="math-function">'+Oe(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var s=i.prototype.toTex;return i.prototype.toTex=function(e){var t;return e&&"object"===Vt(e.handler)&&$(e.handler,this.name)&&(t=e.handler[this.name](this,e)),"undefined"!==typeof t?t:s.call(this,e)},i.prototype._toTex=function(e){var n,r,i=this.args.map((function(t){return t.toTex(e)}));switch(at[this.name]&&(n=at[this.name]),!t[this.name]||"function"!==typeof t[this.name].toTex&&"object"!==Vt(t[this.name].toTex)&&"string"!==typeof t[this.name].toTex||(n=t[this.name].toTex),Vt(n)){case"function":r=n(this,e);break;case"string":r=a(n,this,e);break;case"object":switch(Vt(n[i.length])){case"function":r=n[i.length](this,e);break;case"string":r=a(n[i.length],this,e)}}return"undefined"!==typeof r?r:a("\\mathrm{${name}}\\left(${args}\\right)",this,e)},i.prototype.getIdentifier=function(){return this.type+":"+this.name},i}),{isClass:!0,isNode:!0});function Gt(e){for(var t=0;t<e.length;t++)if(h(e[t]))return!0;return!1}function Xt(e,t){d(e)&&(e=e.valueOf());for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?Xt(i,t):t(i)}}function $t(e,t,n){return e&&"function"===typeof e.map?e.map((function(e){return $t(e,t,n)})):t(e)}function Zt(e,t,n){var r=Array.isArray(e)?Pe(e):e.size();if(t<0||t>=r.length)throw new De(t,r.length);return d(e)?e.create(Kt(e.valueOf(),t,n)):Kt(e,t,n)}function Kt(e,t,n){var r,i,o,a;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t,n,r=e.length,i=e[0].length,o=[];for(n=0;n<i;n++){var a=[];for(t=0;t<r;t++)a.push(e[t][n]);o.push(a)}return o}(e),i=[],r=0;r<a.length;r++)i[r]=Kt(a[r],t-1,n);return i}for(o=e[0],r=1;r<e.length;r++)o=n(o,e[r]);return o}for(i=[],r=0;r<e.length;r++)i[r]=Kt(e[r],t-1,n);return i}function Jt(e,t,n,r,i,o,a,s,l,u,c){var f,d,h,p,m=e._values,g=e._index,v=e._ptr,y=a._index;if(r)for(d=v[t],h=v[t+1],f=d;f<h;f++)n[p=g[f]]!==o?(n[p]=o,y.push(p),u?(r[p]=l?s(m[f],c):s(c,m[f]),i[p]=o):r[p]=m[f]):(r[p]=l?s(m[f],r[p]):s(r[p],m[f]),i[p]=o);else for(d=v[t],h=v[t+1],f=d;f<h;f++)n[p=g[f]]!==o?(n[p]=o,y.push(p)):i[p]=o}function Qt(){return(Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var en=$e("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(function(e){var t=e.typed,n=e.numeric,r=e.config,i=e.AccessorNode,o=e.ArrayNode,a=e.AssignmentNode,s=e.BlockNode,l=e.ConditionalNode,u=e.ConstantNode,c=e.FunctionAssignmentNode,f=e.FunctionNode,d=e.IndexNode,h=e.ObjectNode,p=e.OperatorNode,m=e.ParenthesisNode,g=e.RangeNode,v=e.RelationalNode,y=e.SymbolNode,b=t("parse",{string:function(e){return F(e,{})},"Array | Matrix":function(e){return x(e,{})},"string, Object":function(e,t){return F(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":x});function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.nodes?t.nodes:{};return $t(e,(function(e){if("string"!==typeof e)throw new TypeError("String expected");return F(e,n)}))}var _={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},w={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},k={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},M={true:!0,false:!1,null:null,undefined:void 0},T=["NaN","Infinity"];function S(e,t){return e.expression.substr(e.index,t)}function A(e){return S(e,1)}function O(e){e.index++}function C(e){return e.expression.charAt(e.index-1)}function N(e){return e.expression.charAt(e.index+1)}function P(e){for(e.tokenType=_.NULL,e.token="",e.comment="";b.isWhitespace(A(e),e.nestingLevel);)O(e);if("#"===A(e))for(;"\n"!==A(e)&&""!==A(e);)e.comment+=A(e),O(e);if(""!==A(e)){if("\n"===A(e)&&!e.nestingLevel)return e.tokenType=_.DELIMITER,e.token=A(e),void O(e);var t=A(e),n=S(e,2),r=S(e,3);if(3===r.length&&w[r])return e.tokenType=_.DELIMITER,e.token=r,O(e),O(e),void O(e);if(2===n.length&&w[n])return e.tokenType=_.DELIMITER,e.token=n,O(e),void O(e);if(w[t])return e.tokenType=_.DELIMITER,e.token=t,void O(e);if(b.isDigitDot(t)){if(e.tokenType=_.NUMBER,"."===A(e))e.token+=A(e),O(e),b.isDigit(A(e))||(e.tokenType=_.DELIMITER);else{for(;b.isDigit(A(e));)e.token+=A(e),O(e);b.isDecimalMark(A(e),N(e))&&(e.token+=A(e),O(e))}for(;b.isDigit(A(e));)e.token+=A(e),O(e);if("E"===A(e)||"e"===A(e))if(b.isDigit(N(e))||"-"===N(e)||"+"===N(e)){if(e.token+=A(e),O(e),"+"!==A(e)&&"-"!==A(e)||(e.token+=A(e),O(e)),!b.isDigit(A(e)))throw le(e,'Digit expected, got "'+A(e)+'"');for(;b.isDigit(A(e));)e.token+=A(e),O(e);if(b.isDecimalMark(A(e),N(e)))throw le(e,'Digit expected, got "'+A(e)+'"')}else if("."===N(e))throw O(e),le(e,'Digit expected, got "'+A(e)+'"')}else{if(!b.isAlpha(A(e),C(e),N(e))){for(e.tokenType=_.UNKNOWN;""!==A(e);)e.token+=A(e),O(e);throw le(e,'Syntax error in part "'+e.token+'"')}for(;b.isAlpha(A(e),C(e),N(e))||b.isDigit(A(e));)e.token+=A(e),O(e);$(k,e.token)?e.tokenType=_.DELIMITER:e.tokenType=_.SYMBOL}}else e.tokenType=_.DELIMITER}function L(e){do{P(e)}while("\n"===e.token)}function I(e){e.nestingLevel++}function j(e){e.nestingLevel--}function F(e,t){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:_.NULL,nestingLevel:0,conditionalLevel:null};Qt(n,{expression:e,extraNodes:t}),P(n);var r=function(e){var t,n,r=[];""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=B(e)).comment=e.comment);for(;"\n"===e.token||";"===e.token;)0===r.length&&t&&(n=";"!==e.token,r.push({node:t,visible:n})),P(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=B(e)).comment=e.comment,n=";"!==e.token,r.push({node:t,visible:n}));return r.length>0?new s(r):(t||((t=new u(void 0)).comment=e.comment),t)}(n);if(""!==n.token)throw n.tokenType===_.DELIMITER?ue(n,"Unexpected operator "+n.token):le(n,'Unexpected part "'+n.token+'"');return r}function B(e){var t,n,r,i,o=function(e){var t=function(e){var t=H(e);for(;"or"===e.token;)L(e),t=new p("or","or",[t,H(e)]);return t}(e);for(;"?"===e.token;){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,L(e);var r=t,i=B(e);if(":"!==e.token)throw le(e,"False part of conditional expression expected");e.conditionalLevel=null,L(e);var o=B(e);t=new l(r,i,o),e.conditionalLevel=n}return t}(e);if("="===e.token){if(U(o))return t=o.name,L(e),r=B(e),new a(new y(t),r);if(E(o))return L(e),r=B(e),new a(o.object,o.index,r);if(R(o)&&U(o.fn)&&(i=!0,n=[],t=o.name,o.args.forEach((function(e,t){U(e)?n[t]=e.name:i=!1})),i))return L(e),r=B(e),new c(t,n,r);throw le(e,"Invalid left hand side of assignment operator =")}return o}function H(e){for(var t=q(e);"xor"===e.token;)L(e),t=new p("xor","xor",[t,q(e)]);return t}function q(e){for(var t=V(e);"and"===e.token;)L(e),t=new p("and","and",[t,V(e)]);return t}function V(e){for(var t=W(e);"|"===e.token;)L(e),t=new p("|","bitOr",[t,W(e)]);return t}function W(e){for(var t=Y(e);"^|"===e.token;)L(e),t=new p("^|","bitXor",[t,Y(e)]);return t}function Y(e){for(var t=G(e);"&"===e.token;)L(e),t=new p("&","bitAnd",[t,G(e)]);return t}function G(e){for(var t=[X(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};$(r,e.token);){var i={name:e.token,fn:r[e.token]};n.push(i),L(e),t.push(X(e))}return 1===t.length?t[0]:2===t.length?new p(n[0].name,n[0].fn,t):new v(n.map((function(e){return e.fn})),t)}function X(e){var t,n,r,i;t=Z(e);for(var o={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};$(o,e.token);)r=o[n=e.token],L(e),i=[t,Z(e)],t=new p(n,r,i);return t}function Z(e){var t,n,r,i;t=K(e);for(var o={to:"to",in:"to"};$(o,e.token);)r=o[n=e.token],L(e),"in"===n&&""===e.token?t=new p("*","multiply",[t,new y("in")],!0):(i=[t,K(e)],t=new p(n,r,i));return t}function K(e){var t,n=[];if(t=":"===e.token?new u(1):J(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(n.push(t);":"===e.token&&n.length<3;)L(e),")"===e.token||"]"===e.token||","===e.token||""===e.token?n.push(new y("end")):n.push(J(e));t=3===n.length?new g(n[0],n[2],n[1]):new g(n[0],n[1])}return t}function J(e){var t,n,r,i;t=Q(e);for(var o={"+":"add","-":"subtract"};$(o,e.token);)r=o[n=e.token],L(e),i=[t,Q(e)],t=new p(n,r,i);return t}function Q(e){var t,n,r,i;n=t=ee(e);for(var o={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};$(o,e.token);)i=o[r=e.token],L(e),n=ee(e),t=new p(r,i,[t,n]);return t}function ee(e){var t,n;for(n=t=te(e);e.tokenType===_.SYMBOL||"in"===e.token&&D(t)||!(e.tokenType!==_.NUMBER||D(n)||z(n)&&"!"!==n.op)||"("===e.token;)n=te(e),t=new p("*","multiply",[t,n],!0);return t}function te(e){for(var t=ne(e),n=t,r=[];"/"===e.token&&D(n);){if(r.push(Qt({},e)),L(e),e.tokenType!==_.NUMBER){Qt(e,r.pop());break}if(r.push(Qt({},e)),L(e),e.tokenType!==_.SYMBOL&&"("!==e.token){r.pop(),Qt(e,r.pop());break}Qt(e,r.pop()),r.pop(),n=ne(e),t=new p("/","divide",[t,n])}return t}function ne(e){var t,i,a,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return $(s,e.token)?(a=s[e.token],t=e.token,L(e),i=[ne(e)],new p(t,a,i)):function(e){var t,i,a,s;t=function(e){var t,i,a;t=function(e){var t=[];if(e.tokenType===_.SYMBOL&&$(e.extraNodes,e.token)){var i=e.extraNodes[e.token];if(P(e),"("===e.token){if(t=[],I(e),P(e),")"!==e.token)for(t.push(B(e));","===e.token;)P(e),t.push(B(e));if(")"!==e.token)throw le(e,"Parenthesis ) expected");j(e),P(e)}return new i(t)}return function(e){var t,i;if(e.tokenType===_.SYMBOL||e.tokenType===_.DELIMITER&&e.token in k)return i=e.token,P(e),t=$(M,i)?new u(M[i]):-1!==T.indexOf(i)?new u(n(i,"number")):new y(i),t=re(e,t);return function(e){var t,i;if('"'===e.token)return i=ie(e),t=new u(i),t=re(e,t);return function(e){var t,i;if("'"===e.token)return i=oe(e),t=new u(i),t=re(e,t);return function(e){var t,i,a,s;if("["===e.token){if(I(e),P(e),"]"!==e.token){var l=ae(e);if(";"===e.token){for(a=1,i=[l];";"===e.token;)P(e),i[a]=ae(e),a++;if("]"!==e.token)throw le(e,"End of matrix ] expected");j(e),P(e),s=i[0].items.length;for(var c=1;c<a;c++)if(i[c].items.length!==s)throw ue(e,"Column dimensions mismatch ("+i[c].items.length+" !== "+s+")");t=new o(i)}else{if("]"!==e.token)throw le(e,"End of matrix ] expected");j(e),P(e),t=l}}else j(e),P(e),t=new o([]);return re(e,t)}return function(e){if("{"===e.token){var t;I(e);var i={};do{if(P(e),"}"!==e.token){if('"'===e.token)t=ie(e);else if("'"===e.token)t=oe(e);else{if(e.tokenType!==_.SYMBOL)throw le(e,"Symbol or string expected as object key");t=e.token,P(e)}if(":"!==e.token)throw le(e,"Colon : expected after object key");P(e),i[t]=B(e)}}while(","===e.token);if("}"!==e.token)throw le(e,"Comma , or bracket } expected after object value");j(e),P(e);var o=new h(i);return o=re(e,o)}return function(e){var t;if(e.tokenType===_.NUMBER)return t=e.token,P(e),new u(n(t,r.number));return function(e){var t;if("("===e.token){if(I(e),P(e),t=B(e),")"!==e.token)throw le(e,"Parenthesis ) expected");return j(e),P(e),t=new m(t),t=re(e,t)}return function(e){throw""===e.token?le(e,"Unexpected end of expression"):le(e,"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);var s={"!":"factorial","'":"ctranspose"};for(;$(s,e.token);)i=e.token,a=s[i],P(e),t=new p(i,a,[t]),t=re(e,t);return t}(e),("^"===e.token||".^"===e.token)&&(i=e.token,a="^"===i?"pow":"dotPow",L(e),s=[t,ne(e)],t=new p(i,a,s));return t}(e)}function re(e,t,n){for(var r;("("===e.token||"["===e.token||"."===e.token)&&(!n||-1!==n.indexOf(e.token));)if(r=[],"("===e.token){if(!U(t)&&!E(t))return t;if(I(e),P(e),")"!==e.token)for(r.push(B(e));","===e.token;)P(e),r.push(B(e));if(")"!==e.token)throw le(e,"Parenthesis ) expected");j(e),P(e),t=new f(t,r)}else if("["===e.token){if(I(e),P(e),"]"!==e.token)for(r.push(B(e));","===e.token;)P(e),r.push(B(e));if("]"!==e.token)throw le(e,"Parenthesis ] expected");j(e),P(e),t=new i(t,new d(r))}else{if(P(e),e.tokenType!==_.SYMBOL)throw le(e,"Property name expected after dot");r.push(new u(e.token)),P(e);t=new i(t,new d(r,!0))}return t}function ie(e){for(var t="";""!==A(e)&&'"'!==A(e);)"\\"===A(e)&&(t+=A(e),O(e)),t+=A(e),O(e);if(P(e),'"'!==e.token)throw le(e,'End of string " expected');return P(e),JSON.parse('"'+t+'"')}function oe(e){for(var t="";""!==A(e)&&"'"!==A(e);)"\\"===A(e)&&(t+=A(e),O(e)),t+=A(e),O(e);if(P(e),"'"!==e.token)throw le(e,"End of string ' expected");return P(e),JSON.parse('"'+t+'"')}function ae(e){for(var t=[B(e)],n=1;","===e.token;)P(e),t[n]=B(e),n++;return new o(t)}function se(e){return e.index-e.token.length+1}function le(e,t){var n=se(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function ue(e,t){var n=se(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return b.isAlpha=function(e,t,n){return b.isValidLatinOrGreek(e)||b.isValidMathSymbol(e,n)||b.isValidMathSymbol(t,e)},b.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},b.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},b.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},b.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},b.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},b.isDigit=function(e){return e>="0"&&e<="9"},b})),tn=$e("evaluate",["typed","parse"],(function(e){var t=e.typed,n=e.parse;return t("evaluate",{string:function(e){return n(e).compile().evaluate({})},"string, Object":function(e,t){return n(e).compile().evaluate(t)},"Array | Matrix":function(e){var t={};return $t(e,(function(e){return n(e).compile().evaluate(t)}))},"Array | Matrix, Object":function(e,t){return $t(e,(function(e){return n(e).compile().evaluate(t)}))}})})),nn=$e("Parser",["parse"],(function(e){var t=e.parse;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},n.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},n.prototype.evaluate=function(e){return t(e).compile().evaluate(this.scope)},n.prototype.eval=function(e){return Ke("Method Parser.eval is renamed to Parser.evaluate. Please use the new method name."),this.evaluate(e)},n.prototype.get=function(e){return e in this.scope?dt(this.scope,e):void 0},n.prototype.getAll=function(){return G({},this.scope)},n.prototype.set=function(e,t){return ht(this.scope,e,t)},n.prototype.remove=function(e){delete this.scope[e]},n.prototype.clear=function(){for(var e in this.scope)$(this.scope,e)&&delete this.scope[e]},n}),{isClass:!0}),rn=$e("Help",["parse"],(function(e){var t=e.parse;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var e=this.doc||{},n="\n";if(e.name&&(n+="Name: "+e.name+"\n\n"),e.category&&(n+="Category: "+e.category+"\n\n"),e.description&&(n+="Description:\n    "+e.description+"\n\n"),e.syntax&&(n+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){n+="Examples:\n";for(var r={},i=0;i<e.examples.length;i++){var o=e.examples[i];n+="    "+o+"\n";var a=void 0;try{a=t(o).compile().evaluate(r)}catch(s){a=s}void 0===a||x(a)||(n+="        "+Ee(a,{precision:14})+"\n")}n+="\n"}return e.seealso&&e.seealso.length&&(n+="See also: "+e.seealso.join(", ")+"\n"),n},n.prototype.toJSON=function(){var e=W(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t={};for(var r in e)"mathjs"!==r&&(t[r]=e[r]);return new n(t)},n.prototype.valueOf=n.prototype.toString,n}),{isClass:!0}),on=$e("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],(function(e){var t=e.FunctionNode,n=e.OperatorNode,r=e.SymbolNode,i={add:!0,multiply:!0},o={add:!0,multiply:!0};function a(e,t){if(!z(e))return!1;var n=e.fn.toString();return t&&$(t,n)&&$(t[n],"associative")?t[n].associative:o[n]||!1}function s(e){var t,n=[];return a(e)?(t=e.op,function e(r){for(var i=0;i<r.args.length;i++){var o=r.args[i];z(o)&&t===o.op?e(o):n.push(o)}}(e),n):e.args}function l(e){return z(e)?function(t){try{return new n(e.op,e.fn,t,e.implicit)}catch(r){return console.error(r),[]}}:function(n){return new t(new r(e.name),n)}}return{createMakeNodeFunction:l,isCommutative:function(e,t){if(!z(e))return!0;var n=e.fn.toString();return t&&$(t,n)&&$(t[n],"commutative")?t[n].commutative:i[n]||!1},isAssociative:a,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=s(t);for(var n=0;n<t.args.length;n++)e(t.args[n])},allChildren:s,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var n=l(t),r=t.args.length,i=0;i<r;i++)e(t.args[i]);if(r>2&&a(t)){for(var o=t.args.pop();t.args.length>0;)o=n([t.args.pop(),o]);t.args=o.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var n=l(t),r=t.args.length,i=0;i<r;i++)e(t.args[i]);if(r>2&&a(t)){for(var o=t.args.shift();t.args.length>0;)o=n([o,t.args.shift()]);t.args=o.args}}}}})),an=$e("simplifyCore",["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],(function(e){var t=e.equal,n=e.isZero,r=e.add,i=e.subtract,o=e.multiply,a=e.divide,s=e.pow,l=e.ConstantNode,u=e.OperatorNode,c=e.FunctionNode,f=e.ParenthesisNode,d=new l(0),h=new l(1);return function e(p){if(z(p)&&p.isUnary()){var m=e(p.args[0]);if("+"===p.op)return m;if("-"===p.op){if(z(m)){if(m.isUnary()&&"-"===m.op)return m.args[0];if(m.isBinary()&&"subtract"===m.fn)return new u("-","subtract",[m.args[1],m.args[0]])}return new u(p.op,p.fn,[m])}}else if(z(p)&&p.isBinary()){var g=e(p.args[0]),v=e(p.args[1]);if("+"===p.op){if(D(g)){if(n(g.value))return v;if(D(v))return new l(r(g.value,v.value))}return D(v)&&n(v.value)?g:z(v)&&v.isUnary()&&"-"===v.op?new u("-","subtract",[g,v.args[0]]):new u(p.op,p.fn,v?[g,v]:[g])}if("-"===p.op){if(D(g)&&v){if(D(v))return new l(i(g.value,v.value));if(n(g.value))return new u("-","unaryMinus",[v])}if("subtract"===p.fn)return D(v)&&n(v.value)?g:z(v)&&v.isUnary()&&"-"===v.op?e(new u("+","add",[g,v.args[0]])):new u(p.op,p.fn,[g,v])}else{if("*"===p.op){if(D(g)){if(n(g.value))return d;if(t(g.value,1))return v;if(D(v))return new l(o(g.value,v.value))}if(D(v)){if(n(v.value))return d;if(t(v.value,1))return g;if(z(g)&&g.isBinary()&&g.op===p.op){var y=g.args[0];if(D(y)){var b=new l(o(y.value,v.value));return new u(p.op,p.fn,[b,g.args[1]],p.implicit)}}return new u(p.op,p.fn,[v,g],p.implicit)}return new u(p.op,p.fn,[g,v],p.implicit)}if("/"===p.op){if(D(g)){if(n(g.value))return d;if(D(v)&&(t(v.value,1)||t(v.value,2)||t(v.value,4)))return new l(a(g.value,v.value))}return new u(p.op,p.fn,[g,v])}if("^"===p.op){if(D(v)){if(n(v.value))return h;if(t(v.value,1))return g;if(D(g))return new l(s(g.value,v.value));if(z(g)&&g.isBinary()&&"^"===g.op){var x=g.args[1];if(D(x))return new u(p.op,p.fn,[g.args[0],new l(o(x.value,v.value))])}}return new u(p.op,p.fn,[g,v])}}}else{if(F(p)){var _=e(p.content);return F(_)||U(_)||D(_)?_:new f(_)}if(R(p)){var w=p.args.map(e).map((function(e){return F(e)?e.content:e}));return new c(e(p.fn),w)}}return p}}));function sn(){throw new Error('No "bignumber" implementation available')}function ln(){throw new Error('No "fraction" implementation available')}function un(){throw new Error('No "matrix" implementation available')}var cn=$e("simplifyConstant",["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],(function(e){var t=e.typed,n=e.config,r=e.mathWithTransform,i=e.fraction,o=e.bignumber,a=e.ConstantNode,s=e.OperatorNode,u=e.FunctionNode,c=e.SymbolNode,f=on({FunctionNode:u,OperatorNode:s,SymbolNode:c}),d=f.isCommutative,h=f.isAssociative,p=f.allChildren,m=f.createMakeNodeFunction;function g(e,t,n){try{return b(r[e].apply(null,t),n)}catch(i){return t=t.map((function(e){return l(e)?e.valueOf():e})),b(r[e].apply(null,t),n)}}var v=t({Fraction:function(e){var t,n=e.s*e.n;t=n<0?new s("-","unaryMinus",[new a(-n)]):new a(n);if(1===e.d)return t;return new s("/","divide",[t,new a(e.d)])},number:function(e){return e<0?x(new a(-e)):new a(e)},BigNumber:function(e){return e<0?x(new a(-e)):new a(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")}});function y(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&i){var n=i(e);if(n.valueOf()===e)return n}return e}var b=t({"string, Object":function(e,t){return"BigNumber"===n.number?(void 0===o&&sn(),o(e)):"Fraction"===n.number?(void 0===i&&ln(),i(e)):y(parseFloat(e),t)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return y(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:y(e.re,t)}});function x(e){return new s("-","unaryMinus",[e])}function _(e,t,n,r){return t.reduce((function(t,i){if(I(t)||I(i))I(t)?I(i)||(i=v(i)):t=v(t);else{try{return g(e,[t,i],r)}catch(o){}t=v(t),i=v(i)}return n([t,i])}))}return function(e,t){var n=function e(t,n){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"!==typeof t.value&&isNaN(t.value)?t:b(t.value,n);case"FunctionNode":if(r[t.name]&&r[t.name].rawArgs)return t;if(-1===["add","multiply"].indexOf(t.name)){var i=t.args.map((function(t){return e(t,n)}));if(!i.some(I))try{return g(t.name,i,n)}catch(x){}return i=i.map((function(e){return I(e)?e:v(e)})),new u(t.name,i)}case"OperatorNode":var o,a,s=t.fn.toString(),l=m(t);if(z(t)&&t.isUnary())o=[e(t.args[0],n)],a=I(o[0])?l(o):g(s,o,n);else if(h(t))if(o=(o=p(t)).map((function(t){return e(t,n)})),d(s)){for(var c=[],f=[],y=0;y<o.length;y++)I(o[y])?f.push(o[y]):c.push(o[y]);c.length>1?(a=_(s,c,l,n),f.unshift(a),a=_(s,f,l,n)):a=_(s,o,l,n)}else a=_(s,o,l,n);else o=t.args.map((function(t){return e(t,n)})),a=_(s,o,l,n);return a;case"ParenthesisNode":return e(t.content,n);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(t.type))}}(e,t);return I(n)?n:v(n)}})),fn=$e("resolve",["parse","FunctionNode","OperatorNode","ParenthesisNode"],(function(e){var t=e.parse,n=e.FunctionNode,r=e.OperatorNode,i=e.ParenthesisNode;return function e(o,a){if(!a)return o;if(U(o)){var s=a[o.name];if(I(s))return e(s,a);if("number"===typeof s)return t(String(s))}else{if(z(o)){var l=o.args.map((function(t){return e(t,a)}));return new r(o.op,o.fn,l,o.implicit)}if(F(o))return new i(e(o.content,a));if(R(o)){var u=o.args.map((function(t){return e(t,a)}));return new n(o.name,u)}}return o}}));function dn(e){return(dn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var hn=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],pn=$e("simplify",hn,(function(e){var t=e.config,n=e.typed,r=e.parse,i=e.add,o=e.subtract,a=e.multiply,s=e.divide,l=e.pow,u=e.isZero,c=e.equal,f=e.fraction,d=e.bignumber,h=e.mathWithTransform,p=e.ConstantNode,m=e.FunctionNode,g=e.OperatorNode,v=e.ParenthesisNode,y=e.SymbolNode,b=cn({typed:n,config:t,mathWithTransform:h,fraction:f,bignumber:d,ConstantNode:p,OperatorNode:g,FunctionNode:m,SymbolNode:y}),x=an({equal:c,isZero:u,add:i,subtract:o,multiply:a,divide:s,pow:l,ConstantNode:p,OperatorNode:g,FunctionNode:m,ParenthesisNode:v}),_=fn({parse:r,FunctionNode:m,OperatorNode:g,ParenthesisNode:v}),w=on({FunctionNode:m,OperatorNode:g,SymbolNode:y}),k=w.isCommutative,M=w.isAssociative,T=w.flatten,S=w.unflattenr,E=w.unflattenl,A=w.createMakeNodeFunction,O=n("simplify",{string:function(e){return O(r(e),O.rules,{},{})},"string, Object":function(e,t){return O(r(e),O.rules,t,{})},"string, Object, Object":function(e,t,n){return O(r(e),O.rules,t,n)},"string, Array":function(e,t){return O(r(e),t,{},{})},"string, Array, Object":function(e,t,n){return O(r(e),t,n,{})},"string, Array, Object, Object":function(e,t,n,i){return O(r(e),t,n,i)},"Node, Object":function(e,t){return O(e,O.rules,t,{})},"Node, Object, Object":function(e,t,n){return O(e,O.rules,t,n)},Node:function(e){return O(e,O.rules,{},{})},"Node, Array":function(e,t){return O(e,t,{},{})},"Node, Array, Object":function(e,t,n){return O(e,t,n,{})},"Node, Array, Object, Object":function(e,t,n,i){t=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=void 0,a=dn(i);switch(a){case"string":var s=i.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+i);i={l:s[0],r:s[1]};case"object":if(o={l:C(r(i.l)),r:C(r(i.r))},i.context&&(o.evaluate=i.context),i.evaluate&&(o.evaluate=r(i.evaluate)),M(o.l)){var l=A(o.l),u=new y("_p"+P++);o.expanded={},o.expanded.l=l([o.l.clone(),u]),T(o.expanded.l),S(o.expanded.l),o.expanded.r=l([o.r,u])}break;case"function":o=i;break;default:throw TypeError("Unsupported type of rule: "+a)}t.push(o)}return t}(t);for(var o=_(e,n),a={},s=(o=C(o)).toString({parenthesis:"all"});!a[s];){a[s]=!0,P=0;for(var l=0;l<t.length;l++)"function"===typeof t[l]?o=t[l](o,i):(T(o),o=R(o,t[l])),E(o);s=o.toString({parenthesis:"all"})}return o}});function C(e){return e.transform((function(e,t,n){return F(e)?C(e.content):e}))}O.simplifyCore=x,O.resolve=_;var N={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};O.rules=[x,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},b,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var P=0;var R=n("applyRule",{"Node, Object":function(e,t){var n=e;if(n instanceof g||n instanceof m){if(n.args)for(var r=0;r<n.args.length;r++)n.args[r]=R(n.args[r],t)}else n instanceof v&&n.content&&(n.content=R(n.content,t));var i=t.r,o=j(t.l,n)[0];if(!o&&t.expanded&&(i=t.expanded.r,o=j(t.expanded.l,n)[0]),o){var a=n.implicit;n=i.clone(),a&&"implicit"in i&&(n.implicit=!0),n=n.transform((function(e){return e.isSymbolNode&&$(o.placeholders,e.name)?o.placeholders[e.name].clone():e}))}return n}});function L(e,t){var n={placeholders:{}};if(!e.placeholders&&!t.placeholders)return n;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var r in e.placeholders)if(n.placeholders[r]=e.placeholders[r],$(t.placeholders,r)&&!z(e.placeholders[r],t.placeholders[r]))return null;for(var i in t.placeholders)n.placeholders[i]=t.placeholders[i];return n}function I(e,t){var n,r=[];if(0===e.length||0===t.length)return r;for(var i=0;i<e.length;i++)for(var o=0;o<t.length;o++)(n=L(e[i],t[o]))&&r.push(n);return r}function j(e,t,n){var r=[{placeholders:{}}];if(e instanceof g&&t instanceof g||e instanceof m&&t instanceof m){if(e instanceof g){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof m&&e.name!==t.name)return[];if((1!==t.args.length||1!==e.args.length)&&M(t)&&!n){if(t.args.length>=2&&2===e.args.length){for(var i=function(e,t){var n,r,i=[],o=A(e);if(k(e,t))for(var a=0;a<e.args.length;a++)(r=e.args.slice(0)).splice(a,1),n=1===r.length?r[0]:o(r),i.push(o([e.args[a],n]));else n=1===(r=e.args.slice(1)).length?r[0]:o(r),i.push(o([e.args[0],n]));return i}(t,e.context),o=[],a=0;a<i.length;a++){var s=j(e,i[a],!0);o=o.concat(s)}return o}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var l=[],u=0;u<e.args.length;u++){var f=j(e.args[u],t.args[u]);if(0===f.length)return[];l.push(f)}r=function(e){if(0===e.length)return e;for(var t=e.reduce(I),n=[],r={},i=0;i<t.length;i++){var o=JSON.stringify(t[i]);r[o]||(r[o]=!0,n.push(t[i]))}return n}(l)}else if(e instanceof y){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(N[e.name]){if(e.name!==t.name)return[]}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))r[0].placeholders[e.name]=t;else if("v"===e.name[0]){if(D(t))return[];r[0].placeholders[e.name]=t}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof p))return[];r[0].placeholders[e.name]=t}}else{if(!(e instanceof p))return[];if(!c(e.value,t.value))return[]}return r}function z(e,t){if(e instanceof p&&t instanceof p){if(!c(e.value,t.value))return!1}else if(e instanceof y&&t instanceof y){if(e.name!==t.name)return!1}else{if(!(e instanceof g&&t instanceof g||e instanceof m&&t instanceof m))return!1;if(e instanceof g){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof m&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var n=0;n<e.args.length;n++)if(!z(e.args[n],t.args[n]))return!1}return!0}return O})),mn=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],gn=$e("rationalize",mn,(function(e){var t=e.config,n=e.typed,r=e.equal,i=e.isZero,o=e.add,a=e.subtract,s=e.multiply,l=e.divide,u=e.pow,c=e.parse,f=e.simplify,d=e.fraction,h=e.bignumber,p=e.mathWithTransform,m=e.ConstantNode,g=e.OperatorNode,v=e.FunctionNode,y=e.SymbolNode,b=e.ParenthesisNode,x=cn({typed:n,config:t,mathWithTransform:p,fraction:d,bignumber:h,ConstantNode:m,OperatorNode:g,FunctionNode:v,SymbolNode:y}),_=an({equal:r,isZero:i,add:o,subtract:a,multiply:s,divide:l,pow:u,ConstantNode:m,OperatorNode:g,FunctionNode:v,ParenthesisNode:b}),w=n("rationalize",{string:function(e){return w(c(e),{},!1)},"string, boolean":function(e,t){return w(c(e),{},t)},"string, Object":function(e,t){return w(c(e),t,!1)},"string, Object, boolean":function(e,t,n){return w(c(e),t,n)},Node:function(e){return w(e,{},!1)},"Node, boolean":function(e,t){return w(e,{},t)},"Node, Object":function(e,t){return w(e,t,!1)},"Node, Object, boolean":function(e,t,n){var r=function(){var e=[_,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},x,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],n=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],r={};return r.firstRules=e.concat(t,n),r.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],r.sucDivRules=n,r.firstRulesAgain=e.concat(t),r.finalRules=[_,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},x,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],r}(),i=function(e,t,n,r){var i=[],o=f(e,r,t,{exactFractions:!1}),a="+-*"+((n=!!n)?"/":"");!function e(t){var n=t.type;if("FunctionNode"===n)throw new Error("There is an unsolved function call");if("OperatorNode"===n)if("^"===t.op){if("unaryMinus"===t.args[1].fn&&(t=t.args[0]),"ConstantNode"!==t.args[1].type||!te(parseFloat(t.args[1].value)))throw new Error("There is a non-integer exponent");e(t.args[0])}else{if(-1===a.indexOf(t.op))throw new Error("Operator "+t.op+" invalid in polynomial expression");for(var r=0;r<t.args.length;r++)e(t.args[r])}else if("SymbolNode"===n){var o=t.name;-1===i.indexOf(o)&&i.push(o)}else if("ParenthesisNode"===n)e(t.content);else if("ConstantNode"!==n)throw new Error("type "+n+" is not allowed in polynomial expression")}(o);var s={};return s.expression=o,s.variables=i,s}(e,t,!0,r.firstRules),o=i.variables.length;if(e=i.expression,o>=1){var a,s;e=function e(t,n,r){var i=t.type;var o=arguments.length>1;if("OperatorNode"===i&&t.isBinary()){var a,s=!1;if("^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(a=parseFloat(t.args[1].value),s=a>=2&&te(a))),s){if(a>2){var l=t.args[0],u=new g("^","pow",[t.args[0].cloneDeep(),new m(a-1)]);t=new g("*","multiply",[l,u])}else t=new g("*","multiply",[t.args[0],t.args[0].cloneDeep()]);o&&("content"===r?n.content=t:n.args[r]=t)}}if("ParenthesisNode"===i)e(t.content,t,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var c=0;c<t.args.length;c++)e(t.args[c],t,c);if(!o)return t}(e);var l,u=!0,c=!1;for(e=f(e,r.firstRules,{},{exactFractions:!1});s=u?r.distrDivRules:r.sucDivRules,u=!u,(l=(e=f(e,s)).toString())!==a;)c=!0,a=l;c&&(e=f(e,r.firstRulesAgain,{},{exactFractions:!1})),e=f(e,r.finalRules,{},{exactFractions:!1})}var d=[],h={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===o&&(e.args[0]=k(e.args[0],d),e.args[1]=k(e.args[1])),n&&(h.numerator=e.args[0],h.denominator=e.args[1])):(1===o&&(e=k(e,d)),n&&(h.numerator=e,h.denominator=null)),n?(h.coefficients=d,h.variables=i.variables,h.expression=e,h):e}});function k(e,t){void 0===t&&(t=[]),t[0]=0;var n={cte:1,oper:"+",fire:""},r=0,i="";!function e(n,o,a){var s=n.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(n.op))throw new Error("Operator "+n.op+" invalid");if(null!==o){if(("unaryMinus"===n.fn||"pow"===n.fn)&&"add"!==o.fn&&"subtract"!==o.fn&&"multiply"!==o.fn)throw new Error("Invalid "+n.op+" placing");if(("subtract"===n.fn||"add"===n.fn||"multiply"===n.fn)&&"add"!==o.fn&&"subtract"!==o.fn)throw new Error("Invalid "+n.op+" placing");if(("subtract"===n.fn||"add"===n.fn||"unaryMinus"===n.fn)&&0!==a.noFil)throw new Error("Invalid "+n.op+" placing")}"^"!==n.op&&"*"!==n.op||(a.fire=n.op);for(var l=0;l<n.args.length;l++)"unaryMinus"===n.fn&&(a.oper="-"),"+"!==n.op&&"subtract"!==n.fn||(a.fire="",a.cte=1,a.oper=0===l?"+":n.op),a.noFil=l,e(n.args[l],n,a)}else if("SymbolNode"===s){if(n.name!==i&&""!==i)throw new Error("There is more than one variable");if(i=n.name,null===o)return void(t[1]=1);if("^"===o.op&&0!==a.noFil)throw new Error("In power the variable should be the first parameter");if("*"===o.op&&1!==a.noFil)throw new Error("In multiply the variable should be the second parameter");""!==a.fire&&"*"!==a.fire||(r<1&&(t[1]=0),t[1]+=a.cte*("+"===a.oper?1:-1),r=Math.max(1,r))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var u=parseFloat(n.value);if(null===o)return void(t[0]=u);if("^"===o.op){if(1!==a.noFil)throw new Error("Constant cannot be powered");if(!te(u)||u<=0)throw new Error("Non-integer exponent is not allowed");for(var c=r+1;c<u;c++)t[c]=0;return u>r&&(t[u]=0),t[u]+=a.cte*("+"===a.oper?1:-1),void(r=Math.max(u,r))}a.cte=u,""===a.fire&&(t[0]+=a.cte*("+"===a.oper?1:-1))}}(e,null,n);for(var o,a=!0,s=r=t.length-1;s>=0;s--)if(0!==t[s]){var l=new m(a?t[s]:Math.abs(t[s])),u=t[s]<0?"-":"+";if(s>0){var c=new y(i);if(s>1){var f=new m(s);c=new g("^","pow",[c,f])}l=-1===t[s]&&a?new g("-","unaryMinus",[c]):1===Math.abs(t[s])?c:new g("*","multiply",[l,c])}o=a?l:"+"===u?new g("+","add",[o,l]):new g("-","subtract",[o,l]),a=!1}return a?new m(0):o}return w})),vn={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},yn={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},bn={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},xn={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},_n={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},wn={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:xn,E:xn,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:bn,PI:bn,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:yn,eval:yn,help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:_n,var:_n,acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},typeOf:vn,typeof:vn,numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},kn=$e("help",["typed","mathWithTransform","Help"],(function(e){var t=e.typed,n=e.mathWithTransform,r=e.Help;return t("help",{any:function(e){var t,i=e;if("string"!==typeof e)for(t in n)if($(n,t)&&e===n[t]){i=t;break}var o=dt(wn,i);if(!o){var a="function"===typeof i?i.name:i;throw new Error('No documentation found on "'+a+'"')}return new r(o)}})})),Mn=$e("compile",["typed","parse"],(function(e){var t=e.typed,n=e.parse;return t("compile",{string:function(e){return n(e).compile()},"Array | Matrix":function(e){return $t(e,(function(e){return n(e).compile()}))}})})),Tn=$e("parser",["typed","Parser"],(function(e){var t=e.typed,n=e.Parser;return t("parser",{"":function(){return new n}})})),Sn=$e("derivative",["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],(function(e){var t=e.typed,n=e.config,r=e.parse,i=e.simplify,o=e.equal,a=e.isZero,s=e.numeric,l=e.ConstantNode,u=e.FunctionNode,c=e.OperatorNode,f=e.ParenthesisNode,d=e.SymbolNode,h=t("derivative",{"Node, SymbolNode, Object":function(e,t,n){var r={};m(r,e,t.name);var o=g(e,r);return n.simplify?i(o):o},"Node, SymbolNode":function(e,t){return h(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return h(r(e),t)},"string, SymbolNode, Object":function(e,t,n){return h(r(e),t,n)},"string, string":function(e,t){return h(r(e),r(t))},"string, string, Object":function(e,t,n){return h(r(e),r(t),n)},"Node, string":function(e,t){return h(e,r(t))},"Node, string, Object":function(e,t,n){return h(e,r(t),n)}});h._simplify=!0,h.toTex=function(e){return p.apply(null,e.args)};var p=t("_derivTex",{"Node, SymbolNode":function(e,t){return D(e)&&"string"===q(e.value)?p(r(e.value).toString(),t.toString(),1):p(e.toString(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===q(t.value))return p(e,r(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,n){return p(e.toString(),t.name,n.value)},"string, string, number":function(e,t,n){return(1===n?"{d\\over d"+t+"}":"{d^{"+n+"}\\over d"+t+"^{"+n+"}}")+"\\left[".concat(e,"\\right]")}}),m=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,n){return t.name!==n&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,n){return m(e,t.content,n)},"Object, FunctionAssignmentNode, string":function(e,t,n){return-1===t.params.indexOf(n)?(e[t]=!0,!0):m(e,t.expr,n)},"Object, FunctionNode | OperatorNode, string":function(e,t,n){if(t.args.length>0){for(var r=m(e,t.args[0],n),i=1;i<t.args.length;++i)r=m(e,t.args[i],n)&&r;if(r)return e[t]=!0,!0}return!1}}),g=t("_derivative",{"ConstantNode, Object":function(e){return v(0)},"SymbolNode, Object":function(e,t){return void 0!==t[e]?v(0):v(1)},"ParenthesisNode, Object":function(e,t){return new f(g(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?v(0):g(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if(("log"===e.name||"nthRoot"===e.name||"pow"===e.name)&&2===e.args.length)return;for(var t=0;t<e.args.length;++t)e.args[t]=v(0);throw e.compile().evaluate(),new Error("Expected TypeError, but none found")}(e),void 0!==t[e])return v(0);var n,r,i,o,a=e.args[0],s=!1,l=!1;switch(e.name){case"cbrt":s=!0,r=new c("*","multiply",[v(3),new c("^","pow",[a,new c("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,r=new c("*","multiply",[v(2),new u("sqrt",[a])]);else if(2===e.args.length)return t[n=new c("/","divide",[v(1),e.args[1]])]=t[e.args[1]],g(new c("^","pow",[a,n]),t);break;case"log10":n=v(10);case"log":if(n||1!==e.args.length){if(1===e.args.length&&n||2===e.args.length&&void 0!==t[e.args[1]])r=new c("*","multiply",[a.clone(),new u("log",[n||e.args[1]])]),s=!0;else if(2===e.args.length)return g(new c("/","divide",[new u("log",[a]),new u("log",[e.args[1]])]),t)}else r=a.clone(),s=!0;break;case"pow":return t[n]=t[e.args[1]],g(new c("^","pow",[a,e.args[1]]),t);case"exp":r=new u("exp",[a.clone()]);break;case"sin":r=new u("cos",[a.clone()]);break;case"cos":r=new c("-","unaryMinus",[new u("sin",[a.clone()])]);break;case"tan":r=new c("^","pow",[new u("sec",[a.clone()]),v(2)]);break;case"sec":r=new c("*","multiply",[e,new u("tan",[a.clone()])]);break;case"csc":l=!0,r=new c("*","multiply",[e,new u("cot",[a.clone()])]);break;case"cot":l=!0,r=new c("^","pow",[new u("csc",[a.clone()]),v(2)]);break;case"asin":s=!0,r=new u("sqrt",[new c("-","subtract",[v(1),new c("^","pow",[a.clone(),v(2)])])]);break;case"acos":s=!0,l=!0,r=new u("sqrt",[new c("-","subtract",[v(1),new c("^","pow",[a.clone(),v(2)])])]);break;case"atan":s=!0,r=new c("+","add",[new c("^","pow",[a.clone(),v(2)]),v(1)]);break;case"asec":s=!0,r=new c("*","multiply",[new u("abs",[a.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[a.clone(),v(2)]),v(1)])])]);break;case"acsc":s=!0,l=!0,r=new c("*","multiply",[new u("abs",[a.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[a.clone(),v(2)]),v(1)])])]);break;case"acot":s=!0,l=!0,r=new c("+","add",[new c("^","pow",[a.clone(),v(2)]),v(1)]);break;case"sinh":r=new u("cosh",[a.clone()]);break;case"cosh":r=new u("sinh",[a.clone()]);break;case"tanh":r=new c("^","pow",[new u("sech",[a.clone()]),v(2)]);break;case"sech":l=!0,r=new c("*","multiply",[e,new u("tanh",[a.clone()])]);break;case"csch":l=!0,r=new c("*","multiply",[e,new u("coth",[a.clone()])]);break;case"coth":l=!0,r=new c("^","pow",[new u("csch",[a.clone()]),v(2)]);break;case"asinh":s=!0,r=new u("sqrt",[new c("+","add",[new c("^","pow",[a.clone(),v(2)]),v(1)])]);break;case"acosh":s=!0,r=new u("sqrt",[new c("-","subtract",[new c("^","pow",[a.clone(),v(2)]),v(1)])]);break;case"atanh":s=!0,r=new c("-","subtract",[v(1),new c("^","pow",[a.clone(),v(2)])]);break;case"asech":s=!0,l=!0,r=new c("*","multiply",[a.clone(),new u("sqrt",[new c("-","subtract",[v(1),new c("^","pow",[a.clone(),v(2)])])])]);break;case"acsch":s=!0,l=!0,r=new c("*","multiply",[new u("abs",[a.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[a.clone(),v(2)]),v(1)])])]);break;case"acoth":s=!0,l=!0,r=new c("-","subtract",[v(1),new c("^","pow",[a.clone(),v(2)])]);break;case"abs":r=new c("/","divide",[new u(new d("abs"),[a.clone()]),a.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(i="/",o="divide"):(i="*",o="multiply");var f=g(a,t);return l&&(f=new c("-","unaryMinus",[f])),new c(i,o,[f,r])},"OperatorNode, Object":function(e,t){if(void 0!==t[e])return v(0);if("+"===e.op)return new c(e.op,e.fn,e.args.map((function(e){return g(e,t)})));if("-"===e.op){if(e.isUnary())return new c(e.op,e.fn,[g(e.args[0],t)]);if(e.isBinary())return new c(e.op,e.fn,[g(e.args[0],t),g(e.args[1],t)])}if("*"===e.op){var n=e.args.filter((function(e){return void 0!==t[e]}));if(n.length>0){var r=e.args.filter((function(e){return void 0===t[e]})),i=1===r.length?r[0]:new c("*","multiply",r),s=n.concat(g(i,t));return new c("*","multiply",s)}return new c("+","add",e.args.map((function(n){return new c("*","multiply",e.args.map((function(e){return e===n?g(e,t):e.clone()})))})))}if("/"===e.op&&e.isBinary()){var l=e.args[0],f=e.args[1];return void 0!==t[f]?new c("/","divide",[g(l,t),f]):void 0!==t[l]?new c("*","multiply",[new c("-","unaryMinus",[l]),new c("/","divide",[g(f,t),new c("^","pow",[f.clone(),v(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[g(l,t),f.clone()]),new c("*","multiply",[l.clone(),g(f,t)])]),new c("^","pow",[f.clone(),v(2)])])}if("^"===e.op&&e.isBinary()){var d=e.args[0],h=e.args[1];if(void 0!==t[d])return D(d)&&(a(d.value)||o(d.value,1))?v(0):new c("*","multiply",[e,new c("*","multiply",[new u("log",[d.clone()]),g(h.clone(),t)])]);if(void 0!==t[h]){if(D(h)){if(a(h.value))return v(0);if(o(h.value,1))return g(d,t)}var p=new c("^","pow",[d.clone(),new c("-","subtract",[h,v(1)])]);return new c("*","multiply",[h.clone(),new c("*","multiply",[g(d,t),p])])}return new c("*","multiply",[new c("^","pow",[d.clone(),h.clone()]),new c("+","add",[new c("*","multiply",[g(d,t),new c("/","divide",[h.clone(),d.clone()])]),new c("*","multiply",[g(h,t),new u("log",[d.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function v(e,t){return new l(s(e,t||n.number))}return h})),En=$e("apply",["typed","isInteger"],(function(e){var t=e.typed,n=e.isInteger;return t("apply",{"Array | Matrix, number | BigNumber, function":function(e,t,r){if(!n(t))throw new TypeError("Integer number expected for dimension");var i=Array.isArray(e)?Pe(e):e.size();if(t<0||t>=i.length)throw new De(t,i.length);return d(e)?e.create(An(e.valueOf(),t,r)):An(e,t,r)}})}));function An(e,t,n){var r,i,o;if(t<=0){if(Array.isArray(e[0])){for(o=function(e){var t,n,r=e.length,i=e[0].length,o=[];for(n=0;n<i;n++){var a=[];for(t=0;t<r;t++)a.push(e[t][n]);o.push(a)}return o}(e),i=[],r=0;r<o.length;r++)i[r]=An(o[r],t-1,n);return i}return n(e)}for(i=[],r=0;r<e.length;r++)i[r]=An(e[r],t-1,n);return i}var On=$e("apply",["typed","isInteger"],(function(e){var t=e.typed,n=e.isInteger,r=En({typed:t,isInteger:n});return t("apply",{"...any":function(e){var t=e[1];o(t)?e[1]=t-1:a(t)&&(e[1]=t.minus(1));try{return r.apply(null,e)}catch(n){throw Rt(n)}}})}),{isTransformFunction:!0});function Cn(e){return(Cn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){return function n(){"object"!==Cn(n.cache)&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t(r):JSON.stringify(r);return o in n.cache||(n.cache[o]=e.apply(e,r)),n.cache[o]}}function Dn(e){return Object.keys(e.signatures||{}).reduce((function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)}),-1)}function Pn(e,t,n){var r=e.filter((function(e){return U(e)&&!(e.name in t)&&!(e.name in n)}))[0];if(!r)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=r.name,o=Object.create(n),a=e.compile();return function(e){return o[i]=e,a.evaluate(o)}}var Rn=$e("filter",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=U(e[1])||P(e[1])?e[1].compile().evaluate(n):Pn(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("filter",{"Array, function":Ln,"Matrix, function":function(e,t){return e.create(Ln(e.toArray(),t))},"Array, RegExp":Ve,"Matrix, RegExp":function(e,t){return e.create(Ve(e.toArray(),t))}});return n}),{isTransformFunction:!0});function Ln(e,t){var n=Dn(t);return qe(e,(function(e,r,i){return 1===n?t(e):2===n?t(e,[r+1]):t(e,[r+1],i)}))}var In=$e("map",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=U(e[1])||P(e[1])?e[1].compile().evaluate(n):Pn(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("map",{"Array, function":function(e,t){return jn(e,t,e)},"Matrix, function":function(e,t){return e.create(jn(e.valueOf(),t,e))}});return n}),{isTransformFunction:!0});function jn(e,t,n){var r=Dn(t);return function e(i,o){return Array.isArray(i)?Ue(i,(function(t,n){return e(t,o.concat(n+1))})):1===r?t(i):2===r?t(i,o):t(i,o,n)}(e,[])}var zn=$e("forEach",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=U(e[1])||P(e[1])?e[1].compile().evaluate(n):Pn(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("forEach",{"Array | Matrix, function":function(e,t){var n=Dn(t);!function r(i,o){Array.isArray(i)?He(i,(function(e,t){r(e,o.concat(t+1))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e.valueOf(),[])}});return n}),{isTransformFunction:!0});function Fn(e,t,n){var r;return-1!==String(e).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+q(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):-1!==String(e).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+q(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}var Bn=$e("max",["typed","larger"],(function(e){var t=e.typed,n=e.larger;return t("max",{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){return Zt(e,t.valueOf(),r)},"...":function(e){if(Gt(e))throw new TypeError("Scalar values expected in function max");return i(e)}});function r(e,t){try{return n(e,t)?e:t}catch(r){throw Fn(r,"max",t)}}function i(e){var t;if(Xt(e,(function(e){try{isNaN(e)&&"number"===typeof e?t=NaN:(void 0===t||n(e,t))&&(t=e)}catch(r){throw Fn(r,"max",e)}})),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}})),Un=$e("max",["typed","larger"],(function(e){var t=e.typed,n=e.larger,r=Bn({typed:t,larger:n});return t("max",{"...any":function(e){if(2===e.length&&h(e[0])){var t=e[1];o(t)?e[1]=t-1:a(t)&&(e[1]=t.minus(1))}try{return r.apply(null,e)}catch(n){throw Rt(n)}}})}),{isTransformFunction:!0}),Hn=$e("min",["typed","smaller"],(function(e){var t=e.typed,n=e.smaller;return t("min",{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){return Zt(e,t.valueOf(),r)},"...":function(e){if(Gt(e))throw new TypeError("Scalar values expected in function min");return i(e)}});function r(e,t){try{return n(e,t)?e:t}catch(r){throw Fn(r,"min",t)}}function i(e){var t;if(Xt(e,(function(e){try{isNaN(e)&&"number"===typeof e?t=NaN:(void 0===t||n(e,t))&&(t=e)}catch(r){throw Fn(r,"min",e)}})),void 0===t)throw new Error("Cannot calculate min of an empty array");return t}})),qn=$e("min",["typed","smaller"],(function(e){var t=e.typed,n=e.smaller,r=Hn({typed:t,smaller:n});return t("min",{"...any":function(e){if(2===e.length&&h(e[0])){var t=e[1];o(t)?e[1]=t-1:a(t)&&(e[1]=t.minus(1))}try{return r.apply(null,e)}catch(n){throw Rt(n)}}})}),{isTransformFunction:!0}),Vn=$e("subset",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix;return t("subset",{"Array, Index":function(e,t){var r=n(e).subset(t);return t.isScalar()?r:r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":Gn,"string, Index":Wn,"Array, Index, any":function(e,t,r){return n(W(e)).subset(t,r,void 0).valueOf()},"Array, Index, any, any":function(e,t,r,i){return n(W(e)).subset(t,r,i).valueOf()},"Matrix, Index, any":function(e,t,n){return e.clone().subset(t,n)},"Matrix, Index, any, any":function(e,t,n,r){return e.clone().subset(t,n,r)},"string, Index, string":Yn,"string, Index, string, string":Yn,"Object, Index, any":Xn})}));function Wn(e,t){if(!v(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new Ne(t.size().length,1);var n=e.length;Le(t.min()[0],n),Le(t.max()[0],n);var r=t.dimension(0),i="";return r.forEach((function(t){i+=e.charAt(t)})),i}function Yn(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new Ne(t.size().length,1);if(void 0!==r){if("string"!==typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0);if(i.size()[0]!==n.length)throw new Ne(i.size()[0],n.length);var o=e.length;Le(t.min()[0]),Le(t.max()[0]);for(var a=[],s=0;s<o;s++)a[s]=e.charAt(s);if(i.forEach((function(e,t){a[e]=n.charAt(t[0])})),a.length>o)for(var l=o-1,u=a.length;l<u;l++)a[l]||(a[l]=r);return a.join("")}function Gn(e,t){if(1!==t.size().length)throw new Ne(t.size(),1);var n=t.dimension(0);if("string"!==typeof n)throw new TypeError("String expected as index to retrieve an object property");return dt(e,n)}function Xn(e,t,n){if(1!==t.size().length)throw new Ne(t.size(),1);var r=t.dimension(0);if("string"!==typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=W(e);return ht(i,r,n),i}var $n=$e("subset",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix,r=Vn({typed:t,matrix:n});return t("subset",{"...any":function(e){try{return r.apply(null,e)}catch(t){throw Rt(t)}}})}),{isTransformFunction:!0}),Zn=$e("concat",["typed","matrix","isInteger"],(function(e){var t=e.typed,n=e.matrix,r=e.isInteger;return t("concat",{"...Array | Matrix | number | BigNumber":function(e){var t,i,s=e.length,l=-1,u=!1,c=[];for(t=0;t<s;t++){var f=e[t];if(d(f)&&(u=!0),o(f)||a(f)){if(t!==s-1)throw new Error("Dimension must be specified as last argument");if(i=l,l=f.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||t>0&&l>i)throw new De(l,i+1)}else{var h=W(f).valueOf(),p=Pe(h);if(c[t]=h,i=l,l=p.length-1,t>0&&l!==i)throw new Ne(i+1,l+1)}}if(0===c.length)throw new SyntaxError("At least one matrix expected");for(var m=c.shift();c.length;)m=Kn(m,c.shift(),l,0);return u?n(m):m},"...string":function(e){return e.join("")}})}));function Kn(e,t,n,r){if(r<n){if(e.length!==t.length)throw new Ne(e.length,t.length);for(var i=[],o=0;o<e.length;o++)i[o]=Kn(e[o],t[o],n,r+1);return i}return e.concat(t)}var Jn=$e("concat",["typed","matrix","isInteger"],(function(e){var t=e.typed,n=e.matrix,r=e.isInteger,i=Zn({typed:t,matrix:n,isInteger:r});return t("concat",{"...any":function(e){var t=e.length-1,n=e[t];o(n)?e[t]=n-1:a(n)&&(e[t]=n.minus(1));try{return i.apply(null,e)}catch(r){throw Rt(r)}}})}),{isTransformFunction:!0}),Qn=$e("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.bignumber,o=e.smaller,a=e.smallerEq,s=e.larger,l=e.largerEq;return t("range",{string:c,"string, boolean":c,"number, number":function(e,t){return u(f(e,t,1))},"number, number, number":function(e,t,n){return u(f(e,t,n))},"number, number, boolean":function(e,t,n){return u(n?d(e,t,1):f(e,t,1))},"number, number, number, boolean":function(e,t,n,r){return u(r?d(e,t,n):f(e,t,n))},"BigNumber, BigNumber":function(e,t){return u(h(e,t,new(0,e.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(e,t,n){return u(h(e,t,n))},"BigNumber, BigNumber, boolean":function(e,t,n){var r=e.constructor;return u(n?p(e,t,new r(1)):h(e,t,new r(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,n,r){return u(r?p(e,t,n):h(e,t,n))}});function u(e){return"Matrix"===n.matrix?r?r(e):un():e}function c(e,t){var r=function(e){var t=e.split(":").map((function(e){return Number(e)}));if(t.some((function(e){return isNaN(e)})))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!r)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===n.number?(void 0===i&&sn(),u((t?p:h)(i(r.start),i(r.end),i(r.step)))):u((t?d:f)(r.start,r.end,r.step))}function f(e,t,n){var r=[],i=e;if(n>0)for(;o(i,t);)r.push(i),i+=n;else if(n<0)for(;s(i,t);)r.push(i),i+=n;return r}function d(e,t,n){var r=[],i=e;if(n>0)for(;a(i,t);)r.push(i),i+=n;else if(n<0)for(;l(i,t);)r.push(i),i+=n;return r}function h(e,t,n){var r=i(0),a=[],l=e;if(n.gt(r))for(;o(l,t);)a.push(l),l=l.plus(n);else if(n.lt(r))for(;s(l,t);)a.push(l),l=l.plus(n);return a}function p(e,t,n){var r=i(0),o=[],s=e;if(n.gt(r))for(;a(s,t);)o.push(s),s=s.plus(n);else if(n.lt(r))for(;l(s,t);)o.push(s),s=s.plus(n);return o}})),er=$e("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.bignumber,o=e.smaller,a=e.smallerEq,s=e.larger,l=e.largerEq,u=Qn({typed:t,config:n,matrix:r,bignumber:i,smaller:o,smallerEq:a,larger:s,largerEq:l});return t("range",{"...any":function(e){return"boolean"!==typeof e[e.length-1]&&e.push(!0),u.apply(null,e)}})}),{isTransformFunction:!0}),tr=$e("sum",["typed","config","add","?bignumber","?fraction"],(function(e){var t=e.typed,n=e.config,r=e.add,i=e.bignumber,o=e.fraction;return t("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){try{return Zt(e,t,r)}catch(n){throw Fn(n,"sum")}},"...":function(e){if(Gt(e))throw new TypeError("Scalar values expected in function sum");return a(e)}});function a(e){var t;if(Xt(e,(function(e){try{t=void 0===t?e:r(t,e)}catch(n){throw Fn(n,"sum",e)}})),void 0===t)switch(n.number){case"number":return 0;case"BigNumber":return i?i(0):sn();case"Fraction":return o?o(0):ln();default:return 0}return t}})),nr=$e("sum",["typed","config","add","?bignumber","?fraction"],(function(e){var t=e.typed,n=e.config,r=e.add,i=e.bignumber,s=e.fraction,l=tr({typed:t,config:n,add:r,bignumber:i,fraction:s});return t("sum",{"...any":function(e){if(2===e.length&&h(e[0])){var t=e[1];o(t)?e[1]=t-1:a(t)&&(e[1]=t.minus(1))}try{return l.apply(null,e)}catch(n){throw Rt(n)}}})}),{isTransformFunction:!0}),rr=$e("column",["typed","Index","matrix","range"],(function(e){var t=e.typed,n=e.Index,r=e.matrix,i=e.range;return t("column",{"Matrix, number":o,"Array, number":function(e,t){return o(r(W(e)),t).valueOf()}});function o(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Le(t,e.size()[1]);var r=i(0,e.size()[0]),o=new n(r,t);return e.subset(o)}})),ir=$e("column",["typed","Index","matrix","range"],(function(e){var t=e.typed,n=e.Index,r=e.matrix,i=e.range,a=rr({typed:t,Index:n,matrix:r,range:i});return t("column",{"...any":function(e){var t=e.length-1,n=e[t];o(n)&&(e[t]=n-1);try{return a.apply(null,e)}catch(r){throw Rt(r)}}})}),{isTransformFunction:!0}),or=$e("row",["typed","Index","matrix","range"],(function(e){var t=e.typed,n=e.Index,r=e.matrix,i=e.range;return t("row",{"Matrix, number":o,"Array, number":function(e,t){return o(r(W(e)),t).valueOf()}});function o(e,t){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Le(t,e.size()[0]);var r=i(0,e.size()[1]),o=new n(t,r);return e.subset(o)}})),ar=$e("row",["typed","Index","matrix","range"],(function(e){var t=e.typed,n=e.Index,r=e.matrix,i=e.range,a=or({typed:t,Index:n,matrix:r,range:i});return t("row",{"...any":function(e){var t=e.length-1,n=e[t];o(n)&&(e[t]=n-1);try{return a.apply(null,e)}catch(r){throw Rt(r)}}})}),{isTransformFunction:!0}),sr=$e("std",["typed","sqrt","variance"],(function(e){var t=e.typed,n=e.sqrt,r=e.variance;return t("std",{"Array | Matrix":i,"Array | Matrix, string":i,"Array | Matrix, number | BigNumber":i,"Array | Matrix, number | BigNumber, string":i,"...":function(e){return i(e)}});function i(e,t){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return n(r.apply(null,arguments))}catch(i){throw i instanceof TypeError&&-1!==i.message.indexOf(" variance")?new TypeError(i.message.replace(" variance"," std")):i}}})),lr=$e("std",["typed","sqrt","variance"],(function(e){var t=e.typed,n=e.sqrt,r=e.variance,i=sr({typed:t,sqrt:n,variance:r});return t("std",{"...any":function(e){if(e.length>=2&&h(e[0])){var t=e[1];o(t)?e[1]=t-1:a(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(n){throw Rt(n)}}})}),{isTransformFunction:!0}),ur=$e("mean",["typed","add","divide"],(function(e){var t=e.typed,n=e.add,r=e.divide;return t("mean",{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){try{var i=Zt(e,t,n),o=Array.isArray(e)?Pe(e):e.size();return r(i,o[t])}catch(a){throw Fn(a,"mean")}},"...":function(e){if(Gt(e))throw new TypeError("Scalar values expected in function mean");return i(e)}});function i(e){var t,i=0;if(Xt(e,(function(e){try{t=void 0===t?e:n(t,e),i++}catch(r){throw Fn(r,"mean",e)}})),0===i)throw new Error("Cannot calculate the mean of an empty array");return r(t,i)}})),cr=$e("mean",["typed","add","divide"],(function(e){var t=e.typed,n=e.add,r=e.divide,i=ur({typed:t,add:n,divide:r});return t("mean",{"...any":function(e){if(2===e.length&&h(e[0])){var t=e[1];o(t)?e[1]=t-1:a(t)&&(e[1]=t.minus(1))}try{return i.apply(null,e)}catch(n){throw Rt(n)}}})}),{isTransformFunction:!0}),fr=$e("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.typed,n=e.add,r=e.subtract,i=e.multiply,o=e.divide,s=e.apply,l=e.isNaN;return t("variance",{"Array | Matrix":function(e){return u(e,"unbiased")},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(e,t){return c(e,t,"unbiased")},"Array | Matrix, number | BigNumber, string":c,"...":function(e){return u(e,"unbiased")}});function u(e,t){var s=0,u=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Xt(e,(function(e){try{s=n(s,e),u++}catch(t){throw Fn(t,"variance",e)}})),0===u)throw new Error("Cannot calculate variance of an empty array");var c=o(s,u);if(s=0,Xt(e,(function(e){var t=r(e,c);s=n(s,i(t,t))})),l(s))return s;switch(t){case"uncorrected":return o(s,u);case"biased":return o(s,u+1);case"unbiased":var f=a(s)?s.mul(0):0;return 1===u?f:o(s,u-1);default:throw new Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(e,t,n){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return s(e,t,(function(e){return u(e,n)}))}catch(r){throw Fn(r,"variance")}}})),dr=$e("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.typed,n=e.add,r=e.subtract,i=e.multiply,s=e.divide,l=e.apply,u=e.isNaN,c=fr({typed:t,add:n,subtract:r,multiply:i,divide:s,apply:l,isNaN:u});return t("variance",{"...any":function(e){if(e.length>=2&&h(e[0])){var t=e[1];o(t)?e[1]=t-1:a(t)&&(e[1]=t.minus(1))}try{return c.apply(null,e)}catch(n){throw Rt(n)}}})}),{isTransformFunction:!0}),hr=$e("ResultSet",[],(function(){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e}),{isClass:!0}),pr=n(17),mr=n.n(pr);function gr(e){return(gr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vr=$e("Complex",[],(function(){return mr.a.prototype.type="Complex",mr.a.prototype.isComplex=!0,mr.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},mr.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},mr.a.prototype.format=function(e){var t=this.im,n=this.re,r=le(this.re,e),i=le(this.im,e),a=o(e)?e:e?e.precision:null;if(null!==a){var s=Math.pow(10,-a);Math.abs(n/t)<s&&(n=0),Math.abs(t/n)<s&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?r+" - i":r+" - "+i.substring(1)+"i":1===t?r+" + i":r+" + "+i+"i"},mr.a.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===gr(t))return mr()(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(o(n)){if(u(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),o(r))return new mr.a({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},mr.a.prototype.valueOf=mr.a.prototype.toString,mr.a.fromJSON=function(e){return new mr.a(e)},mr.a.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},mr.a}),{isClass:!0}),yr=$e("Range",[],(function(){function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=null!==t&&void 0!==t,o=null!==n&&void 0!==n,s=null!==r&&void 0!==r;if(i)if(a(t))t=t.toNumber();else if("number"!==typeof t)throw new TypeError("Parameter start must be a number");if(o)if(a(n))n=n.toNumber();else if("number"!==typeof n)throw new TypeError("Parameter end must be a number");if(s)if(a(r))r=r.toNumber();else if("number"!==typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=o?parseFloat(n):0,this.step=s?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!==typeof t)return null;var n=t.split(":").map((function(e){return parseFloat(e)}));if(n.some((function(e){return isNaN(e)})))return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.start,n=this.step,r=this.end-t;return ne(n)===ne(r)?e=Math.ceil(r/n):0===r&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;t<r;)e(t,[i],this),t+=n,i++;else if(n<0)for(;t>r;)e(t,[i],this),t+=n,i++},e.prototype.map=function(e){var t=[];return this.forEach((function(n,r,i){t[r[0]]=e(n,r,i)})),t},e.prototype.toArray=function(){var e=[];return this.forEach((function(t,n){e[n[0]]=t})),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=le(this.start,e);return 1!==this.step&&(t+=":"+le(this.step,e)),t+=":"+le(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e}),{isClass:!0}),br=$e("eye",[],(function(){return function(){throw new Error('Function "eye" is renamed to "identity" since mathjs version 5.0.0. To keep eye working, create an alias for it using "math.import({eye: math.identity}, {override: true})"')}})),xr=Nn((function(e){return new e(1).exp()}),Mr),_r=Nn((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),Mr),wr=Nn((function(e){return e.acos(-1)}),Mr),kr=Nn((function(e){return wr(e).times(2)}),Mr);function Mr(e){return e[0].precision}var Tr=Math.PI,Sr=2*Math.PI,Er=Math.E,Ar=$e("true",[],(function(){return!0})),Or=$e("false",[],(function(){return!1})),Cr=$e("null",[],(function(){return null})),Nr=Wr("Infinity",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(1/0):1/0})),Dr=Wr("NaN",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(NaN):NaN})),Pr=Wr("pi",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?wr(n):Tr})),Rr=Wr("tau",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?kr(n):Sr})),Lr=Wr("e",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?xr(n):Er})),Ir=Wr("phi",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?_r(n):1.618033988749895})),jr=Wr("LN2",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(2).ln():Math.LN2})),zr=Wr("LN10",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(10).ln():Math.LN10})),Fr=Wr("LOG2E",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(1).div(new n(2).ln()):Math.LOG2E})),Br=Wr("LOG10E",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(1).div(new n(10).ln()):Math.LOG10E})),Ur=Wr("SQRT1_2",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n("0.5").sqrt():Math.SQRT1_2})),Hr=Wr("SQRT2",["config","?BigNumber"],(function(e){var t=e.config,n=e.BigNumber;return"BigNumber"===t.number?new n(2).sqrt():Math.SQRT2})),qr=Wr("i",["Complex"],(function(e){return e.Complex.I})),Vr=$e("version",[],(function(){return"6.2.3"}));function Wr(e,t,n){return $e(e,t,n,{recreateOnConfigChange:!0})}var Yr=n(180),Gr=n.n(Yr),Xr=$e("BigNumber",["?on","config"],(function(e){var t=e.on,n=e.config,r=Gr.a.clone({precision:n.precision});return r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(e){return new r(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&r.config({precision:e.precision})})),r}),{isClass:!0}),$r=$e("Matrix",[],(function(){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.storage=function(e){throw new Error("Matrix.storage is deprecated since v6.0.0. Use the factory function math.matrix instead.")},e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0}),Zr=Yi("speedOfLight","299792458","m s^-1"),Kr=Yi("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Jr=Yi("planckConstant","6.62607015e-34","J s"),Qr=Yi("reducedPlanckConstant","1.0545718176461565e-34","J s"),ei=Yi("magneticConstant","1.25663706212e-6","N A^-2"),ti=Yi("electricConstant","8.8541878128e-12","F m^-1"),ni=Yi("vacuumImpedance","376.730313667","ohm"),ri=Yi("coulomb","8.987551792261171e9","N m^2 C^-2"),ii=Yi("elementaryCharge","1.602176634e-19","C"),oi=Yi("bohrMagneton","9.2740100783e-24","J T^-1"),ai=Yi("conductanceQuantum","7.748091729863649e-5","S"),si=Yi("inverseConductanceQuantum","12906.403729652257","ohm"),li=Yi("magneticFluxQuantum","2.0678338484619295e-15","Wb"),ui=Yi("nuclearMagneton","5.0507837461e-27","J T^-1"),ci=Yi("klitzing","25812.807459304513","ohm"),fi=Yi("bohrRadius","5.29177210903e-11","m"),di=Yi("classicalElectronRadius","2.8179403262e-15","m"),hi=Yi("electronMass","9.1093837015e-31","kg"),pi=Yi("fermiCoupling","1.1663787e-5","GeV^-2"),mi=Gi("fineStructure",.0072973525693),gi=Yi("hartreeEnergy","4.3597447222071e-18","J"),vi=Yi("protonMass","1.67262192369e-27","kg"),yi=Yi("deuteronMass","3.3435830926e-27","kg"),bi=Yi("neutronMass","1.6749271613e-27","kg"),xi=Yi("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),_i=Yi("rydberg","10973731.568160","m^-1"),wi=Yi("thomsonCrossSection","6.6524587321e-29","m^2"),ki=Gi("weakMixingAngle",.2229),Mi=Gi("efimovFactor",22.7),Ti=Yi("atomicMass","1.66053906660e-27","kg"),Si=Yi("avogadro","6.02214076e23","mol^-1"),Ei=Yi("boltzmann","1.380649e-23","J K^-1"),Ai=Yi("faraday","96485.33212331001","C mol^-1"),Oi=Yi("firstRadiation","3.7417718521927573e-16","W m^2"),Ci=Yi("loschmidt","2.686780111798444e25","m^-3"),Ni=Yi("gasConstant","8.31446261815324","J K^-1 mol^-1"),Di=Yi("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),Pi=Yi("molarVolume","0.022413969545014137","m^3 mol^-1"),Ri=Gi("sackurTetrode",-1.16487052358),Li=Yi("secondRadiation","0.014387768775039337","m K"),Ii=Yi("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),ji=Yi("wienDisplacement","2.897771955e-3","m K"),zi=Yi("molarMass","0.99999999965e-3","kg mol^-1"),Fi=Yi("molarMassC12","11.9999999958e-3","kg mol^-1"),Bi=Yi("gravity","9.80665","m s^-2"),Ui=Yi("planckLength","1.616255e-35","m"),Hi=Yi("planckMass","2.176435e-8","kg"),qi=Yi("planckTime","5.391245e-44","s"),Vi=Yi("planckCharge","1.87554603778e-18","C"),Wi=Yi("planckTemperature","1.416785e+32","K");function Yi(e,t,n){return $e(e,["config","Unit","BigNumber"],(function(e){var r=e.config,i=e.Unit,o=e.BigNumber,a=new i("BigNumber"===r.number?new o(t):parseFloat(t),n);return a.fixPrefix=!0,a}))}function Gi(e,t){return $e(e,["config","BigNumber"],(function(e){var n=e.config,r=e.BigNumber;return"BigNumber"===n.number?new r(t):t}))}var Xi=n(50),$i=n.n(Xi),Zi=$e("Fraction",[],(function(){return $i.a.prototype.type="Fraction",$i.a.prototype.isFraction=!0,$i.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},$i.a.fromJSON=function(e){return new $i.a(e)},$i.a}),{isClass:!0}),Ki=$e("DenseMatrix",["Matrix"],(function(e){var t=e.Matrix;function n(e,t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!c(t))throw new Error("Invalid datatype: "+t);if(d(e))"DenseMatrix"===e.type?(this._data=W(e._data),this._size=W(e._size),this._datatype=t||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=t||e._datatype);else if(e&&f(e.data)&&f(e.size))this._data=e.data,this._size=e.size,this._datatype=t||e.datatype;else if(f(e))this._data=function e(t){for(var n=0,r=t.length;n<r;n++){var i=t[n];f(i)?t[n]=e(i):i&&!0===i.isMatrix&&(t[n]=e(i.valueOf()))}return t}(e),this._size=Pe(this._data),Re(this._data,this._size),this._datatype=t;else{if(e)throw new TypeError("Unsupported type of data ("+q(e)+")");this._data=[],this._size=[0],this._datatype=t}}function r(e,t){if(!v(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r=t.size();if(r.length!==e._size.length)throw new Ne(r.length,e._size.length);for(var i=t.min(),o=t.max(),a=0,s=e._size.length;a<s;a++)Le(i[a],e._size[a]),Le(o[a],e._size[a]);return new n(function e(t,n,r,i){var o=i===r-1;var a=n.dimension(i);return o?a.map((function(e){return Le(e,t.length),t[e]})).valueOf():a.map((function(o){Le(o,t.length);var a=t[o];return e(a,n,r,i+1)})).valueOf()}(e._data,t,r.length,0),e._datatype)}function i(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,o=t.size(),a=t.isScalar();if(d(n)?(i=n.size(),n=n.valueOf()):i=Pe(n),a){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(o.length<e._size.length)throw new Ne(o.length,e._size.length,"<");if(i.length<o.length){for(var s=0,u=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)u++,s++;n=Fe(n,o.length,u,i)}if(!X(o,i))throw new Ne(o,i,">");l(e,t.max().map((function(e){return e+1})),r);var c=o.length;!function e(t,n,r,i,o){var a=o===i-1;var s=n.dimension(o);a?s.forEach((function(e,n){Le(e),t[e]=r[n[0]]})):s.forEach((function(a,s){Le(a),e(t[a],n,r[s[0]],i,o+1)}))}(e._data,t,n,c,0)}return e}function s(e,t,n){if(0===t.length){for(var r=e._data;f(r);)r=r[0];return r}return e._size=t.slice(0),e._data=Ie(e._data,e._size,n),e}function l(e,t,n){for(var r=e._size.slice(0),i=!1;r.length<t.length;)r.push(0),i=!0;for(var o=0,a=t.length;o<a;o++)t[o]>r[o]&&(r[o]=t[o],i=!0);i&&s(e,r,n)}return n.prototype=new t,n.prototype.createDenseMatrix=function(e,t){return new n(e,t)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Xe(this._data,q)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(e,t){return new n(e,t)},n.prototype.subset=function(e,t,n){switch(arguments.length){case 1:return r(this,e);case 2:case 3:return i(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(e){if(!f(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Ne(e.length,this._size.length);for(var t=0;t<e.length;t++)Le(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;r<i;r++){var o=e[r];Le(o,n.length),n=n[o]}return n},n.prototype.set=function(e,t,n){if(!f(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new Ne(e.length,this._size.length,"<");var r,i,o;l(this,e.map((function(e){return e+1})),n);var a=this._data;for(r=0,i=e.length-1;r<i;r++)Le(o=e[r],a.length),a=a[o];return Le(o=e[e.length-1],a.length),a[o]=t,this},n.prototype.resize=function(e,t,n){if(!f(e))throw new TypeError("Array expected");return s(n?this.clone():this,e,t)},n.prototype.reshape=function(e,t){var n=t?this.clone():this;return n._data=je(n._data,e),n._size=e.slice(0),n},n.prototype.clone=function(){return new n({data:W(this._data),size:W(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(e){var t=this;return new n({data:function n(r,i){return f(r)?r.map((function(e,t){return n(e,i.concat(t))})):e(r,i,t)}(this._data,[]),size:W(this._size),datatype:this._datatype})},n.prototype.forEach=function(e){var t=this;!function n(r,i){f(r)?r.forEach((function(e,t){n(e,i.concat(t))})):e(r,i,t)}(this._data,[])},n.prototype.toArray=function(){return W(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(e){return Ee(this._data,e)},n.prototype.toString=function(){return Ee(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(e){if(e){if(a(e)&&(e=e.toNumber()),!o(e)||!te(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,r=e<0?-e:0,i=this._size[0],s=this._size[1],l=Math.min(i-r,s-t),u=[],c=0;c<l;c++)u[c]=this._data[c+r][c+t];return new n({data:u,size:[l],datatype:this._datatype})},n.diagonal=function(e,t,r,i){if(!f(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(a(e)&&(e=e.toNumber()),!o(e)||!te(e)||e<1)throw new Error("Size values must be positive integers");return e})),r){if(a(r)&&(r=r.toNumber()),!o(r)||!te(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var s,l=r>0?r:0,u=r<0?-r:0,c=e[0],h=e[1],p=Math.min(c-u,h-l);if(f(t)){if(t.length!==p)throw new Error("Invalid value array length");s=function(e){return t[e]}}else if(d(t)){var m=t.size();if(1!==m.length||m[0]!==p)throw new Error("Invalid matrix length");s=function(e){return t.get([e])}}else s=function(){return t};i||(i=a(s(0))?s(0).mul(0):0);var g=[];if(e.length>0){g=Ie(g,e,i);for(var v=0;v<p;v++)g[v+u][v+l]=s(v)}return new n({data:g,size:[c,h]})},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(e,t){if(!o(e)||!te(e)||!o(t)||!te(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Le(e,this._size[0]),Le(t,this._size[0]),n._swapRows(e,t,this._data),this},n._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},n}),{isClass:!0}),Ji=n(114),Qi=n.n(Ji),eo=function(){return eo=Qi.a.create,Qi.a},to=$e("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(e){var t=e.BigNumber,n=e.Complex,r=e.DenseMatrix,i=e.Fraction,h=eo();return h.types=[{name:"number",test:o},{name:"Complex",test:s},{name:"BigNumber",test:a},{name:"Fraction",test:l},{name:"Unit",test:u},{name:"string",test:c},{name:"Chain",test:H},{name:"Array",test:f},{name:"Matrix",test:d},{name:"DenseMatrix",test:p},{name:"SparseMatrix",test:m},{name:"Range",test:g},{name:"Index",test:v},{name:"boolean",test:y},{name:"ResultSet",test:b},{name:"Help",test:x},{name:"function",test:_},{name:"Date",test:w},{name:"RegExp",test:k},{name:"null",test:T},{name:"undefined",test:S},{name:"AccessorNode",test:E},{name:"ArrayNode",test:A},{name:"AssignmentNode",test:O},{name:"BlockNode",test:C},{name:"ConditionalNode",test:N},{name:"ConstantNode",test:D},{name:"FunctionNode",test:R},{name:"FunctionAssignmentNode",test:P},{name:"IndexNode",test:L},{name:"Node",test:I},{name:"ObjectNode",test:j},{name:"OperatorNode",test:z},{name:"ParenthesisNode",test:F},{name:"RangeNode",test:B},{name:"SymbolNode",test:U},{name:"Object",test:M}],h.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||no(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||ro(e),new n(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return n||ro(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||ro(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||io(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||no(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){i||io(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||ro(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||no(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||io(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],h}));function no(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function ro(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function io(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var oo=$e("isInteger",["typed"],(function(e){var t=(0,e.typed)("isInteger",{number:te,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return $t(e,t)}});return t})),ao=$e("isNumeric",["typed"],(function(e){var t=(0,e.typed)("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return $t(e,t)}});return t}));function so(e){return e<0}function lo(e){return e>0}function uo(e){return 0===e}function co(e){return Number.isNaN(e)}so.signature="number",lo.signature="number",uo.signature="number",co.signature="number";var fo=$e("isPositive",["typed"],(function(e){var t=(0,e.typed)("isPositive",{number:lo,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return t(e.value)},"Array | Matrix":function(e){return $t(e,t)}});return t})),ho=$e("isNaN",["typed"],(function(e){return(0,e.typed)("isNaN",{number:co,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return $t(e,Number.isNaN)}})}));function po(e,t,n){if(null===n||void 0===n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}var mo=$e("equalScalar",["typed","config"],(function(e){var t=e.typed,n=e.config,r=t("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return ge(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||po(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){return function(e,t,n){return ge(e.re,t.re,n)&&ge(e.im,t.im,n)}(e,t,n.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return r(e.value,t.value)}});return r})),go=($e("equalScalar",["typed","config"],(function(e){var t=e.typed,n=e.config;return t("equalScalar",{"number, number":function(e,t){return ge(e,t,n.epsilon)}})})),$e("number",["typed"],(function(e){var t=(0,e.typed)("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return $t(e,t)}});return t}))),vo=$e("boolean",["typed"],(function(e){var t=(0,e.typed)("boolean",{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Number(e);if(""!==e&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return $t(e,t)}});return t})),yo=$e("complex",["typed","Complex"],(function(e){var t=e.typed,n=e.Complex,r=t("complex",{"":function(){return n.ZERO},number:function(e){return new n(e,0)},"number, number":function(e,t){return new n(e,t)},"BigNumber, BigNumber":function(e,t){return new n(e.toNumber(),t.toNumber())},Fraction:function(e){return new n(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return n(e)},null:function(e){return n(0)},Object:function(e){if("re"in e&&"im"in e)return new n(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new n(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return $t(e,r)}});return r})),bo=$e("splitUnit",["typed"],(function(e){return(0,e.typed)("splitUnit",{"Unit, Array":function(e,t){return e.splitUnit(t)}})})),xo="number, number";function _o(e){return Math.abs(e)}function wo(e,t){return e+t}function ko(e,t){return e*t}function Mo(e){return-e}function To(e){return e}function So(e){return ae(e)}function Eo(e){return Math.ceil(e)}function Ao(e){return e*e*e}function Oo(e){return Math.exp(e)}function Co(e){return se(e)}function No(e,t){if(!te(e)||!te(t))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==t;)n=e%t,e=t,t=n;return e<0?-e:e}function Do(e,t){if(!te(e)||!te(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function Po(e){return Math.log(e)}function Ro(e){return ie(e)}function Lo(e){return re(e)}function Io(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function jo(e,t){var n=t<0;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!==1)throw new Error("Root must be odd when a is negative.");if(0===e)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=e<0?-r:r,n?1/r:r}function zo(e){return ne(e)}function Fo(e){return e*e}function Bo(e,t){var n,r,i,o=0,a=1,s=1,l=0;if(!te(e)||!te(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)i=e-(r=Math.floor(e/t))*t,n=o,o=a-r*o,a=n,n=s,s=l-r*s,l=n,e=t,t=i;return e<0?[-e,-a,-l]:[e,e?a:0,l]}function Uo(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function Ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(ce(e,t))}_o.signature="number",wo.signature=xo,ko.signature=xo,Mo.signature="number",To.signature="number",So.signature="number",Eo.signature="number",Ao.signature="number",Oo.signature="number",Co.signature="number",No.signature=xo,Do.signature=xo,Po.signature="number",Ro.signature="number",Lo.signature="number",Io.signature=xo,jo.signature=xo,zo.signature="number",Fo.signature="number",Bo.signature=xo,Uo.signature=xo,Ho.signature=xo;var qo=$e("unaryPlus",["typed","config","BigNumber"],(function(e){var t=e.typed,n=e.config,r=e.BigNumber,i=t("unaryPlus",{number:To,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return $t(e,i,!0)},"boolean | string":function(e){return"BigNumber"===n.number?new r(+e):+e}});return i})),Vo=$e("cube",["typed"],(function(e){var t=(0,e.typed)("cube",{number:Ao,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return $t(e,t,!0)},Unit:function(e){return e.pow(3)}});return t})),Wo=$e("expm1",["typed","Complex"],(function(e){var t=e.typed,n=e.Complex,r=t("expm1",{number:Co,Complex:function(e){var t=Math.exp(e.re);return new n(t*Math.cos(e.im)-1,t*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return $t(e,r)}});return r})),Yo=$e("log10",["typed","config","Complex"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=t("log10",{number:function(e){return e>=0||n.predictable?Ro(e):new r(e,0).log().div(Math.LN10)},Complex:function(e){return new r(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||n.predictable?e.log():new r(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return $t(e,i)}});return i})),Go=$e("multiplyScalar",["typed"],(function(e){var t=(0,e.typed)("multiplyScalar",{"number, number":ko,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,n){var r=n.clone();return r.value=null===r.value?r._normalize(e):t(r.value,e),r},"Unit, number | Fraction | BigNumber | Complex":function(e,n){var r=e.clone();return r.value=null===r.value?r._normalize(n):t(r.value,n),r},"Unit, Unit":function(e,t){return e.multiply(t)}});return t})),Xo=$e("sign",["typed","BigNumber","Fraction"],(function(e){var t=e.typed,n=e.BigNumber,r=e.Fraction,i=t("sign",{number:zo,Complex:function(e){return e.sign()},BigNumber:function(e){return new n(e.cmp(0))},Fraction:function(e){return new r(e.s,1)},"Array | Matrix":function(e){return $t(e,i,!0)},Unit:function(e){return i(e.value)}});return i})),$o=$e("square",["typed"],(function(e){var t=(0,e.typed)("square",{number:Fo,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return $t(e,t,!0)},Unit:function(e){return e.pow(2)}});return t}));function Zo(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return Qo(e,t,(function(e,t){return e&t}))}function Ko(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,n=t.precision;t.config({precision:1e9});var r=e.plus(new t(1));return r.s=-r.s||null,t.config({precision:n}),r}function Jo(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);var r=new n(-1);return e.isZero()||t.eq(r)||e.eq(t)?t:t.isZero()||e.eq(r)?e:e.isFinite()&&t.isFinite()?Qo(e,t,(function(e,t){return e|t})):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?r:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function Qo(e,t,n){var r,i,o,a,s,l=e.constructor,u=+(e.s<0),c=+(t.s<0);if(u){r=ea(Ko(e));for(var f=0;f<r.length;++f)r[f]^=1}else r=ea(e);if(c){i=ea(Ko(t));for(var d=0;d<i.length;++d)i[d]^=1}else i=ea(t);r.length<=i.length?(o=r,a=i,s=u):(o=i,a=r,s=c);var h=o.length,p=a.length,m=1^n(u,c),g=new l(1^m),v=new l(1),y=new l(2),b=l.precision;for(l.config({precision:1e9});h>0;)n(o[--h],a[--p])===m&&(g=g.plus(v)),v=v.times(y);for(;p>0;)n(s,a[--p])===m&&(g=g.plus(v)),v=v.times(y);return l.config({precision:b}),0===m&&(g.s=-g.s),g}function ea(e){for(var t=e.d,n=t[0]+"",r=1;r<t.length;++r){for(var i=t[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}for(var a=n.length;"0"===n.charAt(a);)a--;var s=e.e,l=n.slice(0,a+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var c=[0],f=0;f<l.length;){for(var d=c.length;d--;)c[d]*=10;c[0]+=parseInt(l.charAt(f++));for(var h=0;h<c.length;++h)c[h]>1&&(null!==c[h+1]&&void 0!==c[h+1]||(c[h+1]=0),c[h+1]+=c[h]>>1,c[h]&=1)}return c.reverse()}function ta(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var r=new n(-1);return e.eq(r)?Ko(t):t.eq(r)?Ko(e):e.isFinite()&&t.isFinite()?Qo(e,t,(function(e,t){return e^t})):e.isFinite()||t.isFinite()?new n(e.isNegative()===t.isNegative()?1/0:-1/0):r}function na(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new n(2).pow(t)):new n(NaN)}function ra(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new n(2).pow(t)).floor():e.isNegative()?new n(-1):e.isFinite()?new n(0):new n(NaN)}var ia="number, number";function oa(e,t){if(!te(e)||!te(t))throw new Error("Integers expected in function bitAnd");return e&t}function aa(e){if(!te(e))throw new Error("Integer expected in function bitNot");return~e}function sa(e,t){if(!te(e)||!te(t))throw new Error("Integers expected in function bitOr");return e|t}function la(e,t){if(!te(e)||!te(t))throw new Error("Integers expected in function bitXor");return e^t}function ua(e,t){if(!te(e)||!te(t))throw new Error("Integers expected in function leftShift");return e<<t}function ca(e,t){if(!te(e)||!te(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function fa(e,t){if(!te(e)||!te(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}oa.signature=ia,aa.signature="number",sa.signature=ia,la.signature=ia,ua.signature=ia,ca.signature=ia,fa.signature=ia;var da=$e("bitNot",["typed"],(function(e){var t=(0,e.typed)("bitNot",{number:aa,BigNumber:Ko,"Array | Matrix":function(e){return $t(e,t)}});return t})),ha=$e("arg",["typed"],(function(e){var t=(0,e.typed)("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return $t(e,t)}});return t})),pa=$e("im",["typed"],(function(e){var t=(0,e.typed)("im",{number:function(e){return 0},BigNumber:function(e){return e.mul(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return $t(e,t)}});return t}));function ma(e){return!e}function ga(e,t){return!(!e&&!t)}function va(e,t){return!!e!==!!t}function ya(e,t){return!(!e||!t)}ma.signature="number",ga.signature="number, number",va.signature="number, number",ya.signature="number, number";var ba=$e("not",["typed"],(function(e){var t=(0,e.typed)("not",{number:ma,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||t(e.value)},"Array | Matrix":function(e){return $t(e,t)}});return t})),xa=$e("filter",["typed"],(function(e){return(0,e.typed)("filter",{"Array, function":_a,"Matrix, function":function(e,t){return e.create(_a(e.toArray(),t))},"Array, RegExp":Ve,"Matrix, RegExp":function(e,t){return e.create(Ve(e.toArray(),t))}})}));function _a(e,t){var n=Dn(t);return qe(e,(function(e,r,i){return 1===n?t(e):2===n?t(e,[r]):t(e,[r],i)}))}var wa=$e("forEach",["typed"],(function(e){return(0,e.typed)("forEach",{"Array, function":ka,"Matrix, function":function(e,t){return e.forEach(t)}})}));function ka(e,t){var n=Dn(t);!function r(i,o){Array.isArray(i)?He(i,(function(e,t){r(e,o.concat(t))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e,[])}var Ma=$e("map",["typed"],(function(e){return(0,e.typed)("map",{"Array, function":Ta,"Matrix, function":function(e,t){return e.map(t)}})}));function Ta(e,t){var n=Dn(t);return function r(i,o){return Array.isArray(i)?i.map((function(e,t){return r(e,o.concat(t))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e,[])}var Sa=$e("erf",["typed"],(function(e){var t=(0,e.typed)("name",{number:function(e){var t=Math.abs(e);return t>=Na?ne(e):t<=Ea?ne(e)*function(e){var t,n=e*e,r=Oa[0][4]*n,i=n;for(t=0;t<3;t+=1)r=(r+Oa[0][t])*n,i=(i+Ca[0][t])*n;return e*(r+Oa[0][3])/(i+Ca[0][3])}(t):t<=4?ne(e)*(1-function(e){var t,n=Oa[1][8]*e,r=e;for(t=0;t<7;t+=1)n=(n+Oa[1][t])*e,r=(r+Ca[1][t])*e;var i=(n+Oa[1][7])/(r+Ca[1][7]),o=parseInt(16*e)/16,a=(e-o)*(e+o);return Math.exp(-o*o)*Math.exp(-a)*i}(t)):ne(e)*(1-function(e){var t,n=1/(e*e),r=Oa[2][5]*n,i=n;for(t=0;t<4;t+=1)r=(r+Oa[2][t])*n,i=(i+Ca[2][t])*n;var o=n*(r+Oa[2][4])/(i+Ca[2][4]);o=(Aa-o)/e,n=parseInt(16*e)/16;var a=(e-n)*(e+n);return Math.exp(-n*n)*Math.exp(-a)*o}(t))},"Array | Matrix":function(e){return $t(e,t)}});return t})),Ea=.46875,Aa=.5641895835477563,Oa=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Ca=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Na=Math.pow(2,53),Da=$e("format",["typed"],(function(e){return(0,e.typed)("format",{any:Ee,"any, Object | function | number":Ee})})),Pa=$e("isPrime",["typed"],(function(e){var t=(0,e.typed)("isPrime",{number:function(e){if(0*e!==0)return!1;if(e<=3)return e>1;if(e%2===0||e%3===0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t===0||e%(t+2)===0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!==0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;for(var t=5;e.gte(t*t);t+=6)if(e.mod(t).eq(0)||e.mod(t+2).eq(0))return!1;return!0},"Array | Matrix":function(e){return $t(e,t)}});return t})),Ra=$e("acos",["typed","config","Complex"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=t("acos",{number:function(e){return e>=-1&&e<=1||n.predictable?Math.acos(e):new r(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return $t(e,i)}});return i}));function La(e){return ve(e)}function Ia(e){return Math.atan(1/e)}function ja(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function za(e){return Math.asin(1/e)}function Fa(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function Ba(e){return Math.acos(1/e)}function Ua(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function Ha(e){return ye(e)}function qa(e){return be(e)}function Va(e){return 1/Math.tan(e)}function Wa(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function Ya(e){return 1/Math.sin(e)}function Ga(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*ne(e)}function Xa(e){return 1/Math.cos(e)}function $a(e){return 2/(Math.exp(e)+Math.exp(-e))}function Za(e){return _e(e)}La.signature="number",Ia.signature="number",ja.signature="number",za.signature="number",Fa.signature="number",Ba.signature="number",Ua.signature="number",Ha.signature="number",qa.signature="number",Va.signature="number",Wa.signature="number",Ya.signature="number",Ga.signature="number",Xa.signature="number",$a.signature="number",Za.signature="number";var Ka=$e("acot",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber,r=t("acot",{number:Ia,Complex:function(e){return e.acot()},BigNumber:function(e){return new n(1).div(e).atan()},"Array | Matrix":function(e){return $t(e,r)}});return r})),Ja=$e("acsc",["typed","config","Complex","BigNumber"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=e.BigNumber,o=t("acsc",{number:function(e){return e<=-1||e>=1||n.predictable?za(e):new r(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new i(1).div(e).asin()},"Array | Matrix":function(e){return $t(e,o)}});return o})),Qa=$e("asec",["typed","config","Complex","BigNumber"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=e.BigNumber,o=t("asec",{number:function(e){return e<=-1||e>=1||n.predictable?Ba(e):new r(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new i(1).div(e).acos()},"Array | Matrix":function(e){return $t(e,o)}});return o})),es=$e("asin",["typed","config","Complex"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=t("asin",{number:function(e){return e>=-1&&e<=1||n.predictable?Math.asin(e):new r(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return $t(e,i,!0)}});return i})),ts=$e("atan",["typed"],(function(e){var t=(0,e.typed)("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return $t(e,t,!0)}});return t})),ns=$e("atanh",["typed","config","Complex"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=t("atanh",{number:function(e){return e<=1&&e>=-1||n.predictable?qa(e):new r(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return $t(e,i,!0)}});return i})),rs=$e("cosh",["typed"],(function(e){var t=(0,e.typed)("cosh",{number:xe,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return t(e.value)},"Array | Matrix":function(e){return $t(e,t)}});return t})),is=$e("coth",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber,r=t("coth",{number:Wa,Complex:function(e){return e.coth()},BigNumber:function(e){return new n(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return r(e.value)},"Array | Matrix":function(e){return $t(e,r)}});return r})),os=$e("csch",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber,r=t("csch",{number:Ga,Complex:function(e){return e.csch()},BigNumber:function(e){return new n(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return r(e.value)},"Array | Matrix":function(e){return $t(e,r)}});return r})),as=$e("sech",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber,r=t("sech",{number:$a,Complex:function(e){return e.sech()},BigNumber:function(e){return new n(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return r(e.value)},"Array | Matrix":function(e){return $t(e,r)}});return r})),ss=$e("sinh",["typed"],(function(e){var t=(0,e.typed)("sinh",{number:Za,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return t(e.value)},"Array | Matrix":function(e){return $t(e,t,!0)}});return t})),ls=$e("tanh",["typed"],(function(e){var t=(0,e.typed)("tanh",{number:we,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return t(e.value)},"Array | Matrix":function(e){return $t(e,t,!0)}});return t}));function us(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return us(e,n)*us(n+1,t)}function cs(e,t){if(!te(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!te(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");var n=e-t;return t<n?us(n+1,e)/us(1,t):us(t+1,e)/us(1,n)}cs.signature="number, number";var fs=$e("combinations",["typed"],(function(e){return(0,e.typed)("combinations",{"number, number":cs,"BigNumber, BigNumber":function(e,t){var n,r,i=e.constructor,o=e.minus(t),a=new i(1);if(!ds(e)||!ds(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(n=a,t.lt(o))for(r=a;r.lte(o);r=r.plus(a))n=n.times(t.plus(r)).dividedBy(r);else for(r=a;r.lte(t);r=r.plus(a))n=n.times(o.plus(r)).dividedBy(r);return n}})}));function ds(e){return e.isInteger()&&e.gte(0)}var hs=n(115),ps=n.n(hs),ms=ps()();function gs(e){var t,n;return t=null===(n=e)?ms:ps()(String(n)),function(){return t()}}var vs=$e("pickRandom",["typed","config","?on"],(function(e){var t=e.typed,n=e.config,r=e.on,i=gs(n.randomSeed);return r&&r("config",(function(e,t){e.randomSeed!==t.randomSeed&&(i=gs(e.randomSeed))})),t({"Array | Matrix":function(e){return a(e)},"Array | Matrix, number":function(e,t){return a(e,t,void 0)},"Array | Matrix, Array":function(e,t){return a(e,void 0,t)},"Array | Matrix, Array | Matrix, number":function(e,t,n){return a(e,n,t)},"Array | Matrix, number, Array | Matrix":function(e,t,n){return a(e,t,n)}});function a(e,t,n){var r="undefined"===typeof t;if(r&&(t=1),e=e.valueOf(),n&&(n=n.valueOf()),Pe(e).length>1)throw new Error("Only one dimensional vectors supported");var a=0;if("undefined"!==typeof n){if(n.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var s=0,l=n.length;s<l;s++){if(!o(n[s])||n[s]<0)throw new Error("Weights must be an array of positive numbers");a+=n[s]}}var u=e.length;if(0===u)return[];if(t>=u)return t>1?e:e[0];for(var c,f=[];f.length<t;){if("undefined"===typeof n)c=e[Math.floor(i()*u)];else for(var d=i()*a,h=0,p=e.length;h<p;h++)if((d-=n[h])<0){c=e[h];break}-1===f.indexOf(c)&&f.push(c)}return r?f[0]:f}}));function ys(e,t){var n=[];if((e=e.slice(0)).length>1)for(var r=0,i=e.shift();r<i;r++)n.push(ys(e,t));else for(var o=0,a=e.shift();o<a;o++)n.push(t());return n}var bs=$e("randomInt",["typed","config","?on"],(function(e){var t=e.typed,n=e.config,r=e.on,i=gs(n.randomSeed);return r&&r("config",(function(e,t){e.randomSeed!==t.randomSeed&&(i=gs(e.randomSeed))})),t("randomInt",{"":function(){return a(0,1)},number:function(e){return a(0,e)},"number, number":function(e,t){return a(e,t)},"Array | Matrix":function(e){return o(e,0,1)},"Array | Matrix, number":function(e,t){return o(e,0,t)},"Array | Matrix, number, number":function(e,t,n){return o(e,t,n)}});function o(e,t,n){var r=ys(e.valueOf(),(function(){return a(t,n)}));return d(e)?e.create(r):r}function a(e,t){return Math.floor(e+i()*(t-e))}})),xs=$e("clone",["typed"],(function(e){return(0,e.typed)("clone",{any:W})})),_s=$e("hasNumericValue",["typed","isNumeric"],(function(e){var t=e.typed,n=e.isNumeric;return t("hasNumericValue",{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return n(e)}})})),ws=$e("typeOf",["typed"],(function(e){return(0,e.typed)("typeOf",{any:q})})),ks=$e("string",["typed"],(function(e){var t=(0,e.typed)("string",{"":function(){return""},number:le,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return $t(e,t)},any:function(e){return String(e)}});return t})),Ms=$e("fraction",["typed","Fraction"],(function(e){var t=e.typed,n=e.Fraction,r=t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new n(e)},string:function(e){return new n(e)},"number, number":function(e,t){return new n(e,t)},null:function(e){return new n(0)},BigNumber:function(e){return new n(e.toString())},Fraction:function(e){return e},Object:function(e){return new n(e)},"Array | Matrix":function(e){return $t(e,r)}});return r})),Ts=$e("unaryMinus",["typed"],(function(e){var t=(0,e.typed)("unaryMinus",{number:Mo,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var n=e.clone();return n.value=t(e.value),n},"Array | Matrix":function(e){return $t(e,t,!0)}});return t})),Ss=$e("addScalar",["typed"],(function(e){var t=(0,e.typed)("addScalar",{"number, number":wo,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,n){if(null===e.value||void 0===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(n))throw new Error("Units do not match");var r=e.clone();return r.value=t(r.value,n.value),r.fixPrefix=!1,r}});return t})),Es=$e("exp",["typed"],(function(e){var t=(0,e.typed)("exp",{number:Oo,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return $t(e,t)}});return t})),As=$e("log2",["typed","config","Complex"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=t("log2",{number:function(e){return e>=0||n.predictable?Lo(e):o(new r(e,0))},Complex:o,BigNumber:function(e){return!e.isNegative()||n.predictable?e.log(2):o(new r(e.toNumber(),0))},"Array | Matrix":function(e){return $t(e,i)}});function o(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new r(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}return i})),Os=$e("sqrt",["config","typed","Complex"],(function(e){var t=e.config,n=e.typed,r=e.Complex,i=n("sqrt",{number:o,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():o(e.toNumber())},"Array | Matrix":function(e){return $t(e,i,!0)},Unit:function(e){return e.pow(.5)}});function o(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new r(e,0).sqrt()}return i})),Cs=$e("conj",["typed"],(function(e){var t=(0,e.typed)("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return $t(e,t)}});return t})),Ns=$e("getMatrixDataType",["typed"],(function(e){return(0,e.typed)("getMatrixDataType",{Array:function(e){return Xe(e,q)},Matrix:function(e){return e.getDataType()}})})),Ds=$e("mode",["typed","isNaN","isNumeric"],(function(e){var t=e.typed,n=e.isNaN,r=e.isNumeric;return t("mode",{"Array | Matrix":i,"...":function(e){return i(e)}});function i(e){if(0===(e=Be(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var t={},i=[],o=0,a=0;a<e.length;a++){var s=e[a];if(r(s)&&n(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in t||(t[s]=0),t[s]++,t[s]===o?i.push(s):t[s]>o&&(o=t[s],i=[s])}return i}})),Ps=$e("print",["typed"],(function(e){return(0,e.typed)("print",{"string, Object | Array":Rs,"string, Object | Array, number | Object":Rs})}));function Rs(e,t,n){return e.replace(/\$([\w.]+)/g,(function(e,r){for(var i=r.split("."),o=t[i.shift()];i.length&&void 0!==o;){var a=i.shift();o=a?o[a]:o+"."}return void 0!==o?c(o)?o:Ee(o,n):e}))}var Ls=$e("acosh",["typed","config","Complex"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=t("acosh",{number:function(e){return e>=1||n.predictable?La(e):e<=-1?new r(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new r(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return $t(e,i)}});return i})),Is=$e("acsch",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber,r=t("acsch",{number:Fa,Complex:function(e){return e.acsch()},BigNumber:function(e){return new n(1).div(e).asinh()},"Array | Matrix":function(e){return $t(e,r)}});return r})),js=$e("asinh",["typed"],(function(e){var t=(0,e.typed)("asinh",{number:Ha,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return $t(e,t,!0)}});return t})),zs=$e("cos",["typed"],(function(e){var t=(0,e.typed)("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return t(e.value)},"Array | Matrix":function(e){return $t(e,t)}});return t})),Fs=$e("csc",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber,r=t("csc",{number:Ya,Complex:function(e){return e.csc()},BigNumber:function(e){return new n(1).div(e.sin())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return r(e.value)},"Array | Matrix":function(e){return $t(e,r)}});return r})),Bs=$e("sin",["typed"],(function(e){var t=(0,e.typed)("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return t(e.value)},"Array | Matrix":function(e){return $t(e,t,!0)}});return t})),Us=$e("combinationsWithRep",["typed"],(function(e){return(0,e.typed)("combinationsWithRep",{"number, number":function(e,t){if(!te(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!te(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?us(e,e+t-1)/us(1,t):us(t+1,e+t-1)/us(1,e-1)},"BigNumber, BigNumber":function(e,t){var n,r,i=new(0,e.constructor)(1),o=e.minus(i);if(!Hs(e)||!Hs(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(n=i,t.lt(o))for(r=i;r.lte(o);r=r.plus(i))n=n.times(t.plus(r)).dividedBy(r);else for(r=i;r.lte(t);r=r.plus(i))n=n.times(o.plus(r)).dividedBy(r);return n}})}));function Hs(e){return e.isInteger()&&e.gte(0)}var qs=$e("random",["typed","config","?on"],(function(e){var t=e.typed,n=e.config,r=e.on,i=gs(n.randomSeed);return r&&r("config",(function(e,t){e.randomSeed!==t.randomSeed&&(i=gs(e.randomSeed))})),t("random",{"":function(){return a(0,1)},number:function(e){return a(0,e)},"number, number":function(e,t){return a(e,t)},"Array | Matrix":function(e){return o(e,0,1)},"Array | Matrix, number":function(e,t){return o(e,0,t)},"Array | Matrix, number, number":function(e,t,n){return o(e,t,n)}});function o(e,t,n){var r=ys(e.valueOf(),(function(){return a(t,n)}));return d(e)?e.create(r):r}function a(e,t){return e+i()*(t-e)}})),Vs=$e("isNegative",["typed"],(function(e){var t=(0,e.typed)("isNegative",{number:so,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return t(e.value)},"Array | Matrix":function(e){return $t(e,t)}});return t})),Ws=$e("SparseMatrix",["typed","equalScalar","Matrix"],(function(e){var t=e.typed,n=e.equalScalar,r=e.Matrix;function i(e,t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!c(t))throw new Error("Invalid datatype: "+t);if(d(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?W(t._values):void 0,e._index=W(t._index),e._ptr=W(t._ptr),e._size=W(t._size),e._datatype=n||t._datatype):s(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&f(e.index)&&f(e.ptr)&&f(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(f(e))s(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+q(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function s(e,r,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var o=r.length,a=0,s=n,l=0;if(c(i)&&(s=t.find(n,[i,i])||n,l=t.convert(0,i)),o>0){var u=0;do{e._ptr.push(e._index.length);for(var d=0;d<o;d++){var h=r[d];if(f(h)){if(0===u&&a<h.length&&(a=h.length),u<h.length){var p=h[u];s(p,l)||(e._values.push(p),e._index.push(d))}}else 0===u&&a<1&&(a=1),s(h,l)||(e._values.push(h),e._index.push(d))}u++}while(u<a)}e._ptr.push(e._index.length),e._size=[o,a]}function l(e,t){if(!v(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,r,o,a,s=t.size();if(s.length!==e._size.length)throw new Ne(s.length,e._size.length);var l=t.min(),u=t.max();for(n=0,r=e._size.length;n<r;n++)Le(l[n],e._size[n]),Le(u[n],e._size[n]);var c=e._values,f=e._index,d=e._ptr,h=t.dimension(0),p=t.dimension(1),m=[],g=[];h.forEach((function(e,t){g[e]=t[0],m[e]=!0}));var y=c?[]:void 0,b=[],x=[];return p.forEach((function(e){for(x.push(b.length),o=d[e],a=d[e+1];o<a;o++)n=f[o],!0===m[n]&&(b.push(g[n]),y&&y.push(c[o]))})),x.push(b.length),new i({values:y,index:b,ptr:x,size:s,datatype:e._datatype})}function u(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,o=t.size(),a=t.isScalar();if(d(n)?(i=n.size(),n=n.toArray()):i=Pe(n),a){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==o.length&&2!==o.length)throw new Ne(o.length,e._size.length,"<");if(i.length<o.length){for(var s=0,l=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)l++,s++;n=Fe(n,o.length,l,i)}if(!X(o,i))throw new Ne(o,i,">");for(var u=t.min()[0],c=t.min()[1],f=i[0],h=i[1],p=0;p<f;p++)for(var m=0;m<h;m++){var g=n[p][m];e.set([p+u,m+c],g,r)}}return e}function h(e,t,n,r){if(n-t===0)return n;for(var i=t;i<n;i++)if(r[i]===e)return i;return t}function p(e,t,n,r,i,o,a){i.splice(e,0,r),o.splice(e,0,t);for(var s=n+1;s<a.length;s++)a[s]++}function m(e,r,i,o){var a=o||0,s=n,l=0;c(e._datatype)&&(s=t.find(n,[e._datatype,e._datatype])||n,l=t.convert(0,e._datatype),a=t.convert(a,e._datatype));var u,f,d,h=!s(a,l),p=e._size[0],m=e._size[1];if(i>m){for(f=m;f<i;f++)if(e._ptr[f]=e._values.length,h)for(u=0;u<p;u++)e._values.push(a),e._index.push(u);e._ptr[i]=e._values.length}else i<m&&(e._ptr.splice(i+1,m-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(m=i,r>p){if(h){var g=0;for(f=0;f<m;f++){e._ptr[f]=e._ptr[f]+g,d=e._ptr[f+1]+g;var v=0;for(u=p;u<r;u++,v++)e._values.splice(d+v,0,a),e._index.splice(d+v,0,u),g++}e._ptr[m]=e._values.length}}else if(r<p){var y=0;for(f=0;f<m;f++){e._ptr[f]=e._ptr[f]-y;var b=e._ptr[f],x=e._ptr[f+1]-y;for(d=b;d<x;d++)(u=e._index[d])>r-1&&(e._values.splice(d,1),e._index.splice(d,1),y++)}e._ptr[f]=e._values.length}return e._size[0]=r,e._size[1]=i,e}function g(e,t,n,r,i){var o,a,s=r[0],l=r[1],u=[];for(o=0;o<s;o++)for(u[o]=[],a=0;a<l;a++)u[o][a]=0;for(a=0;a<l;a++)for(var c=n[a],f=n[a+1],d=c;d<f;d++)u[o=t[d]][a]=e?i?W(e[d]):e[d]:1;return u}return i.prototype=new r,i.prototype.createSparseMatrix=function(e,t){return new i(e,t)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Xe(this._values,q)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(e,t){return new i(e,t)},i.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},i.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,e);case 2:case 3:return u(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(e){if(!f(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Ne(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];Le(t,this._size[0]),Le(n,this._size[1]);var r=h(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},i.prototype.set=function(e,r,i){if(!f(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Ne(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=e[0],a=e[1],s=this._size[0],l=this._size[1],u=n,d=0;c(this._datatype)&&(u=t.find(n,[this._datatype,this._datatype])||n,d=t.convert(0,this._datatype)),(o>s-1||a>l-1)&&(m(this,Math.max(o+1,s),Math.max(a+1,l),i),s=this._size[0],l=this._size[1]),Le(o,s),Le(a,l);var g=h(o,this._ptr[a],this._ptr[a+1],this._index);return g<this._ptr[a+1]&&this._index[g]===o?u(r,d)?function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var o=t+1;o<i.length;o++)i[o]--}(g,a,this._values,this._index,this._ptr):this._values[g]=r:p(g,o,a,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(e,t,n){if(!f(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");return e.forEach((function(t){if(!o(t)||!te(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ee(e)+")")})),m(n?this.clone():this,e[0],e[1],t)},i.prototype.reshape=function(e,t){if(!f(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach((function(t){if(!o(t)||!te(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ee(e)+")")})),this._size[0]*this._size[1]!==e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var a=0;a<n._ptr[i+1]-n._ptr[i];a++)r.push(i);for(var s=n._values.slice(),l=n._index.slice(),u=0;u<n._index.length;u++){var c=l[u],d=r[u],m=c*n._size[1]+d;r[u]=m%e[1],l[u]=Math.floor(m/e[1])}n._values.length=0,n._index.length=0,n._ptr.length=e[1]+1,n._size=e.slice();for(var g=0;g<n._ptr.length;g++)n._ptr[g]=0;for(var v=0;v<s.length;v++){var y=l[v],b=r[v],x=s[v];p(h(y,n._ptr[b],n._ptr[b+1],n._index),y,b,x,n._values,n._index,n._ptr)}return n},i.prototype.clone=function(){return new i({values:this._values?W(this._values):void 0,index:W(this._index),ptr:W(this._ptr),size:W(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(e,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this;return function(e,r,o,a,s,l,u){var f=[],d=[],h=[],p=n,m=0;c(e._datatype)&&(p=t.find(n,[e._datatype,e._datatype])||n,m=t.convert(0,e._datatype));for(var g=function(e,t,n){e=l(e,t,n),p(e,m)||(f.push(e),d.push(t))},v=a;v<=s;v++){h.push(f.length);var y=e._ptr[v],b=e._ptr[v+1];if(u)for(var x=y;x<b;x++){var _=e._index[x];_>=r&&_<=o&&g(e._values[x],_-r,v-a)}else{for(var w={},k=y;k<b;k++){var M=e._index[k];w[M]=e._values[k]}for(var T=r;T<=o;T++){var S=T in w?w[T]:0;g(S,T-r,v-a)}}}return h.push(f.length),new i({values:f,index:d,ptr:h,size:[o-r+1,s-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(t,n,r){return e(t,[n,r],o)}),r)},i.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var o=this._ptr[i],a=this._ptr[i+1];if(t)for(var s=o;s<a;s++){var l=this._index[s];e(this._values[s],[l,i],this)}else{for(var u={},c=o;c<a;c++){u[this._index[c]]=this._values[c]}for(var f=0;f<n;f++){e(f in u?u[f]:0,[f,i],this)}}}},i.prototype.toArray=function(){return g(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return g(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+Ee(t,e)+" x "+Ee(n,e)+"] density: "+Ee(r,e)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],l=a;l<s;l++){i+="\n    ("+Ee(this._index[l],e)+", "+Ee(o,e)+") ==> "+(this._values?Ee(this._values[l],e):"X")}return i},i.prototype.toString=function(){return Ee(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(e){if(e){if(a(e)&&(e=e.toNumber()),!o(e)||!te(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,r=this._size[0],s=this._size[1],l=Math.min(r-n,s-t),u=[],c=[],f=[];f[0]=0;for(var d=t;d<s&&u.length<l;d++)for(var h=this._ptr[d],p=this._ptr[d+1],m=h;m<p;m++){var g=this._index[m];if(g===d-t+n){u.push(this._values[m]),c[u.length-1]=g-n;break}}return f.push(u.length),new i({values:u,index:c,ptr:f,size:[l,1]})},i.fromJSON=function(e){return new i(e)},i.diagonal=function(e,r,s,l,u){if(!f(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(a(e)&&(e=e.toNumber()),!o(e)||!te(e)||e<1)throw new Error("Size values must be positive integers");return e})),s){if(a(s)&&(s=s.toNumber()),!o(s)||!te(s))throw new TypeError("The parameter k must be an integer number")}else s=0;var h=n,p=0;c(u)&&(h=t.find(n,[u,u])||n,p=t.convert(0,u));var m,g=s>0?s:0,v=s<0?-s:0,y=e[0],b=e[1],x=Math.min(y-v,b-g);if(f(r)){if(r.length!==x)throw new Error("Invalid value array length");m=function(e){return r[e]}}else if(d(r)){var _=r.size();if(1!==_.length||_[0]!==x)throw new Error("Invalid matrix length");m=function(e){return r.get([e])}}else m=function(){return r};for(var w=[],k=[],M=[],T=0;T<b;T++){M.push(w.length);var S=T-g;if(S>=0&&S<x){var E=m(S);h(E,p)||(k.push(S+v),w.push(E))}}return M.push(w.length),new i({values:w,index:k,ptr:M,size:[y,b]})},i.prototype.swapRows=function(e,t){if(!o(e)||!te(e)||!o(t)||!te(t))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Le(e,this._size[0]),Le(t,this._size[0]),i._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(e,t,n,r,i){for(var o=r[e],a=r[e+1],s=o;s<a;s++)i(n[s],t[s])},i._swapRows=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],l=o[a+1],u=h(e,s,l,i),c=h(t,s,l,i);if(u<l&&c<l&&i[u]===e&&i[c]===t){if(r){var f=r[u];r[u]=r[c],r[c]=f}}else if(u<l&&i[u]===e&&(c>=l||i[c]!==t)){var d=r?r[u]:void 0;i.splice(c,0,t),r&&r.splice(c,0,d),i.splice(c<=u?u+1:u,1),r&&r.splice(c<=u?u+1:u,1)}else if(c<l&&i[c]===t&&(u>=l||i[u]!==e)){var p=r?r[c]:void 0;i.splice(u,0,e),r&&r.splice(u,0,p),i.splice(u<=c?c+1:c,1),r&&r.splice(u<=c?c+1:c,1)}}},i}),{isClass:!0}),Ys=$e("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,n=(e.Matrix,e.DenseMatrix),r=e.SparseMatrix;return t("matrix",{"":function(){return i([])},string:function(e){return i([],e)},"string, string":function(e,t){return i([],e,t)},Array:function(e){return i(e)},Matrix:function(e){return i(e,e.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(e,t,i){if("dense"===t||"default"===t||void 0===t)return new n(e,i);if("sparse"===t)return new r(e,i);throw new TypeError("Unknown matrix type "+JSON.stringify(t)+".")}})),Gs=$e("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],(function(e){var t=e.config,n=e.typed,r=e.isNegative,i=e.unaryMinus,o=e.matrix,u=e.Complex,c=e.BigNumber,f=e.Fraction,d=n("cbrt",{number:So,Complex:h,"Complex, boolean":h,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&s(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=h(e.value),t}var n,o=r(e.value);o&&(e.value=i(e.value)),n=a(e.value)?new c(1).div(3):l(e.value)?new f(1,3):1/3;var u=e.pow(n);return o&&(u.value=i(u.value)),u},"Array | Matrix":function(e){return $t(e,d,!0)}});function h(e,n){var r=e.arg()/3,i=e.abs(),a=new u(So(i),0).mul(new u(0,r).exp());if(n){var s=[a,new u(So(i),0).mul(new u(0,r+2*Math.PI/3).exp()),new u(So(i),0).mul(new u(0,r-2*Math.PI/3).exp())];return"Array"===t.matrix?s:o(s)}return a}return d})),Xs=$e("algorithm01",["typed"],(function(e){var t=e.typed;return function(e,n,r,i){var o=e._data,a=e._size,s=e._datatype,l=n._values,u=n._index,c=n._ptr,f=n._size,d=n._datatype;if(a.length!==f.length)throw new Ne(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,p,m=a[0],g=a[1],v="string"===typeof s&&s===d?s:void 0,y=v?t.find(r,[v,v]):r,b=[];for(h=0;h<m;h++)b[h]=[];var x=[],_=[];for(p=0;p<g;p++){for(var w=p+1,k=c[p],M=c[p+1],T=k;T<M;T++)x[h=u[T]]=i?y(l[T],o[h][p]):y(o[h][p],l[T]),_[h]=w;for(h=0;h<m;h++)_[h]===w?b[h][p]=x[h]:b[h][p]=o[h][p]}return e.createDenseMatrix({data:b,size:[m,g],datatype:v})}})),$s=$e("algorithm04",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,f=r._index,d=r._ptr,h=r._size,p=r._datatype;if(l.length!==h.length)throw new Ne(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var m,g=l[0],v=l[1],y=n,b=0,x=i;"string"===typeof u&&u===p&&(m=u,y=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));var _,w,k,M,T,S=o&&c?[]:void 0,E=[],A=[],O=e.createSparseMatrix({values:S,index:E,ptr:A,size:[g,v],datatype:m}),C=o&&c?[]:void 0,N=o&&c?[]:void 0,D=[],P=[];for(w=0;w<v;w++){A[w]=E.length;var R=w+1;for(M=s[w],T=s[w+1],k=M;k<T;k++)_=a[k],E.push(_),D[_]=R,C&&(C[_]=o[k]);for(M=d[w],T=d[w+1],k=M;k<T;k++)if(D[_=f[k]]===R){if(C){var L=x(C[_],c[k]);y(L,b)?D[_]=null:C[_]=L}}else E.push(_),P[_]=R,N&&(N[_]=c[k]);if(C&&N)for(k=A[w];k<E.length;)D[_=E[k]]===R?(S[k]=C[_],k++):P[_]===R?(S[k]=N[_],k++):E.splice(k,1)}return A[v]=E.length,O}})),Zs=$e("algorithm10",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,r,i,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,d=u[0],h=u[1],p=i;"string"===typeof c&&(f=c,r=t.convert(r,f),p=t.find(i,[f,f]));for(var m=[],g=new n({data:m,size:[d,h],datatype:f}),v=[],y=[],b=0;b<h;b++){for(var x=b+1,_=l[b],w=l[b+1],k=_;k<w;k++){var M=s[k];v[M]=a[k],y[M]=x}for(var T=0;T<d;T++)0===b&&(m[T]=[]),y[T]===x?m[T][b]=o?p(r,v[T]):p(v[T],r):m[T][b]=r}return g}})),Ks=$e("algorithm13",["typed"],(function(e){var t=e.typed;return function(e,n,r){var i,o=e._data,a=e._size,s=e._datatype,l=n._data,u=n._size,c=n._datatype,f=[];if(a.length!==u.length)throw new Ne(a.length,u.length);for(var d=0;d<a.length;d++){if(a[d]!==u[d])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");f[d]=a[d]}var h=r;"string"===typeof s&&s===c&&(i=s,h=t.find(r,[i,i]));var p=f.length>0?function e(t,n,r,i,o,a){var s=[];if(n===r.length-1)for(var l=0;l<i;l++)s[l]=t(o[l],a[l]);else for(var u=0;u<i;u++)s[u]=e(t,n+1,r,r[n+1],o[u],a[u]);return s}(h,0,f,f[0],o,l):[];return e.createDenseMatrix({data:p,size:f,datatype:i})}})),Js=$e("algorithm14",["typed"],(function(e){var t=e.typed;return function(e,n,r,i){var o,a=e._data,s=e._size,l=e._datatype,u=r;"string"===typeof l&&(o=l,n=t.convert(n,o),u=t.find(r,[o,o]));var c=s.length>0?function e(t,n,r,i,o,a,s){var l=[];if(n===r.length-1)for(var u=0;u<i;u++)l[u]=s?t(a,o[u]):t(o[u],a);else for(var c=0;c<i;c++)l[c]=e(t,n+1,r,r[n+1],o[c],a,s);return l}(u,0,s,s[0],a,n,i):[];return e.createDenseMatrix({data:c,size:W(s),datatype:o})}})),Qs=$e("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.BigNumber,o=e.DenseMatrix,a=Xs({typed:t}),s=$s({typed:t,equalScalar:r}),l=Zs({typed:t,DenseMatrix:o}),u=Ks({typed:t}),c=Js({typed:t}),f=t("gcd",{"number, number":No,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");var n=new i(0);for(;!t.isZero();){var r=e.mod(t);e=t,t=r}return e.lt(n)?e.neg():e},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return f(n(e),t)},"Matrix, Array":function(e,t){return f(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return l(e,t,f,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,f,!1)},"number | BigNumber, SparseMatrix":function(e,t){return l(t,e,f,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(t,e,f,!0)},"Array, number | BigNumber":function(e,t){return c(n(e),t,f,!1).valueOf()},"number | BigNumber, Array":function(e,t){return c(n(t),e,f,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=f(e,t),i=0;i<n.length;i++)r=f(r,n[i]);return r}});return f})),el=$e("algorithm02",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i,o){var a=e._data,s=e._size,l=e._datatype,u=r._values,c=r._index,f=r._ptr,d=r._size,h=r._datatype;if(s.length!==d.length)throw new Ne(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,m=s[0],g=s[1],v=n,y=0,b=i;"string"===typeof l&&l===h&&(p=l,v=t.find(n,[p,p]),y=t.convert(0,p),b=t.find(i,[p,p]));for(var x=[],_=[],w=[],k=0;k<g;k++){w[k]=_.length;for(var M=f[k],T=f[k+1],S=M;S<T;S++){var E=c[S],A=o?b(u[S],a[E][k]):b(a[E][k],u[S]);v(A,y)||(_.push(E),x.push(A))}}return w[g]=_.length,r.createSparseMatrix({values:x,index:_,ptr:w,size:[m,g],datatype:p})}})),tl=$e("algorithm03",["typed"],(function(e){var t=e.typed;return function(e,n,r,i){var o=e._data,a=e._size,s=e._datatype,l=n._values,u=n._index,c=n._ptr,f=n._size,d=n._datatype;if(a.length!==f.length)throw new Ne(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,p=a[0],m=a[1],g=0,v=r;"string"===typeof s&&s===d&&(h=s,g=t.convert(0,h),v=t.find(r,[h,h]));for(var y=[],b=0;b<p;b++)y[b]=[];for(var x=[],_=[],w=0;w<m;w++){for(var k=w+1,M=c[w],T=c[w+1],S=M;S<T;S++){var E=u[S];x[E]=i?v(l[S],o[E][w]):v(o[E][w],l[S]),_[E]=k}for(var A=0;A<p;A++)_[A]===k?y[A][w]=x[A]:y[A][w]=i?v(g,o[A][w]):v(o[A][w],g)}return e.createDenseMatrix({data:y,size:[p,m],datatype:h})}})),nl=$e("algorithm05",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,f=r._index,d=r._ptr,h=r._size,p=r._datatype;if(l.length!==h.length)throw new Ne(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var m,g=l[0],v=l[1],y=n,b=0,x=i;"string"===typeof u&&u===p&&(m=u,y=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));var _,w,k,M,T=o&&c?[]:void 0,S=[],E=[],A=e.createSparseMatrix({values:T,index:S,ptr:E,size:[g,v],datatype:m}),O=T?[]:void 0,C=T?[]:void 0,N=[],D=[];for(w=0;w<v;w++){E[w]=S.length;var P=w+1;for(k=s[w],M=s[w+1];k<M;k++)_=a[k],S.push(_),N[_]=P,O&&(O[_]=o[k]);for(k=d[w],M=d[w+1];k<M;k++)N[_=f[k]]!==P&&S.push(_),D[_]=P,C&&(C[_]=c[k]);if(T)for(k=E[w];k<S.length;){var R=N[_=S[k]],L=D[_];if(R===P||L===P){var I=x(R===P?O[_]:b,L===P?C[_]:b);y(I,b)?S.splice(k,1):(T.push(I),k++)}}}return E[v]=S.length,A}})),rl=$e("algorithm11",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,d=u[0],h=u[1],p=n,m=0,g=i;"string"===typeof c&&(f=c,p=t.find(n,[f,f]),m=t.convert(0,f),r=t.convert(r,f),g=t.find(i,[f,f]));for(var v=[],y=[],b=[],x=e.createSparseMatrix({values:v,index:y,ptr:b,size:[d,h],datatype:f}),_=0;_<h;_++){b[_]=y.length;for(var w=l[_],k=l[_+1],M=w;M<k;M++){var T=s[M],S=o?g(r,a[M]):g(a[M],r);p(S,m)||(y.push(T),v.push(S))}}return b[h]=y.length,x}})),il=$e("algorithm12",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,r,i,o){var a=e._values,s=e._index,l=e._ptr,u=e._size,c=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,d=u[0],h=u[1],p=i;"string"===typeof c&&(f=c,r=t.convert(r,f),p=t.find(i,[f,f]));for(var m=[],g=new n({data:m,size:[d,h],datatype:f}),v=[],y=[],b=0;b<h;b++){for(var x=b+1,_=l[b],w=l[b+1],k=_;k<w;k++){var M=s[k];v[M]=a[k],y[M]=x}for(var T=0;T<d;T++)0===b&&(m[T]=[]),y[T]===x?m[T][b]=o?p(r,v[T]):p(v[T],r):m[T][b]=o?p(r,0):p(0,r)}return g}})),ol=$e("mod",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=el({typed:t,equalScalar:r}),a=tl({typed:t}),s=nl({typed:t,equalScalar:r}),l=rl({typed:t,equalScalar:r}),u=il({typed:t,DenseMatrix:i}),c=Ks({typed:t}),f=Js({typed:t}),d=t("mod",{"number, number":Io,"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,d)},"Array, Array":function(e,t){return d(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return d(n(e),t)},"Matrix, Array":function(e,t){return d(e,n(t))},"SparseMatrix, any":function(e,t){return l(e,t,d,!1)},"DenseMatrix, any":function(e,t){return f(e,t,d,!1)},"any, SparseMatrix":function(e,t){return u(t,e,d,!0)},"any, DenseMatrix":function(e,t){return f(t,e,d,!0)},"Array, any":function(e,t){return f(n(e),t,d,!1).valueOf()},"any, Array":function(e,t){return f(n(t),e,d,!0).valueOf()}});return d})),al=$e("algorithm06",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._size,s=e._datatype,l=r._values,u=r._size,c=r._datatype;if(a.length!==u.length)throw new Ne(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var f,d=a[0],h=a[1],p=n,m=0,g=i;"string"===typeof s&&s===c&&(f=s,p=t.find(n,[f,f]),m=t.convert(0,f),g=t.find(i,[f,f]));for(var v=o&&l?[]:void 0,y=[],b=[],x=e.createSparseMatrix({values:v,index:y,ptr:b,size:[d,h],datatype:f}),_=v?[]:void 0,w=[],k=[],M=0;M<h;M++){b[M]=y.length;var T=M+1;if(Jt(e,M,w,_,k,T,x,g),Jt(r,M,w,_,k,T,x,g),_)for(var S=b[M];S<y.length;){var E=y[S];if(k[E]===T){var A=_[E];p(A,m)?y.splice(S,1):(v.push(A),S++)}else y.splice(S,1)}else for(var O=b[M];O<y.length;){k[y[O]]!==T?y.splice(O,1):O++}}return b[h]=y.length,x}})),sl=$e("nthRoot",["typed","matrix","equalScalar","BigNumber"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.BigNumber,o=Xs({typed:t}),a=el({typed:t,equalScalar:r}),s=al({typed:t,equalScalar:r}),l=rl({typed:t,equalScalar:r}),u=Ks({typed:t}),c=Js({typed:t}),f="Complex number not supported in function nthRoot. Use nthRoots instead.",d=t("nthRoot",{number:function(e){return jo(e,2)},"number, number":jo,BigNumber:function(e){return h(e,new i(2))},Complex:function(e){throw new Error(f)},"Complex, number":function(e,t){throw new Error(f)},"BigNumber, BigNumber":h,"Array | Matrix":function(e){return d(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return s(e,t,d);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return o(e,t,d,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,d)},"Array, Array":function(e,t){return d(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return d(n(e),t)},"Matrix, Array":function(e,t){return d(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return l(e,t,d,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,d,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return l(t,e,d,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return c(t,e,d,!0)},"Array, number | BigNumber":function(e,t){return d(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return d(e,n(t)).valueOf()}});return d;function h(e,t){var n=i.precision,r=i.clone({precision:n+2}),o=new i(0),a=new r(1),s=t.isNegative();if(s&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return s?new r(1/0):0;if(!e.isFinite())return s?o:e;var l=e.abs().pow(a.div(t));return l=e.isNeg()?l.neg():l,new i((s?a.div(l):l).toPrecision(n))}})),ll=$e("xgcd",["typed","config","matrix","BigNumber"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.BigNumber;return t("xgcd",{"number, number":function(e,t){var i=Bo(e,t);return"Array"===n.matrix?i:r(i)},"BigNumber, BigNumber":function(e,t){var o,a,s,l,u=new i(0),c=new i(1),f=u,d=c,h=c,p=u;if(!e.isInt()||!t.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)a=e.div(t).floor(),s=e.mod(t),o=f,f=d.minus(a.times(f)),d=o,o=h,h=p.minus(a.times(h)),p=o,e=t,t=s;l=e.lt(u)?[e.neg(),d.neg(),p.neg()]:[e,e.isZero()?0:d,p];return"Array"===n.matrix?l:r(l)}})})),ul=$e("bitAnd",["typed","matrix","equalScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=el({typed:t,equalScalar:r}),o=al({typed:t,equalScalar:r}),a=rl({typed:t,equalScalar:r}),s=Ks({typed:t}),l=Js({typed:t}),u=t("bitAnd",{"number, number":oa,"BigNumber, BigNumber":Zo,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,u,!1)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,u,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,u,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,u)},"Array, Array":function(e,t){return u(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Array":function(e,t){return u(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,u,!1)},"DenseMatrix, any":function(e,t){return l(e,t,u,!1)},"any, SparseMatrix":function(e,t){return a(t,e,u,!0)},"any, DenseMatrix":function(e,t){return l(t,e,u,!0)},"Array, any":function(e,t){return l(n(e),t,u,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,u,!0).valueOf()}});return u})),cl=$e("algorithm07",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,i,o){var a=e._size,s=e._datatype,l=i._size,u=i._datatype;if(a.length!==l.length)throw new Ne(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var c,f,d,h=a[0],p=a[1],m=0,g=o;"string"===typeof s&&s===u&&(c=s,m=t.convert(0,c),g=t.find(o,[c,c]));var v=[];for(f=0;f<h;f++)v[f]=[];var y=new n({data:v,size:[h,p],datatype:c}),b=[],x=[],_=[],w=[];for(d=0;d<p;d++){var k=d+1;for(r(e,d,_,b,k),r(i,d,w,x,k),f=0;f<h;f++){var M=_[f]===k?b[f]:m,T=w[f]===k?x[f]:m;v[f][d]=g(M,T)}}return y};function r(e,t,n,r,i){for(var o=e._values,a=e._index,s=e._ptr,l=s[t],u=s[t+1];l<u;l++){var c=a[l];n[c]=i,r[c]=o[l]}}})),fl=$e("bitXor",["typed","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.DenseMatrix,i=tl({typed:t}),o=cl({typed:t,DenseMatrix:r}),a=il({typed:t,DenseMatrix:r}),s=Ks({typed:t}),l=Js({typed:t}),u=t("bitXor",{"number, number":la,"BigNumber, BigNumber":ta,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,u)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,u,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,u,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,u)},"Array, Array":function(e,t){return u(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Array":function(e,t){return u(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,u,!1)},"DenseMatrix, any":function(e,t){return l(e,t,u,!1)},"any, SparseMatrix":function(e,t){return a(t,e,u,!0)},"any, DenseMatrix":function(e,t){return l(t,e,u,!0)},"Array, any":function(e,t){return l(n(e),t,u,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,u,!0).valueOf()}});return u})),dl=$e("or",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=tl({typed:t}),a=nl({typed:t,equalScalar:r}),s=il({typed:t,DenseMatrix:i}),l=Ks({typed:t}),u=Js({typed:t}),c=t("or",{"number, number":ga,"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return c(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,c)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,c,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,c,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,c)},"Array, Array":function(e,t){return c(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return c(n(e),t)},"Matrix, Array":function(e,t){return c(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,c,!1)},"DenseMatrix, any":function(e,t){return u(e,t,c,!1)},"any, SparseMatrix":function(e,t){return s(t,e,c,!0)},"any, DenseMatrix":function(e,t){return u(t,e,c,!0)},"Array, any":function(e,t){return u(n(e),t,c,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,c,!0).valueOf()}});return c})),hl=$e("diag",["typed","matrix","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.DenseMatrix,i=e.SparseMatrix;return t("diag",{Array:function(e){return o(e,0,Pe(e),null)},"Array, number":function(e,t){return o(e,t,Pe(e),null)},"Array, BigNumber":function(e,t){return o(e,t.toNumber(),Pe(e),null)},"Array, string":function(e,t){return o(e,0,Pe(e),t)},"Array, number, string":function(e,t,n){return o(e,t,Pe(e),n)},"Array, BigNumber, string":function(e,t,n){return o(e,t.toNumber(),Pe(e),n)},Matrix:function(e){return o(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return o(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return o(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return o(e,0,e.size(),t)},"Matrix, number, string":function(e,t,n){return o(e,t,e.size(),n)},"Matrix, BigNumber, string":function(e,t,n){return o(e,t.toNumber(),e.size(),n)}});function o(e,t,o,a){if(!te(t))throw new TypeError("Second parameter in function diag must be an integer");var s=t>0?t:0,l=t<0?-t:0;switch(o.length){case 1:return function(e,t,n,o,a,s){var l=[o+a,o+s];if(n&&"sparse"!==n&&"dense"!==n)throw new TypeError("Unknown matrix type ".concat(n,'"'));var u="sparse"===n?i.diagonal(l,e,t):r.diagonal(l,e,t);return null!==n?u:u.valueOf()}(e,t,a,o[0],l,s);case 2:return function(e,t,r,i,o,a){if(d(e)){var s=e.diagonal(t);return null!==r?r!==s.storage()?n(s,r):s:s.valueOf()}for(var l=Math.min(i[0]-o,i[1]-a),u=[],c=0;c<l;c++)u[c]=e[c+o][c+a];return null!==r?n(u):u}(e,t,a,o,l,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}})),pl=$e("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.BigNumber,o=e.DenseMatrix,s=e.SparseMatrix;return t("identity",{"":function(){return"Matrix"===n.matrix?r([]):[]},string:function(e){return r(e)},"number | BigNumber":function(e){return u(e,e,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return u(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return u(e,t,"Matrix"===n.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return u(e,t,n)},Array:function(e){return l(e)},"Array, string":function(e,t){return l(e,t)},Matrix:function(e){return l(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return l(e.valueOf(),t)}});function l(e,t){switch(e.length){case 0:return t?r(t):[];case 1:return u(e[0],e[0],t);case 2:return u(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function u(e,t,n){var r=a(e)||a(t)?i:null;if(a(e)&&(e=e.toNumber()),a(t)&&(t=t.toNumber()),!te(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!te(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var l=r?new i(1):1,u=r?new r(0):0,c=[e,t];if(n){if("sparse"===n)return s.diagonal(c,l,0,u);if("dense"===n)return o.diagonal(c,l,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var f=Ie([],c,u),d=e<t?e:t,h=0;h<d;h++)f[h][h]=l;return f}})),ml=$e("ones",["typed","config","matrix","BigNumber"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.BigNumber;return t("ones",{"":function(){return"Array"===n.matrix?o([]):o([],"default")},"...number | BigNumber | string":function(e){if("string"===typeof e[e.length-1]){var t=e.pop();return o(e,t)}return"Array"===n.matrix?o(e):o(e,"default")},Array:o,Matrix:function(e){var t=e.storage();return o(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return o(e.valueOf(),t)}});function o(e,t){var n=function(e){var t=!1;return e.forEach((function(e,n,r){a(e)&&(t=!0,r[n]=e.toNumber())})),t}(e)?new i(1):1;if(function(e){e.forEach((function(e){if("number"!==typeof e||!te(e)||e<0)throw new Error("Parameters in function ones must be positive integers")}))}(e),t){var o=r(t);return e.length>0?o.resize(e,n):o}var s=[];return e.length>0?Ie(s,e,n):s}})),gl=$e("reshape",["typed","isInteger","matrix"],(function(e){var t=e.typed,n=e.isInteger,r=e.matrix;return t("reshape",{"Matrix, Array":function(e,t){return e.reshape?e.reshape(t):r(je(e.valueOf(),t))},"Array, Array":function(e,t){return t.forEach((function(e){if(!n(e))throw new TypeError("Invalid size for dimension: "+e)})),je(e,t)}})})),vl=$e("size",["typed","config","?matrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix;return t("size",{Matrix:function(e){return e.create(e.size())},Array:Pe,string:function(e){return"Array"===n.matrix?[e.length]:r([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===n.matrix?[]:r?r([]):un()}})})),yl=$e("zeros",["typed","config","matrix","BigNumber"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.BigNumber;return t("zeros",{"":function(){return"Array"===n.matrix?o([]):o([],"default")},"...number | BigNumber | string":function(e){if("string"===typeof e[e.length-1]){var t=e.pop();return o(e,t)}return"Array"===n.matrix?o(e):o(e,"default")},Array:o,Matrix:function(e){var t=e.storage();return o(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return o(e.valueOf(),t)}});function o(e,t){var n=function(e){var t=!1;return e.forEach((function(e,n,r){a(e)&&(t=!0,r[n]=e.toNumber())})),t}(e)?new i(0):0;if(function(e){e.forEach((function(e){if("number"!==typeof e||!te(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}))}(e),t){var o=r(t);return e.length>0?o.resize(e,n):o}var s=[];return e.length>0?Ie(s,e,n):s}})),bl=$e("to",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix,r=Ks({typed:t}),i=Js({typed:t}),o=t("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return r(e,t,o)},"Array, Array":function(e,t){return o(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return o(n(e),t)},"Matrix, Array":function(e,t){return o(e,n(t))},"Matrix, any":function(e,t){return i(e,t,o,!1)},"any, Matrix":function(e,t){return i(t,e,o,!0)},"Array, any":function(e,t){return i(n(e),t,o,!1).valueOf()},"any, Array":function(e,t){return i(n(t),e,o,!0).valueOf()}});return o}));function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wl="Number of decimals in function round must be an integer",kl=$e("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.BigNumber,a=e.DenseMatrix,s=rl({typed:t,equalScalar:r}),l=il({typed:t,DenseMatrix:a}),u=Js({typed:t}),c=t("round",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(n,!0).forEach((function(t){_l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ml,{Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(wl);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(wl);var n=t.toNumber();return e.round(n)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(wl);return new o(e).toDecimalPlaces(t.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(wl);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(wl);return e.round(t)},"Array | Matrix":function(e){return $t(e,c,!0)},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,c,!1)},"DenseMatrix, number | BigNumber":function(e,t){return u(e,t,c,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):l(t,e,c,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,c,!0)},"Array, number | BigNumber":function(e,t){return u(n(e),t,c,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return u(n(t),e,c,!0).valueOf()}}));return c})),Ml={number:Ho,"number, number":function(e,t){if(!te(t))throw new TypeError(wl);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return Ho(e,t)}},Tl=$e("algorithm08",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,f=r._index,d=r._ptr,h=r._size,p=r._datatype;if(l.length!==h.length)throw new Ne(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!o||!c)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m,g=l[0],v=l[1],y=n,b=0,x=i;"string"===typeof u&&u===p&&(m=u,y=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));for(var _,w,k,M,T=[],S=[],E=[],A=e.createSparseMatrix({values:T,index:S,ptr:E,size:[g,v],datatype:m}),O=[],C=[],N=0;N<v;N++){E[N]=S.length;var D=N+1;for(w=s[N],k=s[N+1],_=w;_<k;_++)C[M=a[_]]=D,O[M]=o[_],S.push(M);for(w=d[N],k=d[N+1],_=w;_<k;_++)C[M=f[_]]===D&&(O[M]=x(O[M],c[_]));for(_=E[N];_<S.length;){var P=O[M=S[_]];y(P,b)?S.splice(_,1):(T.push(P),_++)}}return E[v]=S.length,A}})),Sl=$e("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.DenseMatrix,a=Xs({typed:t}),s=el({typed:t,equalScalar:r}),l=Tl({typed:t,equalScalar:r}),u=Zs({typed:t,DenseMatrix:o}),c=rl({typed:t,equalScalar:r}),f=Ks({typed:t}),d=Js({typed:t}),h=t("leftShift",{"number, number":ua,"BigNumber, BigNumber":na,"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():c(e,t,h,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():d(e,t,h,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,h,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):d(t,e,h,!0)},"Array, number | BigNumber":function(e,t){return h(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return h(e,n(t)).valueOf()}});return h})),El=$e("rightLogShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.DenseMatrix,a=Xs({typed:t}),s=el({typed:t,equalScalar:r}),l=Tl({typed:t,equalScalar:r}),u=Zs({typed:t,DenseMatrix:o}),c=rl({typed:t,equalScalar:r}),f=Ks({typed:t}),d=Js({typed:t}),h=t("rightLogShift",{"number, number":fa,"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():c(e,t,h,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():d(e,t,h,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,h,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):d(t,e,h,!0)},"Array, number | BigNumber":function(e,t){return h(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return h(e,n(t)).valueOf()}});return h})),Al=$e("compare",["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.equalScalar,i=e.matrix,o=e.BigNumber,a=e.Fraction,s=e.DenseMatrix,l=tl({typed:t}),u=nl({typed:t,equalScalar:r}),c=il({typed:t,DenseMatrix:s}),f=Ks({typed:t}),d=Js({typed:t}),h=t("compare",{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,t){return ge(e,t,n.epsilon)?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return po(e,t,n.epsilon)?new o(0):new o(e.cmp(t))},"Fraction, Fraction":function(e,t){return new a(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return h(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return l(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return h(i(e),t)},"Matrix, Array":function(e,t){return h(e,i(t))},"SparseMatrix, any":function(e,t){return c(e,t,h,!1)},"DenseMatrix, any":function(e,t){return d(e,t,h,!1)},"any, SparseMatrix":function(e,t){return c(t,e,h,!0)},"any, DenseMatrix":function(e,t){return d(t,e,h,!0)},"Array, any":function(e,t){return d(i(e),t,h,!1).valueOf()},"any, Array":function(e,t){return d(i(t),e,h,!0).valueOf()}});return h})),Ol=$e("compareText",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix,r=Ks({typed:t}),i=Js({typed:t}),o=t("compareText",{"any, any":Ce,"DenseMatrix, DenseMatrix":function(e,t){return r(e,t,Ce)},"Array, Array":function(e,t){return o(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return o(n(e),t)},"Matrix, Array":function(e,t){return o(e,n(t))},"DenseMatrix, any":function(e,t){return i(e,t,Ce,!1)},"any, DenseMatrix":function(e,t){return i(t,e,Ce,!0)},"Array, any":function(e,t){return i(n(e),t,Ce,!1).valueOf()},"any, Array":function(e,t){return i(n(t),e,Ce,!0).valueOf()}});return o})),Cl=$e("smaller",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=tl({typed:t}),a=cl({typed:t,DenseMatrix:i}),s=il({typed:t,DenseMatrix:i}),l=Ks({typed:t}),u=Js({typed:t}),c=t("smaller",{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!ge(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!po(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,c)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,c,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,c,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,c)},"Array, Array":function(e,t){return c(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return c(r(e),t)},"Matrix, Array":function(e,t){return c(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,c,!1)},"DenseMatrix, any":function(e,t){return u(e,t,c,!1)},"any, SparseMatrix":function(e,t){return s(t,e,c,!0)},"any, DenseMatrix":function(e,t){return u(t,e,c,!0)},"Array, any":function(e,t){return u(r(e),t,c,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,c,!0).valueOf()}});return c})),Nl=$e("larger",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=tl({typed:t}),a=cl({typed:t,DenseMatrix:i}),s=il({typed:t,DenseMatrix:i}),l=Ks({typed:t}),u=Js({typed:t}),c=t("larger",{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,t){return e>t&&!ge(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!po(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,c)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,c,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,c,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,c)},"Array, Array":function(e,t){return c(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return c(r(e),t)},"Matrix, Array":function(e,t){return c(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,c,!1)},"DenseMatrix, any":function(e,t){return u(e,t,c,!1)},"any, SparseMatrix":function(e,t){return s(t,e,c,!0)},"any, DenseMatrix":function(e,t){return u(t,e,c,!0)},"Array, any":function(e,t){return u(r(e),t,c,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,c,!0).valueOf()}});return c})),Dl=$e("unequal",["typed","config","equalScalar","matrix","DenseMatrix"],(function(e){var t=e.typed,n=(e.config,e.equalScalar),r=e.matrix,i=e.DenseMatrix,o=tl({typed:t}),a=cl({typed:t,DenseMatrix:i}),s=il({typed:t,DenseMatrix:i}),l=Ks({typed:t}),u=Js({typed:t}),c=t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:f(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,f)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,f)},"Array, Array":function(e,t){return c(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return c(r(e),t)},"Matrix, Array":function(e,t){return c(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,f,!1)},"DenseMatrix, any":function(e,t){return u(e,t,f,!1)},"any, SparseMatrix":function(e,t){return s(t,e,f,!0)},"any, DenseMatrix":function(e,t){return u(t,e,f,!0)},"Array, any":function(e,t){return u(r(e),t,f,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,f,!0).valueOf()}});function f(e,t){return!n(e,t)}return c})),Pl=($e("unequal",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!n(e,t)}})})),$e("ImmutableDenseMatrix",["smaller","DenseMatrix"],(function(e){var t=e.smaller,n=e.DenseMatrix;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!c(t))throw new Error("Invalid datatype: "+t);if(d(e)||f(e)){var i=new n(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&f(e.data)&&f(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min="undefined"!==typeof e.min?e.min:null,this._max="undefined"!==typeof e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+q(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return r.prototype=new n,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(e){switch(arguments.length){case 1:var t=n.prototype.subset.call(this,e);return d(t)?new r({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:W(this._data),size:W(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var e=null;this.forEach((function(n){(null===e||t(n,e))&&(e=n)})),this._min=null!==e?e:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var e=null;this.forEach((function(n){(null===e||t(e,n))&&(e=n)})),this._max=null!==e?e:void 0}return this._max},r}),{isClass:!0})),Rl=$e("FibonacciHeap",["smaller","larger"],(function(e){var t=e.smaller,n=e.larger,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child===t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,n){var r={key:e,value:n,degree:0};if(this._minimum){var i=this._minimum;r.left=i,r.right=i.right,i.right=r,r.right.left=r,t(e,i.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,o=e.degree,s=e.child;o>0;){var l=s.right;s.left.right=s.right,s.right.left=s.left,s.left=i,s.right=i.right,i.right=s,s.right.left=s,s.parent=null,s=l,o--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var o,s=Math.floor(Math.log(i)*r)+1,l=new Array(s),u=0,c=e;if(c)for(u++,c=c.right;c!==e;)u++,c=c.right;for(;u>0;){for(var f=c.degree,d=c.right;o=l[f];){if(n(c.key,o.key)){var h=o;o=c,c=h}a(o,c),l[f]=null,f++}l[f]=c,c=d,u--}e=null;for(var p=0;p<s;p++)(o=l[p])&&(e?(o.left.right=o.right,o.right.left=o.left,o.left=e,o.right=e.right,e.right=o,o.right.left=o,t(o.key,e.key)&&(e=o)):e=o);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){this._minimum=function(e,n,r){n.key=r;var i=n.parent;i&&t(n.key,i.key)&&(o(e,n,i),function e(t,n){var r=n.parent;if(!r)return;n.mark?(o(t,n,r),e(r)):n.mark=!0}(e,i));t(n.key,e.key)&&(e=n);return e}(this._minimum,e,-1),this.extractMinimum()};var a=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i}),{isClass:!0}),Ll=$e("sparse",["typed","SparseMatrix"],(function(e){var t=e.typed,n=e.SparseMatrix;return t("sparse",{"":function(){return new n([])},string:function(e){return new n([],e)},"Array | Matrix":function(e){return new n(e)},"Array | Matrix, string":function(e,t){return new n(e,t)}})})),Il=$e("acoth",["typed","config","Complex","BigNumber"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=e.BigNumber,o=t("acoth",{number:function(e){return e>=1||e<=-1||n.predictable?ja(e):new r(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new i(1).div(e).atanh()},"Array | Matrix":function(e){return $t(e,o)}});return o})),jl=$e("algorithm09",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._index,s=e._ptr,l=e._size,u=e._datatype,c=r._values,f=r._index,d=r._ptr,h=r._size,p=r._datatype;if(l.length!==h.length)throw new Ne(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var m,g=l[0],v=l[1],y=n,b=0,x=i;"string"===typeof u&&u===p&&(m=u,y=t.find(n,[m,m]),b=t.convert(0,m),x=t.find(i,[m,m]));var _,w,k,M,T,S=o&&c?[]:void 0,E=[],A=[],O=e.createSparseMatrix({values:S,index:E,ptr:A,size:[g,v],datatype:m}),C=S?[]:void 0,N=[];for(w=0;w<v;w++){A[w]=E.length;var D=w+1;if(C)for(M=d[w],T=d[w+1],k=M;k<T;k++)N[_=f[k]]=D,C[_]=c[k];for(M=s[w],T=s[w+1],k=M;k<T;k++)if(_=a[k],C){var P=N[_]===D?C[_]:b,R=x(o[k],P);y(R,b)||(E.push(_),S.push(R))}else E.push(_)}return A[v]=E.length,O}})),zl=$e("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.BigNumber,o=e.DenseMatrix,a=el({typed:t,equalScalar:r}),s=tl({typed:t}),l=jl({typed:t,equalScalar:r}),u=rl({typed:t,equalScalar:r}),c=il({typed:t,DenseMatrix:o}),f=Ks({typed:t}),d=Js({typed:t}),h=t("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,t){return i.atan2(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,h,!1)},"DenseMatrix, number | BigNumber":function(e,t){return d(e,t,h,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(t,e,h,!0)},"number | BigNumber, DenseMatrix":function(e,t){return d(t,e,h,!0)},"Array, number | BigNumber":function(e,t){return d(n(e),t,h,!1).valueOf()},"number | BigNumber, Array":function(e,t){return d(n(t),e,h,!0).valueOf()}});return h})),Fl=$e("sec",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber,r=t("sec",{number:Xa,Complex:function(e){return e.sec()},BigNumber:function(e){return new n(1).div(e.cos())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return r(e.value)},"Array | Matrix":function(e){return $t(e,r)}});return r})),Bl=$e("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.addScalar,i=e.equalScalar,o=e.DenseMatrix,a=(e.SparseMatrix,Xs({typed:t})),s=$s({typed:t,equalScalar:i}),l=Zs({typed:t,DenseMatrix:o}),u=Ks({typed:t}),c=Js({typed:t}),f=t("add",G({"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,r)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,r,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,r,!0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,r)},"Array, Array":function(e,t){return f(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return f(n(e),t)},"Matrix, Array":function(e,t){return f(e,n(t))},"DenseMatrix, any":function(e,t){return c(e,t,r,!1)},"SparseMatrix, any":function(e,t){return l(e,t,r,!1)},"any, DenseMatrix":function(e,t){return c(t,e,r,!0)},"any, SparseMatrix":function(e,t){return l(t,e,r,!0)},"Array, any":function(e,t){return c(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(e,t,n){for(var r=f(e,t),i=0;i<n.length;i++)r=f(r,n[i]);return r}},r.signatures));return f})),Ul=$e("trace",["typed","matrix","add"],(function(e){var t=e.typed,n=e.matrix,r=e.add;return t("trace",{Array:function(e){return i(n(e))},SparseMatrix:function(e){var t=e._values,n=e._index,i=e._ptr,o=e._size,a=o[0],s=o[1];if(a===s){var l=0;if(t.length>0)for(var u=0;u<s;u++)for(var c=i[u],f=i[u+1],d=c;d<f;d++){var h=n[d];if(h===u){l=r(l,t[d]);break}if(h>u)break}return l}throw new RangeError("Matrix must be square (size: "+Ee(o)+")")},DenseMatrix:i,any:W});function i(e){var t=e._size,n=e._data;switch(t.length){case 1:if(1===t[0])return W(n[0]);throw new RangeError("Matrix must be square (size: "+Ee(t)+")");case 2:var i=t[0];if(i===t[1]){for(var o=0,a=0;a<i;a++)o=r(o,n[a][a]);return o}throw new RangeError("Matrix must be square (size: "+Ee(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ee(t)+")")}}})),Hl=$e("composition",["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],(function(e){var t=e.typed,n=e.addScalar,r=e.combinations,i=e.isPositive,o=(e.isNegative,e.isInteger),a=e.larger;return t("composition",{"number | BigNumber, number | BigNumber":function(e,t){if(!(o(e)&&i(e)&&o(t)&&i(t)))throw new TypeError("Positive integer value expected in function composition");if(a(t,e))throw new TypeError("k must be less than or equal to n in function composition");return r(n(e,-1),n(t,-1))}})})),ql=$e("isZero",["typed"],(function(e){var t=(0,e.typed)("isZero",{number:uo,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return t(e.value)},"Array | Matrix":function(e){return $t(e,t)}});return t})),Vl=$e("abs",["typed"],(function(e){var t=(0,e.typed)("abs",{number:_o,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return $t(e,t,!0)},Unit:function(e){return e.abs()}});return t})),Wl=$e("floor",["typed","config","round"],(function(e){var t=e.typed,n=e.config,r=e.round,i=t("floor",{number:function(e){return ge(e,r(e),n.epsilon)?r(e):Math.floor(e)},Complex:function(e){return e.floor()},BigNumber:function(e){return po(e,r(e),n.epsilon)?r(e):e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return $t(e,i,!0)}});return i})),Yl=$e("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.addScalar,i=e.multiplyScalar,o=e.equalScalar,a=rl({typed:t,equalScalar:o}),s=Js({typed:t}),l=t("multiply",G({"Array, Array":function(e,t){u(Pe(e),Pe(t));var r=l(n(e),n(t));return d(r)?r.valueOf():r},"Matrix, Matrix":function(e,n){var o=e.size(),a=n.size();return u(o,a),1===o.length?1===a.length?function(e,n,o){if(0===o)throw new Error("Cannot multiply two empty vectors");var a,s=e._data,l=e._datatype,u=n._data,c=n._datatype,f=r,d=i;l&&c&&l===c&&"string"===typeof l&&(a=l,f=t.find(r,[a,a]),d=t.find(i,[a,a]));for(var h=d(s[0],u[0]),p=1;p<o;p++)h=f(h,d(s[p],u[p]));return h}(e,n,o[0]):function(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var o,a=e._data,s=e._size,l=e._datatype,u=n._data,c=n._size,f=n._datatype,d=s[0],h=c[1],p=r,m=i;l&&f&&l===f&&"string"===typeof l&&(o=l,p=t.find(r,[o,o]),m=t.find(i,[o,o]));for(var g=[],v=0;v<h;v++){for(var y=m(a[0],u[0][v]),b=1;b<d;b++)y=p(y,m(a[b],u[b][v]));g[v]=y}return e.createDenseMatrix({data:g,size:[h],datatype:o})}(e,n)}(e,n):1===a.length?c(e,n):f(e,n)},"Matrix, Array":function(e,t){return l(e,n(t))},"Array, Matrix":function(e,t){return l(n(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return a(e,t,i,!1)},"DenseMatrix, any":function(e,t){return s(e,t,i,!1)},"any, SparseMatrix":function(e,t){return a(t,e,i,!0)},"any, DenseMatrix":function(e,t){return s(t,e,i,!0)},"Array, any":function(e,t){return s(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return s(n(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(e,t,n){for(var r=l(e,t),i=0;i<n.length;i++)r=l(r,n[i]);return r}},i.signatures));function u(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var c=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var o,a=e._data,s=e._size,l=e._datatype,u=n._data,c=n._datatype,f=s[0],d=s[1],h=r,p=i;l&&c&&l===c&&"string"===typeof l&&(o=l,h=t.find(r,[o,o]),p=t.find(i,[o,o]));for(var m=[],g=0;g<f;g++){for(var v=a[g],y=p(v[0],u[0]),b=1;b<d;b++)y=h(y,p(v[b],u[b]));m[g]=y}return e.createDenseMatrix({data:m,size:[f],datatype:o})},"SparseMatrix, any":function(e,n){var a=e._values,s=e._index,l=e._ptr,u=e._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,d=n._datatype,h=e._size[0],p=n._size[0],m=[],g=[],v=[],y=r,b=i,x=o,_=0;u&&d&&u===d&&"string"===typeof u&&(c=u,y=t.find(r,[c,c]),b=t.find(i,[c,c]),x=t.find(o,[c,c]),_=t.convert(0,c));var w=[],k=[];v[0]=0;for(var M=0;M<p;M++){var T=f[M];if(!x(T,_))for(var S=l[M],E=l[M+1],A=S;A<E;A++){var O=s[A];k[O]?w[O]=y(w[O],b(T,a[A])):(k[O]=!0,g.push(O),w[O]=b(T,a[A]))}}for(var C=g.length,N=0;N<C;N++){var D=g[N];m[N]=w[D]}return v[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:v,size:[h,1],datatype:c})}}),f=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var o,a=e._data,s=e._size,l=e._datatype,u=n._data,c=n._size,f=n._datatype,d=s[0],h=s[1],p=c[1],m=r,g=i;l&&f&&l===f&&"string"===typeof l&&(o=l,m=t.find(r,[o,o]),g=t.find(i,[o,o]));for(var v=[],y=0;y<d;y++){var b=a[y];v[y]=[];for(var x=0;x<p;x++){for(var _=g(b[0],u[0][x]),w=1;w<h;w++)_=m(_,g(b[w],u[w][x]));v[y][x]=_}}return e.createDenseMatrix({data:v,size:[d,p],datatype:o})},"DenseMatrix, SparseMatrix":function(e,n){var a=e._data,s=e._size,l=e._datatype,u=n._values,c=n._index,f=n._ptr,d=n._size,h=n._datatype;if(!u)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var p,m=s[0],g=d[1],v=r,y=i,b=o,x=0;l&&h&&l===h&&"string"===typeof l&&(p=l,v=t.find(r,[p,p]),y=t.find(i,[p,p]),b=t.find(o,[p,p]),x=t.convert(0,p));for(var _=[],w=[],k=[],M=n.createSparseMatrix({values:_,index:w,ptr:k,size:[m,g],datatype:p}),T=0;T<g;T++){k[T]=w.length;var S=f[T],E=f[T+1];if(E>S)for(var A=0,O=0;O<m;O++){for(var C=O+1,N=void 0,D=S;D<E;D++){var P=c[D];A!==C?(N=y(a[O][P],u[D]),A=C):N=v(N,y(a[O][P],u[D]))}A!==C||b(N,x)||(w.push(O),_.push(N))}}return k[g]=w.length,M},"SparseMatrix, DenseMatrix":function(e,n){var a=e._values,s=e._index,l=e._ptr,u=e._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,f=n._data,d=n._datatype,h=e._size[0],p=n._size[0],m=n._size[1],g=r,v=i,y=o,b=0;u&&d&&u===d&&"string"===typeof u&&(c=u,g=t.find(r,[c,c]),v=t.find(i,[c,c]),y=t.find(o,[c,c]),b=t.convert(0,c));for(var x=[],_=[],w=[],k=e.createSparseMatrix({values:x,index:_,ptr:w,size:[h,m],datatype:c}),M=[],T=[],S=0;S<m;S++){w[S]=_.length;for(var E=S+1,A=0;A<p;A++){var O=f[A][S];if(!y(O,b))for(var C=l[A],N=l[A+1],D=C;D<N;D++){var P=s[D];T[P]!==E?(T[P]=E,_.push(P),M[P]=v(O,a[D])):M[P]=g(M[P],v(O,a[D]))}}for(var R=w[S],L=_.length,I=R;I<L;I++){var j=_[I];x[I]=M[j]}}return w[m]=_.length,k},"SparseMatrix, SparseMatrix":function(e,n){var o,a=e._values,s=e._index,l=e._ptr,u=e._datatype,c=n._values,f=n._index,d=n._ptr,h=n._datatype,p=e._size[0],m=n._size[1],g=a&&c,v=r,y=i;u&&h&&u===h&&"string"===typeof u&&(o=u,v=t.find(r,[o,o]),y=t.find(i,[o,o]));for(var b,x,_,w,k,M,T,S,E=g?[]:void 0,A=[],O=[],C=e.createSparseMatrix({values:E,index:A,ptr:O,size:[p,m],datatype:o}),N=g?[]:void 0,D=[],P=0;P<m;P++){O[P]=A.length;var R=P+1;for(k=d[P],M=d[P+1],w=k;w<M;w++)if(S=f[w],g)for(x=l[S],_=l[S+1],b=x;b<_;b++)T=s[b],D[T]!==R?(D[T]=R,A.push(T),N[T]=y(c[w],a[b])):N[T]=v(N[T],y(c[w],a[b]));else for(x=l[S],_=l[S+1],b=x;b<_;b++)T=s[b],D[T]!==R&&(D[T]=R,A.push(T));if(g)for(var L=O[P],I=A.length,j=L;j<I;j++){var z=A[j];E[j]=N[z]}}return O[m]=A.length,C}});return l})),Gl=$e("dotMultiply",["typed","matrix","equalScalar","multiplyScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.multiplyScalar,o=el({typed:t,equalScalar:r}),a=jl({typed:t,equalScalar:r}),s=rl({typed:t,equalScalar:r}),l=Ks({typed:t}),u=Js({typed:t}),c=t("dotMultiply",{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,i)},"Array, Array":function(e,t){return c(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return c(n(e),t)},"Matrix, Array":function(e,t){return c(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"DenseMatrix, any":function(e,t){return u(e,t,i,!1)},"any, SparseMatrix":function(e,t){return s(t,e,i,!0)},"any, DenseMatrix":function(e,t){return u(t,e,i,!0)},"Array, any":function(e,t){return u(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,i,!0).valueOf()}});return c})),Xl=$e("re",["typed"],(function(e){var t=(0,e.typed)("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return $t(e,t)}});return t})),$l=$e("flatten",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix;return t("flatten",{Array:function(e){return Be(W(e))},Matrix:function(e){var t=Be(W(e.toArray()));return n(t)}})}));function Zl(e,t,n,r){if(!(this instanceof Zl))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!==r&&null!==r?"-"+r:"")+" expected)",this.stack=(new Error).stack}Zl.prototype=new Error,Zl.prototype.constructor=Error,Zl.prototype.name="ArgumentsError",Zl.prototype.isArgumentsError=!0;var Kl=$e("resize",["config","matrix"],(function(e){var t=e.config,n=e.matrix;return function(e,i,o){if(2!==arguments.length&&3!==arguments.length)throw new Zl("resize",arguments.length,2,3);if(d(i)&&(i=i.valueOf()),a(i[0])&&(i=i.map((function(e){return a(e)?e.toNumber():e}))),d(e))return e.resize(i,o,!0);if("string"===typeof e)return r(e,i,o);var s=!Array.isArray(e)&&"Array"!==t.matrix;if(0===i.length){for(;Array.isArray(e);)e=e[0];return W(e)}Array.isArray(e)||(e=[e]);var l=Ie(e=W(e),i,o);return s?n(l):l};function r(e,t,n){if(void 0!==n){if("string"!==typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new Ne(t.length,1);var r=t[0];if("number"!==typeof r||!te(r))throw new TypeError("Invalid size, must contain positive integers (size: "+Ee(t)+")");if(e.length>r)return e.substring(0,r);if(e.length<r){for(var i=e,o=0,a=r-e.length;o<a;o++)i+=n;return i}return e}})),Jl=$e("squeeze",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix;return t("squeeze",{Array:function(e){return ze(W(e))},Matrix:function(e){var t=ze(e.toArray());return Array.isArray(t)?n(t):t},any:function(e){return W(e)}})})),Ql=$e("prod",["typed","multiply"],(function(e){var t=e.typed,n=e.multiply;return t("prod",{"Array | Matrix":r,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return r(e)}});function r(e){var t;if(Xt(e,(function(e){try{t=void 0===t?e:n(t,e)}catch(r){throw Fn(r,"prod",e)}})),void 0===t)throw new Error("Cannot calculate prod of an empty array");return t}})),eu=$e("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(function(e){var t=e.typed,n=e.config,r=e.identity,i=e.multiply,o=e.matrix,a=e.number,s=e.fraction,l=e.Complex;return t("pow",{"number, number":u,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||n.predictable?e.pow(t):new l(e.toNumber(),0).pow(t.toNumber(),0)},"Fraction, Fraction":function(e,t){if(1!==t.d){if(n.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return u(e.valueOf(),t.valueOf())}return e.pow(t)},"Array, number":c,"Array, BigNumber":function(e,t){return c(e,t.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(e,t){return f(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function u(e,t){if(n.predictable&&!te(t)&&e<0)try{var r=s(t),i=a(r);if((t===i||Math.abs((t-i)/t)<1e-14)&&r.d%2===1)return(r.n%2===0?1:-1)*Math.pow(-e,t)}catch(o){}return n.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:te(t)||e>=0||n.predictable?Uo(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new l(e,0).pow(t,0)}function c(e,t){if(!te(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var n=Pe(e);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var o=r(n[0]).valueOf(),a=e;t>=1;)1===(1&t)&&(o=i(a,o)),t>>=1,a=i(a,a);return o}function f(e,t){return o(c(e.valueOf(),t))}})),tu=$e("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix"],(function(e){var t=e.typed,n=e.equalScalar,r=e.matrix,i=e.pow,o=e.DenseMatrix,a=tl({typed:t}),s=cl({typed:t,DenseMatrix:o}),l=rl({typed:t,equalScalar:n}),u=il({typed:t,DenseMatrix:o}),c=Ks({typed:t}),f=Js({typed:t}),d=t("dotPow",{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,i)},"Array, Array":function(e,t){return d(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return d(r(e),t)},"Matrix, Array":function(e,t){return d(e,r(t))},"SparseMatrix, any":function(e,t){return l(e,t,d,!1)},"DenseMatrix, any":function(e,t){return f(e,t,d,!1)},"any, SparseMatrix":function(e,t){return u(t,e,d,!0)},"any, DenseMatrix":function(e,t){return f(t,e,d,!0)},"Array, any":function(e,t){return f(r(e),t,d,!1).valueOf()},"any, Array":function(e,t){return f(r(t),e,d,!0).valueOf()}});return d})),nu=$e("rightArithShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.DenseMatrix,a=Xs({typed:t}),s=el({typed:t,equalScalar:r}),l=Tl({typed:t,equalScalar:r}),u=Zs({typed:t,DenseMatrix:o}),c=rl({typed:t,equalScalar:r}),f=Ks({typed:t}),d=Js({typed:t}),h=t("rightArithShift",{"number, number":ca,"BigNumber, BigNumber":ra,"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():c(e,t,h,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():d(e,t,h,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,h,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):d(t,e,h,!0)},"Array, number | BigNumber":function(e,t){return h(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return h(e,n(t)).valueOf()}});return h})),ru=n(51),iu=n.n(ru),ou=$e("compareNatural",["typed","compare"],(function(e){var t=e.typed,n=e.compare,r=n.signatures["boolean,boolean"],i=t("compareNatural",{"any, any":function(e,t){var a,s=q(e),l=q(t);if(("number"===s||"BigNumber"===s||"Fraction"===s)&&("number"===l||"BigNumber"===l||"Fraction"===l))return"0"!==(a=n(e,t)).toString()?a>0?1:-1:iu()(s,l);if("Array"===s||"Matrix"===s||"Array"===l||"Matrix"===l)return 0!==(a=function e(t,n){if(m(t)&&m(n))return o(t.toJSON().values,n.toJSON().values);if(m(t))return e(t.toArray(),n);if(m(n))return e(t,n.toArray());if(p(t))return e(t.toJSON().data,n);if(p(n))return e(t,n.toJSON().data);if(!Array.isArray(t))return e([t],n);if(!Array.isArray(n))return e(t,[n]);return o(t,n)}(e,t))?a:iu()(s,l);if(s!==l)return iu()(s,l);if("Complex"===s)return function(e,t){if(e.re>t.re)return 1;if(e.re<t.re)return-1;if(e.im>t.im)return 1;if(e.im<t.im)return-1;return 0}(e,t);if("Unit"===s)return e.equalBase(t)?i(e.value,t.value):o(e.formatUnits(),t.formatUnits());if("boolean"===s)return r(e,t);if("string"===s)return iu()(e,t);if("Object"===s)return function(e,t){var n=Object.keys(e),r=Object.keys(t);n.sort(iu.a),r.sort(iu.a);var a=o(n,r);if(0!==a)return a;for(var s=0;s<n.length;s++){var l=i(e[n[s]],t[r[s]]);if(0!==l)return l}return 0}(e,t);if("null"===s)return 0;if("undefined"===s)return 0;throw new TypeError('Unsupported type of value "'+s+'"')}});function o(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++){var o=i(e[n],t[n]);if(0!==o)return o}return e.length>t.length?1:e.length<t.length?-1:0}return i}));var au=$e("equalText",["typed","compareText","isZero"],(function(e){var t=e.typed,n=e.compareText,r=e.isZero;return t("equalText",{"any, any":function(e,t){return r(n(e,t))}})})),su=$e("largerEq",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=tl({typed:t}),a=cl({typed:t,DenseMatrix:i}),s=il({typed:t,DenseMatrix:i}),l=Ks({typed:t}),u=Js({typed:t}),c=t("largerEq",{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,t){return e>=t||ge(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)||po(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,c)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,c,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,c,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,c)},"Array, Array":function(e,t){return c(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return c(r(e),t)},"Matrix, Array":function(e,t){return c(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,c,!1)},"DenseMatrix, any":function(e,t){return u(e,t,c,!1)},"any, SparseMatrix":function(e,t){return s(t,e,c,!0)},"any, DenseMatrix":function(e,t){return u(t,e,c,!0)},"Array, any":function(e,t){return u(r(e),t,c,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,c,!0).valueOf()}});return c})),lu=$e("partitionSelect",["typed","isNumeric","isNaN","compare"],(function(e){var t=e.typed,n=e.isNumeric,r=e.isNaN,i=e.compare,o=i,a=function(e,t){return-i(e,t)};return t("partitionSelect",{"Array | Matrix, number":function(e,t){return s(e,t,o)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return s(e,t,o);if("desc"===n)return s(e,t,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(e,t,n){if(!te(t)||t<0)throw new Error("k must be a non-negative integer");if(d(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return l(e.valueOf(),t,n)}if(Array.isArray(e))return l(e,t,n)}function l(e,t,i){if(t>=e.length)throw new Error("k out of bounds");for(var o=0;o<e.length;o++)if(n(e[o])&&r(e[o]))return e[o];for(var a=0,s=e.length-1;a<s;){for(var l=a,u=s,c=e[Math.floor(Math.random()*(s-a+1))+a];l<u;)if(i(e[l],c)>=0){var f=e[u];e[u]=e[l],e[l]=f,--u}else++l;i(e[l],c)>0&&--l,t<=l?s=l:a=l+1}return e[t]}})),uu=$e("Spa",["addScalar","equalScalar","FibonacciHeap"],(function(e){var t=e.addScalar,n=e.equalScalar,r=e.FibonacciHeap;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,n){var r=this._values[e];r?r.value=t(r.value,n):(r=this._heap.insert(e,n),this._values[e]=r)},i.prototype.forEach=function(e,t,r){var i=this._heap,o=this._values,a=[],s=i.extractMinimum();for(s&&a.push(s);s&&s.key<=t;)s.key>=e&&(n(s.value,0)||r(s.key,s.value,this)),(s=i.extractMinimum())&&a.push(s);for(var l=0;l<a.length;l++){var u=a[l];o[(s=i.insert(u.key,u.value)).key]=s}},i.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}),{isClass:!0}),cu=$e("asech",["typed","config","Complex","BigNumber"],(function(e){var t=e.typed,n=e.config,r=e.Complex,i=e.BigNumber,o=t("asech",{number:function(e){if(e<=1&&e>=-1||n.predictable){var t=1/e;if(t>0||n.predictable)return Ua(e);var i=Math.sqrt(t*t-1);return new r(Math.log(i-t),Math.PI)}return new r(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new i(1).div(e).acosh()},"Array | Matrix":function(e){return $t(e,o)}});return o})),fu=$e("tan",["typed"],(function(e){var t=(0,e.typed)("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return t(e.value)},"Array | Matrix":function(e){return $t(e,t,!0)}});return t})),du=$e("setSize",["typed","compareNatural"],(function(e){var t=e.typed,n=e.compareNatural;return t("setSize",{"Array | Matrix":function(e){return Array.isArray(e)?Be(e).length:Be(e.toArray()).length},"Array | Matrix, boolean":function(e,t){if(!1===t||0===e.length)return Array.isArray(e)?Be(e).length:Be(e.toArray()).length;for(var r=Be(Array.isArray(e)?e:e.toArray()).sort(n),i=1,o=1;o<r.length;o++)0!==n(r[o],r[o-1])&&i++;return i}})})),hu=$e("norm",["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix"],(function(e){var t=e.typed,n=e.abs,r=e.add,i=e.pow,o=e.conj,a=e.sqrt,s=e.multiply,l=e.equalScalar,u=e.larger,c=e.smaller,f=e.matrix,d=t("norm",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return h(f(e),2)},Matrix:function(e){return h(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return d(e)},"Array, number | BigNumber | string":function(e,t){return h(f(e),t)},"Matrix, number | BigNumber | string":function(e,t){return h(e,t)}});function h(e,t){var f=e.size();if(1===f.length){if(t===Number.POSITIVE_INFINITY||"inf"===t){var d=0;return e.forEach((function(e){var t=n(e);u(t,d)&&(d=t)}),!0),d}var p;if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return e.forEach((function(e){var t=n(e);p&&!c(t,p)||(p=t)}),!0),p||0;if("fro"===t)return h(e,2);if("number"===typeof t&&!isNaN(t)){if(!l(t,0)){var m=0;return e.forEach((function(e){m=r(i(n(e),t),m)}),!0),i(m,1/t)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2===f.length){if(1===t){var g=[],v=0;return e.forEach((function(e,t){var i=t[1],o=r(g[i]||0,n(e));u(o,v)&&(v=o),g[i]=o}),!0),v}if(t===Number.POSITIVE_INFINITY||"inf"===t){var y=[],b=0;return e.forEach((function(e,t){var i=t[0],o=r(y[i]||0,n(e));u(o,b)&&(b=o),y[i]=o}),!0),b}if("fro"===t){var x=0;return e.forEach((function(e,t){x=r(x,s(e,o(e)))})),n(a(x))}if(2===t)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return d})),pu=$e("quantileSeq",["typed","add","multiply","partitionSelect","compare"],(function(e){var t=e.typed,n=e.add,r=e.multiply,i=e.partitionSelect,s=e.compare;function l(e,t,a){var l=Be(e),c=l.length;if(0===c)throw new Error("Cannot calculate quantile of an empty sequence");if(o(t)){var f=t*(c-1),d=f%1;if(0===d){var h=a?l[f]:i(l,f);return u(h),h}var p,m,g=Math.floor(f);if(a)p=l[g],m=l[g+1];else{m=i(l,g+1),p=l[g];for(var v=0;v<g;++v)s(l[v],p)>0&&(p=l[v])}return u(p),u(m),n(r(p,1-d),r(m,d))}var y=t.times(c-1);if(y.isInteger()){y=y.toNumber();var b=a?l[y]:i(l,y);return u(b),b}var x,_,w=y.floor(),k=y.minus(w),M=w.toNumber();if(a)x=l[M],_=l[M+1];else{_=i(l,M+1),x=l[M];for(var T=0;T<M;++T)s(l[T],x)>0&&(x=l[T])}u(x),u(_);var S=new k.constructor(1);return n(r(x,S.minus(k)),r(_,k))}var u=t({"number | BigNumber | Unit":function(e){return e}});return function(e,t,n){var r,i,s;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(h(e)){if("boolean"===typeof(n=n||!1)){if(i=e.valueOf(),o(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return l(i,t,n);if(t>1){if(!te(t))throw new Error("N must be a positive integer");var u=t+1;r=new Array(t);for(var c=0;c<t;)r[c]=l(i,++c/u,n);return r}}if(a(t)){var f=t.constructor;if(t.isNegative())throw new Error("N/prob must be non-negative");if(s=new f(1),t.lte(s))return new f(l(i,t,n));if(t.gt(s)){if(!t.isInteger())throw new Error("N must be a positive integer");var d=t.toNumber();if(d>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var p=new f(d+1);r=new Array(d);for(var m=0;m<d;)r[m]=new f(l(i,new f(++m).div(p),n));return r}}if(Array.isArray(t)){r=new Array(t.length);for(var g=0;g<r.length;++g){var v=t[g];if(o(v)){if(v<0||v>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!a(v))throw new TypeError("Unexpected type of argument in function quantileSeq");if(s=new v.constructor(1),v.isNegative()||v.gt(s))throw new Error("Probability must be between 0 and 1, inclusive")}r[g]=l(i,v,n)}return r}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}));function mu(e){var t;if(te(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:us(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*mu(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,i=r*e,o=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*e))}--e,t=vu[0];for(var a=1;a<vu.length;++a)t+=vu[a]/(e+a);var s=e+gu+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}mu.signature="number";var gu=4.7421875,vu=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],yu=$e("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],(function(e){var t=e.typed,n=e.config,r=e.multiplyScalar,i=e.pow,o=e.BigNumber,a=e.Complex,s=t("gamma",{number:mu,Complex:function(e){if(0===e.im)return s(e.re);e=new a(e.re-1,e.im);for(var t=new a(vu[0],0),n=1;n<vu.length;++n){var o=e.re+n,l=o*o+e.im*e.im;0!==l?(t.re+=vu[n]*o/l,t.im+=-vu[n]*e.im/l):t.re=vu[n]<0?-1/0:1/0}var u=new a(e.re+gu+.5,e.im),c=Math.sqrt(2*Math.PI);e.re+=.5;var f=i(u,e);0===f.im?f.re*=c:0===f.re?f.im*=c:(f.re*=c,f.im*=c);var d=Math.exp(-u.re);return u.re=d*Math.cos(-u.im),u.im=d*Math.sin(-u.im),r(r(f,u),t)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new o(1/0):function(e){if(e.isZero())return new o(1);var t=n.precision+(0|Math.log(e.toNumber())),r=new(o.clone({precision:t}))(e),i=e.toNumber()-1;for(;i>1;)r=r.times(i),i--;return new o(r.toPrecision(o.precision))}(e.minus(1));if(!e.isFinite())return new o(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return $t(e,s)}});return s})),bu=$e("bignumber",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber,r=t("bignumber",{"":function(){return new n(0)},number:function(e){return new n(e+"")},string:function(e){return new n(e)},BigNumber:function(e){return e},Fraction:function(e){return new n(e.n).div(e.d).times(e.s)},null:function(e){return new n(0)},"Array | Matrix":function(e){return $t(e,r)}});return r})),xu=$e("lcm",["typed","matrix","equalScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=el({typed:t,equalScalar:r}),o=al({typed:t,equalScalar:r}),a=rl({typed:t,equalScalar:r}),s=Ks({typed:t}),l=Js({typed:t}),u=t("lcm",{"number, number":Do,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;var n=e.times(t);for(;!t.isZero();){var r=t;t=e.mod(r),e=r}return n.div(e).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,u)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,u,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,u,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,u)},"Array, Array":function(e,t){return u(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Array":function(e,t){return u(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return a(e,t,u,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,u,!1)},"number | BigNumber, SparseMatrix":function(e,t){return a(t,e,u,!0)},"number | BigNumber, DenseMatrix":function(e,t){return l(t,e,u,!0)},"Array, number | BigNumber":function(e,t){return l(n(e),t,u,!1).valueOf()},"number | BigNumber, Array":function(e,t){return l(n(t),e,u,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=u(e,t),i=0;i<n.length;i++)r=u(r,n[i]);return r}});return u})),_u=$e("bitOr",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=Xs({typed:t}),a=$s({typed:t,equalScalar:r}),s=Zs({typed:t,DenseMatrix:i}),l=Ks({typed:t}),u=Js({typed:t}),c=t("bitOr",{"number, number":sa,"BigNumber, BigNumber":Jo,"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,c)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,c,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,c,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,c)},"Array, Array":function(e,t){return c(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return c(n(e),t)},"Matrix, Array":function(e,t){return c(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,c,!1)},"DenseMatrix, any":function(e,t){return u(e,t,c,!1)},"any, SparseMatrix":function(e,t){return s(t,e,c,!0)},"any, DenseMatrix":function(e,t){return u(t,e,c,!0)},"Array, any":function(e,t){return u(n(e),t,c,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,c,!0).valueOf()}});return c})),wu=$e("kron",["typed","matrix","multiplyScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.multiplyScalar;return t("kron",{"Matrix, Matrix":function(e,t){return n(i(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return n(i(e.toArray(),t))},"Array, Matrix":function(e,t){return n(i(e,t.toArray()))},"Array, Array":i});function i(e,t){if(1===Pe(e).length&&(e=[e]),1===Pe(t).length&&(t=[t]),Pe(e).length>2||Pe(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var n=[],i=[];return e.map((function(e){return t.map((function(t){return i=[],n.push(i),e.map((function(e){return t.map((function(t){return i.push(r(e,t))}))}))}))}))&&n}})),ku=$e("transpose",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix,r=t("transpose",{Array:function(e){return r(n(e)).valueOf()},Matrix:function(e){var t,n=e.size();switch(n.length){case 1:t=e.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Ee(n)+")");switch(e.storage()){case"dense":t=function(e,t,n){for(var r,i=e._data,o=[],a=0;a<n;a++){r=o[a]=[];for(var s=0;s<t;s++)r[s]=W(i[s][a])}return e.createDenseMatrix({data:o,size:[n,t],datatype:e._datatype})}(e,r,i);break;case"sparse":t=function(e,t,n){for(var r,i,o,a=e._values,s=e._index,l=e._ptr,u=a?[]:void 0,c=[],f=[],d=[],h=0;h<t;h++)d[h]=0;for(r=0,i=s.length;r<i;r++)d[s[r]]++;for(var p=0,m=0;m<t;m++)f.push(p),p+=d[m],d[m]=f[m];for(f.push(p),o=0;o<n;o++)for(var g=l[o],v=l[o+1],y=g;y<v;y++){var b=d[s[y]]++;c[b]=o,a&&(u[b]=W(a[y]))}return e.createSparseMatrix({values:u,index:c,ptr:f,size:[n,t],datatype:e._datatype})}(e,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Ee(this._size)+")")}return t},any:function(e){return W(e)}});return r})),Mu=$e("numeric",["number","?bignumber","?fraction"],(function(e){var t=e.number,n=e.bignumber,r=e.fraction,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:function(e){return t(e)},BigNumber:n?function(e){return n(e)}:sn,Fraction:r?function(e){return r(e)}:ln};return function(e,t){var n=q(e);if(!(n in i))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in o))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(o).join(", "));return t===n?e:o[t](e)}})),Tu=$e("and",["typed","matrix","equalScalar","zeros","not"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.not,a=el({typed:t,equalScalar:r}),s=al({typed:t,equalScalar:r}),l=rl({typed:t,equalScalar:r}),u=Ks({typed:t}),c=Js({typed:t}),f=t("and",{"number, number":ya,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)&&(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!t.isZero()&&!e.isNaN()&&!t.isNaN()},"Unit, Unit":function(e,t){return f(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,f,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,f,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,f,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,f)},"Array, Array":function(e,t){return f(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return f(n(e),t)},"Matrix, Array":function(e,t){return f(e,n(t))},"SparseMatrix, any":function(e,t){return o(t)?i(e.size(),e.storage()):l(e,t,f,!1)},"DenseMatrix, any":function(e,t){return o(t)?i(e.size(),e.storage()):c(e,t,f,!1)},"any, SparseMatrix":function(e,t){return o(e)?i(e.size(),e.storage()):l(t,e,f,!0)},"any, DenseMatrix":function(e,t){return o(e)?i(e.size(),e.storage()):c(t,e,f,!0)},"Array, any":function(e,t){return f(n(e),t).valueOf()},"any, Array":function(e,t){return f(e,n(t)).valueOf()}});return f})),Su=$e("smallerEq",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=tl({typed:t}),a=cl({typed:t,DenseMatrix:i}),s=il({typed:t,DenseMatrix:i}),l=Ks({typed:t}),u=Js({typed:t}),c=t("smallerEq",{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,t){return e<=t||ge(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)||po(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return c(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,c)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,c,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,c,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,c)},"Array, Array":function(e,t){return c(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return c(r(e),t)},"Matrix, Array":function(e,t){return c(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,c,!1)},"DenseMatrix, any":function(e,t){return u(e,t,c,!1)},"any, SparseMatrix":function(e,t){return s(t,e,c,!0)},"any, DenseMatrix":function(e,t){return u(t,e,c,!0)},"Array, any":function(e,t){return u(r(e),t,c,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,c,!0).valueOf()}});return c})),Eu=$e("sort",["typed","matrix","compare","compareNatural"],(function(e){var t=e.typed,n=e.matrix,r=e.compare,i=e.compareNatural,o=r,a=function(e,t){return-r(e,t)};return t("sort",{Array:function(e){return l(e),e.sort(o)},Matrix:function(e){return u(e),n(e.toArray().sort(o),e.storage())},"Array, function":function(e,t){return l(e),e.sort(t)},"Matrix, function":function(e,t){return u(e),n(e.toArray().sort(t),e.storage())},"Array, string":function(e,t){return l(e),e.sort(s(t))},"Matrix, string":function(e,t){return u(e),n(e.toArray().sort(s(t)),e.storage())}});function s(e){if("asc"===e)return o;if("desc"===e)return a;if("natural"===e)return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(e){if(1!==Pe(e).length)throw new Error("One dimensional array expected")}function u(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}})),Au=$e("cot",["typed","BigNumber"],(function(e){var t=e.typed,n=e.BigNumber,r=t("cot",{number:Va,Complex:function(e){return e.cot()},BigNumber:function(e){return new n(1).div(e.tan())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return r(e.value)},"Array | Matrix":function(e){return $t(e,r)}});return r})),Ou=$e("dot",["typed","add","multiply"],(function(e){var t=e.typed,n=e.add,r=e.multiply;return t("dot",{"Matrix, Matrix":function(e,t){return i(e.toArray(),t.toArray())},"Matrix, Array":function(e,t){return i(e.toArray(),t)},"Array, Matrix":function(e,t){return i(e,t.toArray())},"Array, Array":i});function i(e,t){var i=Pe(e),o=Pe(t),a=i[0];if(1!==i.length||1!==o.length)throw new RangeError("Vector expected");if(i[0]!==o[0])throw new RangeError("Vectors must have equal length ("+i[0]+" != "+o[0]+")");if(0===a)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var s=0,l=0;l<a;l++)s=n(s,r(e[l],t[l]));return s}})),Cu=$e("factorial",["typed","gamma"],(function(e){var t=e.typed,n=e.gamma,r=t("factorial",{number:function(e){if(e<0)throw new Error("Value must be non-negative");return n(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return n(e.plus(1))},"Array | Matrix":function(e){return $t(e,r)}});return r})),Nu=$e("permutations",["typed","factorial"],(function(e){return(0,e.typed)("permutations",{"number | BigNumber":e.factorial,"number, number":function(e,t){if(!te(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!te(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return us(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var n,r;if(!Du(e)||!Du(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=e.mul(0).add(1),r=e.minus(t).plus(1);r.lte(e);r=r.plus(1))n=n.times(r);return n}})}));function Du(e){return e.isInteger()&&e.gte(0)}var Pu=$e("ceil",["typed","config","round"],(function(e){var t=e.typed,n=e.config,r=e.round,i=t("ceil",{number:function(e){return ge(e,r(e),n.epsilon)?r(e):Eo(e)},Complex:function(e){return e.ceil()},BigNumber:function(e){return po(e,r(e),n.epsilon)?r(e):e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return $t(e,i,!0)}});return i})),Ru=$e("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.addScalar,o=e.unaryMinus,a=e.DenseMatrix,s=Xs({typed:t}),l=tl({typed:t}),u=nl({typed:t,equalScalar:r}),c=Zs({typed:t,DenseMatrix:a}),f=Ks({typed:t}),d=Js({typed:t}),h=t("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=h(n.value,t.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(e,t){return Lu(e,t),u(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return Lu(e,t),l(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return Lu(e,t),s(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return Lu(e,t),f(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, any":function(e,t){return c(e,o(t),i)},"DenseMatrix, any":function(e,t){return d(e,t,h)},"any, SparseMatrix":function(e,t){return c(t,e,h,!0)},"any, DenseMatrix":function(e,t){return d(t,e,h,!0)},"Array, any":function(e,t){return d(n(e),t,h,!1).valueOf()},"any, Array":function(e,t){return d(n(t),e,h,!0).valueOf()}});return h}));function Lu(e,t){var n=e.size(),r=t.size();if(n.length!==r.length)throw new Ne(n.length,r.length)}var Iu=$e("cross",["typed","matrix","subtract","multiply"],(function(e){var t=e.typed,n=e.matrix,r=e.subtract,i=e.multiply;return t("cross",{"Matrix, Matrix":function(e,t){return n(o(e.toArray(),t.toArray()))},"Matrix, Array":function(e,t){return n(o(e.toArray(),t))},"Array, Matrix":function(e,t){return n(o(e,t.toArray()))},"Array, Array":o});function o(e,t){var n=Math.max(Pe(e).length,Pe(t).length);e=ze(e),t=ze(t);var o=Pe(e),a=Pe(t);if(1!==o.length||1!==a.length||3!==o[0]||3!==a[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+o.join(", ")+"], B = ["+a.join(", ")+"])");var s=[r(i(e[1],t[2]),i(e[2],t[1])),r(i(e[2],t[0]),i(e[0],t[2])),r(i(e[0],t[1]),i(e[1],t[0]))];return n>1?[s]:s}})),ju=$e("ctranspose",["typed","transpose","conj"],(function(e){var t=e.typed,n=e.transpose,r=e.conj;return t("ctranspose",{any:function(e){return r(n(e))}})})),zu=$e("equal",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=tl({typed:t}),a=cl({typed:t,DenseMatrix:i}),s=il({typed:t,DenseMatrix:i}),l=Ks({typed:t}),u=Js({typed:t}),c=t("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,r)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,r,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,r,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,r)},"Array, Array":function(e,t){return c(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return c(n(e),t)},"Matrix, Array":function(e,t){return c(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,r,!1)},"DenseMatrix, any":function(e,t){return u(e,t,r,!1)},"any, SparseMatrix":function(e,t){return s(t,e,r,!0)},"any, DenseMatrix":function(e,t){return u(t,e,r,!0)},"Array, any":function(e,t){return u(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,r,!0).valueOf()}});return c})),Fu=($e("equal",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return t("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:n(e,t)}})})),$e("Index",["ImmutableDenseMatrix"],(function(e){var t=e.ImmutableDenseMatrix;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,i=arguments.length;t<i;t++){var o=arguments[t];if(g(o))this._dimensions.push(o),this._isScalar=!1;else if(Array.isArray(o)||d(o)){var a=r(o.valueOf());this._dimensions.push(a);var s=a.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"===typeof o)this._dimensions.push(r([o]));else{if("string"!==typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function r(e){for(var n=0,r=e.length;n<r;n++)if("number"!==typeof e[n]||!te(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t(e)}return n.prototype.type="Index",n.prototype.isIndex=!0,n.prototype.clone=function(){var e=new n;return e._dimensions=W(this._dimensions),e._isScalar=this._isScalar,e},n.create=function(e){var t=new n;return n.apply(t,e),t},n.prototype.size=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?1:r.size()[0]}return e},n.prototype.max=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?r:r.max()}return e},n.prototype.min=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"===typeof r?r:r.min()}return e},n.prototype.forEach=function(e){for(var t=0,n=this._dimensions.length;t<n;t++)e(this._dimensions[t],t,this)},n.prototype.dimension=function(e){return this._dimensions[e]||null},n.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"===typeof this._dimensions[0]},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e.push("string"===typeof r?r:r.toArray())}return e},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];"string"===typeof r?e.push(JSON.stringify(r)):e.push(r.toString())}return"["+e.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(e){return n.create(e.dimensions)},n}),{isClass:!0})),Bu=$e("setCartesian",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.typed,n=e.size,r=e.subset,i=e.compareNatural,o=e.Index,a=e.DenseMatrix;return t("setCartesian",{"Array | Matrix, Array | Matrix":function(e,t){var s=[];if(0!==r(n(e),new o(0))&&0!==r(n(t),new o(0))){var l=Be(Array.isArray(e)?e:e.toArray()).sort(i),u=Be(Array.isArray(t)?t:t.toArray()).sort(i);s=[];for(var c=0;c<l.length;c++)for(var f=0;f<u.length;f++)s.push([l[c],u[f]])}return Array.isArray(e)&&Array.isArray(t)?s:new a(s)}})})),Uu=$e("setDistinct",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.typed,n=e.size,r=e.subset,i=e.compareNatural,o=e.Index,a=e.DenseMatrix;return t("setDistinct",{"Array | Matrix":function(e){var t;if(0===r(n(e),new o(0)))t=[];else{var s=Be(Array.isArray(e)?e:e.toArray()).sort(i);(t=[]).push(s[0]);for(var l=1;l<s.length;l++)0!==i(s[l],s[l-1])&&t.push(s[l])}return Array.isArray(e)?t:new a(t)}})})),Hu=$e("setIsSubset",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.typed,n=e.size,r=e.subset,i=e.compareNatural,o=e.Index;return t("setIsSubset",{"Array | Matrix, Array | Matrix":function(e,t){if(0===r(n(e),new o(0)))return!0;if(0===r(n(t),new o(0)))return!1;for(var a,s=Ye(Be(Array.isArray(e)?e:e.toArray()).sort(i)),l=Ye(Be(Array.isArray(t)?t:t.toArray()).sort(i)),u=0;u<s.length;u++){a=!1;for(var c=0;c<l.length;c++)if(0===i(s[u].value,l[c].value)&&s[u].identifier===l[c].identifier){a=!0;break}if(!1===a)return!1}return!0}})})),qu=$e("setPowerset",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.typed,n=e.size,r=e.subset,i=e.compareNatural,o=e.Index;return t("setPowerset",{"Array | Matrix":function(e){if(0===r(n(e),new o(0)))return[];for(var t=Be(Array.isArray(e)?e:e.toArray()).sort(i),s=[],l=0;l.toString(2).length<=t.length;)s.push(a(t,l.toString(2).split("").reverse())),l++;return function(e){for(var t=[],n=e.length-1;n>0;n--)for(var r=0;r<n;r++)e[r].length>e[r+1].length&&(t=e[r],e[r]=e[r+1],e[r+1]=t);return e}(s)}});function a(e,t){for(var n=[],r=0;r<t.length;r++)"1"===t[r]&&n.push(e[r]);return n}})),Vu=$e("index",["typed","Index"],(function(e){var t=e.typed,n=e.Index;return t("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map((function(e){return a(e)?e.toNumber():Array.isArray(e)||d(e)?e.map((function(e){return a(e)?e.toNumber():e})):e})),r=new n;return n.apply(r,t),r}})})),Wu=$e("fix",["typed","Complex","ceil","floor"],(function(e){var t=e.typed,n=e.Complex,r=e.ceil,i=e.floor,o=t("fix",{number:function(e){return e>0?i(e):r(e)},Complex:function(e){return new n(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(e){return e.isNegative()?r(e):i(e)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return $t(e,o,!0)}});return o})),Yu=$e("divideScalar",["typed","numeric"],(function(e){var t=e.typed,n=e.numeric,r=t("divideScalar",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,t){var i=e.clone(),o=n(1,q(t));return i.value=r(null===i.value?i._normalize(o):i.value,t),i},"number | Fraction | BigNumber, Unit":function(e,t){var i=t.clone();i=i.pow(-1);var o=n(1,q(e));return i.value=r(e,null===t.value?t._normalize(o):t.value),i},"Unit, Unit":function(e,t){return e.divide(t)}});return r})),Gu=$e("nthRoots",["config","typed","divideScalar","Complex"],(function(e){var t=e.typed,n=(e.config,e.divideScalar,e.Complex),r=t("nthRoots",{Complex:function(e){return o(e,2)},"Complex, number":o}),i=[function(e){return new n(e,0)},function(e){return new n(0,e)},function(e){return new n(-e,0)},function(e){return new n(0,-e)}];function o(e,t){if(t<0)throw new Error("Root must be greater than zero");if(0===t)throw new Error("Root must be non-zero");if(t%1!==0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new n(0,0)];var r,o="number"===typeof e;(o||0===e.re||0===e.im)&&(r=o?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var a=e.arg(),s=e.abs(),l=[],u=Math.pow(s,1/t),c=0;c<t;c++){var f=(r+4*c)/t;f!==Math.round(f)?l.push(new n({r:u,phi:(a+2*Math.PI*c)/t})):l.push(i[f%4](u))}return l}return r}));function Xu(e){var t=e.DenseMatrix;return function(e,n,r){var i=e.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+Ee(i)+")");var o,a,s,l=i[0];if(l!==i[1])throw new RangeError("Matrix must be square (size: "+Ee(i)+")");if(d(n)){var u=n.size();if(1===u.length){if(u[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],s=n._data,a=0;a<l;a++)o[a]=[s[a]];return new t({data:o,size:[l,1],datatype:n._datatype})}if(2===u.length){if(u[0]!==l||1!==u[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(p(n)){if(r){for(o=[],s=n._data,a=0;a<l;a++)o[a]=[s[a][0]];return new t({data:o,size:[l,1],datatype:n._datatype})}return n}for(o=[],a=0;a<l;a++)o[a]=[0];for(var c=n._values,h=n._index,m=n._ptr,g=m[1],v=m[0];v<g;v++)o[a=h[v]][0]=c[v];return new t({data:o,size:[l,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(f(n)){var y=Pe(n);if(1===y.length){if(y[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],a=0;a<l;a++)o[a]=[n[a]];return new t({data:o,size:[l,1]})}if(2===y.length){if(y[0]!==l||1!==y[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],a=0;a<l;a++)o[a]=[n[a][0]];return new t({data:o,size:[l,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}var $u=$e("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.divideScalar,i=e.multiplyScalar,o=e.subtract,a=e.equalScalar,s=e.DenseMatrix,l=Xu({DenseMatrix:s});return t("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n,u,c=(t=l(e,t,!0))._data,f=e._size[0],d=e._size[1],h=e._values,p=e._index,m=e._ptr,g=[],v=0;v<d;v++){var y=c[v][0]||0;if(a(y,0))g[v]=[0];else{var b=0,x=[],_=[],w=m[v+1];for(u=m[v];u<w;u++)(n=p[u])===v?b=h[u]:n>v&&(x.push(h[u]),_.push(n));if(a(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var k=r(y,b);for(u=0,w=_.length;u<w;u++)n=_[u],c[n]=[o(c[n][0]||0,i(k,x[u]))];g[v]=[k]}}return new s({data:g,size:[f,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).valueOf()}});function u(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],f=[],d=e._data,h=0;h<c;h++){var p=n[h][0]||0,m=void 0;if(a(p,0))m=0;else{var g=d[h][h];if(a(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(p,g);for(var v=h+1;v<u;v++)n[v]=[o(n[v][0]||0,i(m,d[v][h]))]}f[h]=[m]}return new s({data:f,size:[u,1]})}})),Zu=$e("deepEqual",["typed","equal"],(function(e){var t=e.typed,n=e.equal;return t("deepEqual",{"any, any":function(e,t){return function e(t,r){if(Array.isArray(t)){if(Array.isArray(r)){var i=t.length;if(i!==r.length)return!1;for(var o=0;o<i;o++)if(!e(t[o],r[o]))return!1;return!0}return!1}return!Array.isArray(r)&&n(t,r)}(e.valueOf(),t.valueOf())}})})),Ku=$e("setDifference",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.typed,n=e.size,r=e.subset,i=e.compareNatural,o=e.Index,a=e.DenseMatrix;return t("setDifference",{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===r(n(e),new o(0)))s=[];else{if(0===r(n(t),new o(0)))return Be(e.toArray());var l,u=Ye(Be(Array.isArray(e)?e:e.toArray()).sort(i)),c=Ye(Be(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var f=0;f<u.length;f++){l=!1;for(var d=0;d<c.length;d++)if(0===i(u[f].value,c[d].value)&&u[f].identifier===c[d].identifier){l=!0;break}l||s.push(u[f])}}return Array.isArray(e)&&Array.isArray(t)?Ge(s):new a(Ge(s))}})})),Ju=$e("setMultiplicity",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.typed,n=e.size,r=e.subset,i=e.compareNatural,o=e.Index;return t("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,t){if(0===r(n(t),new o(0)))return 0;for(var a=Be(Array.isArray(t)?t:t.toArray()),s=0,l=0;l<a.length;l++)0===i(a[l],e)&&s++;return s}})})),Qu=$e("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],(function(e){var t=e.typed,n=e.abs,r=e.addScalar,i=e.divideScalar,o=e.multiplyScalar,a=e.sqrt,s=e.smaller,l=e.isPositive,u=t("hypot",{"... number | BigNumber":function(e){for(var t=0,u=0,c=0;c<e.length;c++){var f=n(e[c]);s(u,f)?(t=o(t,o(i(u,f),i(u,f))),t=r(t,1),u=f):t=r(t,l(f)?o(i(f,u),i(f,u)):f)}return o(u,a(t))},Array:function(e){return u.apply(u,Be(e))},Matrix:function(e){return u.apply(u,Be(e.toArray()))}});return u})),ec=$e("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(function(e){var t=e.typed,n=e.matrix,r=e.abs,i=e.addScalar,o=e.divideScalar,a=e.multiplyScalar,s=e.subtract,l=e.larger,u=e.equalScalar,c=e.unaryMinus,f=e.DenseMatrix,d=e.SparseMatrix,h=e.Spa;return t("lup",{DenseMatrix:function(e){return p(e)},SparseMatrix:function(e){return m(e)},Array:function(e){var t=p(n(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function p(e){var t,n,c,d=e._size[0],h=e._size[1],p=Math.min(d,h),m=W(e._data),g=[],v=[d,p],y=[],b=[p,h],x=[];for(t=0;t<d;t++)x[t]=t;for(n=0;n<h;n++){if(n>0)for(t=0;t<d;t++){var _=Math.min(t,n),w=0;for(c=0;c<_;c++)w=i(w,a(m[t][c],m[c][n]));m[t][n]=s(m[t][n],w)}var k=n,M=0,T=0;for(t=n;t<d;t++){var S=m[t][n],E=r(S);l(E,M)&&(k=t,M=E,T=S)}if(n!==k&&(x[n]=[x[k],x[k]=x[n]][0],f._swapRows(n,k,m)),n<d)for(t=n+1;t<d;t++){var A=m[t][n];u(A,0)||(m[t][n]=o(m[t][n],T))}}for(n=0;n<h;n++)for(t=0;t<d;t++)0===n&&(t<h&&(y[t]=[]),g[t]=[]),t<n?(t<h&&(y[t][n]=m[t][n]),n<d&&(g[t][n]=0)):t!==n?(t<h&&(y[t][n]=0),n<d&&(g[t][n]=m[t][n])):(t<h&&(y[t][n]=m[t][n]),n<d&&(g[t][n]=1));var O=new f({data:g,size:v}),C=new f({data:y,size:b}),N=[];for(t=0,p=x.length;t<p;t++)N[x[t]]=t;return{L:O,U:C,p:N,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function m(e){var t,n,i,s=e._size[0],f=e._size[1],p=Math.min(s,f),m=e._values,g=e._index,v=e._ptr,y=[],b=[],x=[],_=[s,p],w=[],k=[],M=[],T=[p,f],S=[],E=[];for(t=0;t<s;t++)S[t]=t,E[t]=t;var A=function(){var e=new h;n<s&&(x.push(y.length),y.push(1),b.push(n)),M.push(w.length);var f=v[n],p=v[n+1];for(i=f;i<p;i++)t=g[i],e.set(S[t],m[i]);n>0&&e.forEach(0,n-1,(function(t,n){d._forEachRow(t,y,b,x,(function(r,i){r>t&&e.accumulate(r,c(a(i,n)))}))}));var A=n,O=e.get(n),C=r(O);e.forEach(n+1,s-1,(function(e,t){var n=r(t);l(n,C)&&(A=e,C=n,O=t)})),n!==A&&(d._swapRows(n,A,_[1],y,b,x),d._swapRows(n,A,T[1],w,k,M),e.swap(n,A),function(e,t){var n=E[e],r=E[t];S[n]=t,S[r]=e,E[e]=r,E[t]=n}(n,A)),e.forEach(0,s-1,(function(e,t){e<=n?(w.push(t),k.push(e)):(t=o(t,O),u(t,0)||(y.push(t),b.push(e)))}))};for(n=0;n<f;n++)A();return M.push(w.length),x.push(y.length),{L:new d({values:y,index:b,ptr:x,size:_}),U:new d({values:w,index:k,ptr:M,size:T}),p:S,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}));function tc(e,t,n,r,i,o,a){var s=0;for(n[a]=e;s>=0;){var l=n[a+s],u=n[r+l];-1===u?(s--,o[t++]=l):(n[r+l]=n[i+u],n[a+ ++s]=u)}return t}function nc(e){return-e-2}var rc=$e("csAmd",["add","multiply","transpose"],(function(e){var t=e.add,n=e.multiply,r=e.transpose;return function(e,a){if(!a||e<=0||e>3)return null;var s=a._size,l=s[0],u=s[1],c=0,f=Math.max(16,10*Math.sqrt(u)),d=function(e,i,o,a,s){var l=r(i);if(1===e&&a===o)return t(i,l);if(2===e){for(var u=l._index,c=l._ptr,f=0,d=0;d<o;d++){var h=c[d];if(c[d]=f,!(c[d+1]-h>s))for(var p=c[d+1];h<p;h++)u[f++]=u[h]}return c[o]=f,i=r(l),n(l,i)}return n(l,i)}(e,a,l,u,f=Math.min(u-2,f));!function(e,t,n){for(var r=e._values,i=e._index,o=e._ptr,a=e._size[1],s=0,l=0;l<a;l++){var u=o[l];for(o[l]=s;u<o[l+1];u++)t(i[u],l,r?r[u]:1,n)&&(i[s]=i[u],r&&(r[s]=r[u]),s++)}o[a]=s,i.splice(s,i.length-s),r&&r.splice(s,r.length-s)}(d,o,null);for(var h,p,m,g,v,y,b,x,_,w,k,M,T,S,E,A,O=d._index,C=d._ptr,N=C[u],D=[],P=[],R=u+1,L=2*(u+1),I=3*(u+1),j=4*(u+1),z=5*(u+1),F=6*(u+1),B=7*(u+1),U=D,H=function(e,t,n,r,o,a,s,l,u,c,f,d){for(var h=0;h<e;h++)n[r+h]=t[h+1]-t[h];n[r+e]=0;for(var p=0;p<=e;p++)n[o+p]=-1,a[p]=-1,n[s+p]=-1,n[l+p]=-1,n[u+p]=1,n[c+p]=1,n[f+p]=0,n[d+p]=n[r+p];var m=i(0,0,n,c,e);return n[f+e]=-2,t[e]=-1,n[c+e]=0,m}(u,C,P,0,I,U,L,B,R,F,j,z),q=function(e,t,n,r,i,o,a,s,l,u,c){for(var f=0,d=0;d<e;d++){var h=n[r+d];if(0===h)n[i+d]=-2,f++,t[d]=-1,n[o+d]=0;else if(h>a)n[s+d]=0,n[i+d]=-1,f++,t[d]=nc(e),n[s+e]++;else{var p=n[l+h];-1!==p&&(u[p]=d),n[c+d]=n[l+h],n[l+h]=d}}return f}(u,C,P,z,j,F,f,R,I,U,L),V=0;q<u;){for(m=-1;V<u&&-1===(m=P[I+V]);V++);-1!==P[L+m]&&(U[P[L+m]]=-1),P[I+V]=P[L+m];var W=P[j+m],Y=P[R+m];q+=Y;var G=0;P[R+m]=-Y;var X=C[m],$=0===W?X:N,Z=$;for(g=1;g<=W+1;g++){for(g>W?(y=m,b=X,x=P[0+m]-W):(b=C[y=O[X++]],x=P[0+y]),v=1;v<=x;v++)(_=P[R+(h=O[b++])])<=0||(G+=_,P[R+h]=-_,O[Z++]=h,-1!==P[L+h]&&(U[P[L+h]]=U[h]),-1!==U[h]?P[L+U[h]]=P[L+h]:P[I+P[z+h]]=P[L+h]);y!==m&&(C[y]=nc(m),P[F+y]=0)}for(0!==W&&(N=Z),P[z+m]=G,C[m]=$,P[0+m]=Z-$,P[j+m]=-2,H=i(H,c,P,F,u),w=$;w<Z;w++)if(!((k=P[j+(h=O[w])])<=0)){var K=H-(_=-P[R+h]);for(X=C[h],M=C[h]+k-1;X<=M;X++)P[F+(y=O[X])]>=H?P[F+y]-=_:0!==P[F+y]&&(P[F+y]=P[z+y]+K)}for(w=$;w<Z;w++){for(T=(M=C[h=O[w]])+P[j+h]-1,S=M,E=0,A=0,X=M;X<=T;X++)if(0!==P[F+(y=O[X])]){var J=P[F+y]-H;J>0?(A+=J,O[S++]=y,E+=y):(C[y]=nc(m),P[F+y]=0)}P[j+h]=S-M+1;var Q=S,ee=M+P[0+h];for(X=T+1;X<ee;X++){var te=P[R+(p=O[X])];te<=0||(A+=te,O[S++]=p,E+=p)}0===A?(C[h]=nc(m),G-=_=-P[R+h],Y+=_,q+=_,P[R+h]=0,P[j+h]=-1):(P[z+h]=Math.min(P[z+h],A),O[S]=O[Q],O[Q]=O[M],O[M]=m,P[0+h]=S-M+1,E=(E<0?-E:E)%u,P[L+h]=P[B+E],P[B+E]=h,U[h]=E)}for(P[z+m]=G,H=i(H+(c=Math.max(c,G)),c,P,F,u),w=$;w<Z;w++)if(!(P[R+(h=O[w])]>=0))for(h=P[B+(E=U[h])],P[B+E]=-1;-1!==h&&-1!==P[L+h];h=P[L+h],H++){for(x=P[0+h],k=P[j+h],X=C[h]+1;X<=C[h]+x-1;X++)P[F+O[X]]=H;var ne=h;for(p=P[L+h];-1!==p;){var re=P[0+p]===x&&P[j+p]===k;for(X=C[p]+1;re&&X<=C[p]+x-1;X++)P[F+O[X]]!==H&&(re=0);re?(C[p]=nc(h),P[R+h]+=P[R+p],P[R+p]=0,P[j+p]=-1,p=P[L+p],P[L+ne]=p):(ne=p,p=P[L+p])}}for(X=$,w=$;w<Z;w++)(_=-P[R+(h=O[w])])<=0||(P[R+h]=_,A=P[z+h]+G-_,-1!==P[I+(A=Math.min(A,u-q-_))]&&(U[P[I+A]]=h),P[L+h]=P[I+A],U[h]=-1,P[I+A]=h,V=Math.min(V,A),P[z+h]=A,O[X++]=h);P[R+m]=Y,0===(P[0+m]=X-$)&&(C[m]=-1,P[F+m]=0),0!==W&&(N=X)}for(h=0;h<u;h++)C[h]=nc(C[h]);for(p=0;p<=u;p++)P[I+p]=-1;for(p=u;p>=0;p--)P[R+p]>0||(P[L+p]=P[I+C[p]],P[I+C[p]]=p);for(y=u;y>=0;y--)P[R+y]<=0||-1!==C[y]&&(P[L+y]=P[I+C[y]],P[I+C[y]]=y);for(m=0,h=0;h<=u;h++)-1===C[h]&&(m=tc(h,m,P,I,L,D,F));return D.splice(D.length-1,1),D};function i(e,t,n,r,i){if(e<2||e+t<0){for(var o=0;o<i;o++)0!==n[r+o]&&(n[r+o]=1);e=2}return e}function o(e,t){return e!==t}}));function ic(e,t,n,r,i,o,a){var s,l,u,c=0;if(e<=t||n[r+t]<=n[i+e])return-1;n[i+e]=n[r+t];var f=n[o+e];if(n[o+e]=t,-1===f)c=1,u=e;else{for(c=2,u=f;u!==n[a+u];u=n[a+u]);for(s=f;s!==u;s=l)l=n[a+s],n[a+s]=u}return{jleaf:c,q:u}}var oc=$e("csCounts",["transpose"],(function(e){var t=e.transpose;return function(e,n,r,i){if(!e||!n||!r)return null;var o,a,s,l,u,c,f,d=e._size,h=d[0],p=d[1],m=4*p+(i?p+h+1:0),g=[],v=p,y=2*p,b=3*p,x=4*p,_=5*p+1;for(s=0;s<m;s++)g[s]=-1;var w=[],k=t(e),M=k._index,T=k._ptr;for(s=0;s<p;s++)for(w[a=r[s]]=-1===g[b+a]?1:0;-1!==a&&-1===g[b+a];a=n[a])g[b+a]=s;if(i){for(s=0;s<p;s++)g[r[s]]=s;for(o=0;o<h;o++){for(s=p,c=T[o],f=T[o+1],u=c;u<f;u++)s=Math.min(s,g[M[u]]);g[_+o]=g[x+s],g[x+s]=o}}for(o=0;o<p;o++)g[0+o]=o;for(s=0;s<p;s++){for(-1!==n[a=r[s]]&&w[n[a]]--,l=i?g[x+s]:a;-1!==l;l=i?g[_+l]:-1)for(u=T[l];u<T[l+1];u++){var S=ic(o=M[u],a,g,b,v,y,0);S.jleaf>=1&&w[a]++,2===S.jleaf&&w[S.q]--}-1!==n[a]&&(g[0+a]=n[a])}for(a=0;a<p;a++)-1!==n[a]&&(w[n[a]]+=w[a]);return w}})),ac=$e("csSqr",["add","multiply","transpose"],(function(e){var t=e.add,n=e.multiply,r=e.transpose,i=rc({add:t,multiply:n,transpose:r}),o=oc({transpose:r});return function(e,t,n){var r,a=t._ptr,s=t._size[1],l={};if(l.q=i(e,t),e&&!l.q)return null;if(n){var u=e?function(e,t,n,r){for(var i=e._values,o=e._index,a=e._ptr,s=e._size,l=e._datatype,u=s[0],c=s[1],f=r&&e._values?[]:null,d=[],h=[],p=0,m=0;m<c;m++){h[m]=p;for(var g=n?n[m]:m,v=a[g],y=a[g+1],b=v;b<y;b++){var x=t?t[o[b]]:o[b];d[p]=x,f&&(f[p]=i[b]),p++}}return h[c]=p,e.createSparseMatrix({values:f,index:d,ptr:h,size:[u,c],datatype:l})}(t,null,l.q,0):t;l.parent=function(e,t){if(!e)return null;var n,r,i=e._index,o=e._ptr,a=e._size,s=a[0],l=a[1],u=[],c=[],f=l;if(t)for(n=0;n<s;n++)c[f+n]=-1;for(var d=0;d<l;d++){u[d]=-1,c[0+d]=-1;for(var h=o[d],p=o[d+1],m=h;m<p;m++){var g=i[m];for(n=t?c[f+g]:g;-1!==n&&n<d;n=r)r=c[0+n],c[0+n]=d,-1===r&&(u[n]=d);t&&(c[f+g]=d)}}return u}(u,1);var c=function(e,t){if(!e)return null;var n,r=0,i=[],o=[],a=t,s=2*t;for(n=0;n<t;n++)o[0+n]=-1;for(n=t-1;n>=0;n--)-1!==e[n]&&(o[a+n]=o[0+e[n]],o[0+e[n]]=n);for(n=0;n<t;n++)-1===e[n]&&(r=tc(n,r,o,0,a,i,s));return i}(l.parent,s);if(l.cp=o(u,l.parent,c,1),u&&l.parent&&l.cp&&function(e,t){var n=e._ptr,r=e._index,i=e._size,o=i[0],a=i[1];t.pinv=[],t.leftmost=[];var s,l,u,c,f,d=t.parent,h=t.pinv,p=t.leftmost,m=[],g=o,v=o+a,y=o+2*a;for(l=0;l<a;l++)m[g+l]=-1,m[v+l]=-1,m[y+l]=0;for(s=0;s<o;s++)p[s]=-1;for(l=a-1;l>=0;l--)for(c=n[l],f=n[l+1],u=c;u<f;u++)p[r[u]]=l;for(s=o-1;s>=0;s--)h[s]=-1,-1!==(l=p[s])&&(0===m[y+l]++&&(m[v+l]=s),m[0+s]=m[g+l],m[g+l]=s);for(t.lnz=0,t.m2=o,l=0;l<a;l++)if(s=m[g+l],t.lnz++,s<0&&(s=t.m2++),h[s]=l,!(--y[l]<=0)){t.lnz+=m[y+l];var b=d[l];-1!==b&&(0===m[y+b]&&(m[v+b]=m[v+l]),m[0+m[v+l]]=m[g+b],m[g+b]=m[0+s],m[y+b]+=m[y+l])}for(s=0;s<o;s++)h[s]<0&&(h[s]=l++);return!0}(u,l))for(l.unz=0,r=0;r<s;r++)l.unz+=l.cp[r]}else l.unz=4*a[s]+s,l.lnz=l.unz;return l}}));function sc(e,t){return e[t]<0}function lc(e,t){e[t]=nc(e[t])}function uc(e){return e<0?nc(e):e}function cc(e,t,n,r,i){var o,a,s,l=t._index,u=t._ptr,c=t._size[1],f=0;for(r[0]=e;f>=0;){e=r[f];var d=i?i[e]:e;sc(u,e)||(lc(u,e),r[c+f]=d<0?0:uc(u[d]));var h=1;for(a=r[c+f],s=d<0?0:uc(u[d+1]);a<s;a++)if(!sc(u,o=l[a])){r[c+f]=a,r[++f]=o,h=0;break}h&&(f--,r[--n]=e)}return n}var fc=$e("csSpsolve",["divideScalar","multiply","subtract"],(function(e){var t=e.divideScalar,n=e.multiply,r=e.subtract;return function(e,i,o,a,s,l,u){var c,f,d,h,p=e._values,m=e._index,g=e._ptr,v=e._size[1],y=i._values,b=i._index,x=i._ptr,_=function(e,t,n,r,i){var o,a,s,l=e._ptr,u=e._size,c=t._index,f=t._ptr,d=u[1],h=d;for(a=f[n],s=f[n+1],o=a;o<s;o++){var p=c[o];sc(l,p)||(h=cc(p,e,h,r,i))}for(o=h;o<d;o++)lc(l,r[o]);return h}(e,i,o,a,l);for(c=_;c<v;c++)s[a[c]]=0;for(f=x[o],d=x[o+1],c=f;c<d;c++)s[b[c]]=y[c];for(var w=_;w<v;w++){var k=a[w],M=l?l[k]:k;if(!(M<0))for(f=g[M],d=g[M+1],s[k]=t(s[k],p[u?f:d-1]),c=u?f+1:f,h=u?d:d-1;c<h;c++){var T=m[c];s[T]=r(s[T],n(p[c],s[k]))}}return _}})),dc=$e("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],(function(e){var t=e.abs,n=e.divideScalar,r=e.multiply,i=e.subtract,o=e.larger,a=e.largerEq,s=e.SparseMatrix,l=fc({divideScalar:n,multiply:r,subtract:i});return function(e,i,u){if(!e)return null;var c,f=e._size[1],d=100,h=100;i&&(c=i.q,d=i.lnz||d,h=i.unz||h);var p,m,g=[],v=[],y=[],b=new s({values:g,index:v,ptr:y,size:[f,f]}),x=[],_=[],w=[],k=new s({values:x,index:_,ptr:w,size:[f,f]}),M=[],T=[],S=[];for(p=0;p<f;p++)T[p]=0,M[p]=-1,y[p+1]=0;d=0,h=0;for(var E=0;E<f;E++){y[E]=d,w[E]=h;var A=c?c[E]:E,O=l(b,e,A,S,T,M,1),C=-1,N=-1;for(m=O;m<f;m++)if(M[p=S[m]]<0){var D=t(T[p]);o(D,N)&&(N=D,C=p)}else _[h]=M[p],x[h++]=T[p];if(-1===C||N<=0)return null;M[A]<0&&a(t(T[A]),r(N,u))&&(C=A);var P=T[C];for(_[h]=E,x[h++]=P,M[C]=E,v[d]=C,g[d++]=1,m=O;m<f;m++)M[p=S[m]]<0&&(v[d]=p,g[d++]=n(T[p],P)),T[p]=0}for(y[f]=d,w[f]=h,m=0;m<d;m++)v[m]=M[v[m]];return g.splice(d,g.length-d),v.splice(d,v.length-d),x.splice(h,x.length-h),_.splice(h,_.length-h),{L:b,U:k,pinv:M}}})),hc=$e("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],(function(e){var t=e.typed,n=e.abs,r=e.add,i=e.multiply,o=e.transpose,a=e.divideScalar,s=e.subtract,l=e.larger,u=e.largerEq,c=e.SparseMatrix,f=ac({add:r,multiply:i,transpose:o}),d=dc({abs:n,divideScalar:a,multiply:i,subtract:s,larger:l,largerEq:u,SparseMatrix:c});return t("slu",{"SparseMatrix, number, number":function(e,t,n){if(!te(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=f(t,e,!1),i=d(e,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})})),pc=$e("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(function(e){var t=e.typed,n=e.matrix,r=e.subtract,i=e.multiply,o=e.unaryMinus,a=e.lup;return t("det",{any:function(e){return W(e)},"Array | Matrix":function(e){var t;switch((t=d(e)?e.size():Array.isArray(e)?(e=n(e)).size():[]).length){case 0:return W(e);case 1:if(1===t[0])return W(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Ee(t)+")");case 2:var s=t[0],l=t[1];if(s===l)return function(e,t,n){if(1===t)return W(e[0][0]);if(2===t)return r(i(e[0][0],e[1][1]),i(e[1][0],e[0][1]));for(var s=a(e),l=s.U[0][0],u=1;u<t;u++)l=i(l,s.U[u][u]);for(var c=0,f=0,d=[];;){for(;d[f];)f++;if(f>=t)break;for(var h=f,p=0;!d[s.p[h]];)d[s.p[h]]=!0,h=s.p[h],p++;p%2===0&&c++}return c%2===0?l:o(l)}(e.clone().valueOf(),s);throw new RangeError("Matrix must be square (size: "+Ee(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ee(t)+")")}}})})),mc=$e("distance",["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],(function(e){var t=e.typed,n=e.addScalar,r=e.subtract,i=e.multiplyScalar,o=e.divideScalar,s=e.unaryMinus,l=e.sqrt,u=e.abs;return t("distance",{"Array, Array, Array":function(e,t,n){if(2===e.length&&2===t.length&&2===n.length){if(!f(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!f(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var a=o(r(n[1],n[0]),r(t[1],t[0])),l=i(i(a,a),t[0]),u=s(i(a,t[0])),c=e[1];return m(e[0],e[1],l,u,c)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,n){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(n).length){if(!f(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!f(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in n&&"lineTwoPtY"in n){var a=o(r(n.lineTwoPtY,n.lineTwoPtX),r(t.lineOnePtY,t.lineOnePtX)),l=i(i(a,a),t.lineOnePtX),u=s(i(a,t.lineOnePtX)),c=e.pointX;return m(e.pointX,e.pointY,l,u,c)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!f(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!d(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(2===e.length&&2===t.length){if(!f(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");return v(e[0],e[1],t[0],t[1])}if(3===e.length&&3===t.length){if(!d(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!d(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return y(e[0],e[1],e[2],t[0],t[1],t[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!f(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return m(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!d(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return g(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!f(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!f(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return v(e.pointOneX,e.pointOneY,t.pointTwoX,t.pointTwoY);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!d(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return y(e.pointOneX,e.pointOneY,e.pointOneZ,t.pointTwoX,t.pointTwoY,t.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&c(e[0][0])&&c(e[0][1])){if(e.some((function(e){return 2!==e.length||!c(e[0])||!c(e[1])})))return!1}else{if(!(3===e[0].length&&c(e[0][0])&&c(e[0][1])&&c(e[0][2])))return!1;if(e.some((function(e){return 3!==e.length||!c(e[0])||!c(e[1])||!c(e[2])})))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],n=0;n<e.length-1;n++)for(var r=n+1;r<e.length;r++)2===e[0].length?t.push(v(e[n][0],e[n][1],e[r][0],e[r][1])):3===e[0].length&&t.push(y(e[n][0],e[n][1],e[n][2],e[r][0],e[r][1],e[r][2]));return t}(e)}});function c(e){return"number"===typeof e||a(e)}function f(e){return e.constructor!==Array&&(e=p(e)),c(e[0])&&c(e[1])}function d(e){return e.constructor!==Array&&(e=p(e)),c(e[0])&&c(e[1])&&c(e[2])}function h(e){return e.constructor!==Array&&(e=p(e)),c(e[0])&&c(e[1])&&c(e[2])&&c(e[3])&&c(e[4])&&c(e[5])}function p(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}function m(e,t,r,a,s){var c=u(n(n(i(r,e),i(a,t)),s)),f=l(n(i(r,r),i(a,a)));return o(c,f)}function g(e,t,a,s,u,c,f,d,h){var p=[r(i(r(u,t),h),i(r(c,a),d)),r(i(r(c,a),f),i(r(s,e),h)),r(i(r(s,e),d),i(r(u,t),f))];p=l(n(n(i(p[0],p[0]),i(p[1],p[1])),i(p[2],p[2])));var m=l(n(n(i(f,f),i(d,d)),i(h,h)));return o(p,m)}function v(e,t,o,a){var s=r(a,t),u=r(o,e),c=n(i(s,s),i(u,u));return l(c)}function y(e,t,o,a,s,u){var c=r(u,o),f=r(s,t),d=r(a,e),h=n(n(i(c,c),i(f,f)),i(d,d));return l(h)}})),gc=$e("stirlingS2",["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],(function(e){var t=e.typed,n=e.addScalar,r=e.subtract,i=e.multiplyScalar,o=e.divideScalar,a=e.pow,s=e.factorial,l=e.combinations,u=e.isNegative,c=e.isInteger,f=e.larger;return t("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,t){if(!c(e)||u(e)||!c(t)||u(t))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(f(t,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var d=s(t),h=0,p=0;p<=t;p++){var m=a(-1,r(t,p)),g=l(t,p),v=a(p,e);h=n(h,i(i(g,v),m))}return o(h,d)}})})),vc=$e("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],(function(e){var t=e.typed,n=e.addScalar,r=e.divideScalar,i=e.multiplyScalar,o=e.combinations,a=e.isNegative,s=e.isInteger;return t("catalan",{"number | BigNumber":function(e){if(!s(e)||a(e))throw new TypeError("Non-negative integer value expected in function catalan");return r(o(i(e,2),e),n(e,1))}})})),yc=$e("xor",["typed","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.DenseMatrix,i=tl({typed:t}),o=cl({typed:t,DenseMatrix:r}),a=il({typed:t,DenseMatrix:r}),s=Ks({typed:t}),l=Js({typed:t}),u=t("xor",{"number, number":va,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!==(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!==(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return u(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,u)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,u,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,u,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,u)},"Array, Array":function(e,t){return u(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Array":function(e,t){return u(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,u,!1)},"DenseMatrix, any":function(e,t){return l(e,t,u,!1)},"any, SparseMatrix":function(e,t){return a(t,e,u,!0)},"any, DenseMatrix":function(e,t){return l(t,e,u,!0)},"Array, any":function(e,t){return l(n(e),t,u,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,u,!0).valueOf()}});return u})),bc=$e("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.divideScalar,o=e.DenseMatrix,a=el({typed:t,equalScalar:r}),s=tl({typed:t}),l=cl({typed:t,DenseMatrix:o}),u=rl({typed:t,equalScalar:r}),c=il({typed:t,DenseMatrix:o}),f=Ks({typed:t}),d=Js({typed:t}),h=t("dotDivide",{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return l(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return f(e,t,i)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, any":function(e,t){return u(e,t,i,!1)},"DenseMatrix, any":function(e,t){return d(e,t,i,!1)},"any, SparseMatrix":function(e,t){return c(t,e,i,!0)},"any, DenseMatrix":function(e,t){return d(t,e,i,!0)},"Array, any":function(e,t){return d(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return d(n(t),e,i,!0).valueOf()}});return h}));function xc(e){return(xc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _c(){return(_c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wc=$e("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(function(e){var t,n,r,i=e.on,o=e.config,a=e.addScalar,l=e.subtract,c=e.multiplyScalar,f=e.divideScalar,d=e.pow,h=e.abs,p=e.fix,m=e.round,g=e.equal,v=e.isNumeric,y=e.format,b=e.number,x=e.Complex,_=e.BigNumber,w=e.Fraction,k=b;function M(e,t){if(!(this instanceof M))throw new Error("Constructor must be called with the new operator");if(null!==e&&void 0!==e&&!v(e)&&!s(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!==typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var n=M.parse(t);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:z,prefix:R.NONE,power:0}],this.dimensions=[];for(var r=0;r<L.length;r++)this.dimensions[r]=0}this.value=void 0!==e&&null!==e?this._normalize(e):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function T(){for(;" "===r||"\t"===r;)E()}function S(e){return e>="0"&&e<="9"}function E(){n++,r=t.charAt(n)}function A(e){n=e,r=t.charAt(n)}function O(){var e="",t=n;if("+"===r?E():"-"===r&&(e+=r,E()),!function(e){return e>="0"&&e<="9"||"."===e}(r))return A(t),null;if("."===r){if(e+=r,E(),!S(r))return A(t),null}else{for(;S(r);)e+=r,E();"."===r&&(e+=r,E())}for(;S(r);)e+=r,E();if("E"===r||"e"===r){var i="",o=n;if(i+=r,E(),"+"!==r&&"-"!==r||(i+=r,E()),!S(r))return A(o),e;for(e+=i;S(r);)e+=r,E()}return e}function C(){for(var e="",i=t.charCodeAt(n);i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122;)e+=r,E(),i=t.charCodeAt(n);return((i=e.charCodeAt(0))>=65&&i<=90||i>=97&&i<=122)&&e||null}function N(e){return r===e?(E(),e):null}function D(e){if($(F,e)){var t=F[e];return{unit:t,prefix:t.prefixes[""]}}for(var n in F)if($(F,n)&&Se(e,n)){var r=F[n],i=e.length-n.length,o=e.substring(0,i),a=$(r.prefixes,o)?r.prefixes[o]:void 0;if(void 0!==a)return{unit:r,prefix:a}}return null}function P(e){return e.equalBase(I.NONE)&&null!==e.value&&!o.predictable?e.value:e}M.prototype.type="Unit",M.prototype.isUnit=!0,M.parse=function(e,i){if(i=i||{},n=-1,r="","string"!==typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var a=new M;a.units=[];var s=1,l=!1;E(),T();var u=O(),c=null;if(u){if("BigNumber"===o.number)c=new _(u);else if("Fraction"===o.number)try{c=new w(u)}catch(x){c=parseFloat(u)}else c=parseFloat(u);T(),N("*")?(s=1,l=!0):N("/")&&(s=-1,l=!0)}for(var f=[],d=1;;){for(T();"("===r;)f.push(s),d*=s,s=1,E(),T();var h=void 0;if(!r)break;var p=r;if(null===(h=C()))throw new SyntaxError('Unexpected "'+p+'" in "'+t+'" at index '+n.toString());var m=D(h);if(null===m)throw new SyntaxError('Unit "'+h+'" not found.');var g=s*d;if(T(),N("^")){T();var v=O();if(null===v)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=v}a.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var y=0;y<L.length;y++)a.dimensions[y]+=(m.unit.dimensions[y]||0)*g;for(T();")"===r;){if(0===f.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+n.toString());d/=f.pop(),E(),T()}if(l=!1,N("*")?(s=1,l=!0):N("/")?(s=-1,l=!0):s=1,m.unit.base){var b=m.unit.base.key;H.auto[b]={unit:m.unit,prefix:m.prefix}}}if(T(),r)throw new SyntaxError('Could not parse: "'+e+'"');if(l)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==f.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===a.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return a.value=void 0!==c?a._normalize(c):null,a},M.prototype.clone=function(){var e=new M;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=W(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var n in e.units[t]={},this.units[t])$(this.units[t],n)&&(e.units[t][n]=this.units[t][n]);return e},M.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},M.prototype._normalize=function(e){var t,n,r,i,o;if(null===e||void 0===e||0===this.units.length)return e;if(this._isDerived()){var s=e;o=M._getNumberConverter(q(e));for(var l=0;l<this.units.length;l++)t=o(this.units[l].unit.value),i=o(this.units[l].prefix.value),r=o(this.units[l].power),s=c(s,d(c(t,i),r));return s}return t=(o=M._getNumberConverter(q(e)))(this.units[0].unit.value),n=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),c(a(e,n),c(t,i))},M.prototype._denormalize=function(e,t){var n,r,i,o,a;if(null===e||void 0===e||0===this.units.length)return e;if(this._isDerived()){var s=e;a=M._getNumberConverter(q(e));for(var u=0;u<this.units.length;u++)n=a(this.units[u].unit.value),o=a(this.units[u].prefix.value),i=a(this.units[u].power),s=f(s,d(c(n,o),i));return s}return n=(a=M._getNumberConverter(q(e)))(this.units[0].unit.value),o=a(this.units[0].prefix.value),r=a(this.units[0].unit.offset),l(f(f(e,n),void 0===t||null===t?o:t),r)},M.isValuelessUnit=function(e){return null!==D(e)},M.prototype.hasBase=function(e){if("string"===typeof e&&(e=I[e]),!e)return!1;for(var t=0;t<L.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},M.prototype.equalBase=function(e){for(var t=0;t<L.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},M.prototype.equals=function(e){return this.equalBase(e)&&g(this.value,e.value)},M.prototype.multiply=function(e){for(var t=this.clone(),n=0;n<L.length;n++)t.dimensions[n]=(this.dimensions[n]||0)+(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i={};for(var o in e.units[r])i[o]=e.units[r][o];t.units.push(i)}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=c(a,s)}else t.value=null;return t.skipAutomaticSimplification=!1,P(t)},M.prototype.divide=function(e){for(var t=this.clone(),n=0;n<L.length;n++)t.dimensions[n]=(this.dimensions[n]||0)-(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i={};for(var o in e.units[r])i[o]=e.units[r][o];i.power=-i.power,t.units.push(i)}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=f(a,s)}else t.value=null;return t.skipAutomaticSimplification=!1,P(t)},M.prototype.pow=function(e){for(var t=this.clone(),n=0;n<L.length;n++)t.dimensions[n]=(this.dimensions[n]||0)*e;for(var r=0;r<t.units.length;r++)t.units[r].power*=e;return null!==t.value?t.value=d(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,P(t)},M.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?h(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=F.W);return e},M.prototype.to=function(e){var t,n=null===this.value?this._normalize(1):this.value;if("string"===typeof e){if(t=M.parse(e),!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=W(n),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}if(u(e)){if(!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=W(n),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}throw new Error("String or Unit expected as parameter")},M.prototype.toNumber=function(e){return k(this.toNumeric(e))},M.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},M.prototype.toString=function(){return this.format()},M.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},M.fromJSON=function(e){var t=new M(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},M.prototype.valueOf=M.prototype.toString,M.prototype.simplify=function(){var e,t,n=this.clone(),r=[];for(var i in V)if(n.hasBase(I[i])){e=i;break}if("NONE"===e)n.units=[];else if(e&&$(V,e)&&(t=V[e]),t)n.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var o=!1,a=0;a<L.length;a++){var s=L[a];Math.abs(n.dimensions[a]||0)>1e-12&&($(V,s)?r.push({unit:V[s].unit,prefix:V[s].prefix,power:n.dimensions[a]||0}):o=!0)}r.length<n.units.length&&!o&&(n.units=r)}return n},M.prototype.toSI=function(){for(var e=this.clone(),t=[],n=0;n<L.length;n++){var r=L[n];if(Math.abs(e.dimensions[n]||0)>1e-12){if(!$(H.si,r))throw new Error("Cannot express custom unit "+r+" in SI units");t.push({unit:H.si[r].unit,prefix:H.si[r].prefix,power:e.dimensions[n]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},M.prototype.formatUnits=function(){for(var e="",t="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var o=0;o<this.units.length;o++)this.units[o].power<0&&(n>0?(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,Math.abs(this.units[o].power+1)>1e-15&&(t+="^"+-this.units[o].power)):(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,t+="^"+this.units[o].power));e=e.substr(1),t=t.substr(1),n>1&&r>0&&(e="("+e+")"),r>1&&n>0&&(t="("+t+")");var a=e;return n>0&&r>0&&(a+=" / "),a+=t},M.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var r in"undefined"!==typeof t.value&&null!==t.value&&s(t.value)&&(n=Math.abs(t.value.re)<1e-14),t.units)t.units[r].unit&&("VA"===t.units[r].unit.name&&n?t.units[r].unit=F.VAR:"VAR"!==t.units[r].unit.name||n||(t.units[r].unit=F.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var i=t._denormalize(t.value),o=null!==t.value?y(i,e||{}):"",a=t.formatUnits();return t.value&&s(t.value)&&(o="("+o+")"),a.length>0&&o.length>0&&(o+=" "),o+=a},M.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?h(this.value):0,t=h(this.units[0].unit.value),n=this.units[0].prefix;if(0===e)return n;var r=this.units[0].power,i=Math.log(e/Math.pow(n.value*t,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var o=this.units[0].unit.prefixes;for(var a in o)if($(o,a)){var s=o[a];if(s.scientific){var l=Math.abs(Math.log(e/Math.pow(s.value*t,r))/Math.LN10-1.2);(l<i||l===i&&s.name.length<n.name.length)&&(n=s,i=l)}}return n},M.prototype.splitUnit=function(e){for(var t=this.clone(),n=[],r=0;r<e.length&&(t=t.to(e[r]),r!==e.length-1);r++){var i=t.toNumeric(),o=m(i),s=new M(g(o,i)?o:p(t.toNumeric()),e[r].toString());n.push(s),t=l(t,s)}for(var u=0,c=0;c<n.length;c++)u=a(u,n[c].value);return g(u,this.value)&&(t.value=0),n.push(t),n};var R={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};R.SHORTLONG=_c({},R.SHORT,R.LONG),R.BINARY_SHORT=_c({},R.BINARY_SHORT_SI,R.BINARY_SHORT_IEC),R.BINARY_LONG=_c({},R.BINARY_LONG_SI,R.BINARY_LONG_IEC);var L=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],I={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var j in I)I[j].key=j;var z={name:"",base:{},value:1,offset:0,dimensions:L.map((function(e){return 0}))},F={meter:{name:"meter",base:I.LENGTH,prefixes:R.LONG,value:1,offset:0},inch:{name:"inch",base:I.LENGTH,prefixes:R.NONE,value:.0254,offset:0},foot:{name:"foot",base:I.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yard:{name:"yard",base:I.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mile:{name:"mile",base:I.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},link:{name:"link",base:I.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rod:{name:"rod",base:I.LENGTH,prefixes:R.NONE,value:5.0292,offset:0},chain:{name:"chain",base:I.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:I.LENGTH,prefixes:R.NONE,value:1e-10,offset:0},m:{name:"m",base:I.LENGTH,prefixes:R.SHORT,value:1,offset:0},in:{name:"in",base:I.LENGTH,prefixes:R.NONE,value:.0254,offset:0},ft:{name:"ft",base:I.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yd:{name:"yd",base:I.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mi:{name:"mi",base:I.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},li:{name:"li",base:I.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rd:{name:"rd",base:I.LENGTH,prefixes:R.NONE,value:5.02921,offset:0},ch:{name:"ch",base:I.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},mil:{name:"mil",base:I.LENGTH,prefixes:R.NONE,value:254e-7,offset:0},m2:{name:"m2",base:I.SURFACE,prefixes:R.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:I.SURFACE,prefixes:R.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:I.SURFACE,prefixes:R.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:I.SURFACE,prefixes:R.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:I.SURFACE,prefixes:R.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:I.SURFACE,prefixes:R.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:I.SURFACE,prefixes:R.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:I.SURFACE,prefixes:R.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:I.SURFACE,prefixes:R.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:I.SURFACE,prefixes:R.NONE,value:1e4,offset:0},m3:{name:"m3",base:I.VOLUME,prefixes:R.CUBIC,value:1,offset:0},L:{name:"L",base:I.VOLUME,prefixes:R.SHORT,value:.001,offset:0},l:{name:"l",base:I.VOLUME,prefixes:R.SHORT,value:.001,offset:0},litre:{name:"litre",base:I.VOLUME,prefixes:R.LONG,value:.001,offset:0},cuin:{name:"cuin",base:I.VOLUME,prefixes:R.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:I.VOLUME,prefixes:R.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:I.VOLUME,prefixes:R.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:I.VOLUME,prefixes:R.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:I.VOLUME,prefixes:R.NONE,value:15e-6,offset:0},drop:{name:"drop",base:I.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:I.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},minim:{name:"minim",base:I.VOLUME,prefixes:R.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:I.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:I.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:I.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:I.VOLUME,prefixes:R.NONE,value:1e-6,offset:0},cup:{name:"cup",base:I.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:I.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:I.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:I.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:I.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:I.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:I.VOLUME,prefixes:R.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:I.VOLUME,prefixes:R.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:I.VOLUME,prefixes:R.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:I.VOLUME,prefixes:R.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:I.VOLUME,prefixes:R.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:I.VOLUME,prefixes:R.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:I.VOLUME,prefixes:R.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:I.VOLUME,prefixes:R.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:I.VOLUME,prefixes:R.NONE,value:.1173478,offset:0},obl:{name:"obl",base:I.VOLUME,prefixes:R.NONE,value:.1589873,offset:0},g:{name:"g",base:I.MASS,prefixes:R.SHORT,value:.001,offset:0},gram:{name:"gram",base:I.MASS,prefixes:R.LONG,value:.001,offset:0},ton:{name:"ton",base:I.MASS,prefixes:R.SHORT,value:907.18474,offset:0},t:{name:"t",base:I.MASS,prefixes:R.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:I.MASS,prefixes:R.LONG,value:1e3,offset:0},grain:{name:"grain",base:I.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:I.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:I.MASS,prefixes:R.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:I.MASS,prefixes:R.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:I.MASS,prefixes:R.NONE,value:45.359237,offset:0},stick:{name:"stick",base:I.MASS,prefixes:R.NONE,value:.115,offset:0},stone:{name:"stone",base:I.MASS,prefixes:R.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:I.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:I.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:I.MASS,prefixes:R.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:I.MASS,prefixes:R.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:I.MASS,prefixes:R.NONE,value:45.359237,offset:0},s:{name:"s",base:I.TIME,prefixes:R.SHORT,value:1,offset:0},min:{name:"min",base:I.TIME,prefixes:R.NONE,value:60,offset:0},h:{name:"h",base:I.TIME,prefixes:R.NONE,value:3600,offset:0},second:{name:"second",base:I.TIME,prefixes:R.LONG,value:1,offset:0},sec:{name:"sec",base:I.TIME,prefixes:R.LONG,value:1,offset:0},minute:{name:"minute",base:I.TIME,prefixes:R.NONE,value:60,offset:0},hour:{name:"hour",base:I.TIME,prefixes:R.NONE,value:3600,offset:0},day:{name:"day",base:I.TIME,prefixes:R.NONE,value:86400,offset:0},week:{name:"week",base:I.TIME,prefixes:R.NONE,value:604800,offset:0},month:{name:"month",base:I.TIME,prefixes:R.NONE,value:2629800,offset:0},year:{name:"year",base:I.TIME,prefixes:R.NONE,value:31557600,offset:0},decade:{name:"decade",base:I.TIME,prefixes:R.NONE,value:315576e3,offset:0},century:{name:"century",base:I.TIME,prefixes:R.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:I.TIME,prefixes:R.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:I.FREQUENCY,prefixes:R.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:I.FREQUENCY,prefixes:R.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:I.ANGLE,prefixes:R.SHORT,value:1,offset:0},radian:{name:"radian",base:I.ANGLE,prefixes:R.LONG,value:1,offset:0},deg:{name:"deg",base:I.ANGLE,prefixes:R.SHORT,value:null,offset:0},degree:{name:"degree",base:I.ANGLE,prefixes:R.LONG,value:null,offset:0},grad:{name:"grad",base:I.ANGLE,prefixes:R.SHORT,value:null,offset:0},gradian:{name:"gradian",base:I.ANGLE,prefixes:R.LONG,value:null,offset:0},cycle:{name:"cycle",base:I.ANGLE,prefixes:R.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:I.ANGLE,prefixes:R.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:I.ANGLE,prefixes:R.NONE,value:null,offset:0},A:{name:"A",base:I.CURRENT,prefixes:R.SHORT,value:1,offset:0},ampere:{name:"ampere",base:I.CURRENT,prefixes:R.LONG,value:1,offset:0},K:{name:"K",base:I.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},degC:{name:"degC",base:I.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},degF:{name:"degF",base:I.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:I.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:I.TEMPERATURE,prefixes:R.NONE,value:1,offset:0},celsius:{name:"celsius",base:I.TEMPERATURE,prefixes:R.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:I.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:I.TEMPERATURE,prefixes:R.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:I.AMOUNT_OF_SUBSTANCE,prefixes:R.SHORT,value:1,offset:0},mole:{name:"mole",base:I.AMOUNT_OF_SUBSTANCE,prefixes:R.LONG,value:1,offset:0},cd:{name:"cd",base:I.LUMINOUS_INTENSITY,prefixes:R.SHORT,value:1,offset:0},candela:{name:"candela",base:I.LUMINOUS_INTENSITY,prefixes:R.LONG,value:1,offset:0},N:{name:"N",base:I.FORCE,prefixes:R.SHORT,value:1,offset:0},newton:{name:"newton",base:I.FORCE,prefixes:R.LONG,value:1,offset:0},dyn:{name:"dyn",base:I.FORCE,prefixes:R.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:I.FORCE,prefixes:R.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:I.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:I.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:I.FORCE,prefixes:R.LONG,value:4448.2216,offset:0},J:{name:"J",base:I.ENERGY,prefixes:R.SHORT,value:1,offset:0},joule:{name:"joule",base:I.ENERGY,prefixes:R.SHORT,value:1,offset:0},erg:{name:"erg",base:I.ENERGY,prefixes:R.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:I.ENERGY,prefixes:R.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:I.ENERGY,prefixes:R.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:I.ENERGY,prefixes:R.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:I.ENERGY,prefixes:R.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:I.POWER,prefixes:R.SHORT,value:1,offset:0},watt:{name:"watt",base:I.POWER,prefixes:R.LONG,value:1,offset:0},hp:{name:"hp",base:I.POWER,prefixes:R.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:I.POWER,prefixes:R.SHORT,value:x.I,offset:0},VA:{name:"VA",base:I.POWER,prefixes:R.SHORT,value:1,offset:0},Pa:{name:"Pa",base:I.PRESSURE,prefixes:R.SHORT,value:1,offset:0},psi:{name:"psi",base:I.PRESSURE,prefixes:R.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:I.PRESSURE,prefixes:R.NONE,value:101325,offset:0},bar:{name:"bar",base:I.PRESSURE,prefixes:R.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:I.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:I.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:I.PRESSURE,prefixes:R.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:I.PRESSURE,prefixes:R.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:I.ELECTRIC_CHARGE,prefixes:R.LONG,value:1,offset:0},C:{name:"C",base:I.ELECTRIC_CHARGE,prefixes:R.SHORT,value:1,offset:0},farad:{name:"farad",base:I.ELECTRIC_CAPACITANCE,prefixes:R.LONG,value:1,offset:0},F:{name:"F",base:I.ELECTRIC_CAPACITANCE,prefixes:R.SHORT,value:1,offset:0},volt:{name:"volt",base:I.ELECTRIC_POTENTIAL,prefixes:R.LONG,value:1,offset:0},V:{name:"V",base:I.ELECTRIC_POTENTIAL,prefixes:R.SHORT,value:1,offset:0},ohm:{name:"ohm",base:I.ELECTRIC_RESISTANCE,prefixes:R.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:I.ELECTRIC_INDUCTANCE,prefixes:R.LONG,value:1,offset:0},H:{name:"H",base:I.ELECTRIC_INDUCTANCE,prefixes:R.SHORT,value:1,offset:0},siemens:{name:"siemens",base:I.ELECTRIC_CONDUCTANCE,prefixes:R.LONG,value:1,offset:0},S:{name:"S",base:I.ELECTRIC_CONDUCTANCE,prefixes:R.SHORT,value:1,offset:0},weber:{name:"weber",base:I.MAGNETIC_FLUX,prefixes:R.LONG,value:1,offset:0},Wb:{name:"Wb",base:I.MAGNETIC_FLUX,prefixes:R.SHORT,value:1,offset:0},tesla:{name:"tesla",base:I.MAGNETIC_FLUX_DENSITY,prefixes:R.LONG,value:1,offset:0},T:{name:"T",base:I.MAGNETIC_FLUX_DENSITY,prefixes:R.SHORT,value:1,offset:0},b:{name:"b",base:I.BIT,prefixes:R.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:I.BIT,prefixes:R.BINARY_LONG,value:1,offset:0},B:{name:"B",base:I.BIT,prefixes:R.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:I.BIT,prefixes:R.BINARY_LONG,value:8,offset:0}},B={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function U(e){if("BigNumber"===e.number){var t=wr(_);F.rad.value=new _(1),F.deg.value=t.div(180),F.grad.value=t.div(200),F.cycle.value=t.times(2),F.arcsec.value=t.div(648e3),F.arcmin.value=t.div(10800)}else F.rad.value=1,F.deg.value=Math.PI/180,F.grad.value=Math.PI/200,F.cycle.value=2*Math.PI,F.arcsec.value=Math.PI/648e3,F.arcmin.value=Math.PI/10800;F.radian.value=F.rad.value,F.degree.value=F.deg.value,F.gradian.value=F.grad.value}U(o),i&&i("config",(function(e,t){e.number!==t.number&&U(e)}));var H={si:{NONE:{unit:z,prefix:R.NONE[""]},LENGTH:{unit:F.m,prefix:R.SHORT[""]},MASS:{unit:F.g,prefix:R.SHORT.k},TIME:{unit:F.s,prefix:R.SHORT[""]},CURRENT:{unit:F.A,prefix:R.SHORT[""]},TEMPERATURE:{unit:F.K,prefix:R.SHORT[""]},LUMINOUS_INTENSITY:{unit:F.cd,prefix:R.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:F.mol,prefix:R.SHORT[""]},ANGLE:{unit:F.rad,prefix:R.SHORT[""]},BIT:{unit:F.bits,prefix:R.SHORT[""]},FORCE:{unit:F.N,prefix:R.SHORT[""]},ENERGY:{unit:F.J,prefix:R.SHORT[""]},POWER:{unit:F.W,prefix:R.SHORT[""]},PRESSURE:{unit:F.Pa,prefix:R.SHORT[""]},ELECTRIC_CHARGE:{unit:F.C,prefix:R.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:F.F,prefix:R.SHORT[""]},ELECTRIC_POTENTIAL:{unit:F.V,prefix:R.SHORT[""]},ELECTRIC_RESISTANCE:{unit:F.ohm,prefix:R.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:F.H,prefix:R.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:F.S,prefix:R.SHORT[""]},MAGNETIC_FLUX:{unit:F.Wb,prefix:R.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:F.T,prefix:R.SHORT[""]},FREQUENCY:{unit:F.Hz,prefix:R.SHORT[""]}}};H.cgs=JSON.parse(JSON.stringify(H.si)),H.cgs.LENGTH={unit:F.m,prefix:R.SHORT.c},H.cgs.MASS={unit:F.g,prefix:R.SHORT[""]},H.cgs.FORCE={unit:F.dyn,prefix:R.SHORT[""]},H.cgs.ENERGY={unit:F.erg,prefix:R.NONE[""]},H.us=JSON.parse(JSON.stringify(H.si)),H.us.LENGTH={unit:F.ft,prefix:R.NONE[""]},H.us.MASS={unit:F.lbm,prefix:R.NONE[""]},H.us.TEMPERATURE={unit:F.degF,prefix:R.NONE[""]},H.us.FORCE={unit:F.lbf,prefix:R.NONE[""]},H.us.ENERGY={unit:F.BTU,prefix:R.BTU[""]},H.us.POWER={unit:F.hp,prefix:R.NONE[""]},H.us.PRESSURE={unit:F.psi,prefix:R.NONE[""]},H.auto=JSON.parse(JSON.stringify(H.si));var V=H.auto;for(var Y in M.setUnitSystem=function(e){if(!$(H,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(H).join(", "));V=H[e]},M.getUnitSystem=function(){for(var e in H)if(H[e]===V)return e},M.typeConverters={BigNumber:function(e){return new _(e+"")},Fraction:function(e){return new w(e)},Complex:function(e){return e},number:function(e){return e}},M._getNumberConverter=function(e){if(!M.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return M.typeConverters[e]},F){var G=F[Y];G.dimensions=G.base.dimensions}for(var X in B)if($(B,X)){var Z=F[B[X]],K={};for(var J in Z)$(Z,J)&&(K[J]=Z[J]);K.name=X,F[X]=K}return M.createUnit=function(e,t){if("object"!==xc(e))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var n in e)if($(e,n)&&M.deleteUnit(n),e[n].aliases)for(var r=0;r<e[n].aliases.length;r++)M.deleteUnit(e[n].aliases[r]);var i;for(var o in e)$(e,o)&&(i=M.createUnitSingle(o,e[o]));return i},M.createUnitSingle=function(e,t,n){if("undefined"!==typeof t&&null!==t||(t={}),"string"!==typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if($(F,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),r=function(e){return/^[a-zA-Z]$/.test(e)};if(0===t&&!r(n))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!r(n)&&!function(e){return e>="0"&&e<="9"}(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var r,i,o=null,a=[],s=0;if(t&&"Unit"===t.type)o=t.clone();else if("string"===typeof t)""!==t&&(r=t);else{if("object"!==xc(t))throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');r=t.definition,i=t.prefixes,s=t.offset,t.aliases&&(a=t.aliases.valueOf())}if(a)for(var l=0;l<a.length;l++)if($(F,a[l]))throw new Error('Cannot create alias "'+a[l]+'": a unit with that name already exists');if(r&&"string"===typeof r&&!o)try{o=M.parse(r,{allowNoUnits:!0})}catch(T){throw T.message='Could not create unit "'+e+'" from "'+r+'": '+T.message,T}else r&&"Unit"===r.type&&(o=r.clone());a=a||[],s=s||0,i=i&&i.toUpperCase&&R[i.toUpperCase()]||R.NONE;var u={};if(o){u={name:e,value:o.value,dimensions:o.dimensions.slice(0),prefixes:i,offset:s};var c=!1;for(var f in I)if($(I,f)){for(var d=!0,h=0;h<L.length;h++)if(Math.abs((u.dimensions[h]||0)-(I[f].dimensions[h]||0))>1e-12){d=!1;break}if(d){c=!0,u.base=I[f];break}}if(!c){var p=e+"_STUFF",m={dimensions:o.dimensions.slice(0)};m.key=p,I[p]=m,V[p]={unit:u,prefix:R.NONE[""]},u.base=I[p]}}else{var g=e+"_STUFF";if(L.indexOf(g)>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var v in L.push(g),I)$(I,v)&&(I[v].dimensions[L.length-1]=0);for(var y={dimensions:[]},b=0;b<L.length;b++)y.dimensions[b]=0;y.dimensions[L.length-1]=1,y.key=g,I[g]=y,u={name:e,value:1,dimensions:I[g].dimensions.slice(0),prefixes:i,offset:s,base:I[g]},V[g]={unit:u,prefix:R.NONE[""]}}M.UNITS[e]=u;for(var x=0;x<a.length;x++){var _=a[x],w={};for(var k in u)$(u,k)&&(w[k]=u[k]);w.name=_,M.UNITS[_]=w}return new M(null,e)},M.deleteUnit=function(e){delete M.UNITS[e]},M.PREFIXES=R,M.BASE_DIMENSIONS=L,M.BASE_UNITS=I,M.UNIT_SYSTEMS=H,M.UNITS=F,M}),{isClass:!0}),kc=$e("createUnit",["typed","Unit"],(function(e){var t=e.typed,n=e.Unit;return t("createUnit",{"Object, Object":function(e,t){return n.createUnit(e,t)},Object:function(e){return n.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,t,r){var i={};return i[e]=t,n.createUnit(i,r)},"string, Unit | string | Object":function(e,t){var r={};return r[e]=t,n.createUnit(r,{})},string:function(e){var t={};return t[e]={},n.createUnit(t,{})}})})),Mc=$e("setSymDifference",["typed","size","concat","subset","setDifference","Index"],(function(e){var t=e.typed,n=e.size,r=e.concat,i=e.subset,o=e.setDifference,a=e.Index;return t("setSymDifference",{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(n(e),new a(0)))return Be(t);if(0===i(n(t),new a(0)))return Be(e);var s=Be(e),l=Be(t);return r(o(s,l),o(l,s))}})})),Tc=$e("qr",["typed","matrix","zeros","identity","isZero","unequal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract"],(function(e){var t=e.typed,n=e.matrix,r=e.zeros,i=e.identity,o=e.isZero,a=e.unequal,s=e.sign,l=e.sqrt,u=e.conj,c=e.unaryMinus,f=e.addScalar,d=e.divideScalar,h=e.multiplyScalar,p=e.subtract;return t("qr",{DenseMatrix:function(e){return m(e)},SparseMatrix:function(e){return function(e){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var t=m(n(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}});function m(e){var t,n,m,g=e._size[0],v=e._size[1],y=i([g],"dense"),b=y._data,x=e.clone(),_=x._data,w=r([g],"");for(m=0;m<Math.min(v,g);++m){var k=_[m][m],M=c(s(k)),T=u(M),S=0;for(t=m;t<g;t++)S=f(S,h(_[t][m],u(_[t][m])));var E=h(M,l(S));if(!o(E)){var A=p(k,E);for(w[m]=1,t=m+1;t<g;t++)w[t]=d(_[t][m],A);var O=c(u(d(A,E))),C=void 0;for(n=m;n<v;n++){for(C=0,t=m;t<g;t++)C=f(C,h(u(w[t]),_[t][n]));for(C=h(C,O),t=m;t<g;t++)_[t][n]=h(p(_[t][n],h(w[t],C)),T)}for(t=0;t<g;t++){for(C=0,n=m;n<g;n++)C=f(C,h(b[t][n],w[n]));for(C=h(C,O),n=m;n<g;++n)b[t][n]=d(p(b[t][n],h(C,u(w[n]))),T)}}}for(t=0;t<g;++t)for(n=0;n<t&&n<v;++n){if(a(0,d(_[t][n],1e5)))throw new Error("math.qr(): unknown error - R is not lower triangular (element ("+t+", "+n+")  = "+_[t][n]+")");_[t][n]=h(_[t][n],0)}return{Q:y,R:x,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}})),Sc=$e("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(function(e){var t=e.typed,n=e.matrix,r=e.divideScalar,i=e.addScalar,o=e.multiply,a=e.unaryMinus,s=e.det,l=e.identity,u=e.abs;return t("inv",{"Array | Matrix":function(e){var t=d(e)?e.size():Pe(e);switch(t.length){case 1:if(1===t[0])return d(e)?n([r(1,e.valueOf()[0])]):[r(1,e[0])];throw new RangeError("Matrix must be square (size: "+Ee(t)+")");case 2:var i=t[0],o=t[1];if(i===o)return d(e)?n(c(e.valueOf(),i,o),e.storage()):c(e,i,o);throw new RangeError("Matrix must be square (size: "+Ee(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Ee(t)+")")}},any:function(e){return r(1,e)}});function c(e,t,n){var c,f,d,h,p;if(1===t){if(0===(h=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,h)]]}if(2===t){var m=s(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[r(e[1][1],m),r(a(e[0][1]),m)],[r(a(e[1][0]),m),r(e[0][0],m)]]}var g=e.concat();for(c=0;c<t;c++)g[c]=g[c].concat();for(var v=l(t).valueOf(),y=0;y<n;y++){var b=u(g[y][y]),x=y;for(c=y+1;c<t;)u(g[c][y])>b&&(b=u(g[c][y]),x=c),c++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(c=x)!==y&&(p=g[y],g[y]=g[c],g[c]=p,p=v[y],v[y]=v[c],v[c]=p);var _=g[y],w=v[y];for(c=0;c<t;c++){var k=g[c],M=v[c];if(c!==y){if(0!==k[y]){for(d=r(a(k[y]),_[y]),f=y;f<n;f++)k[f]=i(k[f],o(d,_[f]));for(f=0;f<n;f++)M[f]=i(M[f],o(d,w[f]))}}else{for(d=_[y],f=y;f<n;f++)k[f]=r(k[f],d);for(f=0;f<n;f++)M[f]=r(M[f],d)}}}return v}})),Ec=$e("sqrtm",["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],(function(e){var t=e.typed,n=e.abs,r=e.add,i=e.multiply,o=e.sqrt,a=e.subtract,s=e.inv,l=e.size,u=e.max,c=e.identity,f=t("sqrtm",{"Array | Matrix":function(e){var t=d(e)?e.size():Pe(e);switch(t.length){case 1:if(1===t[0])return o(e);throw new RangeError("Matrix must be square (size: "+Ee(t)+")");case 2:if(t[0]===t[1])return m(e);throw new RangeError("Matrix must be square (size: "+Ee(t)+")")}}}),h=1e3,p=1e-6;function m(e){var t,o=0,f=e,d=c(l(e));do{var m=f;if(f=i(.5,r(m,s(d))),d=i(.5,r(d,s(m))),(t=u(n(a(f,m))))>p&&++o>h)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>p);return f}return f})),Ac=$e("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],(function(e){var t=e.typed,n=e.config,r=e.abs,i=e.add,o=e.addScalar,s=e.matrix,l=e.multiply,u=e.multiplyScalar,c=e.divideScalar,f=e.subtract,d=e.smaller,h=e.equalScalar,p=t("intersect",{"Array, Array, Array":function(e,t,n){if(!v(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!v(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&m(e[0])&&m(e[1])&&m(e[2])&&m(e[3])}(n))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,n,r,i,a,s,l,d,h){var p=u(e,s),m=u(r,s),g=u(t,l),v=u(i,l),y=u(n,d),b=u(a,d),x=c(f(f(f(h,p),g),y),f(f(f(o(o(m,v),b),p),g),y)),_=o(e,u(x,f(r,e))),w=o(t,u(x,f(i,t))),k=o(n,u(x,f(a,n)));return[_,w,k]}(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(e,t,a,s){if(2===e.length){if(!g(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!g(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!g(a))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!g(s))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,t,a,s){var h=e,p=a,m=f(h,t),g=f(p,s),v=f(u(m[0],g[1]),u(g[0],m[1]));if(d(r(v),n.epsilon))return null;var y=u(g[0],h[1]),b=u(g[1],h[0]),x=u(g[0],p[1]),_=u(g[1],p[0]),w=c(o(f(f(y,b),x),_),v);return i(l(m,w),h)}(e,t,a,s)}if(3===e.length){if(!v(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!v(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!v(a))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!v(s))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function(e,t,n,r,i,a,s,l,d,p,m,g){var v=y(e,s,p,s,t,l,m,l,n,d,g,d),b=y(p,s,r,e,m,l,i,t,g,d,a,n),x=y(e,s,r,e,t,l,i,t,n,d,a,n),_=y(p,s,p,s,m,l,m,l,g,d,g,d),w=y(r,e,r,e,i,t,i,t,a,n,a,n),k=c(f(u(v,b),u(x,_)),f(u(w,_),u(b,b))),M=c(o(v,u(k,b)),_),T=o(e,u(k,f(r,e))),S=o(t,u(k,f(i,t))),E=o(n,u(k,f(a,n))),A=o(s,u(M,f(p,s))),O=o(l,u(M,f(m,l))),C=o(d,u(M,f(g,d)));return h(T,A)&&h(S,O)&&h(E,C)?[T,S,E]:null}(e[0],e[1],e[2],t[0],t[1],t[2],a[0],a[1],a[2],s[0],s[1],s[2])}throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(e,t,n){return s(p(e.valueOf(),t.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,n,r){return s(p(e.valueOf(),t.valueOf(),n.valueOf(),r.valueOf()))}});function m(e){return"number"===typeof e||a(e)}function g(e){return 2===e.length&&m(e[0])&&m(e[1])}function v(e){return 3===e.length&&m(e[0])&&m(e[1])&&m(e[2])}function y(e,t,n,r,i,a,s,l,c,d,h,p){var m=u(f(e,t),f(n,r)),g=u(f(i,a),f(s,l)),v=u(f(c,d),f(h,p));return o(o(m,g),v)}return p})),Oc=$e("bellNumbers",["typed","addScalar","isNegative","isInteger","stirlingS2"],(function(e){var t=e.typed,n=e.addScalar,r=e.isNegative,i=e.isInteger,o=e.stirlingS2;return t("bellNumbers",{"number | BigNumber":function(e){if(!i(e)||r(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var t=0,a=0;a<=e;a++)t=n(t,o(e,a));return t}})})),Cc=$e("usolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.divideScalar,i=e.multiplyScalar,o=e.subtract,a=e.equalScalar,s=e.DenseMatrix,l=Xu({DenseMatrix:s});return t("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n,u,c=(t=l(e,t,!0))._data,f=e._size[0],d=e._size[1],h=e._values,p=e._index,m=e._ptr,g=[],v=d-1;v>=0;v--){var y=c[v][0]||0;if(a(y,0))g[v]=[0];else{var b=0,x=[],_=[],w=m[v],k=m[v+1];for(u=k-1;u>=w;u--)(n=p[u])===v?b=h[u]:n<v&&(x.push(h[u]),_.push(n));if(a(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var M=r(y,b);for(u=0,k=_.length;u<k;u++)n=_[u],c[n]=[o(c[n][0],i(M,x[u]))];g[v]=[M]}}return new s({data:g,size:[f,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).valueOf()}});function u(e,t){for(var n=(t=l(e,t,!0))._data,u=e._size[0],c=e._size[1],f=[],d=e._data,h=c-1;h>=0;h--){var p=n[h][0]||0,m=void 0;if(a(p,0))m=0;else{var g=d[h][h];if(a(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(p,g);for(var v=h-1;v>=0;v--)n[v]=[o(n[v][0]||0,i(m,d[v][h]))]}f[h]=[m]}return new s({data:f,size:[u,1]})}})),Nc=$e("setIntersect",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.typed,n=e.size,r=e.subset,i=e.compareNatural,o=e.Index,a=e.DenseMatrix;return t("setIntersect",{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===r(n(e),new o(0))||0===r(n(t),new o(0)))s=[];else{var l=Ye(Be(Array.isArray(e)?e:e.toArray()).sort(i)),u=Ye(Be(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var c=0;c<l.length;c++)for(var f=0;f<u.length;f++)if(0===i(l[c].value,u[f].value)&&l[c].identifier===u[f].identifier){s.push(l[c]);break}}return Array.isArray(e)&&Array.isArray(t)?Ge(s):new a(Ge(s))}})}));function Dc(e,t){var n,r=t.length,i=[];if(e)for(n=0;n<r;n++)i[e[n]]=t[n];else for(n=0;n<r;n++)i[n]=t[n];return i}var Pc=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Rc=$e("lusolve",Pc,(function(e){var t=e.typed,n=e.matrix,r=e.lup,i=e.slu,o=e.usolve,a=e.lsolve,s=Xu({DenseMatrix:e.DenseMatrix});return t("lusolve",{"Array, Array | Matrix":function(e,t){e=n(e);var i=r(e);return u(i.L,i.U,i.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var n=r(e);return u(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var n=r(e);return u(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,n,r){var o=i(e,n,r);return u(o.L,o.U,o.p,o.q,t)},"Object, Array | Matrix":function(e,t){return u(e.L,e.U,e.p,e.q,t)}});function l(e){if(d(e))return e;if(f(e))return n(e);throw new TypeError("Invalid Matrix LU decomposition")}function u(e,t,n,r,i){e=l(e),t=l(t),i=s(e,i,!1),n&&(i._data=Dc(n,i._data));var u=a(e,i),c=o(t,u);return r&&(c._data=Dc(r,c._data)),c}})),Lc=["typed","abs","add","identity","inv","multiply"],Ic=$e("expm",Lc,(function(e){var t=e.typed,n=e.abs,r=e.add,i=e.identity,o=e.inv,a=e.multiply;return t("expm",{Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+Ee(t)+")");for(var l=t[0],u=function(e,t){for(var n=0;n<30;n++)for(var r=0;r<=n;r++){var i=n-r;if(s(e,r,i)<t)return{q:r,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var t=e.size()[0],r=0,i=0;i<t;i++){for(var o=0,a=0;a<t;a++)o+=n(e.get([i,a]));r=Math.max(o,r)}return r}(e),1e-15),c=u.q,f=u.j,d=a(e,Math.pow(2,-f)),h=i(l),p=i(l),g=1,v=d,y=-1,b=1;b<=c;b++)b>1&&(v=a(v,d),y=-y),h=r(h,a(g=g*(c-b+1)/((2*c-b+1)*b),v)),p=r(p,a(g*y,v));for(var x=a(o(p),h),_=0;_<f;_++)x=a(x,x);return m(e)?e.createSparseMatrix(x):x}});function s(e,t,n){for(var r=1,i=2;i<=t;i++)r*=i;for(var o=r,a=t+1;a<=2*t;a++)o*=a;var s=o*(2*t+1);return 8*Math.pow(e/Math.pow(2,n),2*t)*r*r/(o*s)}})),jc=["config","typed","divideScalar","Complex"],zc=$e("log",jc,(function(e){var t=e.typed,n=e.config,r=e.divideScalar,i=e.Complex,o=t("log",{number:function(e){return e>=0||n.predictable?Po(e):new i(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||n.predictable?e.ln():new i(e.toNumber(),0).log()},"Array | Matrix":function(e){return $t(e,o)},"any, any":function(e,t){return r(o(e),o(t))}});return o})),Fc=["typed","Unit"],Bc=$e("unit",Fc,(function(e){var t=e.typed,n=e.Unit,r=t("unit",{Unit:function(e){return e.clone()},string:function(e){return n.isValuelessUnit(e)?new n(null,e):n.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(e,t){return new n(e,t)},"Array | Matrix":function(e){return $t(e,r)}});return r})),Uc=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Hc=$e("divide",Uc,(function(e){var t=e.typed,n=e.matrix,r=e.multiply,i=e.equalScalar,o=e.divideScalar,a=e.inv,s=rl({typed:t,equalScalar:i}),l=Js({typed:t});return t("divide",G({"Array | Matrix, Array | Matrix":function(e,t){return r(e,a(t))},"DenseMatrix, any":function(e,t){return l(e,t,o,!1)},"SparseMatrix, any":function(e,t){return s(e,t,o,!1)},"Array, any":function(e,t){return l(n(e),t,o,!1).valueOf()},"any, Array | Matrix":function(e,t){return r(e,a(t))}},o.signatures))})),qc=["typed","add","divide","compare","partitionSelect"],Vc=$e("median",qc,(function(e){var t=e.typed,n=e.add,r=e.divide,i=e.compare,o=e.partitionSelect,a=t("median",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(Gt(e))throw new TypeError("Scalar values expected in function median");return s(e)}});function s(e){try{var t=(e=Be(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2===0){for(var n=t/2-1,r=o(e,n+1),a=e[n],s=0;s<n;++s)i(e[s],a)>0&&(a=e[s]);return u(a,r)}var c=o(e,(t-1)/2);return l(c)}catch(f){throw Fn(f,"median")}}var l=t({"number | BigNumber | Complex | Unit":function(e){return e}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return r(n(e,t),2)}});return a})),Wc=["typed","add","divide","multiply","factorial","isInteger","isPositive"],Yc=$e("multinomial",Wc,(function(e){var t=e.typed,n=e.add,r=e.divide,i=e.multiply,o=e.factorial,a=e.isInteger,s=e.isPositive;return t("multinomial",{"Array | Matrix":function(e){var t=0,l=1;return Xt(e,(function(e){if(!a(e)||!s(e))throw new TypeError("Positive integer value expected in function multinomial");t=n(t,e),l=i(l,o(e))})),r(o(t),l)}})})),Gc=["typed","config","divideScalar","log","Complex"],Xc=$e("log1p",Gc,(function(e){var t=e.typed,n=e.config,r=e.divideScalar,i=e.log,o=e.Complex,a=t("log1p",{number:function(e){return e>=-1||n.predictable?oe(e):s(new o(e,0))},Complex:s,BigNumber:function(e){var t=e.plus(1);return!t.isNegative()||n.predictable?t.ln():s(new o(e.toNumber(),0))},"Array | Matrix":function(e){return $t(e,a)},"any, any":function(e,t){return r(a(e),i(t))}});function s(e){var t=e.re+1;return new o(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}return a})),$c=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],Zc=$e("setUnion",$c,(function(e){var t=e.typed,n=e.size,r=e.concat,i=e.subset,o=e.setIntersect,a=e.setSymDifference,s=e.Index;return t("setUnion",{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(n(e),new s(0)))return Be(t);if(0===i(n(t),new s(0)))return Be(e);var l=Be(e),u=Be(t);return r(a(l,u),o(l,u))}})})),Kc=["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],Jc=$e("kldivergence",Kc,(function(e){var t=e.typed,n=e.matrix,r=e.divide,i=e.sum,o=e.multiply,a=e.dotDivide,s=e.log,l=e.isNumeric;return t("kldivergence",{"Array, Array":function(e,t){return u(n(e),n(t))},"Matrix, Array":function(e,t){return u(e,n(t))},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Matrix":function(e,t){return u(e,t)}});function u(e,t){var n=t.size().length,u=e.size().length;if(n>1)throw new Error("first object must be one dimensional");if(u>1)throw new Error("second object must be one dimensional");if(n!==u)throw new Error("Length of two vectors must be equal");if(0===i(e))throw new Error("Sum of elements in first object must be non zero");if(0===i(t))throw new Error("Sum of elements in second object must be non zero");var c=r(e,i(e)),f=r(t,i(t)),d=i(o(c,s(a(c,f))));return l(d)?d:Number.NaN}})),Qc=["typed","abs","map","median","subtract"],ef=$e("mad",Qc,(function(e){var t=e.typed,n=e.abs,r=e.map,i=e.median,o=e.subtract;return t("mad",{"Array | Matrix":a,"...":function(e){return a(e)}});function a(e){if(0===(e=Be(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var t=i(e);return i(r(e,(function(e){return n(o(e,t))})))}catch(a){throw a instanceof TypeError&&-1!==a.message.indexOf("median")?new TypeError(a.message.replace("median","mad")):Fn(a,"mad")}}})),tf=hr({}),nf=vr({}),rf=yr({}),of=br({}),af=Or({}),sf=Cr({}),lf=Ar({}),uf=Xr({config:Q}),cf=$r({}),ff=Lr({BigNumber:uf,config:Q}),df=qr({Complex:nf}),hf=zr({BigNumber:uf,config:Q}),pf=Br({BigNumber:uf,config:Q}),mf=Dr({BigNumber:uf,config:Q}),gf=Pr({BigNumber:uf,config:Q}),vf=Ur({BigNumber:uf,config:Q}),yf=Rr({BigNumber:uf,config:Q}),bf=Mi({BigNumber:uf,config:Q}),xf=mi({BigNumber:uf,config:Q}),_f=Ri({BigNumber:uf,config:Q}),wf=ki({BigNumber:uf,config:Q}),kf=Zi({}),Mf=jr({BigNumber:uf,config:Q}),Tf=Ir({BigNumber:uf,config:Q}),Sf=Hr({BigNumber:uf,config:Q}),Ef=Ki({Matrix:cf}),Af=Nr({BigNumber:uf,config:Q}),Of=to({BigNumber:uf,Complex:nf,DenseMatrix:Ef,Fraction:kf}),Cf=oo({typed:Of}),Nf=ao({typed:Of}),Df=fo({typed:Of}),Pf=ho({typed:Of}),Rf=mo({config:Q,typed:Of}),Lf=go({typed:Of}),If=vo({typed:Of}),jf=yo({Complex:nf,typed:Of}),zf=bo({typed:Of}),Ff=qo({BigNumber:uf,config:Q,typed:Of}),Bf=En({isInteger:Cf,typed:Of}),Uf=Vo({typed:Of}),Hf=Wo({Complex:nf,typed:Of}),qf=Yo({Complex:nf,config:Q,typed:Of}),Vf=Go({typed:Of}),Wf=Xo({BigNumber:uf,Fraction:kf,typed:Of}),Yf=$o({typed:Of}),Gf=da({typed:Of}),Xf=ha({typed:Of}),$f=pa({typed:Of}),Zf=ba({typed:Of}),Kf=xa({typed:Of}),Jf=wa({typed:Of}),Qf=Ma({typed:Of}),ed=Sa({typed:Of}),td=Da({typed:Of}),nd=Pa({typed:Of}),rd=Ra({Complex:nf,config:Q,typed:Of}),id=Ka({BigNumber:uf,typed:Of}),od=Ja({BigNumber:uf,Complex:nf,config:Q,typed:Of}),ad=Qa({BigNumber:uf,Complex:nf,config:Q,typed:Of}),sd=es({Complex:nf,config:Q,typed:Of}),ld=ts({typed:Of}),ud=ns({Complex:nf,config:Q,typed:Of}),cd=rs({typed:Of}),fd=is({BigNumber:uf,typed:Of}),dd=os({BigNumber:uf,typed:Of}),hd=as({BigNumber:uf,typed:Of}),pd=ss({typed:Of}),md=ls({typed:Of}),gd=fs({typed:Of}),vd=vs({config:Q,typed:Of}),yd=bs({config:Q,typed:Of}),bd=Fr({BigNumber:uf,config:Q}),xd=xs({typed:Of}),_d=_s({isNumeric:Nf,typed:Of}),wd=ws({typed:Of}),kd=ks({typed:Of}),Md=Ms({Fraction:kf,typed:Of}),Td=Ts({typed:Of}),Sd=Ss({typed:Of}),Ed=Es({typed:Of}),Ad=As({Complex:nf,config:Q,typed:Of}),Od=Os({Complex:nf,config:Q,typed:Of}),Cd=Cs({typed:Of}),Nd=Ns({typed:Of}),Dd=Ds({isNaN:Pf,isNumeric:Nf,typed:Of}),Pd=Ps({typed:Of}),Rd=Ls({Complex:nf,config:Q,typed:Of}),Ld=Is({BigNumber:uf,typed:Of}),Id=js({typed:Of}),jd=zs({typed:Of}),zd=Fs({BigNumber:uf,typed:Of}),Fd=Bs({typed:Of}),Bd=Us({typed:Of}),Ud=qs({config:Q,typed:Of}),Hd=Vr({}),qd=Vs({typed:Of}),Vd=Ws({Matrix:cf,equalScalar:Rf,typed:Of}),Wd=Ys({DenseMatrix:Ef,Matrix:cf,SparseMatrix:Vd,typed:Of}),Yd=Gs({BigNumber:uf,Complex:nf,Fraction:kf,config:Q,isNegative:qd,matrix:Wd,typed:Of,unaryMinus:Td}),Gd=Qs({BigNumber:uf,DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of}),Xd=ol({DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of}),$d=sl({BigNumber:uf,equalScalar:Rf,matrix:Wd,typed:Of}),Zd=ll({BigNumber:uf,config:Q,matrix:Wd,typed:Of}),Kd=ul({equalScalar:Rf,matrix:Wd,typed:Of}),Jd=fl({DenseMatrix:Ef,matrix:Wd,typed:Of}),Qd=dl({DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of}),eh=Zn({isInteger:Cf,matrix:Wd,typed:Of}),th=hl({DenseMatrix:Ef,SparseMatrix:Vd,matrix:Wd,typed:Of}),nh=pl({BigNumber:uf,DenseMatrix:Ef,SparseMatrix:Vd,config:Q,matrix:Wd,typed:Of}),rh=ml({BigNumber:uf,config:Q,matrix:Wd,typed:Of}),ih=gl({isInteger:Cf,matrix:Wd,typed:Of}),oh=vl({matrix:Wd,config:Q,typed:Of}),ah=Vn({matrix:Wd,typed:Of}),sh=yl({BigNumber:uf,config:Q,matrix:Wd,typed:Of}),lh=bl({matrix:Wd,typed:Of}),uh=kl({BigNumber:uf,DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of,zeros:sh}),ch=Sl({DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of,zeros:sh}),fh=El({DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of,zeros:sh}),dh=Al({BigNumber:uf,DenseMatrix:Ef,Fraction:kf,config:Q,equalScalar:Rf,matrix:Wd,typed:Of}),hh=Ol({matrix:Wd,typed:Of}),ph=Cl({DenseMatrix:Ef,config:Q,matrix:Wd,typed:Of}),mh=Nl({DenseMatrix:Ef,config:Q,matrix:Wd,typed:Of}),gh=Dl({DenseMatrix:Ef,config:Q,equalScalar:Rf,matrix:Wd,typed:Of}),vh=Bn({larger:mh,typed:Of}),yh=Pl({DenseMatrix:Ef,smaller:ph}),bh=Rl({larger:mh,smaller:ph}),xh=Ll({SparseMatrix:Vd,typed:Of}),_h=Il({BigNumber:uf,Complex:nf,config:Q,typed:Of}),wh=zl({BigNumber:uf,DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of}),kh=Fl({BigNumber:uf,typed:Of}),Mh=Bl({DenseMatrix:Ef,SparseMatrix:Vd,addScalar:Sd,equalScalar:Rf,matrix:Wd,typed:Of}),Th=Ul({add:Mh,matrix:Wd,typed:Of}),Sh=Hl({addScalar:Sd,combinations:gd,isInteger:Cf,isNegative:qd,isPositive:Df,larger:mh,typed:Of}),Eh=ql({typed:Of}),Ah=Vl({typed:Of}),Oh=Wl({config:Q,round:uh,typed:Of}),Ch=Yl({addScalar:Sd,equalScalar:Rf,matrix:Wd,multiplyScalar:Vf,typed:Of}),Nh=Gl({equalScalar:Rf,matrix:Wd,multiplyScalar:Vf,typed:Of}),Dh=Xl({typed:Of}),Ph=$l({matrix:Wd,typed:Of}),Rh=Kl({config:Q,matrix:Wd}),Lh=Jl({matrix:Wd,typed:Of}),Ih=Ql({multiply:Ch,typed:Of}),jh=eu({Complex:nf,config:Q,fraction:Md,identity:nh,matrix:Wd,multiply:Ch,number:Lf,typed:Of}),zh=tu({DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,pow:jh,typed:Of}),Fh=nu({DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of,zeros:sh}),Bh=ou({compare:dh,typed:Of}),Uh=au({compareText:hh,isZero:Eh,typed:Of}),Hh=su({DenseMatrix:Ef,config:Q,matrix:Wd,typed:Of}),qh=lu({compare:dh,isNaN:Pf,isNumeric:Nf,typed:Of}),Vh=Hn({smaller:ph,typed:Of}),Wh=uu({FibonacciHeap:bh,addScalar:Sd,equalScalar:Rf}),Yh=cu({BigNumber:uf,Complex:nf,config:Q,typed:Of}),Gh=fu({typed:Of}),Xh=du({compareNatural:Bh,typed:Of}),$h=hu({abs:Ah,add:Mh,conj:Cd,equalScalar:Rf,larger:mh,matrix:Wd,multiply:Ch,pow:jh,smaller:ph,sqrt:Od,typed:Of}),Zh=pu({add:Mh,compare:dh,multiply:Ch,partitionSelect:qh,typed:Of}),Kh=yu({BigNumber:uf,Complex:nf,config:Q,multiplyScalar:Vf,pow:jh,typed:Of}),Jh=bu({BigNumber:uf,typed:Of}),Qh=xu({equalScalar:Rf,matrix:Wd,typed:Of}),ep=_u({DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of}),tp=wu({matrix:Wd,multiplyScalar:Vf,typed:Of}),np=ku({matrix:Wd,typed:Of}),rp=Mu({bignumber:Jh,fraction:Md,number:Lf}),ip=Tu({equalScalar:Rf,matrix:Wd,not:Zf,typed:Of,zeros:sh}),op=Su({DenseMatrix:Ef,config:Q,matrix:Wd,typed:Of}),ap=Eu({compare:dh,compareNatural:Bh,matrix:Wd,typed:Of}),sp=Au({BigNumber:uf,typed:Of}),lp=Ou({add:Mh,multiply:Ch,typed:Of}),up=tr({bignumber:Jh,fraction:Md,add:Mh,config:Q,typed:Of}),cp=Cu({gamma:Kh,typed:Of}),fp=Nu({factorial:cp,typed:Of}),dp=Pu({config:Q,round:uh,typed:Of}),hp=Ru({DenseMatrix:Ef,addScalar:Sd,equalScalar:Rf,matrix:Wd,typed:Of,unaryMinus:Td}),pp=Iu({matrix:Wd,multiply:Ch,subtract:hp,typed:Of}),mp=ju({conj:Cd,transpose:np,typed:Of}),gp=zu({DenseMatrix:Ef,equalScalar:Rf,matrix:Wd,typed:Of}),vp=Fu({ImmutableDenseMatrix:yh}),yp=Bu({DenseMatrix:Ef,Index:vp,compareNatural:Bh,size:oh,subset:ah,typed:Of}),bp=Uu({DenseMatrix:Ef,Index:vp,compareNatural:Bh,size:oh,subset:ah,typed:Of}),xp=Hu({Index:vp,compareNatural:Bh,size:oh,subset:ah,typed:Of}),_p=qu({Index:vp,compareNatural:Bh,size:oh,subset:ah,typed:Of}),wp=Vu({Index:vp,typed:Of}),kp=Wu({Complex:nf,ceil:dp,floor:Oh,typed:Of}),Mp=Qn({bignumber:Jh,matrix:Wd,config:Q,larger:mh,largerEq:Hh,smaller:ph,smallerEq:op,typed:Of}),Tp=Yu({numeric:rp,typed:Of}),Sp=Gu({Complex:nf,config:Q,divideScalar:Tp,typed:Of}),Ep=$u({DenseMatrix:Ef,divideScalar:Tp,equalScalar:Rf,matrix:Wd,multiplyScalar:Vf,subtract:hp,typed:Of}),Ap=Zu({equal:gp,typed:Of}),Op=Ku({DenseMatrix:Ef,Index:vp,compareNatural:Bh,size:oh,subset:ah,typed:Of}),Cp=Ju({Index:vp,compareNatural:Bh,size:oh,subset:ah,typed:Of}),Np=Qu({abs:Ah,addScalar:Sd,divideScalar:Tp,isPositive:Df,multiplyScalar:Vf,smaller:ph,sqrt:Od,typed:Of}),Dp=ec({DenseMatrix:Ef,Spa:Wh,SparseMatrix:Vd,abs:Ah,addScalar:Sd,divideScalar:Tp,equalScalar:Rf,larger:mh,matrix:Wd,multiplyScalar:Vf,subtract:hp,typed:Of,unaryMinus:Td}),Pp=hc({SparseMatrix:Vd,abs:Ah,add:Mh,divideScalar:Tp,larger:mh,largerEq:Hh,multiply:Ch,subtract:hp,transpose:np,typed:Of}),Rp=pc({lup:Dp,matrix:Wd,multiply:Ch,subtract:hp,typed:Of,unaryMinus:Td}),Lp=mc({abs:Ah,addScalar:Sd,divideScalar:Tp,multiplyScalar:Vf,sqrt:Od,subtract:hp,typed:Of,unaryMinus:Td}),Ip=gc({addScalar:Sd,combinations:gd,divideScalar:Tp,factorial:cp,isInteger:Cf,isNegative:qd,larger:mh,multiplyScalar:Vf,pow:jh,subtract:hp,typed:Of}),jp=vc({addScalar:Sd,combinations:gd,divideScalar:Tp,isInteger:Cf,isNegative:qd,multiplyScalar:Vf,typed:Of}),zp=yc({DenseMatrix:Ef,matrix:Wd,typed:Of}),Fp=or({Index:vp,matrix:Wd,range:Mp,typed:Of}),Bp=bc({DenseMatrix:Ef,divideScalar:Tp,equalScalar:Rf,matrix:Wd,typed:Of}),Up=wc({BigNumber:uf,Complex:nf,Fraction:kf,abs:Ah,addScalar:Sd,config:Q,divideScalar:Tp,equal:gp,fix:kp,format:td,isNumeric:Nf,multiplyScalar:Vf,number:Lf,pow:jh,round:uh,subtract:hp}),Hp=kc({Unit:Up,typed:Of}),qp=Mc({Index:vp,concat:eh,setDifference:Op,size:oh,subset:ah,typed:Of}),Vp=Tc({addScalar:Sd,conj:Cd,divideScalar:Tp,identity:nh,isZero:Eh,matrix:Wd,multiplyScalar:Vf,sign:Wf,sqrt:Od,subtract:hp,typed:Of,unaryMinus:Td,unequal:gh,zeros:sh}),Wp=Sc({abs:Ah,addScalar:Sd,det:Rp,divideScalar:Tp,identity:nh,matrix:Wd,multiply:Ch,typed:Of,unaryMinus:Td}),Yp=Ec({abs:Ah,add:Mh,identity:nh,inv:Wp,max:vh,multiply:Ch,size:oh,sqrt:Od,subtract:hp,typed:Of}),Gp=Ac({abs:Ah,add:Mh,addScalar:Sd,config:Q,divideScalar:Tp,equalScalar:Rf,matrix:Wd,multiply:Ch,multiplyScalar:Vf,smaller:ph,subtract:hp,typed:Of}),Xp=Oc({addScalar:Sd,isInteger:Cf,isNegative:qd,stirlingS2:Ip,typed:Of}),$p=Ti({BigNumber:uf,Unit:Up,config:Q}),Zp=oi({BigNumber:uf,Unit:Up,config:Q}),Kp=Ei({BigNumber:uf,Unit:Up,config:Q}),Jp=ai({BigNumber:uf,Unit:Up,config:Q}),Qp=yi({BigNumber:uf,Unit:Up,config:Q}),em=hi({BigNumber:uf,Unit:Up,config:Q}),tm=Ai({BigNumber:uf,Unit:Up,config:Q}),nm=Oi({BigNumber:uf,Unit:Up,config:Q}),rm=Kr({BigNumber:uf,Unit:Up,config:Q}),im=gi({BigNumber:uf,Unit:Up,config:Q}),om=ci({BigNumber:uf,Unit:Up,config:Q}),am=ei({BigNumber:uf,Unit:Up,config:Q}),sm=zi({BigNumber:uf,Unit:Up,config:Q}),lm=Di({BigNumber:uf,Unit:Up,config:Q}),um=bi({BigNumber:uf,Unit:Up,config:Q}),cm=Vi({BigNumber:uf,Unit:Up,config:Q}),fm=Ui({BigNumber:uf,Unit:Up,config:Q}),dm=Wi({BigNumber:uf,Unit:Up,config:Q}),hm=vi({BigNumber:uf,Unit:Up,config:Q}),pm=Qr({BigNumber:uf,Unit:Up,config:Q}),mm=Li({BigNumber:uf,Unit:Up,config:Q}),gm=Ii({BigNumber:uf,Unit:Up,config:Q}),vm=ni({BigNumber:uf,Unit:Up,config:Q}),ym=rr({Index:vp,matrix:Wd,range:Mp,typed:Of}),bm=Cc({DenseMatrix:Ef,divideScalar:Tp,equalScalar:Rf,matrix:Wd,multiplyScalar:Vf,subtract:hp,typed:Of}),xm=Nc({DenseMatrix:Ef,Index:vp,compareNatural:Bh,size:oh,subset:ah,typed:Of}),_m=Rc({DenseMatrix:Ef,lsolve:Ep,lup:Dp,matrix:Wd,slu:Pp,typed:Of,usolve:bm}),wm=Ic({abs:Ah,add:Mh,identity:nh,inv:Wp,multiply:Ch,typed:Of}),km=Si({BigNumber:uf,Unit:Up,config:Q}),Mm=di({BigNumber:uf,Unit:Up,config:Q}),Tm=ti({BigNumber:uf,Unit:Up,config:Q}),Sm=pi({BigNumber:uf,Unit:Up,config:Q}),Em=Bi({BigNumber:uf,Unit:Up,config:Q}),Am=Ci({BigNumber:uf,Unit:Up,config:Q}),Om=Fi({BigNumber:uf,Unit:Up,config:Q}),Cm=ui({BigNumber:uf,Unit:Up,config:Q}),Nm=Hi({BigNumber:uf,Unit:Up,config:Q}),Dm=xi({BigNumber:uf,Unit:Up,config:Q}),Pm=Zr({BigNumber:uf,Unit:Up,config:Q}),Rm=ji({BigNumber:uf,Unit:Up,config:Q}),Lm=zc({Complex:nf,config:Q,divideScalar:Tp,typed:Of}),Im=Bc({Unit:Up,typed:Of}),jm=Hc({divideScalar:Tp,equalScalar:Rf,inv:Wp,matrix:Wd,multiply:Ch,typed:Of}),zm=Vc({add:Mh,compare:dh,divide:jm,partitionSelect:qh,typed:Of}),Fm=fr({add:Mh,apply:Bf,divide:jm,isNaN:Pf,multiply:Ch,subtract:hp,typed:Of}),Bm=sr({sqrt:Od,typed:Of,variance:Fm}),Um=Yc({add:Mh,divide:jm,factorial:cp,isInteger:Cf,isPositive:Df,multiply:Ch,typed:Of}),Hm=fi({BigNumber:uf,Unit:Up,config:Q}),qm=ii({BigNumber:uf,Unit:Up,config:Q}),Vm=si({BigNumber:uf,Unit:Up,config:Q}),Wm=Pi({BigNumber:uf,Unit:Up,config:Q}),Ym=qi({BigNumber:uf,Unit:Up,config:Q}),Gm=wi({BigNumber:uf,Unit:Up,config:Q}),Xm=Xc({Complex:nf,config:Q,divideScalar:Tp,log:Lm,typed:Of}),$m=ur({add:Mh,divide:jm,typed:Of}),Zm=Ni({BigNumber:uf,Unit:Up,config:Q}),Km=Jr({BigNumber:uf,Unit:Up,config:Q}),Jm=Zc({Index:vp,concat:eh,setIntersect:xm,setSymDifference:qp,size:oh,subset:ah,typed:Of}),Qm=Jc({divide:jm,dotDivide:Bp,isNumeric:Nf,log:Lm,matrix:Wd,multiply:Ch,sum:up,typed:Of}),eg=ri({BigNumber:uf,Unit:Up,config:Q}),tg=_i({BigNumber:uf,Unit:Up,config:Q}),ng=ef({abs:Ah,map:Qf,median:zm,subtract:hp,typed:Of}),rg=li({BigNumber:uf,Unit:Up,config:Q});function ig(){return(ig=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return Lg}));var og={},ag={},sg={},lg=Qe({mathWithTransform:ag}),ug=et({Node:lg}),cg=tt({Node:lg,ResultSet:tf}),fg=ct({Node:lg}),dg=xt({Node:lg}),hg=_t({Node:lg}),pg=St({Node:lg}),mg=Et({math:og}),gg=At({classes:sg}),vg=Ot({Node:lg}),yg=Ct({Node:lg}),bg=Nt({Node:lg}),xg=Dt({Node:lg,typed:Of}),_g=Pt({Chain:mg,typed:Of}),wg=jt({Node:lg,subset:ah}),kg=Ft({matrix:Wd,Node:lg,subset:ah}),Mg=Ht({Index:vp,Node:lg,Range:rf,size:oh}),Tg=qt({Unit:Up,Node:lg,math:og}),Sg=Yt({Node:lg,SymbolNode:Tg,math:og}),Eg=en({AccessorNode:wg,ArrayNode:ug,AssignmentNode:kg,BlockNode:cg,ConditionalNode:vg,ConstantNode:fg,FunctionAssignmentNode:xg,FunctionNode:Sg,IndexNode:Mg,ObjectNode:dg,OperatorNode:yg,ParenthesisNode:hg,RangeNode:bg,RelationalNode:pg,SymbolNode:Tg,config:Q,numeric:rp,typed:Of}),Ag=tn({parse:Eg,typed:Of}),Og=nn({parse:Eg}),Cg=rn({parse:Eg}),Ng=pn({bignumber:Jh,fraction:Md,ConstantNode:fg,FunctionNode:Sg,OperatorNode:yg,ParenthesisNode:hg,SymbolNode:Tg,add:Mh,config:Q,divide:jm,equal:gp,isZero:Eh,mathWithTransform:ag,multiply:Ch,parse:Eg,pow:jh,subtract:hp,typed:Of}),Dg=gn({bignumber:Jh,fraction:Md,ConstantNode:fg,FunctionNode:Sg,OperatorNode:yg,ParenthesisNode:hg,SymbolNode:Tg,add:Mh,config:Q,divide:jm,equal:gp,isZero:Eh,mathWithTransform:ag,multiply:Ch,parse:Eg,pow:jh,simplify:Ng,subtract:hp,typed:Of}),Pg=kn({Help:Cg,mathWithTransform:ag,typed:Of}),Rg=Mn({parse:Eg,typed:Of}),Lg=Tn({Parser:Og,typed:Of}),Ig=Sn({ConstantNode:fg,FunctionNode:Sg,OperatorNode:yg,ParenthesisNode:hg,SymbolNode:Tg,config:Q,equal:gp,isZero:Eh,numeric:rp,parse:Eg,simplify:Ng,typed:Of});ig(og,{typeof:wd,eye:of,reviver:gg,false:af,null:sf,true:lf,e:ff,i:df,LN10:hf,LOG10E:pf,NaN:mf,pi:gf,SQRT1_2:vf,tau:yf,efimovFactor:bf,fineStructure:xf,sackurTetrode:_f,weakMixingAngle:wf,E:ff,LN2:Mf,phi:Tf,SQRT2:Sf,Infinity:Af,PI:gf,typed:Of,isInteger:Cf,isNumeric:Nf,isPositive:Df,isNaN:Pf,equalScalar:Rf,number:Lf,boolean:If,complex:jf,splitUnit:zf,unaryPlus:Ff,apply:Bf,cube:Uf,expm1:Hf,log10:qf,multiplyScalar:Vf,sign:Wf,square:Yf,bitNot:Gf,arg:Xf,im:$f,not:Zf,filter:Kf,forEach:Jf,map:Qf,erf:ed,format:td,isPrime:nd,acos:rd,acot:id,acsc:od,asec:ad,asin:sd,atan:ld,atanh:ud,cosh:cd,coth:fd,csch:dd,sech:hd,sinh:pd,tanh:md,chain:_g,combinations:gd,pickRandom:vd,randomInt:yd,LOG2E:bd,clone:xd,hasNumericValue:_d,typeOf:wd,string:kd,fraction:Md,unaryMinus:Td,addScalar:Sd,exp:Ed,log2:Ad,sqrt:Od,conj:Cd,getMatrixDataType:Nd,mode:Dd,print:Pd,acosh:Rd,acsch:Ld,asinh:Id,cos:jd,csc:zd,sin:Fd,combinationsWithRep:Bd,random:Ud,version:Hd,isNegative:qd,matrix:Wd,cbrt:Yd,gcd:Gd,mod:Xd,nthRoot:$d,xgcd:Zd,bitAnd:Kd,bitXor:Jd,or:Qd,concat:eh,diag:th,identity:nh,ones:rh,reshape:ih,size:oh,subset:ah,zeros:sh,to:lh,round:uh,leftShift:ch,rightLogShift:fh,compare:dh,compareText:hh,smaller:ph,larger:mh,unequal:gh,max:vh,sparse:xh,acoth:_h,atan2:wh,sec:kh,add:Mh,trace:Th,composition:Sh,isZero:Eh,abs:Ah,floor:Oh,multiply:Ch,dotMultiply:Nh,re:Dh,flatten:Ph,resize:Rh,squeeze:Lh,prod:Ih,pow:jh,dotPow:zh,rightArithShift:Fh,compareNatural:Bh,equalText:Uh,largerEq:Hh,partitionSelect:qh,min:Vh,asech:Yh,tan:Gh,setSize:Xh,norm:$h,quantileSeq:Zh,gamma:Kh,bignumber:Jh,lcm:Qh,bitOr:ep,kron:tp,transpose:np,numeric:rp,and:ip,smallerEq:op,sort:ap,cot:sp,dot:lp,sum:up,factorial:cp,permutations:fp,ceil:dp,subtract:hp,cross:pp,ctranspose:mp,equal:gp,setCartesian:yp,setDistinct:bp,setIsSubset:xp,setPowerset:_p,index:wp,fix:kp,range:Mp,divideScalar:Tp,nthRoots:Sp,lsolve:Ep,deepEqual:Ap,setDifference:Op,setMultiplicity:Cp,hypot:Np,lup:Dp,slu:Pp,det:Rp,distance:Lp,stirlingS2:Ip,catalan:jp,xor:zp,row:Fp,dotDivide:Bp,createUnit:Hp,setSymDifference:qp,qr:Vp,inv:Wp,sqrtm:Yp,intersect:Gp,bellNumbers:Xp,atomicMass:$p,bohrMagneton:Zp,boltzmann:Kp,conductanceQuantum:Jp,deuteronMass:Qp,electronMass:em,faraday:tm,firstRadiation:nm,gravitationConstant:rm,hartreeEnergy:im,klitzing:om,magneticConstant:am,molarMass:sm,molarPlanckConstant:lm,neutronMass:um,planckCharge:cm,planckLength:fm,planckTemperature:dm,protonMass:hm,reducedPlanckConstant:pm,secondRadiation:mm,stefanBoltzmann:gm,vacuumImpedance:vm,column:ym,usolve:bm,setIntersect:xm,lusolve:_m,expm:wm,avogadro:km,classicalElectronRadius:Mm,electricConstant:Tm,fermiCoupling:Sm,gravity:Em,loschmidt:Am,molarMassC12:Om,nuclearMagneton:Cm,planckMass:Nm,quantumOfCirculation:Dm,speedOfLight:Pm,wienDisplacement:Rm,log:Lm,unit:Im,divide:jm,median:zm,variance:Fm,std:Bm,multinomial:Um,bohrRadius:Hm,elementaryCharge:qm,inverseConductanceQuantum:Vm,molarVolume:Wm,planckTime:Ym,thomsonCrossSection:Gm,log1p:Xm,parse:Eg,evaluate:Ag,mean:$m,var:Fm,simplify:Ng,rationalize:Dg,gasConstant:Zm,planckConstant:Km,setUnion:Jm,eval:Ag,help:Pg,kldivergence:Qm,coulomb:eg,rydberg:tg,compile:Rg,mad:ng,magneticFluxQuantum:rg,parser:Lg,derivative:Ig,config:Q}),ig(ag,og,{apply:On({isInteger:Cf,typed:Of}),filter:Rn({typed:Of}),map:In({typed:Of}),forEach:zn({typed:Of}),max:Un({larger:mh,typed:Of}),min:qn({smaller:ph,typed:Of}),subset:$n({matrix:Wd,typed:Of}),concat:Jn({isInteger:Cf,matrix:Wd,typed:Of}),range:er({bignumber:Jh,matrix:Wd,config:Q,larger:mh,largerEq:Hh,smaller:ph,smallerEq:op,typed:Of}),sum:nr({bignumber:Jh,fraction:Md,add:Mh,config:Q,typed:Of}),index:Bt({Index:vp}),column:ir({Index:vp,matrix:Wd,range:Mp,typed:Of}),row:ar({Index:vp,matrix:Wd,range:Mp,typed:Of}),std:lr({sqrt:Od,typed:Of,variance:Fm}),mean:cr({add:Mh,divide:jm,typed:Of}),variance:dr({add:Mh,apply:Bf,divide:jm,isNaN:Pf,multiply:Ch,subtract:hp,typed:Of})}),ig(sg,{ResultSet:tf,Complex:nf,Range:rf,Node:lg,ArrayNode:ug,BlockNode:cg,ConstantNode:fg,ObjectNode:dg,ParenthesisNode:hg,RelationalNode:pg,Chain:mg,BigNumber:uf,Matrix:cf,ConditionalNode:vg,OperatorNode:yg,Fraction:kf,RangeNode:bg,DenseMatrix:Ef,FunctionAssignmentNode:xg,SparseMatrix:Vd,ImmutableDenseMatrix:yh,FibonacciHeap:bh,AccessorNode:wg,Spa:Wh,AssignmentNode:kg,Index:vp,Unit:Up,IndexNode:Mg,SymbolNode:Tg,FunctionNode:Sg,Parser:Og,Help:Cg}),mg.createProxy(og)},4985:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(0),a=n.n(o),s=n(9),l=n.n(s),u=(n(4),n(3)),c=n(4990),f=n(6),d=a.a.forwardRef((function(e,t){var n=e.disableUnderline,o=e.classes,s=e.fullWidth,l=void 0!==s&&s,f=e.inputComponent,d=void 0===f?"input":f,h=e.multiline,p=void 0!==h&&h,m=e.type,g=void 0===m?"text":m,v=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.a.createElement(c.a,Object(r.a)({classes:Object(r.a)({},o,{root:Object(u.a)(o.root,!n&&o.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:p,ref:t,type:g},v))}));d.muiName="Input";var h=Object(f.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary[t?"dark":"light"]),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(d),p=a.a.forwardRef((function(e,t){var n=e.disableUnderline,o=e.classes,s=e.fullWidth,l=void 0!==s&&s,f=e.inputComponent,d=void 0===f?"input":f,h=e.multiline,p=void 0!==h&&h,m=e.type,g=void 0===m?"text":m,v=Object(i.a)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return a.a.createElement(c.a,Object(r.a)({classes:Object(r.a)({},o,{root:Object(u.a)(o.root,!n&&o.underline),underline:null}),fullWidth:l,inputComponent:d,multiline:p,ref:t,type:g},v))}));p.muiName="Input";var m=Object(f.a)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary[t?"dark":"light"]),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px"},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputSelect:{paddingRight:24},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(p),g=n(8),v=n(38),y=n(7),b=a.a.forwardRef((function(e,t){e.children;var n=e.classes,o=e.className,s=e.labelWidth,l=e.notched,c=e.style,f=Object(i.a)(e,["children","classes","className","labelWidth","notched","style"]),d="rtl"===Object(v.a)().direction?"right":"left",h=s>0?.75*s+8:0;return a.a.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(g.a)({},"padding".concat(Object(y.a)(d)),8+(l?0:h/2)),c),className:Object(u.a)(n.root,o),ref:t},f),a.a.createElement("legend",{className:n.legend,style:{width:l?h:.01}},a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),x=Object(f.a)((function(e){var t="rtl"===e.direction?"right":"left";return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:0,pointerEvents:"none",borderRadius:e.shape.borderRadius,borderStyle:"solid",borderWidth:1,transition:e.transitions.create(["padding-".concat(t),"border-color","border-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}}}),{name:"PrivateNotchedOutline"})(b),_=a.a.forwardRef((function(e,t){var n=e.classes,o=e.fullWidth,s=void 0!==o&&o,l=e.inputComponent,f=void 0===l?"input":l,d=e.labelWidth,h=void 0===d?0:d,p=e.multiline,m=void 0!==p&&p,g=e.notched,v=e.type,y=void 0===v?"text":v,b=Object(i.a)(e,["classes","fullWidth","inputComponent","labelWidth","multiline","notched","type"]);return a.a.createElement(c.a,Object(r.a)({renderSuffix:function(e){return a.a.createElement(x,{className:n.notchedOutline,labelWidth:h,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)})},classes:Object(r.a)({},n,{root:Object(u.a)(n.root,n.underline),notchedOutline:null}),fullWidth:s,inputComponent:f,multiline:m,ref:t,type:y},b))}));_.muiName="Input";var w=Object(f.a)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative","&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px"},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputSelect:{paddingRight:24},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(_),k=n(24),M=n(47);function T(){return a.a.useContext(M.a)}var S=a.a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,l=e.component,c=void 0===l?"label":l,f=(e.disabled,e.error,e.filled,e.focused,e.required,Object(i.a)(e,["children","classes","className","component","disabled","error","filled","focused","required"])),d=T(),h=Object(k.a)({props:e,muiFormControl:d,states:["required","focused","disabled","error","filled"]});return a.a.createElement(c,Object(r.a)({className:Object(u.a)(o.root,s,h.disabled&&o.disabled,h.error&&o.error,h.filled&&o.filled,h.focused&&o.focused,h.required&&o.required),ref:t},f),n,h.required&&a.a.createElement("span",{className:Object(u.a)(o.asterisk,h.error&&o.error)},"\u2009","*"))})),E=Object(f.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary["light"===e.palette.type?"dark":"light"]},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(S),A=a.a.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.disableAnimation,l=void 0!==s&&s,c=(e.margin,e.shrink),f=(e.variant,Object(i.a)(e,["classes","className","disableAnimation","margin","shrink","variant"])),d=T(),h=c;"undefined"===typeof h&&d&&(h=d.filled||d.focused||d.adornedStart);var p=Object(k.a)({props:e,muiFormControl:d,states:["margin","variant"]});return a.a.createElement(E,Object(r.a)({"data-shrink":h,className:Object(u.a)(n.root,o,d&&n.formControl,!l&&n.animated,h&&n.shrink,{dense:n.marginDense}[p.margin],{filled:n.filled,outlined:n.outlined}[p.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},f))})),O=Object(f.a)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(A),C=n(48);function N(e,t){return a.a.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}var D=a.a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,l=e.component,c=void 0===l?"div":l,f=e.disabled,d=void 0!==f&&f,h=e.error,p=void 0!==h&&h,m=e.fullWidth,g=void 0!==m&&m,v=e.hiddenLabel,b=void 0!==v&&v,x=e.margin,_=void 0===x?"none":x,w=e.required,k=void 0!==w&&w,T=e.variant,S=void 0===T?"standard":T,E=Object(i.a)(e,["children","classes","className","component","disabled","error","fullWidth","hiddenLabel","margin","required","variant"]),A=a.a.useState((function(){var e=!1;return n&&a.a.Children.forEach(n,(function(t){if(N(t,["Input","Select"])){var n=N(t,["Select"])?t.props.input:t;n&&Object(C.a)(n.props)&&(e=!0)}})),e}))[0],O=a.a.useState((function(){var e=!1;return n&&a.a.Children.forEach(n,(function(t){N(t,["Input","Select"])&&Object(C.b)(t.props,!0)&&(e=!0)})),e})),D=O[0],P=O[1],R=a.a.useState(!1),L=R[0],I=R[1];d&&L&&I(!1);var j=a.a.useCallback((function(){P(!0)}),[]),z={adornedStart:A,disabled:d,error:p,filled:D,focused:L,hiddenLabel:b,margin:_,onBlur:function(){I(!1)},onEmpty:a.a.useCallback((function(){P(!1)}),[]),onFilled:j,onFocus:function(){I(!0)},registerEffect:void 0,required:k,variant:S};return a.a.createElement(M.a.Provider,{value:z},a.a.createElement(c,Object(r.a)({className:Object(u.a)(o.root,s,"none"!==_&&o["margin".concat(Object(y.a)(_))],g&&o.fullWidth),ref:t},E),n))})),P=Object(f.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(D),R=a.a.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.component,l=void 0===s?"p":s,c=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(i.a)(e,["classes","className","component","disabled","error","filled","focused","margin","required","variant"])),f=T(),d=Object(k.a)({props:e,muiFormControl:f,states:["variant","margin","disabled","error","filled","focused","required"]});return a.a.createElement(l,Object(r.a)({className:Object(u.a)(n.root,("filled"===d.variant||"outlined"===d.variant)&&n.contained,o,d.disabled&&n.disabled,d.error&&n.error,d.filled&&n.filled,d.focused&&n.focused,d.required&&n.required,{dense:n.marginDense}[d.margin]),ref:t},c))})),L=Object(f.a)((function(e){return{root:Object(r.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:8,lineHeight:"1em",minHeight:"1em",margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{margin:"8px 14px 0"},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(R),I=n(4977),j=n(31),z=n(46),F=n(86),B=n(16);var U=function(e){return Object(B.a)(e).defaultView||window},H=n(41),q=n(4948),V=n(4978),W=n(33),Y=n(10);var G="undefined"!==typeof window?a.a.useLayoutEffect:a.a.useEffect;var X=a.a.forwardRef((function(e,t){var n=e.children,r=e.container,i=e.disablePortal,o=void 0!==i&&i,s=e.onRendered,u=a.a.useState(null),c=u[0],f=u[1],d=Object(Y.a)(n.ref,t);return G((function(){o||f(function(e){return e="function"===typeof e?e():e,l.a.findDOMNode(e)}(r)||document.body)}),[r,o]),G((function(){if(c&&!o)return Object(W.a)(t,c),function(){Object(W.a)(t,null)}}),[t,c,o]),G((function(){s&&(c||o)&&s()}),[s,c,o]),o?(a.a.Children.only(n),a.a.cloneElement(n,{ref:d})):c?l.a.createPortal(n,c):c})),$=n(26),Z=n(85),K=n(20),J=n(13);var Q=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};function ee(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function te(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}var ne=["template","script","style"];function re(e,t,n,r,i){var o=[t,n].concat(Object(j.a)(r));[].forEach.call(e.children,(function(e){-1===o.indexOf(e)&&function(e){return 1===e.nodeType&&-1===ne.indexOf(e.tagName.toLowerCase())}(e)&&i(e)}))}function ie(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0;re(e,t,n,r,(function(e){return ee(e,i)}))}function oe(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function ae(e,t){var n,r={},i={},o=[];if(!t.disableScrollLock&&(r.overflow=e.container.style.overflow,r["padding-right"]=e.container.style.paddingRight,i.overflow="hidden",function(e){var t=Object(B.a)(e);return t.body===e?U(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(e.container))){var a=Q();i["padding-right"]="".concat(te(e.container)+a,"px"),n=Object(B.a)(e.container).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){o.push(e.style.paddingRight),e.style.paddingRight="".concat(te(e)+a,"px")}))}Object.keys(i).forEach((function(t){e.container.style[t]=i[t]}));return function(){n&&[].forEach.call(n,(function(e,t){o[t]?e.style.paddingRight=o[t]:e.style.removeProperty("padding-right")})),Object.keys(r).forEach((function(t){r[t]?e.container.style.setProperty(t,r[t]):e.container.style.removeProperty(t)}))}}var se=function(){function e(){Object(K.a)(this,e),this.modals=[],this.containers=[]}return Object(J.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&ee(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);ie(t,e.mountNode,e.modalRef,r,!0);var i=oe(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=oe(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=ae(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=oe(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&ee(e.modalRef,!0),ie(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&ee(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}();var le=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,o=void 0!==i&&i,s=e.disableRestoreFocus,u=void 0!==s&&s,c=e.getDoc,f=e.isEnabled,d=e.open,h=a.a.useRef(),p=a.a.useRef(null),m=a.a.useRef(null),g=a.a.useRef(),v=a.a.useRef(null),y=a.a.useCallback((function(e){v.current=l.a.findDOMNode(e)}),[]),b=Object(Y.a)(t.ref,y);return a.a.useMemo((function(){d&&"undefined"!==typeof window&&(g.current=c().activeElement)}),[d]),a.a.useEffect((function(){if(d){var e=Object(B.a)(v.current);r||!v.current||v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var t=function(){o||!f()||h.current?h.current=!1:v.current&&!v.current.contains(e.activeElement)&&v.current.focus()},n=function(t){!o&&f()&&9===t.keyCode&&e.activeElement===v.current&&(h.current=!0,t.shiftKey?m.current.focus():p.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(g.current&&g.current.focus&&g.current.focus(),g.current=null)}}}),[r,o,u,f,d]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),a.a.cloneElement(t,{ref:b}),a.a.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))},ue={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",touchAction:"none"},invisible:{backgroundColor:"transparent"}},ce=a.a.forwardRef((function(e,t){var n=e.invisible,o=void 0!==n&&n,s=e.open,l=Object(i.a)(e,["invisible","open"]);return s?a.a.createElement("div",Object(r.a)({"aria-hidden":!0,ref:t},l,{style:Object(r.a)({},ue.root,{},o?ue.invisible:{},{},l.style)})):null}));var fe=new se,de=a.a.forwardRef((function(e,t){var n=Object(q.a)(),o=Object(V.a)({name:"MuiModal",props:Object(r.a)({},e),theme:n}),s=o.BackdropComponent,u=void 0===s?ce:s,c=o.BackdropProps,f=o.children,d=o.closeAfterTransition,h=void 0!==d&&d,p=o.container,m=o.disableAutoFocus,g=void 0!==m&&m,v=o.disableBackdropClick,y=void 0!==v&&v,b=o.disableEnforceFocus,x=void 0!==b&&b,_=o.disableEscapeKeyDown,w=void 0!==_&&_,k=o.disablePortal,M=void 0!==k&&k,T=o.disableRestoreFocus,S=void 0!==T&&T,E=o.disableScrollLock,A=void 0!==E&&E,O=o.hideBackdrop,C=void 0!==O&&O,N=o.keepMounted,D=void 0!==N&&N,P=o.manager,R=void 0===P?fe:P,L=o.onBackdropClick,I=o.onClose,j=o.onEscapeKeyDown,z=o.onRendered,F=o.open,U=Object(i.a)(o,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),W=a.a.useState(!0),G=W[0],K=W[1],J=a.a.useRef({}),Q=a.a.useRef(null),te=a.a.useRef(null),ne=Object(Y.a)(te,t),re=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(o),ie=function(){return Object(B.a)(Q.current)},oe=function(){return J.current.modalRef=te.current,J.current.mountNode=Q.current,J.current},ae=function(){R.mount(oe(),{disableScrollLock:A}),te.current.scrollTop=0},se=Object($.a)((function(){var e=function(e){return e="function"===typeof e?e():e,l.a.findDOMNode(e)}(p)||ie().body;R.add(oe(),e),te.current&&ae()})),ue=a.a.useCallback((function(){return R.isTopModal(oe())}),[R]),de=Object($.a)((function(e){Q.current=e,e&&(z&&z(),F&&ue()?ae():ee(te.current,!0))})),he=a.a.useCallback((function(){R.remove(oe())}),[R]);if(a.a.useEffect((function(){return function(){he()}}),[he]),a.a.useEffect((function(){F?se():re&&h||he()}),[F,he,re,h,se]),!D&&!F&&(!re||G))return null;var pe=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:Z.a}),me={};return void 0===f.tabIndex&&(me.tabIndex=f.tabIndex||"-1"),re&&(me.onEnter=Object(H.a)((function(){K(!1)}),f.props.onEnter),me.onExited=Object(H.a)((function(){K(!0),h&&he()}),f.props.onExited)),a.a.createElement(X,{ref:de,container:p,disablePortal:M},a.a.createElement("div",Object(r.a)({ref:ne,onKeyDown:function(e){"Escape"===e.key&&ue()&&(e.stopPropagation(),j&&j(e),!w&&I&&I(e,"escapeKeyDown"))},role:"presentation"},U,{style:Object(r.a)({},pe.root,{},!F&&G?pe.hidden:{},{},U.style)}),C?null:a.a.createElement(u,Object(r.a)({open:F,onClick:function(e){e.target===e.currentTarget&&(L&&L(e),!y&&I&&I(e,"backdropClick"))}},c)),a.a.createElement(le,{disableEnforceFocus:x,disableAutoFocus:g,disableRestoreFocus:S,getDoc:ie,isEnabled:ue,open:F},a.a.cloneElement(f,me))))})),he=n(4987),pe=n(4946);function me(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function ge(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function ve(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function ye(e){return"function"===typeof e?e():e}var be=a.a.forwardRef((function(e,t){var n=e.action,o=e.anchorEl,s=e.anchorOrigin,c=void 0===s?{vertical:"top",horizontal:"left"}:s,f=e.anchorPosition,d=e.anchorReference,h=void 0===d?"anchorEl":d,p=e.children,m=e.classes,g=e.className,v=e.container,y=e.elevation,b=void 0===y?8:y,x=e.getContentAnchorEl,_=e.marginThreshold,w=void 0===_?16:_,k=e.onEnter,M=e.onEntered,T=e.onEntering,S=e.onExit,E=e.onExited,A=e.onExiting,O=e.open,C=e.PaperProps,N=void 0===C?{}:C,D=e.transformOrigin,P=void 0===D?{vertical:"top",horizontal:"left"}:D,R=e.TransitionComponent,L=void 0===R?he.a:R,I=e.transitionDuration,j=void 0===I?"auto":I,z=e.TransitionProps,q=void 0===z?{}:z,V=Object(i.a)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),W=a.a.useRef(),Y=a.a.useCallback((function(e){if("anchorPosition"===h)return f;var t=ye(o),n=(t instanceof U(t).Element?t:Object(B.a)(W.current).body).getBoundingClientRect(),r=0===e?c.vertical:"center";return{top:n.top+me(n,r),left:n.left+ge(n,c.horizontal)}}),[o,c.horizontal,c.vertical,f,h]),G=a.a.useCallback((function(e){var t=0;if(x&&"anchorEl"===h){var n=x(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentNode).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[c.vertical,h,x]),X=a.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:me(e,P.vertical)+t,horizontal:ge(e,P.horizontal)}}),[P.horizontal,P.vertical]),$=a.a.useCallback((function(e){var t=G(e),n={width:e.offsetWidth,height:e.offsetHeight},r=X(n,t);if("none"===h)return{top:null,left:null,transformOrigin:ve(r)};var i=Y(t),a=i.top-r.vertical,s=i.left-r.horizontal,l=a+n.height,u=s+n.width,c=U(ye(o)),f=c.innerHeight-w,d=c.innerWidth-w;if(a<w){var p=a-w;a-=p,r.vertical+=p}else if(l>f){var m=l-f;a-=m,r.vertical+=m}if(s<w){var g=s-w;s-=g,r.horizontal+=g}else if(u>d){var v=u-d;s-=v,r.horizontal+=v}return{top:"".concat(a,"px"),left:"".concat(s,"px"),transformOrigin:ve(r)}}),[o,h,Y,G,X,w]),Z=a.a.useCallback((function(e){var t=$(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}),[$]),K=a.a.useCallback((function(e){W.current=l.a.findDOMNode(e)}),[]),J=a.a.useMemo((function(){if(O)return Object(F.a)((function(){Z(W.current)}))}),[O,Z]);a.a.useImperativeHandle(n,(function(){return O?{updatePosition:J}:null}),[O,J]),a.a.useEffect((function(){if(J)return window.addEventListener("resize",J),function(){window.removeEventListener("resize",J),J.clear()}}),[J]);var Q=j;"auto"!==j||L.muiSupportAuto||(Q=void 0);var ee=v||(o?Object(B.a)(ye(o)).body:void 0);return a.a.createElement(de,Object(r.a)({container:ee,open:O,ref:t,BackdropProps:{invisible:!0},className:Object(u.a)(m.root,g)},V),a.a.createElement(L,Object(r.a)({appear:!0,in:O,onEnter:k,onEntered:M,onExit:S,onExited:E,onExiting:A,timeout:Q},q,{onEntering:Object(H.a)((function(e,t){T&&T(e,t),Z(e)}),q.onEntering)}),a.a.createElement(pe.a,Object(r.a)({elevation:b,ref:K},N,{className:Object(u.a)(m.paper,N.className)}),p)))})),xe=Object(f.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(be),_e=a.a.createContext({}),we=a.a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.className,l=e.component,c=void 0===l?"ul":l,f=e.dense,d=void 0!==f&&f,h=e.disablePadding,p=void 0!==h&&h,m=e.subheader,g=Object(i.a)(e,["children","classes","className","component","dense","disablePadding","subheader"]),v=a.a.useMemo((function(){return{dense:d}}),[d]);return a.a.createElement(_e.Provider,{value:v},a.a.createElement(c,Object(r.a)({className:Object(u.a)(o.root,s,d&&o.dense,!p&&o.padding,m&&o.subheader),ref:t},g),m,n))})),ke=Object(f.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(we);function Me(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Te(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Se(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),void 0!==n&&(0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join(""))))}function Ee(e,t,n,r,i){for(var o=!1,a=r(e,t,!!t&&n);a;){if(a===e.firstChild){if(o)return!1;o=!0}if(a.hasAttribute("tabindex")&&!a.disabled&&"true"!==a.getAttribute("aria-disabled")&&Se(a,i))return a.focus(),!0;a=r(e,a,n)}return!1}var Ae="undefined"===typeof window?a.a.useEffect:a.a.useLayoutEffect,Oe=a.a.forwardRef((function(e,t){var n=e.actions,o=e.autoFocus,s=void 0!==o&&o,u=e.autoFocusItem,c=void 0!==u&&u,f=e.children,d=e.className,h=e.onKeyDown,p=e.disableListWrap,m=void 0!==p&&p,g=e.variant,v=void 0===g?"selectedMenu":g,y=Object(i.a)(e,["actions","autoFocus","autoFocusItem","children","className","onKeyDown","disableListWrap","variant"]),b=a.a.useRef(null),x=a.a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ae((function(){s&&b.current.focus()}),[s]),a.a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(Q(!0),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var _=a.a.useCallback((function(e){b.current=l.a.findDOMNode(e)}),[]),w=Object(Y.a)(_,t),k=-1;a.a.Children.forEach(f,(function(e,t){a.a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected?k=t:-1===k&&(k=t)))}));var M=a.a.Children.map(f,(function(e,t){if(t===k){var n={};if(c&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===v&&(n.tabIndex=0),null!==n)return a.a.cloneElement(e,n)}return e}));return a.a.createElement(ke,Object(r.a)({role:"menu",ref:w,className:d,onKeyDown:function(e){var t=b.current,n=e.key,r=Object(B.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Ee(t,r,m,Me);else if("ArrowUp"===n)e.preventDefault(),Ee(t,r,m,Te);else if("Home"===n)e.preventDefault(),Ee(t,null,m,Me);else if("End"===n)e.preventDefault(),Ee(t,null,m,Te);else if(1===n.length){var i=x.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&Se(r,i);i.previousKeyMatched&&(s||Ee(t,r,!1,Me,i))?e.preventDefault():i.previousKeyMatched=!1}h&&h(e)},tabIndex:s?0:-1},y),M)})),Ce={vertical:"top",horizontal:"right"},Ne={vertical:"top",horizontal:"left"},De=a.a.forwardRef((function(e,t){var n=e.autoFocus,o=void 0===n||n,s=e.children,c=e.classes,f=e.disableAutoFocusItem,d=void 0!==f&&f,h=e.MenuListProps,p=void 0===h?{}:h,m=e.onClose,g=e.onEntering,y=e.open,b=e.PaperProps,x=void 0===b?{}:b,_=e.PopoverClasses,w=e.transitionDuration,k=void 0===w?"auto":w,M=e.variant,T=void 0===M?"selectedMenu":M,S=Object(i.a)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),E=Object(v.a)(),A=o&&!d&&y,O=a.a.useRef(null),C=a.a.useRef(null),N=-1;a.a.Children.map(s,(function(e,t){a.a.isValidElement(e)&&(e.props.disabled||("menu"!==T&&e.props.selected?N=t:-1===N&&(N=t)))}));var D=a.a.Children.map(s,(function(e,t){return t===N?a.a.cloneElement(e,{ref:function(t){C.current=l.a.findDOMNode(t),Object(W.a)(e.ref,t)}}):e}));return a.a.createElement(xe,Object(r.a)({getContentAnchorEl:function(){return C.current},classes:_,onClose:m,onEntering:function(e,t){O.current&&O.current.adjustStyleForScrollbar(e,E),g&&g(e,t)},anchorOrigin:"rtl"===E.direction?Ce:Ne,transformOrigin:"rtl"===E.direction?Ce:Ne,PaperProps:Object(r.a)({},x,{classes:Object(r.a)({},x.classes,{root:c.paper})}),open:y,ref:t,transitionDuration:k},S),a.a.createElement(Oe,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:O,autoFocus:o&&(-1===N||d),autoFocusItem:A,variant:T},p,{className:Object(u.a)(c.list,p.className)}),D))})),Pe=Object(f.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(De);function Re(e,t){return"object"===Object(z.a)(t)&&null!==t?e===t:String(e)===String(t)}var Le=a.a.forwardRef((function(e,t){var n=e.autoFocus,o=e.autoWidth,s=e.children,l=e.classes,c=e.className,f=e.disabled,d=e.displayEmpty,h=e.IconComponent,p=e.inputRef,m=e.MenuProps,g=void 0===m?{}:m,v=e.multiple,b=e.name,x=e.onBlur,_=e.onChange,w=e.onClose,k=e.onFocus,M=e.onOpen,T=e.open,S=e.readOnly,E=e.renderValue,A=(e.required,e.SelectDisplayProps),O=e.tabIndex,N=(e.type,e.value),D=e.variant,P=void 0===D?"standard":D,R=Object(i.a)(e,["autoFocus","autoWidth","children","classes","className","disabled","displayEmpty","IconComponent","inputRef","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"]),L=a.a.useRef(null),I=a.a.useState(null),z=I[0],F=I[1],B=a.a.useRef(null!=T).current,U=a.a.useState(),H=U[0],q=U[1],V=a.a.useState(!1),W=V[0],G=V[1],X=Object(Y.a)(t,p);a.a.useImperativeHandle(X,(function(){return{focus:function(){z.focus()},node:L.current,value:N}}),[z,N]),a.a.useEffect((function(){n&&z&&z.focus()}),[n,z]);var $,Z,K=function(e,t){e?M&&M(t):(z.focus(),w&&w(t)),B||(q(o?null:z.clientWidth),G(e))},J=function(e){return function(t){if(v||K(!1,t),_){var n;if(v){n=Array.isArray(N)?Object(j.a)(N):[];var r=N.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;t.persist(),t.target={value:n,name:b},_(t,e)}}},Q=null!==z&&(B?T:W);delete R["aria-invalid"];var ee=[],te=!1;(Object(C.b)(e)||d)&&(E?$=E(N):te=!0);var ne=a.a.Children.map(s,(function(e){if(!a.a.isValidElement(e))return null;var t;if(v){if(!Array.isArray(N))throw new Error("Material-UI: the `value` prop must be an array when using the `Select` component with `multiple`.");(t=N.some((function(t){return Re(t,e.props.value)})))&&te&&ee.push(e.props.children)}else(t=Re(N,e.props.value))&&te&&(Z=e.props.children);return t&&!0,a.a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:J(e),role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&($=v?ee.join(", "):Z);var re,ie=H;return!o&&B&&z&&(ie=z.clientWidth),re="undefined"!==typeof O?O:f?null:0,a.a.createElement(a.a.Fragment,null,a.a.createElement("div",Object(r.a)({className:Object(u.a)(l.root,l.select,l.selectMenu,l[P],c,f&&l.disabled),ref:F,tabIndex:re,role:"button","aria-expanded":Q?"true":void 0,"aria-haspopup":"listbox","aria-owns":Q?"menu-".concat(b||""):void 0,onKeyDown:function(e){if(!S){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),K(!0,e))}},onClick:f||S?null:function(e){K(!0,e)},onBlur:function(e){!Q&&x&&(e.persist(),e.target={value:N,name:b},x(e))},onFocus:k,id:b?"select-".concat(b):void 0},A),function(e){return null==e||"string"===typeof e&&!e.trim()}($)?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):$),a.a.createElement("input",Object(r.a)({value:Array.isArray(N)?N.join(","):N,name:b,ref:L,type:"hidden",autoFocus:n},R)),a.a.createElement(h,{className:Object(u.a)(l.icon,l["icon".concat(Object(y.a)(P))])}),a.a.createElement(Pe,Object(r.a)({id:"menu-".concat(b||""),anchorEl:z,open:Q,onClose:function(e){K(!1,e)}},g,{MenuListProps:Object(r.a)({role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:Object(r.a)({},g.PaperProps,{style:Object(r.a)({minWidth:ie},null!=g.PaperProps?g.PaperProps.style:null)})}),ne))})),Ie=n(121);var je=function(e,t){var n=a.a.memo(a.a.forwardRef((function(t,n){return a.a.createElement(Ie.a,Object(r.a)({},t,{ref:n}),e)})));return n.muiName=Ie.a.muiName,n}(a.a.createElement("path",{d:"M7 10l5 5 5-5z"})),ze=a.a.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.disabled,l=e.IconComponent,c=e.inputRef,f=e.variant,d=void 0===f?"standard":f,h=Object(i.a)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("select",Object(r.a)({className:Object(u.a)(n.root,n.select,n[d],o,s&&n.disabled),disabled:s,ref:c||t},h)),e.multiple?null:a.a.createElement(l,{className:Object(u.a)(n.icon,n["icon".concat(Object(y.a)(d))])}))})),Fe=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper}},filled:{},outlined:{borderRadius:e.shape.borderRadius},selectMenu:{height:"auto",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",color:e.palette.action.active,pointerEvents:"none"},iconFilled:{right:7},iconOutlined:{right:7}}},Be=a.a.createElement(h,null),Ue=a.a.forwardRef((function(e,t){var n=e.children,o=e.classes,s=e.IconComponent,l=void 0===s?je:s,u=e.input,c=void 0===u?Be:u,f=e.inputProps,d=(e.variant,Object(i.a)(e,["children","classes","IconComponent","input","inputProps","variant"])),h=T(),p=Object(k.a)({props:e,muiFormControl:h,states:["variant"]});return a.a.cloneElement(c,Object(r.a)({inputComponent:ze,select:!0,inputProps:Object(r.a)({children:n,classes:o,IconComponent:l,variant:p.variant,type:void 0},f,{},c?c.props.inputProps:{}),ref:t},d))}));Ue.muiName="Select";Object(f.a)(Fe,{name:"MuiNativeSelect"})(Ue);var He=Fe,qe=a.a.createElement(h,null),Ve=a.a.createElement(m,null),We=a.a.forwardRef((function e(t,n){var o=t.autoWidth,s=void 0!==o&&o,l=t.children,u=t.classes,c=t.displayEmpty,f=void 0!==c&&c,d=t.IconComponent,h=void 0===d?je:d,p=t.input,m=t.inputProps,g=t.MenuProps,v=t.multiple,y=void 0!==v&&v,b=t.native,x=void 0!==b&&b,_=t.onClose,M=t.onOpen,S=t.open,E=t.renderValue,A=t.SelectDisplayProps,O=t.variant,C=void 0===O?"standard":O,N=t.labelWidth,D=void 0===N?0:N,P=Object(i.a)(t,["autoWidth","children","classes","displayEmpty","IconComponent","input","inputProps","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant","labelWidth"]),R=x?ze:Le,L=T(),j=Object(k.a)({props:t,muiFormControl:L,states:["variant"]}).variant||C,z=p||{standard:qe,outlined:a.a.createElement(w,{labelWidth:D}),filled:Ve}[j];return a.a.cloneElement(z,Object(r.a)({inputComponent:R,select:!0,inputProps:Object(r.a)({children:l,IconComponent:h,variant:j,type:void 0,multiple:y},x?{}:{autoWidth:s,displayEmpty:f,MenuProps:g,onClose:_,onOpen:M,open:S,renderValue:E,SelectDisplayProps:A},{},m,{classes:m?Object(I.a)({baseClasses:u,newClasses:m.classes,Component:e}):u},p?p.props.inputProps:{}),ref:n},P))}));We.muiName="Select";var Ye=Object(f.a)(He,{name:"MuiSelect"})(We),Ge={standard:h,filled:m,outlined:w},Xe=a.a.forwardRef((function(e,t){var n=e.autoComplete,o=e.autoFocus,s=e.children,c=e.classes,f=e.className,d=e.defaultValue,h=e.error,p=e.FormHelperTextProps,m=e.fullWidth,g=e.helperText,v=e.hiddenLabel,y=e.id,b=e.InputLabelProps,x=e.inputProps,_=e.InputProps,w=e.inputRef,k=e.label,M=e.multiline,T=e.name,S=e.onBlur,E=e.onChange,A=e.onFocus,C=e.placeholder,N=e.required,D=void 0!==N&&N,R=e.rows,I=e.rowsMax,j=e.select,z=void 0!==j&&j,F=e.SelectProps,B=e.type,U=e.value,H=e.variant,q=void 0===H?"standard":H,V=Object(i.a)(e,["autoComplete","autoFocus","children","classes","className","defaultValue","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]),W=a.a.useState(0),Y=W[0],G=W[1],X=a.a.useRef(null);a.a.useEffect((function(){if("outlined"===q){var e=l.a.findDOMNode(X.current);G(null!=e?e.offsetWidth:0)}}),[q,D,k]);var $={};"outlined"===q&&(b&&"undefined"!==typeof b.shrink&&($.notched=b.shrink),$.labelWidth=Y);var Z=g&&y?"".concat(y,"-helper-text"):void 0,K=Ge[q],J=a.a.createElement(K,Object(r.a)({"aria-describedby":Z,autoComplete:n,autoFocus:o,defaultValue:d,fullWidth:m,multiline:M,name:T,rows:R,rowsMax:I,type:B,value:U,id:y,inputRef:w,onBlur:S,onChange:E,onFocus:A,placeholder:C,inputProps:x},$,_));return a.a.createElement(P,Object(r.a)({className:Object(u.a)(c.root,f),error:h,fullWidth:m,hiddenLabel:v,ref:t,required:D,variant:q},V),k&&a.a.createElement(O,Object(r.a)({htmlFor:y,ref:X},b),k),z?a.a.createElement(Ye,Object(r.a)({"aria-describedby":Z,value:U,input:J},F),s):J,g&&a.a.createElement(L,Object(r.a)({id:Z},p),g))}));t.a=Object(f.a)({root:{}},{name:"MuiTextField"})(Xe)},4986:function(e,t,n){"use strict";var r=n(31),i=n(1),o=(n(4),n(28)),a=n.n(o);var s=function(e,t){return t?a()(e,t,{clone:!1}):e};var l=function(e){var t=function(t){var n=e(t);return t.css?Object(i.a)({},s(n,e(Object(i.a)({theme:t.theme},t.css))),{},function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(t.css,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css"].concat(Object(r.a)(e.filterProps)),t};var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?s(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},c=n(8),f=n(46),d={xs:0,sm:600,md:960,lg:1280,xl:1920},h={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(d[e],"px)")}};function p(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||h;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===Object(f.a)(t)){var i=e.theme.breakpoints||h;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}function m(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var g=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=m(e.theme,i)||{};return p(e,n,(function(e){var t;return"function"===typeof a?t=a(e):Array.isArray(a)?t=a[e]||e:(t=m(a,e)||e,o&&(t=o(t))),!1===r?t:Object(c.a)({},r,t)}))};return a.propTypes={},a.filterProps=[t],a};function v(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var y=u(g({prop:"border",themeKey:"borders",transform:v}),g({prop:"borderTop",themeKey:"borders",transform:v}),g({prop:"borderRight",themeKey:"borders",transform:v}),g({prop:"borderBottom",themeKey:"borders",transform:v}),g({prop:"borderLeft",themeKey:"borders",transform:v}),g({prop:"borderColor",themeKey:"palette"}),g({prop:"borderRadius",themeKey:"shape"})),b=u(g({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),g({prop:"display"}),g({prop:"overflow"}),g({prop:"textOverflow"}),g({prop:"visibility"}),g({prop:"whiteSpace"})),x=u(g({prop:"flexBasis"}),g({prop:"flexDirection"}),g({prop:"flexWrap"}),g({prop:"justifyContent"}),g({prop:"alignItems"}),g({prop:"alignContent"}),g({prop:"order"}),g({prop:"flex"}),g({prop:"flexGrow"}),g({prop:"flexShrink"}),g({prop:"alignSelf"}),g({prop:"justifyItems"}),g({prop:"justifySelf"})),_=u(g({prop:"position"}),g({prop:"zIndex",themeKey:"zIndex"}),g({prop:"top"}),g({prop:"right"}),g({prop:"bottom"}),g({prop:"left"})),w=u(g({prop:"color",themeKey:"palette"}),g({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),k=g({prop:"boxShadow",themeKey:"shadows"});function M(e){return e<=1?"".concat(100*e,"%"):e}var T=g({prop:"width",transform:M}),S=g({prop:"maxWidth",transform:M}),E=g({prop:"minWidth",transform:M}),A=g({prop:"height",transform:M}),O=g({prop:"maxHeight",transform:M}),C=g({prop:"minHeight",transform:M}),N=(g({prop:"size",cssProperty:"width",transform:M}),g({prop:"size",cssProperty:"height",transform:M}),u(T,S,E,A,O,C)),D=n(89);var P={m:"margin",p:"padding"},R={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},L={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},I=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!L[e])return[e];e=L[e]}var t=e.split(""),n=Object(D.a)(t,2),r=n[0],i=n[1],o=P[r],a=R[i]||"";return Array.isArray(a)?a.map((function(e){return o+e})):[o+a]})),j=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function z(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function F(e){var t=function(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}(e.theme);return Object.keys(e).map((function(n){if(-1===j.indexOf(n))return null;var r=z(I(n),t),i=e[n];return p(e,i,r)})).reduce(s,{})}F.propTypes={},F.filterProps=j;var B=F,U=u(g({prop:"fontFamily",themeKey:"typography"}),g({prop:"fontSize",themeKey:"typography"}),g({prop:"fontStyle",themeKey:"typography"}),g({prop:"fontWeight",themeKey:"typography"}),g({prop:"letterSpacing"}),g({prop:"lineHeight"}),g({prop:"textAlign"})),H=n(2),q=n(0),V=n.n(q),W=n(3),Y=n(34),G=n.n(Y),X=n(4947);function $(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}var Z=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,o=Object(H.a)(n,["name"]);var a,s=r,l="function"===typeof t?function(e){return{root:function(n){return t(Object(i.a)({theme:e},n))}}}:{root:t},u=Object(X.a)(l,Object(i.a)({Component:e,name:r||e.displayName,classNamePrefix:s},o));t.filterProps&&(a=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var c=V.a.forwardRef((function(t,n){var r=t.children,o=t.className,s=t.clone,l=t.component,c=Object(H.a)(t,["children","className","clone","component"]),f=u(t),d=Object(W.a)(f.root,o),h=c;if(a&&(h=$(h,a)),s)return V.a.cloneElement(r,Object(i.a)({className:Object(W.a)(r.props.className,d)},h));if("function"===typeof r)return r(Object(i.a)({className:d},h));var p=l||e;return V.a.createElement(p,Object(i.a)({ref:n,className:d},h),r)}));return G()(c,e),c}},K=n(39),J=function(e){var t=Z(e);return function(e,n){return t(e,Object(i.a)({defaultTheme:K.a},n))}},Q=l(u(y,b,x,_,w,k,N,B,U)),ee=J("div")(Q,{name:"MuiBox"});t.a=ee},4987:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(0),a=n.n(o),s=(n(4),n(11)),l=n(15),u=n(9),c=n.n(u),f=!1,d=n(49),h="unmounted",p="exited",m="entering",g="entered",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=p,r.appearStatus=m):i=g:i=t.unmountOnExit||t.mountOnEnter?h:p,r.state={status:i},r.nextCallback=null,r}Object(l.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==m&&n!==g&&(t=m):n!==m&&n!==g||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=c.a.findDOMNode(this);t===m?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:h})},n.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;!t&&!r||f?this.safeSetState({status:g},(function(){n.props.onEntered(e)})):(this.props.onEnter(e,i),this.safeSetState({status:m},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:g},(function(){n.props.onEntered(e,i)}))}))})))},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!f?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:p},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:p},(function(){t.props.onExited(e)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,r=Object(s.a)(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return a.a.createElement(d.a.Provider,{value:null},n(e,r));var i=a.a.Children.only(n);return a.a.createElement(d.a.Provider,{value:null},a.a.cloneElement(i,r))},t}(a.a.Component);function y(){}v.contextType=d.a,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},v.UNMOUNTED=0,v.EXITED=1,v.ENTERING=2,v.ENTERED=3,v.EXITING=4;var b=v,x=n(38);function _(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}var w=n(10);function k(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var M={entering:{opacity:1,transform:k(1)},entered:{opacity:1,transform:"none"}},T=a.a.forwardRef((function(e,t){var n=e.children,o=e.in,s=e.onEnter,l=e.onExit,u=e.style,c=e.timeout,f=void 0===c?"auto":c,d=Object(i.a)(e,["children","in","onEnter","onExit","style","timeout"]),h=a.a.useRef(),p=a.a.useRef(),m=Object(w.a)(n.ref,t),g=Object(x.a)();return a.a.useEffect((function(){return function(){clearTimeout(h.current)}}),[]),a.a.createElement(b,Object(r.a)({appear:!0,in:o,onEnter:function(e,t){!function(e){e.scrollTop}(e);var n,r=_({style:u,timeout:f},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===f?(n=g.transitions.getAutoHeightDuration(e.clientHeight),p.current=n):n=i,e.style.transition=[g.transitions.create("opacity",{duration:n,delay:o}),g.transitions.create("transform",{duration:.666*n,delay:o})].join(","),s&&s(e,t)},onExit:function(e){var t,n=_({style:u,timeout:f},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===f?(t=g.transitions.getAutoHeightDuration(e.clientHeight),p.current=t):t=r,e.style.transition=[g.transitions.create("opacity",{duration:t,delay:i}),g.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=k(.75),l&&l(e)},addEndListener:function(e,t){"auto"===f&&(h.current=setTimeout(t,p.current||0))},timeout:"auto"===f?null:f},d),(function(e,t){return a.a.cloneElement(n,Object(r.a)({style:Object(r.a)({opacity:0,transform:k(.75),visibility:"exited"!==e||o?void 0:"hidden"},M[e],{},u,{},n.props.style),ref:m},t))}))}));T.muiSupportAuto=!0;t.a=T},4988:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(8),a=n(0),s=n.n(a),l=(n(4),n(3)),u=n(6),c=n(4946),f=n(7),d={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},h=s.a.forwardRef((function(e,t){var n=e.align,o=void 0===n?"inherit":n,a=e.classes,u=e.className,c=e.color,h=void 0===c?"initial":c,p=e.component,m=e.display,g=void 0===m?"initial":m,v=e.gutterBottom,y=void 0!==v&&v,b=e.noWrap,x=void 0!==b&&b,_=e.paragraph,w=void 0!==_&&_,k=e.variant,M=void 0===k?"body1":k,T=e.variantMapping,S=void 0===T?d:T,E=Object(i.a)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),A=p||(w?"p":S[M]||d[M])||"span";return s.a.createElement(A,Object(r.a)({className:Object(l.a)(a.root,u,"inherit"!==M&&a[M],"initial"!==h&&a["color".concat(Object(f.a)(h))],x&&a.noWrap,y&&a.gutterBottom,w&&a.paragraph,"inherit"!==o&&a["align".concat(Object(f.a)(o))],"initial"!==g&&a["display".concat(Object(f.a)(g))]),ref:t},E))})),p=Object(u.a)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(h),m=n(12),g=s.a.forwardRef((function(e,t){var n=e.action,o=e.classes,a=e.className,u=e.message,f=Object(i.a)(e,["action","classes","className","message"]);return s.a.createElement(c.a,Object(r.a)({component:p,variant:"body2",variantMapping:{body1:"div",body2:"div"},role:"alertdialog",square:!0,elevation:6,className:Object(l.a)(o.root,a),ref:t},f),s.a.createElement("div",{className:o.message},u),n?s.a.createElement("div",{className:o.action},n):null)}));t.a=Object(u.a)((function(e){var t="light"===e.palette.type?.8:.98,n=Object(m.b)(e.palette.background.default,t);return{root:Object(o.a)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(g)},4989:function(e,t,n){"use strict";var r=n(2),i=n(8),o=n(1),a=n(0),s=n.n(a),l=(n(4),n(3)),u=n(6),c=n(62),f=n(9),d=n.n(f),h=n(16),p=n(10),m=n(33),g=n(26);function v(e){return e.substring(2).toLowerCase()}var y=s.a.forwardRef((function(e,t){var n=e.children,r=e.mouseEvent,i=void 0===r?"onClick":r,o=e.touchEvent,a=void 0===o?"onTouchEnd":o,l=e.onClickAway,u=s.a.useRef(!1),c=s.a.useRef(null),f=s.a.useRef(!1);s.a.useEffect((function(){return f.current=!0,function(){f.current=!1}}),[]);var y=Object(p.a)(c,t),b=s.a.useCallback((function(e){Object(m.a)(y,d.a.findDOMNode(e))}),[y]),x=Object(p.a)(n.ref,b),_=Object(g.a)((function(e){if(!e.defaultPrevented&&f.current)if(u.current)u.current=!1;else if(c.current){var t=Object(h.a)(c.current);t.documentElement&&t.documentElement.contains(e.target)&&!c.current.contains(e.target)&&l(e)}})),w=s.a.useCallback((function(){u.current=!0}),[]);return s.a.useEffect((function(){if(!1!==a){var e=v(a);return document.addEventListener(e,_),document.addEventListener("touchmove",w),function(){document.removeEventListener(e,_),document.removeEventListener("touchmove",w)}}}),[_,w,a]),s.a.useEffect((function(){if(!1!==i){var e=v(i);return document.addEventListener(e,_),function(){document.removeEventListener(e,_)}}}),[_,i]),s.a.createElement(s.a.Fragment,null,s.a.cloneElement(n,{ref:x}))})),b=n(7),x=n(41),_=n(4987),w=n(4988),k=s.a.forwardRef((function(e,t){var n=e.action,i=e.anchorOrigin,a=(i=void 0===i?{vertical:"bottom",horizontal:"center"}:i).vertical,u=i.horizontal,f=e.autoHideDuration,d=e.children,h=e.classes,p=e.className,m=e.ClickAwayListenerProps,g=e.ContentProps,v=e.disableWindowBlurListener,k=void 0!==v&&v,M=e.message,T=e.onClose,S=e.onEnter,E=e.onEntered,A=e.onEntering,O=e.onExit,C=e.onExited,N=e.onExiting,D=e.onMouseEnter,P=e.onMouseLeave,R=e.open,L=e.resumeHideDuration,I=e.TransitionComponent,j=void 0===I?_.a:I,z=e.transitionDuration,F=void 0===z?{enter:c.b.enteringScreen,exit:c.b.leavingScreen}:z,B=e.TransitionProps,U=Object(r.a)(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),H=s.a.useRef(),q=s.a.useState(!0),V=q[0],W=q[1],Y=s.a.useCallback((function(e){var t=null!=e?e:f;T&&null!=t&&(clearTimeout(H.current),H.current=setTimeout((function(){T&&null!=(null!=e?e:f)&&T(null,"timeout")}),t))}),[f,T]);s.a.useEffect((function(){return R&&Y(),function(){clearTimeout(H.current)}}),[R,Y]);var G=function(){clearTimeout(H.current)},X=s.a.useCallback((function(){if(null!=f){if(null!=L)return void Y(L);Y(.5*f)}}),[f,L,Y]);return s.a.useEffect((function(){if(!k&&R)return window.addEventListener("focus",X),window.addEventListener("blur",G),function(){window.removeEventListener("focus",X),window.removeEventListener("blur",G)}}),[k,X,R]),!R&&V?null:s.a.createElement(y,Object(o.a)({onClickAway:function(e){T&&T(e,"clickaway")}},m),s.a.createElement("div",Object(o.a)({className:Object(l.a)(h.root,h["anchorOrigin".concat(Object(b.a)(a)).concat(Object(b.a)(u))],p),onMouseEnter:function(e){D&&D(e),G()},onMouseLeave:function(e){P&&P(e),X()},ref:t},U),s.a.createElement(j,Object(o.a)({appear:!0,in:R,onEnter:Object(x.a)((function(){W(!1)}),S),onEntered:E,onEntering:A,onExit:O,onExited:Object(x.a)((function(){W(!0)}),C),onExiting:N,timeout:F,direction:"top"===a?"down":"up"},B),d||s.a.createElement(w.a,Object(o.a)({message:M,action:n},g)))))}));t.a=Object(u.a)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},a={justifyContent:"flex-start"},s={top:24},l={bottom:24},u={right:24},c={left:24},f={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(o.a)({},t,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({},s,{},f))),anchorOriginBottomCenter:Object(o.a)({},n,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({},l,{},f))),anchorOriginTopRight:Object(o.a)({},t,{},r,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},s,{},u))),anchorOriginBottomRight:Object(o.a)({},n,{},r,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({left:"auto"},l,{},u))),anchorOriginTopLeft:Object(o.a)({},t,{},a,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},s,{},c))),anchorOriginBottomLeft:Object(o.a)({},n,{},a,Object(i.a)({},e.breakpoints.up("sm"),Object(o.a)({right:"auto"},l,{},c)))}}),{flip:!1,name:"MuiSnackbar"})(k)},4990:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(0),a=n.n(o),s=(n(4),n(3)),l=n(24),u=n(47),c=n(6),f=n(10),d=n(86);function h(e,t){return parseInt(e[t],10)||0}var p="undefined"!==typeof window?a.a.useLayoutEffect:a.a.useEffect,m={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},g=a.a.forwardRef((function(e,t){var n=e.onChange,o=e.rows,s=e.rowsMax,l=e.style,u=e.value,c=Object(i.a)(e,["onChange","rows","rowsMax","style","value"]),g=a.a.useRef(null!=u).current,v=a.a.useRef(null),y=Object(f.a)(t,v),b=a.a.useRef(null),x=a.a.useState({}),_=x[0],w=x[1],k=a.a.useCallback((function(){var t=v.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x";var i=n["box-sizing"],a=h(n,"padding-bottom")+h(n,"padding-top"),l=h(n,"border-bottom-width")+h(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var c=r.scrollHeight-a,f=u;null!=o&&(f=Math.max(Number(o)*c,f)),null!=s&&(f=Math.min(Number(s)*c,f));var d=(f=Math.max(f,c))+("border-box"===i?a+l:0),p=Math.abs(f-u)<=1;w((function(e){return d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==p?{overflow:p,outerHeightStyle:d}:e}))}),[o,s,e.placeholder]);a.a.useEffect((function(){var e=Object(d.a)((function(){k()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[k]),p((function(){k()}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("textarea",Object(r.a)({value:u,onChange:function(e){g||k(),n&&n(e)},ref:y,rows:o||1,style:Object(r.a)({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},l)},c)),a.a.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:Object(r.a)({},m,{},l)}))})),v=n(48),y="undefined"===typeof window?a.a.useEffect:a.a.useLayoutEffect,b=a.a.forwardRef((function(e,t){var n=e["aria-describedby"],o=e.autoComplete,c=e.autoFocus,d=e.classes,h=e.className,p=e.defaultValue,m=e.disabled,b=e.endAdornment,x=(e.error,e.fullWidth),_=void 0!==x&&x,w=e.id,k=e.inputComponent,M=void 0===k?"input":k,T=e.inputProps,S=(T=void 0===T?{}:T).className,E=Object(i.a)(T,["className"]),A=e.inputRef,O=(e.margin,e.multiline),C=void 0!==O&&O,N=e.name,D=e.onBlur,P=e.onChange,R=e.onClick,L=e.onFocus,I=e.onKeyDown,j=e.onKeyUp,z=e.placeholder,F=e.readOnly,B=e.renderSuffix,U=e.rows,H=e.rowsMax,q=e.select,V=void 0!==q&&q,W=e.startAdornment,Y=e.type,G=void 0===Y?"text":Y,X=e.value,$=Object(i.a)(e,["aria-describedby","autoComplete","autoFocus","classes","className","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","select","startAdornment","type","value"]),Z=a.a.useRef(null!=X).current,K=a.a.useRef(),J=a.a.useCallback((function(e){0}),[]),Q=Object(f.a)(E.ref,J),ee=Object(f.a)(A,Q),te=Object(f.a)(K,ee),ne=a.a.useState(!1),re=ne[0],ie=ne[1],oe=Object(u.b)();var ae=Object(l.a)({props:e,muiFormControl:oe,states:["disabled","error","hiddenLabel","margin","required","filled"]});ae.focused=oe?oe.focused:re,a.a.useEffect((function(){!oe&&m&&re&&(ie(!1),D&&D())}),[oe,m,re,D]);var se=oe&&oe.onFilled,le=oe&&oe.onEmpty,ue=a.a.useCallback((function(e){Object(v.b)(e)?se&&se():le&&le()}),[se,le]);y((function(){Z&&ue({value:X})}),[X,ue,Z]);a.a.useEffect((function(){ue(K.current)}),[]);var ce=M,fe=Object(r.a)({},E,{ref:te});"string"!==typeof ce?fe=Object(r.a)({inputRef:te,type:G},fe,{ref:null}):C?U&&!H?ce="textarea":(fe=Object(r.a)({rows:U,rowsMax:H},fe),ce=g):fe=Object(r.a)({type:G},fe);return a.a.createElement("div",Object(r.a)({className:Object(s.a)(d.root,h,ae.disabled&&d.disabled,ae.error&&d.error,_&&d.fullWidth,ae.focused&&d.focused,oe&&d.formControl,C&&d.multiline,W&&d.adornedStart,b&&d.adornedEnd,{dense:d.marginDense}[ae.margin]),onClick:function(e){K.current&&e.currentTarget===e.target&&K.current.focus(),R&&R(e)},ref:t},$),W,a.a.createElement(u.a.Provider,{value:null},a.a.createElement(ce,Object(r.a)({"aria-invalid":ae.error,"aria-describedby":n,autoComplete:o,autoFocus:c,className:Object(s.a)(d.input,S,ae.disabled&&d.disabled,C&&d.inputMultiline,V&&d.inputSelect,ae.hiddenLabel&&d.inputHiddenLabel,W&&d.inputAdornedStart,b&&d.inputAdornedEnd,{search:d.inputTypeSearch}[G],{dense:d.inputMarginDense}[ae.margin]),defaultValue:p,disabled:ae.disabled,id:w,onAnimationStart:function(e){ue(-1!==e.animationName.indexOf("auto-fill-cancel")?K.current:{value:"x"})},name:N,onBlur:function(e){D&&D(e),oe&&oe.onBlur?oe.onBlur(e):ie(!1)},onChange:function(e){if(!Z){var t=e.target||K.current;if(null==t)throw new TypeError("Material-UI: Expected valid input target. Did you use a custom `inputComponent` and forget to forward refs? See https://material-ui.com/r/input-component-ref-interface for more info.");ue({value:t.value})}if(P){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];P.apply(void 0,[e].concat(r))}},onFocus:function(e){ae.disabled?e.stopPropagation():(L&&L(e),oe&&oe.onFocus?oe.onFocus(e):ie(!0))},onKeyDown:I,onKeyUp:j,placeholder:z,readOnly:F,required:ae.required,rows:U,value:X},fe))),b,B?B(Object(r.a)({},ae,{startAdornment:W})):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{root:{fontFamily:e.typography.fontFamily,color:e.palette.text.primary,fontSize:e.typography.pxToRem(16),lineHeight:"1.1875em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}},formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},fullWidth:{width:"100%"},input:{font:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1875em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"$auto-fill-cancel","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"$auto-fill"}},"@keyframes auto-fill":{from:{}},"@keyframes auto-fill-cancel":{from:{}},inputMarginDense:{paddingTop:3},inputSelect:{paddingRight:24},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(b)},50:function(e,t,n){var r;!function(n){"use strict";var i=2e3,o={s:1,n:0,d:1};function a(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function n(){}return n.prototype=Error.prototype,t.prototype=new n,t}var s=h.DivisionByZero=a("DivisionByZero"),l=h.InvalidParameter=a("InvalidParameter");function u(e,t){return isNaN(e=parseInt(e,10))&&c(),e*t}function c(){throw new l}var f=function(e,t){var n,r=0,i=1,a=1,l=0,f=0,d=0,h=1,p=1,m=0,g=1,v=1,y=1,b=1e7;if(void 0===e||null===e);else if(void 0!==t)a=(r=e)*(i=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(r=e.n,i=e.d,"s"in e&&(r*=e.s)):0 in e?(r=e[0],1 in e&&(i=e[1])):c(),a=r*i;break;case"number":if(e<0&&(a=e,e=-e),e%1===0)r=e;else if(e>0){for(e>=1&&(e/=p=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));g<=b&&y<=b;){if(e===(n=(m+v)/(g+y))){g+y<=b?(r=m+v,i=g+y):y>g?(r=v,i=y):(r=m,i=g);break}e>n?(m+=v,g+=y):(v+=m,y+=g),g>b?(r=v,i=y):(r=m,i=g)}r*=p}else(isNaN(e)||isNaN(t))&&(i=r=NaN);break;case"string":if(null===(g=e.match(/\d+|./g))&&c(),"-"===g[m]?(a=-1,m++):"+"===g[m]&&m++,g.length===m+1?f=u(g[m++],a):"."===g[m+1]||"."===g[m]?("."!==g[m]&&(l=u(g[m++],a)),(++m+1===g.length||"("===g[m+1]&&")"===g[m+3]||"'"===g[m+1]&&"'"===g[m+3])&&(f=u(g[m],a),h=Math.pow(10,g[m].length),m++),("("===g[m]&&")"===g[m+2]||"'"===g[m]&&"'"===g[m+2])&&(d=u(g[m+1],a),p=Math.pow(10,g[m+1].length)-1,m+=3)):"/"===g[m+1]||":"===g[m+1]?(f=u(g[m],a),h=u(g[m+2],1),m+=3):"/"===g[m+3]&&" "===g[m+1]&&(l=u(g[m],a),f=u(g[m+2],a),h=u(g[m+4],1),m+=5),g.length<=m){a=r=d+(i=h*p)*l+p*f;break}default:c()}if(0===i)throw new s;o.s=a<0?-1:1,o.n=Math.abs(r),o.d=Math.abs(i)};function d(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function h(e,t){if(!(this instanceof h))return new h(e,t);f(e,t),e=h.REDUCE?d(o.d,o.n):1,this.s=o.s,this.n=o.n/e,this.d=o.d/e}h.REDUCE=1,h.prototype={s:1,n:0,d:1,abs:function(){return new h(this.n,this.d)},neg:function(){return new h(-this.s*this.n,this.d)},add:function(e,t){return f(e,t),new h(this.s*this.n*o.d+o.s*this.d*o.n,this.d*o.d)},sub:function(e,t){return f(e,t),new h(this.s*this.n*o.d-o.s*this.d*o.n,this.d*o.d)},mul:function(e,t){return f(e,t),new h(this.s*o.s*this.n*o.n,this.d*o.d)},div:function(e,t){return f(e,t),new h(this.s*o.s*this.n*o.d,this.d*o.n)},clone:function(){return new h(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new h(NaN):void 0===e?new h(this.s*this.n%this.d,1):(f(e,t),0===o.n&&0===this.d&&h(0,0),new h(this.s*(o.d*this.n)%(o.n*this.d),o.d*this.d))},gcd:function(e,t){return f(e,t),new h(d(o.n,this.n)*d(o.d,this.d),o.d*this.d)},lcm:function(e,t){return f(e,t),0===o.n&&0===this.n?new h:new h(o.n*this.n,d(o.n,this.n)*d(o.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):new h(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new h(this.s*this.d,this.n)},pow:function(e){return e<0?new h(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new h(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return f(e,t),this.s*this.n*o.d===o.s*o.n*this.d},compare:function(e,t){f(e,t);var n=this.s*this.n*o.d-o.s*o.n*this.d;return(0<n)-(n<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function n(e){return 1===e.length?new h(e[0]):n(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var r=0;r<t.length;r++){var i=n(t.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s)}return this},divisible:function(e,t){return f(e,t),!(!(o.n*this.d)||this.n*o.d%(o.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";h.REDUCE||(n/=t=d(n,r),r/=t),e=e||15;var o=function(e,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>i)return 0;return r}(0,r),a=function(e,t,n){for(var r=1,i=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),o=0;o<300;o++){if(r===i)return o;r=10*r%t,i=10*i%t}return 0}(0,r,o),s=-1===this.s?"-":"";if(s+=n/r|0,n%=r,(n*=10)&&(s+="."),o){for(var l=a;l--;)s+=n/r|0,n%=r,n*=10;s+="(";for(l=o;l--;)s+=n/r|0,n%=r,n*=10;s+=")"}else for(l=e;n&&l--;)s+=n/r|0,n%=r,n*=10;return s}},void 0===(r=function(){return h}.apply(t,[]))||(e.exports=r)}()},51:function(e,t){e.exports=function e(t,n){"use strict";var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,u=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=c(t).replace(a,"")||"",d=c(n).replace(a,"")||"",h=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=d.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(l),16)||1!==h.length&&f.match(s)&&Date.parse(f),g=parseInt(d.match(l),16)||m&&d.match(s)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var v=0,y=Math.max(h.length,p.length);v<y;v++){if(r=!(h[v]||"").match(u)&&parseFloat(h[v])||h[v]||0,i=!(p[v]||"").match(u)&&parseFloat(p[v])||p[v]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!==typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},52:function(e,t,n){"use strict";var r=n(43);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default.memo(o.default.forwardRef((function(t,n){return o.default.createElement(a.default,(0,i.default)({ref:n},t),e)})));0;return n.muiName=a.default.muiName,n};var i=r(n(4804)),o=r(n(0)),a=r(n(65))},53:function(e,t,n){var r=n(18).Symbol;e.exports=r},55:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},56:function(e,t,n){var r=n(45),i=n(23),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}},57:function(e,t,n){var r=n(143),i=n(97);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?i(n,u,c):r(n,u,c)}return n}},58:function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},59:function(e,t,n){var r=n(4880),i=n(102),o=n(4881),a=n(4882),s=n(126),l=n(45),u=n(128),c=u(r),f=u(i),d=u(o),h=u(a),p=u(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=m},6:function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(0),a=n.n(o),s=(n(4),n(34)),l=n.n(s),u=n(4947),c=n(4978),f=n(4948),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,s=t.withTheme,d=void 0!==s&&s,h=t.name,p=Object(i.a)(t,["defaultTheme","withTheme","name"]);var m=h,g=Object(u.a)(e,Object(r.a)({defaultTheme:o,Component:n,name:h||n.displayName,classNamePrefix:m},p)),v=a.a.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,u=Object(i.a)(e,["classes","innerRef"]),p=g(e),m=u;return("string"===typeof h||d)&&(s=Object(f.a)()||o,h&&(m=Object(c.a)({theme:s,name:h,props:u})),d&&!m.theme&&(m.theme=s)),a.a.createElement(n,Object(r.a)({ref:l||t,classes:p},m))}));return l()(v,n),v}},h=n(39);t.a=function(e,t){return d(e,Object(r.a)({defaultTheme:h.a},t))}},60:function(e,t,n){var r=n(56),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},61:function(e,t,n){"use strict";n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return o})),n.d(t,"applyMiddleware",(function(){return g})),n.d(t,"bindActionCreators",(function(){return f})),n.d(t,"combineReducers",(function(){return u})),n.d(t,"compose",(function(){return m})),n.d(t,"createStore",(function(){return s}));var r=n(112),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var l=e,u=t,c=[],f=c,d=!1;function h(){f===c&&(f=c.slice())}function p(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function m(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return h(),f.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,h();var n=f.indexOf(e);f.splice(n,1)}}}function g(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,u=l(u,e)}finally{d=!1}for(var t=c=f,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:o.INIT}),(i={dispatch:g,subscribe:m,getState:p,replaceReducer:function(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,g({type:o.REPLACE})}})[r.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},i}function l(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function u(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var u=s[o],c=n[u],f=e[u],d=c(f,t);if("undefined"===typeof d){var h=l(u,t);throw new Error(h)}i[u]=d,r=r||d!==f}return r?i:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"===typeof e)return c(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=c(i,t))}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return p({},n,{dispatch:r=m.apply(void 0,o)(n.dispatch)})}}}},62:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(2),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},a=function(e){return"".concat(Math.round(e),"ms")};t.a={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,l=t.easing,u=void 0===l?i.easeInOut:l,c=t.delay,f=void 0===c?0:c;Object(r.a)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(u," ").concat("string"===typeof f?f:a(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},65:function(e,t,n){"use strict";n.r(t);var r=n(121);n.d(t,"default",(function(){return r.a}))},66:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},67:function(e,t){e.exports=function(e){return e}},68:function(e,t,n){var r=n(45),i=n(22),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==l}},69:function(e,t,n){var r=n(70),i=n(22);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),o=e.apply(n,t);return i(o)?o:n}}},7:function(e,t,n){"use strict";function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}n.d(t,"a",(function(){return r}))},70:function(e,t,n){var r=n(22),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},71:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},72:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},73:function(e,t,n){var r=n(144),i=n(145),o=n(77);e.exports=function(e){return o(e)?r(e):i(e)}},74:function(e,t,n){var r=n(4846),i=n(23),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},75:function(e,t,n){(function(e){var r=n(18),i=n(4847),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(66)(e))},76:function(e,t){e.exports=function(e){return function(t){return e(t)}}},77:function(e,t,n){var r=n(68),i=n(99);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},78:function(e,t,n){var r=n(79),i=n(4856),o=n(4857),a=n(4858),s=n(4859),l=n(4860);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},79:function(e,t,n){var r=n(4851),i=n(4852),o=n(4853),a=n(4854),s=n(4855);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},8:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},80:function(e,t,n){var r=n(58);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},81:function(e,t,n){var r=n(44)(Object,"create");e.exports=r},82:function(e,t,n){var r=n(4869);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},83:function(e,t,n){var r=n(144),i=n(4874),o=n(77);e.exports=function(e){return o(e)?r(e,!0):i(e)}},84:function(e,t,n){"use strict";e.exports=n(4803)},85:function(e,t,n){"use strict";t.a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},86:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this;clearTimeout(t),t=setTimeout((function(){e.apply(a,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,"a",(function(){return r}))},87:function(e,t,n){"use strict";var r=n(43);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(52)).default)(i.default.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=o},88:function(e,t,n){"use strict";var r=n(43);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(52)).default)(i.default.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"ShareOutlined");t.default=o},89:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",(function(){return r}))},9:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(4798)},91:function(e,t,n){var r=n(124),i=n(4822),o=n(4823),a=n(129),s=n(4841),l=n(133),u=n(4842),c=n(135),f=n(137),d=n(141),h="Expected a function",p=1,m=2,g=8,v=16,y=32,b=64,x=Math.max;e.exports=function(e,t,n,_,w,k,M,T){var S=t&m;if(!S&&"function"!=typeof e)throw new TypeError(h);var E=_?_.length:0;if(E||(t&=~(y|b),_=w=void 0),M=void 0===M?M:x(d(M),0),T=void 0===T?T:d(T),E-=w?w.length:0,t&b){var A=_,O=w;_=w=void 0}var C=S?void 0:l(e),N=[e,t,n,_,w,A,O,k,M,T];if(C&&u(N,C),e=N[0],t=N[1],n=N[2],_=N[3],w=N[4],!(T=N[9]=void 0===N[9]?S?0:e.length:x(N[9]-E,0))&&t&(g|v)&&(t&=~(g|v)),t&&t!=p)D=t==g||t==v?o(e,t,T):t!=y&&t!=(p|y)||w.length?a.apply(void 0,N):s(e,t,n,_);else var D=i(e,t,n);return f((C?r:c)(D,N),e,t)}},92:function(e,t,n){var r=n(70),i=n(93),o=4294967295;function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=r(i.prototype),a.prototype.constructor=a,e.exports=a},93:function(e,t){e.exports=function(){}},94:function(e,t,n){var r=n(4833),i=n(136)(r);e.exports=i},95:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},96:function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,i=e.length,o=0,a=[];++r<i;){var s=e[r];s!==t&&s!==n||(e[r]=n,a[o++]=r)}return a}},97:function(e,t,n){var r=n(138);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},98:function(e,t,n){var r=n(4848),i=n(76),o=n(100),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},99:function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}}}]);
//# sourceMappingURL=2.a27c4441.chunk.js.map